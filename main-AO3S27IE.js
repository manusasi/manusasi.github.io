var ux=Object.defineProperty,lx=Object.defineProperties;var dx=Object.getOwnPropertyDescriptors;var rl=Object.getOwnPropertySymbols,hx=Object.getPrototypeOf,IT=Object.prototype.hasOwnProperty,wT=Object.prototype.propertyIsEnumerable,fx=Reflect.get;var ET=(n,e,t)=>e in n?ux(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})IT.call(e,t)&&ET(n,t,e[t]);if(rl)for(var t of rl(e))wT.call(e,t)&&ET(n,t,e[t]);return n},te=(n,e)=>lx(n,dx(e));var eg=(n,e)=>{var t={};for(var r in n)IT.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&rl)for(var r of rl(n))e.indexOf(r)<0&&wT.call(n,r)&&(t[r]=n[r]);return t};var Tr=(n,e,t)=>fx(hx(n),t,e);var I=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var tg;function ng(){return tg}function Hn(n){let e=tg;return tg=n,e}var px=Symbol("NotFound"),il=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function Co(n){return n===px||n?.name==="\u0275NotFound"}function ul(n,e){return Object.is(n,e)}var Be=null,ol=!1,rg=1,gx=null,ft=Symbol("SIGNAL");function re(n){let e=Be;return Be=n,e}function ll(){return Be}var yi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bo(n){if(ol)throw new Error("");if(Be===null)return;Be.consumerOnSignalRead(n);let e=Be.nextProducerIndex++;if(pl(Be),e<Be.producerNode.length&&Be.producerNode[e]!==n&&Da(Be)){let t=Be.producerNode[e];fl(t,Be.producerIndexOfThis[e])}Be.producerNode[e]!==n&&(Be.producerNode[e]=n,Be.producerIndexOfThis[e]=Da(Be)?DT(n,Be,e):0),Be.producerLastReadVersion[e]=n.version}function TT(){rg++}function dl(n){if(!(Da(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===rg)){if(!n.producerMustRecompute(n)&&!Ca(n)){cl(n);return}n.producerRecomputeValue(n),cl(n)}}function ig(n){if(n.liveConsumerNode===void 0)return;let e=ol;ol=!0;try{for(let t of n.liveConsumerNode)t.dirty||mx(t)}finally{ol=e}}function og(){return Be?.consumerAllowSignalWrites!==!1}function mx(n){n.dirty=!0,ig(n),n.consumerMarkedDirty?.(n)}function cl(n){n.dirty=!1,n.lastCleanEpoch=rg}function vi(n){return n&&(n.nextProducerIndex=0),re(n)}function So(n,e){if(re(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Da(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)fl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ca(n){pl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(dl(t),r!==t.version))return!0}return!1}function hl(n){if(pl(n),Da(n))for(let e=0;e<n.producerNode.length;e++)fl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function DT(n,e,t){if(CT(n),n.liveConsumerNode.length===0&&bT(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=DT(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function fl(n,e){if(CT(n),n.liveConsumerNode.length===1&&bT(n))for(let r=0;r<n.producerNode.length;r++)fl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];pl(i),i.producerIndexOfThis[r]=e}}function Da(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function pl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function CT(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function bT(n){return n.producerNode!==void 0}function gl(n){gx?.(n)}function ml(n,e){let t=Object.create(yx);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(dl(t),bo(t),t.value===Ta)throw t.error;return t.value};return r[ft]=t,gl(t),r}var sl=Symbol("UNSET"),al=Symbol("COMPUTING"),Ta=Symbol("ERRORED"),yx=te(k({},yi),{value:sl,dirty:!0,error:null,equal:ul,kind:"computed",producerMustRecompute(n){return n.value===sl||n.value===al},producerRecomputeValue(n){if(n.value===al)throw new Error("");let e=n.value;n.value=al;let t=vi(n),r,i=!1;try{r=n.computation(),re(null),i=e!==sl&&e!==Ta&&r!==Ta&&n.equal(e,r)}catch(o){r=Ta,n.error=o}finally{So(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function vx(){throw new Error}var ST=vx;function AT(n){ST(n)}function sg(n){ST=n}var _x=null;function ag(n,e){let t=Object.create(yl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>RT(t);return r[ft]=t,gl(t),[r,s=>Ao(t,s),s=>cg(t,s)]}function RT(n){return bo(n),n.value}function Ao(n,e){og()||AT(n),n.equal(n.value,e)||(n.value=e,Ex(n))}function cg(n,e){og()||AT(n),Ao(n,e(n.value))}var yl=te(k({},yi),{equal:ul,value:void 0,kind:"signal"});function Ex(n){n.version++,TT(),ig(n),_x?.(n)}function J(n){return typeof n=="function"}function Ro(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var vl=Ro(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function _i(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ne=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof vl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{NT(o)}catch(s){e=e??[],s instanceof vl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)NT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&_i(t,e)}remove(e){let{_finalizers:t}=this;t&&_i(t,e),e instanceof n&&e._removeParent(this)}};Ne.EMPTY=(()=>{let n=new Ne;return n.closed=!0,n})();var ug=Ne.EMPTY;function _l(n){return n instanceof Ne||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function NT(n){J(n)?n():n.unsubscribe()}var on={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var No={setTimeout(n,e,...t){let{delegate:r}=No;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=No;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function El(n){No.setTimeout(()=>{let{onUnhandledError:e}=on;if(e)e(n);else throw n})}function ba(){}var MT=lg("C",void 0,void 0);function PT(n){return lg("E",void 0,n)}function xT(n){return lg("N",n,void 0)}function lg(n,e,t){return{kind:n,value:e,error:t}}var Ei=null;function Mo(n){if(on.useDeprecatedSynchronousErrorHandling){let e=!Ei;if(e&&(Ei={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ei;if(Ei=null,t)throw r}}else n()}function kT(n){on.useDeprecatedSynchronousErrorHandling&&Ei&&(Ei.errorThrown=!0,Ei.error=n)}var Ii=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_l(e)&&e.add(this)):this.destination=Tx}static create(e,t,r){return new Po(e,t,r)}next(e){this.isStopped?hg(xT(e),this):this._next(e)}error(e){this.isStopped?hg(PT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hg(MT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ix=Function.prototype.bind;function dg(n,e){return Ix.call(n,e)}var fg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Il(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Il(r)}else Il(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Il(t)}}},Po=class extends Ii{constructor(e,t,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&on.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dg(e.next,o),error:e.error&&dg(e.error,o),complete:e.complete&&dg(e.complete,o)}):i=e}this.destination=new fg(i)}};function Il(n){on.useDeprecatedSynchronousErrorHandling?kT(n):El(n)}function wx(n){throw n}function hg(n,e){let{onStoppedNotification:t}=on;t&&No.setTimeout(()=>t(n,e))}var Tx={closed:!0,next:ba,error:wx,complete:ba};var xo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ft(n){return n}function wl(...n){return pg(n)}function pg(n){return n.length===0?Ft:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Q=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Cx(t)?t:new Po(t,r,i);return Mo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=OT(r),new r((i,o)=>{let s=new Po({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[xo](){return this}pipe(...t){return pg(t)(this)}toPromise(t){return t=OT(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function OT(n){var e;return(e=n??on.Promise)!==null&&e!==void 0?e:Promise}function Dx(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}function Cx(n){return n&&n instanceof Ii||Dx(n)&&_l(n)}function gg(n){return J(n?.lift)}function de(n){return e=>{if(gg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(n,e,t,r,i){return new mg(n,e,t,r,i)}var mg=class extends Ii{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ko(){return de((n,e)=>{let t=null;n._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Oo=class extends Q{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,gg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let t=this.getSubject();e.add(this.source.subscribe(ce(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return ko()(this)}};var FT=Ro(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=(()=>{class n extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Tl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new FT}next(t){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ug:(this.currentObservers=null,o.push(t),new Ne(()=>{this.currentObservers=null,_i(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Q;return t.source=this,t}}return n.create=(e,t)=>new Tl(e,t),n})(),Tl=class extends $e{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:ug}};var nt=class extends $e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var yg={now(){return(yg.delegate||Date).now()},delegate:void 0};var Dl=class extends Ne{constructor(e,t){super()}schedule(e,t=0){return this}};var Sa={setInterval(n,e,...t){let{delegate:r}=Sa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Sa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Fo=class extends Dl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Sa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Sa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,_i(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Lo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Lo.now=yg.now;var Vo=class extends Lo{constructor(e,t=Lo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var vg=new Vo(Fo);var Cl=class extends Fo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var bl=class extends Vo{};var _g=new bl(Cl);var Ct=new Q(n=>n.complete());function LT(n){return n&&J(n.schedule)}function VT(n){return n[n.length-1]}function Sl(n){return J(VT(n))?n.pop():void 0}function Dr(n){return LT(VT(n))?n.pop():void 0}function Al(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function UT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function jT(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wi(n){return this instanceof wi?(this.v=n,this):new wi(n)}function BT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(N){return new Promise(function(R,O){o.push([y,N,R,O])>1||u(y,N)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof wi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function $T(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof jT=="function"?jT(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Rl=n=>n&&typeof n.length=="number"&&typeof n!="function";function Nl(n){return J(n?.then)}function Ml(n){return J(n[xo])}function Pl(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function xl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function bx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kl=bx();function Ol(n){return J(n?.[kl])}function Fl(n){return BT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield wi(t.read());if(i)return yield wi(void 0);yield yield wi(r)}}finally{t.releaseLock()}})}function Ll(n){return J(n?.getReader)}function Oe(n){if(n instanceof Q)return n;if(n!=null){if(Ml(n))return Sx(n);if(Rl(n))return Ax(n);if(Nl(n))return Rx(n);if(Pl(n))return HT(n);if(Ol(n))return Nx(n);if(Ll(n))return Mx(n)}throw xl(n)}function Sx(n){return new Q(e=>{let t=n[xo]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ax(n){return new Q(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Rx(n){return new Q(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,El)})}function Nx(n){return new Q(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function HT(n){return new Q(e=>{Px(n,e).catch(t=>e.error(t))})}function Mx(n){return HT(Fl(n))}function Px(n,e){var t,r,i,o;return UT(this,void 0,void 0,function*(){try{for(t=$T(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function bt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Cr(n,e=0){return de((t,r)=>{t.subscribe(ce(r,i=>bt(r,n,()=>r.next(i),e),()=>bt(r,n,()=>r.complete(),e),i=>bt(r,n,()=>r.error(i),e)))})}function br(n,e=0){return de((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function zT(n,e){return Oe(n).pipe(br(e),Cr(e))}function qT(n,e){return Oe(n).pipe(br(e),Cr(e))}function GT(n,e){return new Q(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function WT(n,e){return new Q(t=>{let r;return bt(t,e,()=>{r=n[kl](),bt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function Vl(n,e){if(!n)throw new Error("Iterable cannot be null");return new Q(t=>{bt(t,e,()=>{let r=n[Symbol.asyncIterator]();bt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function KT(n,e){return Vl(Fl(n),e)}function QT(n,e){if(n!=null){if(Ml(n))return zT(n,e);if(Rl(n))return GT(n,e);if(Nl(n))return qT(n,e);if(Pl(n))return Vl(n,e);if(Ol(n))return WT(n,e);if(Ll(n))return KT(n,e)}throw xl(n)}function _e(n,e){return e?QT(n,e):Oe(n)}function q(...n){let e=Dr(n);return _e(n,e)}function jo(n,e){let t=J(n)?n:()=>n,r=i=>i.error(t());return new Q(e?i=>e.schedule(r,0,i):r)}function Eg(n){return!!n&&(n instanceof Q||J(n.lift)&&J(n.subscribe))}var zn=Ro(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Y(n,e){return de((t,r)=>{let i=0;t.subscribe(ce(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:xx}=Array;function kx(n,e){return xx(e)?n(...e):n(e)}function jl(n){return Y(e=>kx(n,e))}var{isArray:Ox}=Array,{getPrototypeOf:Fx,prototype:Lx,keys:Vx}=Object;function Ul(n){if(n.length===1){let e=n[0];if(Ox(e))return{args:e,keys:null};if(jx(e)){let t=Vx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function jx(n){return n&&typeof n=="object"&&Fx(n)===Lx}function Bl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function $l(...n){let e=Dr(n),t=Sl(n),{args:r,keys:i}=Ul(n);if(r.length===0)return _e([],e);let o=new Q(Ux(r,e,i?s=>Bl(i,s):Ft));return t?o.pipe(jl(t)):o}function Ux(n,e,t=Ft){return r=>{YT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)YT(e,()=>{let l=_e(n[u],e),h=!1;l.subscribe(ce(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function YT(n,e,t){n?bt(t,n,e):e()}function ZT(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?b(N):u.push(N),b=N=>{o&&e.next(N),l++;let R=!1;Oe(t(N,h++)).subscribe(ce(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?bt(e,s,()=>b(O)):b(O)}m()}catch(O){e.error(O)}}))};return n.subscribe(ce(e,y,()=>{p=!0,m()})),()=>{a?.()}}function He(n,e,t=1/0){return J(e)?He((r,i)=>Y((o,s)=>e(r,o,i,s))(Oe(n(r,i))),t):(typeof e=="number"&&(t=e),de((r,i)=>ZT(r,i,n,t)))}function JT(n=1/0){return He(Ft,n)}function XT(){return JT(1)}function Uo(...n){return XT()(_e(n,Dr(n)))}function Aa(n){return new Q(e=>{Oe(n()).subscribe(e)})}function Ig(...n){let e=Sl(n),{args:t,keys:r}=Ul(n),i=new Q(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Oe(t[h]).subscribe(ce(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Bl(r,a):a),o.complete())}))}});return e?i.pipe(jl(e)):i}function Et(n,e){return de((t,r)=>{let i=0;t.subscribe(ce(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Sr(n){return de((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ce(t,void 0,void 0,s=>{o=Oe(n(s,Sr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function eD(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ce(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Ar(n,e){return J(e)?He(n,e,1):He(n,1)}function Rr(n){return de((e,t)=>{let r=!1;e.subscribe(ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function sn(n){return n<=0?()=>Ct:de((e,t)=>{let r=0;e.subscribe(ce(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Hl(n=Bx){return de((e,t)=>{let r=!1;e.subscribe(ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Bx(){return new zn}function Ti(n){return de((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function qn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Et((i,o)=>n(i,o,r)):Ft,sn(1),t?Rr(e):Hl(()=>new zn))}function Bo(n){return n<=0?()=>Ct:de((e,t)=>{let r=[];e.subscribe(ce(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function wg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Et((i,o)=>n(i,o,r)):Ft,Bo(1),t?Rr(e):Hl(()=>new zn))}function zl(n,e){return de(eD(n,e,arguments.length>=2,!0))}function ql(...n){let e=Dr(n);return de((t,r)=>{(e?Uo(n,t,e):Uo(n,t)).subscribe(r)})}function rt(n,e){return de((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,h=o++;Oe(n(u,h)).subscribe(i=ce(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Gl(n){return de((e,t)=>{Oe(n).subscribe(ce(t,()=>t.complete(),ba)),!t.closed&&e.subscribe(t)})}function We(n,e,t){let r=J(n)||e||t?{next:n,error:e,complete:t}:n;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ce(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ft}function tD(n){let e=re(null);try{return n()}finally{re(e)}}var Og="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(Zl(e,t)),this.code=e}};function $x(n){return`NG0${Math.abs(n)}`}function Zl(n,e){return`${$x(n)}${e?": "+e:""}`}function De(n){for(let e in n)if(n[e]===De)return e;throw Error("")}function oD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function St(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(St).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Fg(n,e){return n?e?`${n} ${e}`:n:e||""}var Hx=De({__forward_ref__:De});function Wn(n){return n.__forward_ref__=Wn,n.toString=function(){return St(this())},n}function it(n){return Lg(n)?n():n}function Lg(n){return typeof n=="function"&&n.hasOwnProperty(Hx)&&n.__forward_ref__===Wn}function sD(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function In(n){return{providers:n.providers||[],imports:n.imports||[]}}function Pa(n){return zx(n,Jl)}function Vg(n){return Pa(n)!==null}function zx(n,e){return n.hasOwnProperty(e)&&n[e]||null}function qx(n){let e=n?.[Jl]??null;return e||null}function Dg(n){return n&&n.hasOwnProperty(Kl)?n[Kl]:null}var Jl=De({\u0275prov:De}),Kl=De({\u0275inj:De}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jg(n){return n&&!!n.\u0275providers}var Ug=De({\u0275cmp:De}),Bg=De({\u0275dir:De}),$g=De({\u0275pipe:De}),Hg=De({\u0275mod:De}),Na=De({\u0275fac:De}),Ai=De({__NG_ELEMENT_ID__:De}),nD=De({__NG_ENV_ID__:De});function Xl(n){return typeof n=="string"?n:n==null?"":String(n)}function aD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Xl(n)}function zg(n,e){throw new L(-200,n)}function ed(n,e){throw new L(-201,!1)}var Cg;function cD(){return Cg}function It(n){let e=Cg;return Cg=n,e}function qg(n,e,t){let r=Pa(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;ed(n,"Injector")}var Gx={},Di=Gx,bg="__NG_DI_FLAG__",Sg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ci(t)||0;try{return this.injector.get(e,r&8?null:Di,r)}catch(i){if(Co(i))return i;throw i}}},Ql="ngTempTokenPath",Wx="ngTokenPath",Kx=/\n/gm,Qx="\u0275",rD="__source";function Yx(n,e=0){let t=ng();if(t===void 0)throw new L(-203,!1);if(t===null)return qg(n,void 0,e);{let r=Zx(e),i=t.retrieve(n,r);if(Co(i)){if(r.optional)return null;throw i}return i}}function H(n,e=0){return(cD()||Yx)(it(n),e)}function P(n,e){return H(n,Ci(e))}function Ci(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Zx(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Ag(n){let e=[];for(let t=0;t<n.length;t++){let r=it(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Jx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(H(i,o))}else e.push(H(r))}return e}function Gg(n,e){return n[bg]=e,n.prototype[bg]=e,n}function Jx(n){return n[bg]}function Xx(n,e,t,r){let i=n[Ql];throw e[rD]&&i.unshift(e[rD]),n.message=ek(`
`+n.message,i,t,r),n[Wx]=i,n[Ql]=null,n}function ek(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Qx?n.slice(2):n;let i=St(e);if(Array.isArray(e))i=e.map(St).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):St(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Kx,`
  `)}`}function Nr(n,e){let t=n.hasOwnProperty(Na);return t?n[Na]:null}function td(n,e){n.forEach(t=>Array.isArray(t)?td(t,e):e(t))}function Wg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function xa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function uD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function lD(n,e,t){let r=Ho(n,e);return r>=0?n[r|1]=t:(r=~r,uD(n,r,e,t)),r}function nd(n,e){let t=Ho(n,e);if(t>=0)return n[t|1]}function Ho(n,e){return tk(n,e,1)}function tk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var xr={},Lt=[],kr=new V(""),Kg=new V("",-1),Qg=new V(""),Ma=class{get(e,t=Di){if(t===Di)throw new il(`NullInjectorError: No provider for ${St(e)}!`);return t}};function Yg(n){return n[Hg]||null}function Or(n){return n[Ug]||null}function Zg(n){return n[Bg]||null}function dD(n){return n[$g]||null}function Vt(n){return{\u0275providers:n}}function hD(...n){return{\u0275providers:Jg(!0,n),\u0275fromNgModule:!0}}function Jg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return td(e,s=>{let a=s;Yl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&fD(i,o),t}function fD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Xg(i,o=>{e(o,r)})}}function Yl(n,e,t,r){if(n=it(n),!n)return!1;let i=null,o=Dg(n),s=!o&&Or(n);if(!o&&!s){let u=n.ngModule;if(o=Dg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Yl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{td(o.imports,h=>{Yl(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&fD(l,e)}if(!a){let l=Nr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Lt},i),e({provide:Qg,useValue:i,multi:!0},i),e({provide:kr,useValue:()=>H(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Xg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Xg(n,e){for(let t of n)jg(t)&&(t=t.\u0275providers),Array.isArray(t)?Xg(t,e):e(t)}var nk=De({provide:String,useValue:De});function pD(n){return n!==null&&typeof n=="object"&&nk in n}function rk(n){return!!(n&&n.useExisting)}function ik(n){return!!(n&&n.useFactory)}function bi(n){return typeof n=="function"}function gD(n){return!!n.useClass}var ka=new V(""),Wl={},iD={},Tg;function Oa(){return Tg===void 0&&(Tg=new Ma),Tg}var xe=class{},Si=class extends xe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ng(e,s=>this.processProvider(s)),this.records.set(Kg,$o(void 0,this)),i.has("environment")&&this.records.set(xe,$o(void 0,this));let o=this.records.get(ka);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Qg,Lt,{self:!0}))}retrieve(e,t){let r=Ci(t)||0;try{return this.get(e,Di,r)}catch(i){if(Co(i))return i;throw i}}destroy(){Ra(this),this._destroyed=!0;let e=re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(e)}}onDestroy(e){return Ra(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ra(this);let t=Hn(this),r=It(void 0),i;try{return e()}finally{Hn(t),It(r)}}get(e,t=Di,r){if(Ra(this),e.hasOwnProperty(nD))return e[nD](this);let i=Ci(r),o,s=Hn(this),a=It(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=uk(e)&&Pa(e);h&&this.injectableDefInScope(h)?l=$o(Rg(e),Wl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let u=i&2?Oa():this.parent;return t=i&8&&t===Di?null:t,u.get(e,t)}catch(u){if(Co(u)){if((u[Ql]=u[Ql]||[]).unshift(St(e)),s)throw u;return Xx(u,e,"R3InjectorError",this.source)}else throw u}finally{It(a),Hn(s)}}resolveInjectorInitializers(){let e=re(null),t=Hn(this),r=It(void 0),i;try{let o=this.get(kr,Lt,{self:!0});for(let s of o)s()}finally{Hn(t),It(r),re(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(St(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=it(e);let t=bi(e)?e:it(e&&e.provide),r=sk(e);if(!bi(e)&&e.multi===!0){let i=this.records.get(t);i||(i=$o(void 0,Wl,!0),i.factory=()=>Ag(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=re(null);try{return t.value===iD?zg(St(e)):t.value===Wl&&(t.value=iD,t.value=t.factory()),typeof t.value=="object"&&t.value&&ck(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=it(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Rg(n){let e=Pa(n),t=e!==null?e.factory:Nr(n);if(t!==null)return t;if(n instanceof V)throw new L(204,!1);if(n instanceof Function)return ok(n);throw new L(204,!1)}function ok(n){if(n.length>0)throw new L(204,!1);let t=qx(n);return t!==null?()=>t.factory(n):()=>new n}function sk(n){if(pD(n))return $o(void 0,n.useValue);{let e=em(n);return $o(e,Wl)}}function em(n,e,t){let r;if(bi(n)){let i=it(n);return Nr(i)||Rg(i)}else if(pD(n))r=()=>it(n.useValue);else if(ik(n))r=()=>n.useFactory(...Ag(n.deps||[]));else if(rk(n))r=()=>H(it(n.useExisting));else{let i=it(n&&(n.useClass||n.provide));if(ak(n))r=()=>new i(...Ag(n.deps));else return Nr(i)||Rg(i)}return r}function Ra(n){if(n.destroyed)throw new L(205,!1)}function $o(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ak(n){return!!n.deps}function ck(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function uk(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Ng(n,e){for(let t of n)Array.isArray(t)?Ng(t,e):t&&jg(t)?Ng(t.\u0275providers,e):e(t)}function qe(n,e){let t;n instanceof Si?(Ra(n),t=n):t=new Sg(n);let r,i=Hn(t),o=It(void 0);try{return e()}finally{Hn(i),It(o)}}function mD(){return cD()!==void 0||ng()!=null}var an=0,se=1,X=2,ot=3,Qt=4,Yt=5,Fa=6,zo=7,pt=8,Ri=9,Kn=10,ke=11,qo=12,tm=13,Ni=14,Zt=15,Mi=16,Pi=17,xi=18,La=19,nm=20,Gn=21,rd=22,Va=23,jt=24,id=25,At=26,yD=1;var Fr=7,ja=8,Ua=9,Rt=10;function wn(n){return Array.isArray(n)&&typeof n[yD]=="object"}function cn(n){return Array.isArray(n)&&n[yD]===!0}function rm(n){return(n.flags&4)!==0}function Lr(n){return n.componentOffset>-1}function od(n){return(n.flags&1)===1}function Tn(n){return!!n.template}function Go(n){return(n[X]&512)!==0}function ki(n){return(n[X]&256)===256}var vD="svg",_D="math";function Jt(n){for(;Array.isArray(n);)n=n[an];return n}function im(n,e){return Jt(e[n])}function un(n,e){return Jt(e[n.index])}function sd(n,e){return n.data[e]}function om(n,e){return n[e]}function sm(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Xt(n,e){let t=e[n];return wn(t)?t:t[an]}function ad(n){return(n[X]&128)===128}function ED(n){return cn(n[ot])}function Ba(n,e){return e==null?null:n[e]}function am(n){n[Pi]=0}function cm(n){n[X]&1024||(n[X]|=1024,ad(n)&&Ha(n))}function ID(n,e){for(;n>0;)e=e[Ni],n--;return e}function $a(n){return!!(n[X]&9216||n[jt]?.dirty)}function cd(n){n[Kn].changeDetectionScheduler?.notify(8),n[X]&64&&(n[X]|=1024),$a(n)&&Ha(n)}function Ha(n){n[Kn].changeDetectionScheduler?.notify(0);let e=Mr(n);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!ad(e)));)e=Mr(e)}function um(n,e){if(ki(n))throw new L(911,!1);n[Gn]===null&&(n[Gn]=[]),n[Gn].push(e)}function wD(n,e){if(n[Gn]===null)return;let t=n[Gn].indexOf(e);t!==-1&&n[Gn].splice(t,1)}function Mr(n){let e=n[ot];return cn(e)?e[ot]:e}function TD(n){return n[zo]??=[]}function DD(n){return n.cleanup??=[]}var oe={lFrame:$D(null),bindingsEnabled:!0,skipHydrationRootTNode:null},za=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(za||{}),lk=0,Mg=!1;function CD(){return oe.lFrame.elementDepthCount}function bD(){oe.lFrame.elementDepthCount++}function SD(){oe.lFrame.elementDepthCount--}function lm(){return oe.bindingsEnabled}function AD(){return oe.skipHydrationRootTNode!==null}function RD(n){return oe.skipHydrationRootTNode===n}function ND(){oe.skipHydrationRootTNode=null}function Ie(){return oe.lFrame.lView}function wt(){return oe.lFrame.tView}function Ut(n){return oe.lFrame.contextLView=n,n[pt]}function Bt(n){return oe.lFrame.contextLView=null,n}function Nt(){let n=dm();for(;n!==null&&n.type===64;)n=n.parent;return n}function dm(){return oe.lFrame.currentTNode}function MD(){let n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Wo(n,e){let t=oe.lFrame;t.currentTNode=n,t.isParent=e}function hm(){return oe.lFrame.isParent}function PD(){oe.lFrame.isParent=!1}function xD(){return oe.lFrame.contextLView}function fm(n){sD("Must never be called in production mode"),lk=n}function pm(){return Mg}function gm(n){let e=Mg;return Mg=n,e}function kD(){let n=oe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function OD(n){return oe.lFrame.bindingIndex=n}function qa(){return oe.lFrame.bindingIndex++}function FD(n){let e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function LD(){return oe.lFrame.inI18n}function VD(n,e){let t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,ud(e)}function jD(){return oe.lFrame.currentDirectiveIndex}function ud(n){oe.lFrame.currentDirectiveIndex=n}function UD(n){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function mm(n){oe.lFrame.currentQueryIndex=n}function dk(n){let e=n[se];return e.type===2?e.declTNode:e.type===1?n[Yt]:null}function ym(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=dk(o),i===null||(o=o[Ni],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=oe.lFrame=BD();return r.currentTNode=e,r.lView=n,!0}function ld(n){let e=BD(),t=n[se];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function BD(){let n=oe.lFrame,e=n===null?null:n.child;return e===null?$D(n):e}function $D(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function HD(){let n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var vm=HD;function dd(){let n=HD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zD(n){return(oe.lFrame.contextLView=ID(n,oe.lFrame.contextLView))[pt]}function Oi(){return oe.lFrame.selectedIndex}function Vr(n){oe.lFrame.selectedIndex=n}function hd(){let n=oe.lFrame;return sd(n.tView,n.selectedIndex)}function qD(){return oe.lFrame.currentNamespace}var GD=!0;function fd(){return GD}function pd(n){GD=n}function Pg(n,e=null,t=null,r){let i=_m(n,e,t,r);return i.resolveInjectorInitializers(),i}function _m(n,e=null,t=null,r,i=new Set){let o=[t||Lt,hD(n)];return r=r||(typeof n=="object"?void 0:St(n)),new Si(o,e||Oa(),r||null,i)}var ze=class n{static THROW_IF_NOT_FOUND=Di;static NULL=new Ma;static create(e,t){if(Array.isArray(e))return Pg({name:""},t,e,"");{let r=e.name??"";return Pg({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>H(Kg)});static __NG_ELEMENT_ID__=-1},Ge=new V(""),jr=(()=>{class n{static __NG_ELEMENT_ID__=hk;static __NG_ENV_ID__=t=>t}return n})(),xg=class extends jr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ki(this._lView)}onDestroy(e){let t=this._lView;return um(t,e),()=>wD(t,e)}};function hk(){return new xg(Ie())}var En=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Mt=new V("",{providedIn:"root",factory:()=>{let n=P(xe),e;return t=>{e??=n.get(En),e.handleError(t)}}}),WD={provide:kr,useValue:()=>void P(En),multi:!0};function Em(n){return typeof n=="function"&&n[ft]!==void 0}function Qn(n,e){let[t,r,i]=ag(n,e?.equal),o=t,s=o[ft];return o.set=r,o.update=i,o.asReadonly=KD.bind(o),o}function KD(){let n=this[ft];if(n.readonlyFn===void 0){let e=()=>this();e[ft]=n,n.readonlyFn=e}return n.readonlyFn}function Im(n){return Em(n)&&typeof n.set=="function"}var Pr=class{},Ga=new V("",{providedIn:"root",factory:()=>!1});var wm=new V(""),Tm=new V("");var Yn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new nt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Q(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ur=(()=>{class n{internalPendingTasks=P(Yn);scheduler=P(Pr);errorHandler=P(Mt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();function Wa(...n){}var Dm=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new kg})}return n})(),kg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Jo(n){return{toString:n}.toString()}var gd="__parameters__";function wk(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function CC(n,e,t){return Jo(()=>{let r=wk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(gd)?u[gd]:Object.defineProperty(u,gd,{value:[]})[gd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Pt=Gg(CC("Optional"),8);var bC=Gg(CC("SkipSelf"),4);function Tk(n){return typeof n=="function"}var Ed=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function SC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Bi=(()=>{let n=()=>AC;return n.ngInherit=!0,n})();function AC(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ck),Dk}function Dk(){let n=NC(this),e=n?.current;if(e){let t=n.previous;if(t===xr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Ck(n,e,t,r,i){let o=this.declaredInputs[r],s=NC(n)||bk(n,{previous:xr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ed(l&&l.currentValue,t,u===xr),SC(n,e,i,t)}var RC="__ngSimpleChanges__";function NC(n){return n[RC]||null}function bk(n,e){return n[RC]=e}var QD=[];var we=function(n,e=null,t){for(let r=0;r<QD.length;r++){let i=QD[r];i(n,e,t)}};function Sk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=AC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function MC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function yd(n,e,t){PC(n,e,3,t)}function vd(n,e,t,r){(n[X]&3)===t&&PC(n,e,t,r)}function Cm(n,e){let t=n[X];(t&3)===e&&(t&=16383,t+=1,n[X]=t)}function PC(n,e,t,r){let i=r!==void 0?n[Pi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Pi]+=65536),(a<o||o==-1)&&(Ak(n,t,e,u),n[Pi]=(n[Pi]&4294901760)+u+2),u++}function YD(n,e){we(4,n,e);let t=re(null);try{e.call(n)}finally{re(t),we(5,n,e)}}function Ak(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[X]>>14<n[Pi]>>16&&(n[X]&3)===e&&(n[X]+=16384,YD(a,o)):YD(a,o)}var Qo=-1,Li=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function Rk(n){return(n.flags&8)!==0}function Nk(n){return(n.flags&16)!==0}function Mk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];xk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Pk(n){return n===3||n===4||n===6}function xk(n){return n.charCodeAt(0)===64}function Ya(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ZD(n,t,i,null,e[++r]):ZD(n,t,i,null,null))}}return n}function ZD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function xC(n){return n!==Qo}function Id(n){return n&32767}function kk(n){return n>>16}function wd(n,e){let t=kk(n),r=e;for(;t>0;)r=r[Ni],t--;return r}var Om=!0;function Td(n){let e=Om;return Om=n,e}var Ok=256,kC=Ok-1,OC=5,Fk=0,Dn={};function Lk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ai)&&(r=t[Ai]),r==null&&(r=t[Ai]=Fk++);let i=r&kC,o=1<<i;e.data[n+(i>>OC)]|=o}function Dd(n,e){let t=FC(n,e);if(t!==-1)return t;let r=e[se];r.firstCreatePass&&(n.injectorIndex=e.length,bm(r.data,n),bm(e,null),bm(r.blueprint,null));let i=ty(n,e),o=n.injectorIndex;if(xC(i)){let s=Id(i),a=wd(i,e),u=a[se].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function bm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function FC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ty(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=BC(i),r===null)return Qo;if(t++,i=i[Ni],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Qo}function Fm(n,e,t){Lk(n,e,t)}function LC(n,e,t){if(t&8||n!==void 0)return n;ed(e,"NodeInjector")}function VC(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Ri],o=It(void 0);try{return i?i.get(e,r,t&8):qg(e,r,t&8)}finally{It(o)}}return LC(r,e,t)}function jC(n,e,t,r=0,i){if(n!==null){if(e[X]&2048&&!(r&2)){let s=$k(n,e,t,r,Dn);if(s!==Dn)return s}let o=UC(n,e,t,r,Dn);if(o!==Dn)return o}return VC(e,t,r,i)}function UC(n,e,t,r,i){let o=Uk(t);if(typeof o=="function"){if(!ym(e,n,r))return r&1?LC(i,t,r):VC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ed(t);else return s}finally{vm()}}else if(typeof o=="number"){let s=null,a=FC(n,e),u=Qo,l=r&1?e[Zt][Yt]:null;for((a===-1||r&4)&&(u=a===-1?ty(n,e):e[a+8],u===Qo||!XD(r,!1)?a=-1:(s=e[se],a=Id(u),e=wd(u,e)));a!==-1;){let h=e[se];if(JD(o,a,h.data)){let p=Vk(a,e,t,s,r,l);if(p!==Dn)return p}u=e[a+8],u!==Qo&&XD(r,e[se].data[a+8]===l)&&JD(o,a,e)?(s=h,a=Id(u),e=wd(u,e)):a=-1}}return i}function Vk(n,e,t,r,i,o){let s=e[se],a=s.data[n+8],u=r==null?Lr(a)&&Om:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=jk(a,s,t,u,l);return h!==null?Cd(e,s,h,a):Dn}function jk(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let b=s[y];if(y<u&&t===b||y>=u&&b.type===t)return y}if(i){let y=s[u];if(y&&Tn(y)&&y.type===t)return u}return null}function Cd(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Li){let s=i;s.resolving&&zg(aD(o[t]));let a=Td(s.canSeeViewProviders);s.resolving=!0;let u=o[t].type||o[t],l,h=s.injectImpl?It(s.injectImpl):null,p=ym(n,r,0);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&Sk(t,o[t],e)}finally{h!==null&&It(h),Td(a),s.resolving=!1,vm()}}return i}function Uk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ai)?n[Ai]:void 0;return typeof e=="number"?e>=0?e&kC:Bk:e}function JD(n,e,t){let r=1<<n;return!!(t[e+(n>>OC)]&r)}function XD(n,e){return!(n&2)&&!(n&1&&e)}var Fi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return jC(this._tNode,this._lView,e,Ci(r),t)}};function Bk(){return new Fi(Nt(),Ie())}function $i(n){return Jo(()=>{let e=n.prototype.constructor,t=e[Na]||Lm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Na]||Lm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Lm(n){return Lg(n)?()=>{let e=Lm(it(n));return e&&e()}:Nr(n)}function $k(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[X]&2048&&!Go(s);){let a=UC(o,s,t,r|2,Dn);if(a!==Dn)return a;let u=o.parent;if(!u){let l=s[nm];if(l){let h=l.get(t,Dn,r);if(h!==Dn)return h}u=BC(s),s=s[Ni]}o=u}return i}function BC(n){let e=n[se],t=e.type;return t===2?e.declTNode:t===1?n[Yt]:null}function Hk(){return Od(Nt(),Ie())}function Od(n,e){return new Xo(un(n,e))}var Xo=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Hk}return n})();function $C(n){return(n.flags&128)===128}var ny=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ny||{}),HC=new Map,zk=0;function qk(){return zk++}function Gk(n){HC.set(n[La],n)}function Vm(n){HC.delete(n[La])}var eC="__ngContext__";function ec(n,e){wn(e)?(n[eC]=e[La],Gk(e)):n[eC]=e}function zC(n){return GC(n[qo])}function qC(n){return GC(n[Qt])}function GC(n){for(;n!==null&&!cn(n);)n=n[Qt];return n}var jm;function ry(n){jm=n}function WC(){if(jm!==void 0)return jm;if(typeof document<"u")return document;throw new L(210,!1)}var Fd=new V("",{providedIn:"root",factory:()=>Wk}),Wk="ng",Ld=new V(""),$r=new V("",{providedIn:"platform",factory:()=>"unknown"});var Vd=new V("",{providedIn:"root",factory:()=>WC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Kk="h",Qk="b";var KC=!1,QC=new V("",{providedIn:"root",factory:()=>KC});var Yk=(n,e,t,r)=>{};function Zk(n,e,t,r){Yk(n,e,t,r)}var Jk=()=>null;function YC(n,e,t=!1){return Jk(n,e,t)}function ZC(n,e){let t=n.contentQueries;if(t!==null){let r=re(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];mm(o),a.contentQueries(2,e[s],s)}}}finally{re(r)}}}function Um(n,e,t){mm(0);let r=re(null);try{e(n,t)}finally{re(r)}}function JC(n,e,t){if(rm(e)){let r=re(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{re(r)}}}var Zn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Zn||{});var Bm=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Og})`}};function XC(n){return n instanceof Bm?n.changingThisBreaksApplicationSecurity:n}function eb(n){return n instanceof Function?n():n}function Xk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var tb="ng-template";function eO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Xk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(iy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function iy(n){return n.type===4&&n.value!==tb}function tO(n,e,t){let r=n.type===4&&!t?tb:n.value;return e===r}function nO(n,e,t){let r=4,i=n.attrs,o=i!==null?oO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!ln(r)&&!ln(u))return!1;if(s&&ln(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!tO(n,u,t)||u===""&&e.length===1){if(ln(r))return!1;s=!0}}else if(r&8){if(i===null||!eO(n,i,u,t)){if(ln(r))return!1;s=!0}}else{let l=e[++a],h=rO(u,i,iy(n),t);if(h===-1){if(ln(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(ln(r))return!1;s=!0}}}}return ln(r)||s}function ln(n){return(n&1)===0}function rO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return sO(e,n)}function iO(n,e,t=!1){for(let r=0;r<e.length;r++)if(nO(n,e[r],t))return!0;return!1}function oO(n){for(let e=0;e<n.length;e++){let t=n[e];if(Pk(t))return e}return n.length}function sO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function tC(n,e){return n?":not("+e.trim()+")":e}function aO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ln(s)&&(e+=tC(o,i),i=""),r=s,o=o||!ln(r);t++}return i!==""&&(e+=tC(o,i)),e}function cO(n){return n.map(aO).join(",")}function uO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!ln(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Jn={};function lO(n,e){return n.createText(e)}function dO(n,e,t){n.setValue(e,t)}function nb(n,e,t){return n.createElement(e,t)}function bd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function rb(n,e,t){n.appendChild(e,t)}function nC(n,e,t,r,i){r!==null?bd(n,e,t,r,i):rb(n,e,t)}function hO(n,e,t){n.removeChild(null,e,t)}function fO(n,e,t){n.setAttribute(e,"style",t)}function pO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ib(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Mk(n,e,r),i!==null&&pO(n,e,i),o!==null&&fO(n,e,o)}function oy(n,e,t,r,i,o,s,a,u,l,h){let p=At+r,m=p+i,y=gO(p,m),b=typeof l=="function"?l():l;return y[se]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function gO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Jn);return t}function mO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=oy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function sy(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[an]=i,p[X]=r|4|128|8|64|1024,(l!==null||n&&n[X]&2048)&&(p[X]|=2048),am(p),p[ot]=p[Ni]=n,p[pt]=t,p[Kn]=s||n&&n[Kn],p[ke]=a||n&&n[ke],p[Ri]=u||n&&n[Ri]||null,p[Yt]=o,p[La]=qk(),p[Fa]=h,p[nm]=l,p[Zt]=e.type==2?n[Zt]:p,p}function yO(n,e,t){let r=un(e,n),i=mO(t),o=n[Kn].rendererFactory,s=ay(n,sy(n,i,null,ob(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function ob(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function sb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ay(n,e){return n[qo]?n[tm][Qt]=e:n[qo]=e,n[tm]=e,e}function dn(n=1){ab(wt(),Ie(),Oi()+n,!1)}function ab(n,e,t,r){if(!r)if((e[X]&3)===3){let o=n.preOrderCheckHooks;o!==null&&yd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&vd(e,o,0,t)}Vr(t)}var jd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(jd||{});function $m(n,e,t,r){let i=re(null);try{let[o,s,a]=n.inputs[t],u=null;(s&jd.SignalBased)!==0&&(u=e[o][ft]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):SC(e,u,o,r)}finally{re(i)}}function cb(n,e,t,r,i){let o=Oi(),s=r&2;try{Vr(-1),s&&e.length>At&&ab(n,e,At,!1),we(s?2:0,i,t),t(r,i)}finally{Vr(o),we(s?3:1,i,t)}}function cy(n,e,t){DO(n,e,t),(t.flags&64)===64&&CO(n,e,t)}function ub(n,e,t=un){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function vO(n,e,t,r){let o=r.get(QC,KC)||t===Zn.ShadowDom,s=n.selectRootElement(e,o);return _O(s),s}function _O(n){EO(n)}var EO=()=>null;function IO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function lb(n,e,t,r,i,o){let s=e[se];if(uy(n,s,e,t,r)){Lr(n)&&TO(e,n.index);return}wO(n,e,t,r,i,o)}function wO(n,e,t,r,i,o){if(n.type&3){let s=un(n,e);t=IO(t),r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function TO(n,e){let t=Xt(e,n);t[X]&16||(t[X]|=64)}function DO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Lr(t)&&yO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Dd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Cd(e,n,s,t);if(ec(u,e),o!==null&&RO(e,s-r,u,a,t,o),Tn(a)){let l=Xt(t.index,e);l[pt]=Cd(e,n,s,t)}}}function CO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=jD();try{Vr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];ud(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&bO(u,l)}}finally{Vr(-1),ud(s)}}function bO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function db(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];iO(e,o.selectors,!1)&&(r??=[],Tn(o)?r.unshift(o):r.push(o))}return r}function SO(n,e,t,r,i,o){let s=un(n,e);AO(e[ke],s,o,n.value,t,r,i)}function AO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Xl(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function RO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];$m(r,t,u,l)}}function NO(n,e){let t=n[Ri];if(!t)return;t.get(Mt,null)?.(e)}function uy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];$m(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];$m(h,l,r,i),a=!0}return a}function MO(n,e){let t=Xt(e,n),r=t[se];PO(r,t);let i=t[an];i!==null&&t[Fa]===null&&(t[Fa]=YC(i,t[Ri])),we(18),ly(r,t,t[pt]),we(19,t[pt])}function PO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ly(n,e,t){ld(e);try{let r=n.viewQuery;r!==null&&Um(1,r,t);let i=n.template;i!==null&&cb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[xi]?.finishViewCreation(n),n.staticContentQueries&&ZC(n,e),n.staticViewQueries&&Um(2,n.viewQuery,t);let o=n.components;o!==null&&xO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[X]&=-5,dd()}}function xO(n,e){for(let t=0;t<e.length;t++)MO(n,e[t])}function kO(n,e,t,r){let i=re(null);try{let o=e.tView,a=n[X]&4096?4096:16,u=sy(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Mi]=l;let h=n[xi];return h!==null&&(u[xi]=h.createEmbeddedView(o)),ly(o,u,t),u}finally{re(i)}}function rC(n,e){return!e||e.firstChild===null||$C(n)}var iC=!1,OO=new V(""),FO;function dy(n,e){return FO(n,e)}var Cn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Cn||{});function hy(n){return(n.flags&32)===32}function Ko(n,e,t,r,i){if(r!=null){let o,s=!1;cn(r)?o=r:wn(r)&&(s=!0,r=r[an]);let a=Jt(r);n===0&&t!==null?i==null?rb(e,t,a):bd(e,t,a,i||null,!0):n===1&&t!==null?bd(e,t,a,i||null,!0):n===2?hO(e,a,s):n===3&&e.destroyNode(a),o!=null&&KO(e,n,o,t,i)}}function LO(n,e){hb(n,e),e[an]=null,e[Yt]=null}function VO(n,e,t,r,i,o){r[an]=i,r[Yt]=e,Ud(n,r,t,1,i,o)}function hb(n,e){e[Kn].changeDetectionScheduler?.notify(9),Ud(n,e,e[ke],2,null,null)}function jO(n){let e=n[qo];if(!e)return Sm(n[se],n);for(;e;){let t=null;if(wn(e))t=e[qo];else{let r=e[Rt];r&&(t=r)}if(!t){for(;e&&!e[Qt]&&e!==n;)wn(e)&&Sm(e[se],e),e=e[ot];e===null&&(e=n),wn(e)&&Sm(e[se],e),t=e&&e[Qt]}e=t}}function fy(n,e){let t=n[Ua],r=t.indexOf(e);t.splice(r,1)}function fb(n,e){if(ki(e))return;let t=e[ke];t.destroyNode&&Ud(n,e,t,3,null,null),jO(e)}function Sm(n,e){if(ki(e))return;let t=re(null);try{e[X]&=-129,e[X]|=256,e[jt]&&hl(e[jt]),BO(n,e),UO(n,e),e[se].type===1&&e[ke].destroy();let r=e[Mi];if(r!==null&&cn(e[ot])){r!==e[ot]&&fy(r,e);let i=e[xi];i!==null&&i.detachView(n)}Vm(e)}finally{re(t)}}function UO(n,e){let t=n.cleanup,r=e[zo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[zo]=null);let i=e[Gn];if(i!==null){e[Gn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Va];if(o!==null){e[Va]=null;for(let s of o)s.destroy()}}function BO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Li)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];we(4,a,u);try{u.call(a)}finally{we(5,a,u)}}else{we(4,i,o);try{o.call(i)}finally{we(5,i,o)}}}}}function $O(n,e,t){return HO(n,e.parent,t)}function HO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[an];if(Lr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Zn.None||i===Zn.Emulated)return null}return un(r,t)}function zO(n,e,t){return GO(n,e,t)}function qO(n,e,t){return n.type&40?un(n,t):null}var GO=qO,oC;function py(n,e,t,r){let i=$O(n,r,e),o=e[ke],s=r.parent||e[Yt],a=zO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)nC(o,i,t[u],a,!1);else nC(o,i,t,a,!1);oC!==void 0&&oC(o,r,e,t,i)}function Ka(n,e){if(e!==null){let t=e.type;if(t&3)return un(e,n);if(t&4)return Hm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ka(n,r);{let i=n[e.index];return cn(i)?Hm(-1,i):Jt(i)}}else{if(t&128)return Ka(n,e.next);if(t&32)return dy(e,n)()||Jt(n[e.index]);{let r=pb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Mr(n[Zt]);return Ka(i,r)}else return Ka(n,e.next)}}}return null}function pb(n,e){if(e!==null){let r=n[Zt][Yt],i=e.projection;return r.projection[i]}return null}function Hm(n,e){let t=Rt+n+1;if(t<e.length){let r=e[t],i=r[se].firstChild;if(i!==null)return Ka(r,i)}return e[Fr]}function gy(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&ec(Jt(a),r),t.flags|=2),!hy(t))if(u&8)gy(n,e,t.child,r,i,o,!1),Ko(e,n,i,a,o);else if(u&32){let l=dy(t,r),h;for(;h=l();)Ko(e,n,i,h,o);Ko(e,n,i,a,o)}else u&16?WO(n,e,r,t,i,o):Ko(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Ud(n,e,t,r,i,o){gy(t,r,n.firstChild,e,i,o,!1)}function WO(n,e,t,r,i,o){let s=t[Zt],u=s[Yt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ko(e,n,i,h,o)}else{let l=u,h=s[ot];$C(r)&&(l.flags|=128),gy(n,e,l,h,i,o,!0)}}function KO(n,e,t,r,i){let o=t[Fr],s=Jt(t);o!==s&&Ko(e,n,r,o,i);for(let a=Rt;a<t.length;a++){let u=t[a];Ud(u[se],u,n,e,r,o)}}function QO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Cn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Cn.Important),n.setStyle(t,r,i,o))}}function Za(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Jt(o)),cn(o)&&gb(o,r);let s=t.type;if(s&8)Za(n,e,t.child,r);else if(s&32){let a=dy(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=pb(e,t);if(Array.isArray(a))r.push(...a);else{let u=Mr(e[Zt]);Za(u[se],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function gb(n,e){for(let t=Rt;t<n.length;t++){let r=n[t],i=r[se].firstChild;i!==null&&Za(r[se],r,i,e)}n[Fr]!==n[an]&&e.push(n[Fr])}function mb(n){if(n[id]!==null){for(let e of n[id])e.impl.addSequence(e);n[id].length=0}}var yb=[];function YO(n){return n[jt]??ZO(n)}function ZO(n){let e=yb.pop()??Object.create(XO);return e.lView=n,e}function JO(n){n.lView[jt]!==n&&(n.lView=null,yb.push(n))}var XO=te(k({},yi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ha(n.lView)},consumerOnSignalRead(){this.lView[jt]=this}});function e1(n){let e=n[jt]??Object.create(t1);return e.lView=n,e}var t1=te(k({},yi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Mr(n.lView);for(;e&&!vb(e[se]);)e=Mr(e);e&&cm(e)},consumerOnSignalRead(){this.lView[jt]=this}});function vb(n){return n.type!==2}function _b(n){if(n[Va]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Va])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[X]&8192)}}var n1=100;function my(n,e=0){let r=n[Kn].rendererFactory,i=!1;i||r.begin?.();try{r1(n,e)}finally{i||r.end?.()}}function r1(n,e){let t=pm();try{gm(!0),zm(n,e);let r=0;for(;$a(n);){if(r===n1)throw new L(103,!1);r++,zm(n,1)}}finally{gm(t)}}function Eb(n,e){fm(e?za.Exhaustive:za.OnlyDirtyViews);try{my(n)}finally{fm(za.Off)}}function i1(n,e,t,r){if(ki(e))return;let i=e[X],o=!1,s=!1;ld(e);let a=!0,u=null,l=null;o||(vb(n)?(l=YO(e),u=vi(l)):ll()===null?(a=!1,l=e1(e),u=vi(l)):e[jt]&&(hl(e[jt]),e[jt]=null));try{am(e),OD(n.bindingStartIndex),t!==null&&cb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&yd(e,y,null)}else{let y=n.preOrderHooks;y!==null&&vd(e,y,0,null),Cm(e,0)}if(s||o1(e),_b(e),Ib(e,0),n.contentQueries!==null&&ZC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&yd(e,y)}else{let y=n.contentHooks;y!==null&&vd(e,y,1),Cm(e,1)}a1(n,e);let p=n.components;p!==null&&Tb(e,p,0);let m=n.viewQuery;if(m!==null&&Um(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&yd(e,y)}else{let y=n.viewHooks;y!==null&&vd(e,y,2),Cm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[rd]){for(let y of e[rd])y();e[rd]=null}o||(mb(e),e[X]&=-73)}catch(h){throw o||Ha(e),h}finally{l!==null&&(So(l,u),a&&JO(l)),dd()}}function Ib(n,e){for(let t=zC(n);t!==null;t=qC(t))for(let r=Rt;r<t.length;r++){let i=t[r];wb(i,e)}}function o1(n){for(let e=zC(n);e!==null;e=qC(e)){if(!(e[X]&2))continue;let t=e[Ua];for(let r=0;r<t.length;r++){let i=t[r];cm(i)}}}function s1(n,e,t){we(18);let r=Xt(e,n);wb(r,t),we(19,r[pt])}function wb(n,e){ad(n)&&zm(n,e)}function zm(n,e){let r=n[se],i=n[X],o=n[jt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ca(o)),s||=!1,o&&(o.dirty=!1),n[X]&=-9217,s)i1(r,n,r.template,n[pt]);else if(i&8192){let a=re(null);try{_b(n),Ib(n,1);let u=r.components;u!==null&&Tb(n,u,1),mb(n)}finally{re(a)}}}function Tb(n,e,t){for(let r=0;r<e.length;r++)s1(n,e[r],t)}function a1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Vr(~i);else{let o=i,s=t[++r],a=t[++r];VD(s,o);let u=e[o];we(24,u),a(2,u),we(25,u)}}}finally{Vr(-1)}}function yy(n,e){let t=pm()?64:1088;for(n[Kn].changeDetectionScheduler?.notify(e);n;){n[X]|=t;let r=Mr(n);if(Go(n)&&!r)return n;n=r}return null}function Db(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function c1(n,e,t,r=!0){let i=e[se];if(u1(i,e,n,t),r){let s=Hm(t,n),a=e[ke],u=a.parentNode(n[Fr]);u!==null&&VO(i,n[Yt],a,e,u,s)}let o=e[Fa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function qm(n,e){if(n.length<=Rt)return;let t=Rt+e,r=n[t];if(r){let i=r[Mi];i!==null&&i!==n&&fy(i,r),e>0&&(n[t-1][Qt]=r[Qt]);let o=xa(n,Rt+e);LO(r[se],r);let s=o[xi];s!==null&&s.detachView(o[se]),r[ot]=null,r[Qt]=null,r[X]&=-129}return r}function u1(n,e,t,r){let i=Rt+r,o=t.length;r>0&&(t[i-1][Qt]=e),r<o-Rt?(e[Qt]=t[i],Wg(t,Rt+r,e)):(t.push(e),e[Qt]=null),e[ot]=t;let s=e[Mi];s!==null&&t!==s&&Cb(s,e);let a=e[xi];a!==null&&a.insertView(n),cd(e),e[X]|=128}function Cb(n,e){let t=n[Ua],r=e[ot];if(wn(r))n[X]|=2;else{let i=r[ot][Zt];e[Zt]!==i&&(n[X]|=2)}t===null?n[Ua]=[e]:t.push(e)}var Br=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[se];return Za(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[pt]}set context(e){this._lView[pt]=e}get destroyed(){return ki(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ot];if(cn(e)){let t=e[ja],r=t?t.indexOf(this):-1;r>-1&&(qm(e,r),xa(t,r))}this._attachedToViewContainer=!1}fb(this._lView[se],this._lView)}onDestroy(e){um(this._lView,e)}markForCheck(){yy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){cd(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,my(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Ri].get(OO,iC)}catch{this.exhaustive=iC}}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Go(this._lView),t=this._lView[Mi];t!==null&&!e&&fy(t,this._lView),hb(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=Go(this._lView),r=this._lView[Mi];r!==null&&!t&&Cb(r,this._lView),cd(this._lView)}};var tc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=l1;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=kO(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Br(o)}}return n})();function l1(){return bb(Nt(),Ie())}function bb(n,e){return n.type&4?new tc(e,n,Od(n,e)):null}function vy(n,e,t,r,i){let o=n.data[e];if(o===null)o=d1(n,e,t,r,i),LD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=MD();o.injectorIndex=s===null?-1:s.injectorIndex}return Wo(o,!0),o}function d1(n,e,t,r,i){let o=dm(),s=hm(),a=s?o:o&&o.parent,u=n.data[e]=f1(n,a,t,e,r,i);return h1(n,u,o,s),u}function h1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function f1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return AD()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var n7=new RegExp(`^(\\d+)*(${Qk}|${Kk})*(.*)`);var p1=()=>null;function sC(n,e){return p1(n,e)}var Sb=class{},Bd=class{},Gm=class{resolveComponentFactory(e){throw new L(917,!1)}},nc=class{static NULL=new Gm},Vi=class{},rc=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>g1()}return n})();function g1(){let n=Ie(),e=Nt(),t=Xt(e.index,n);return(wn(t)?t:n)[ke]}var Ab=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var _d={},Wm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,_d,r);return i!==_d||t===_d?i:this.parentInjector.get(e,t,r)}};function aC(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Fg(i,a);else if(o==2){let u=a,l=e[++s];r=Fg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function le(n,e=0){let t=Ie();if(t===null)return H(n,e);let r=Nt();return jC(r,t,it(n),e)}function Rb(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}v1(n,e,t,a,o,u,l)}o!==null&&r!==null&&m1(t,r,o)}function m1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function y1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function v1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&Tn(y)&&(u=!0,y1(n,t,m)),Fm(Dd(t,e),n,y.type)}D1(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=sb(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=Ya(t.mergedAttrs,y.hostAttrs),E1(n,t,e,p,y),T1(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);t.directiveToIndex.set(y.type,[p,N+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}_1(n,t,o)}function _1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))cC(0,e,i,r),cC(1,e,i,r),lC(e,r,!1);else{let o=t.get(i);uC(0,e,o,r),uC(1,e,o,r),lC(e,r,!0)}}}function cC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Nb(e,o)}}function uC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Nb(e,s)}}function Nb(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function lC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||iy(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function E1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Nr(i.type,!0)),s=new Li(o,Tn(i),le);n.blueprint[r]=s,t[r]=s,I1(n,e,r,sb(n,t,i.hostVars,Jn),i)}function I1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;w1(s)!=a&&s.push(a),s.push(t,r,o)}}function w1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function T1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Tn(e)&&(t[""]=n)}}function D1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Mb(n,e,t,r,i,o,s,a){let u=e.consts,l=Ba(u,s),h=vy(e,n,2,r,l);return o&&Rb(e,t,h,Ba(u,a),i),h.mergedAttrs=Ya(h.mergedAttrs,h.attrs),h.attrs!==null&&aC(h,h.attrs,!1),h.mergedAttrs!==null&&aC(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function Pb(n,e){MC(n,e),rm(e)&&n.queries.elementEnd(e)}function _y(n){return kb(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function xb(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function kb(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function C1(n,e,t){return n[e]=t}function es(n,e,t){if(t===Jn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Am(n,e,t){return function r(i){let o=Lr(n)?Xt(n.index,e):e;yy(o,5);let s=e[pt],a=dC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=dC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function dC(n,e,t,r){let i=re(null);try{return we(6,e,t),t(r)!==!1}catch(o){return NO(n,o),!1}finally{we(7,e,t),re(i)}}function b1(n,e,t,r,i,o,s,a){let u=od(n),l=!1,h=null;if(!r&&u&&(h=S1(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=un(n,t),m=r?r(p):p;Zk(t,m,o,a);let y=i.listen(m,o,a),b=r?N=>r(Jt(N[n.index])):n.index;Ob(b,e,t,o,a,y,!1)}return l}function S1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[zo],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Ob(n,e,t,r,i,o,s){let a=e.firstCreatePass?DD(e):null,u=TD(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function hC(n,e,t,r,i,o){let s=e[t],a=e[se],l=a.data[t].outputs[r],p=s[l].subscribe(o);Ob(n.index,a,e,i,o,p,!0)}var Km=Symbol("BINDING");var Sd=class extends nc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Or(e);return new Yo(t,this.ngModule)}};function A1(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&jd.SignalBased)!==0};return i&&(o.transform=i),o})}function R1(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function N1(n,e,t){let r=e instanceof xe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Wm(t,r):t}function M1(n){let e=n.get(Vi,null);if(e===null)throw new L(407,!1);let t=n.get(Ab,null),r=n.get(Pr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function P1(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return nb(e,t,t==="svg"?vD:t==="math"?_D:null)}var Yo=class extends Bd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=A1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=R1(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=cO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){we(22);let a=re(null);try{let u=this.componentDef,l=x1(r,u,s,o),h=N1(u,i||this.ngModule,e),p=M1(h),m=p.rendererFactory.createRenderer(null,u),y=r?vO(m,r,u.encapsulation,h):P1(u,m),b=s?.some(fC)||o?.some(O=>typeof O!="function"&&O.bindings.some(fC)),N=sy(null,l,null,512|ob(u),null,null,p,m,h,null,YC(y,h,!0));N[At]=y,ld(N);let R=null;try{let O=Mb(At,l,N,"#host",()=>l.directiveRegistry,!0,0);y&&(ib(m,y,O),ec(y,N)),cy(l,N,O),JC(l,O,N),Pb(l,O),t!==void 0&&O1(O,this.ngContentSelectors,t),R=Xt(O.index,N),N[pt]=R[pt],ly(l,N,null)}catch(O){throw R!==null&&Vm(R),Vm(N),O}finally{we(23),dd()}return new Ad(this.componentType,N,!!b)}finally{re(a)}}};function x1(n,e,t,r){let i=n?["ng-version","20.0.4"]:uO(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Km].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Km].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Zg(p);u.push(m)}return oy(0,null,k1(o,s),1,a,u,null,null,null,[i],null)}function k1(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function fC(n){let e=n[Km].kind;return e==="input"||e==="twoWay"}var Ad=class extends Sb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=sd(t[se],At),this.location=Od(this._tNode,t),this.instance=Xt(this._tNode.index,t)[pt],this.hostView=this.changeDetectorRef=new Br(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=uy(r,i[se],i,e,t);this.previousInputValues.set(e,t);let s=Xt(r.index,i);yy(s,1)}get injector(){return new Fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function O1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Hi=(()=>{class n{static __NG_ELEMENT_ID__=F1}return n})();function F1(){let n=Nt();return V1(n,Ie())}var L1=Hi,Fb=class extends L1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Od(this._hostTNode,this._hostLView)}get injector(){return new Fi(this._hostTNode,this._hostLView)}get parentInjector(){let e=ty(this._hostTNode,this._hostLView);if(xC(e)){let t=wd(e,this._hostLView),r=Id(e),i=t[se].data[r+8];return new Fi(i,t)}else return new Fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=pC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=sC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,rC(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!Tk(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new Yo(Or(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let O=(u?p:this.parentInjector).get(xe,null);O&&(o=O)}let m=Or(h.componentType??{}),y=sC(this._lContainer,m?.id??null),b=y?.firstChild??null,N=h.create(p,i,b,o,s,a);return this.insertImpl(N.hostView,l,rC(this._hostTNode,y)),N}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(ED(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ot],l=new Fb(u,u[Yt],u[ot]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return c1(s,i,o,r),e.attachToViewContainerRef(),Wg(Rm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=pC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=qm(this._lContainer,t);r&&(xa(Rm(this._lContainer),t),fb(r[se],r))}detach(e){let t=this._adjustIndex(e,-1),r=qm(this._lContainer,t);return r&&xa(Rm(this._lContainer),t)!=null?new Br(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function pC(n){return n[ja]}function Rm(n){return n[ja]||(n[ja]=[])}function V1(n,e){let t,r=e[n.index];return cn(r)?t=r:(t=Db(r,e,null,n),e[n.index]=t,ay(e,t)),U1(t,e,n,r),new Fb(t,n,e)}function j1(n,e){let t=n[ke],r=t.createComment(""),i=un(e,n),o=t.parentNode(i);return bd(t,o,r,t.nextSibling(i),!1),r}var U1=H1,B1=()=>!1;function $1(n,e,t){return B1(n,e,t)}function H1(n,e,t,r){if(n[Fr])return;let i;t.type&8?i=Jt(r):i=j1(e,t),n[Fr]=i}var gC=new Set;function $d(n){gC.has(n)||(gC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ji=class{},Hd=class{};var Rd=class extends ji{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Sd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Yg(e);this._bootstrapComponents=eb(o.bootstrap),this._r3Injector=_m(e,t,[{provide:ji,useValue:this},{provide:nc,useValue:this.componentFactoryResolver},...r],St(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Nd=class extends Hd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Rd(this.moduleType,e,[])}};var Ja=class extends ji{injector;componentFactoryResolver=new Sd(this);instance=null;constructor(e){super();let t=new Si([...e.providers,{provide:ji,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],e.parent||Oa(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ic(n,e,t=null){return new Ja({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var z1=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Jg(!1,t.type),i=r.length>0?ic([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(H(xe))})}return n})();function Xn(n){return Jo(()=>{let e=Lb(n),t=te(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ny.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(z1).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Zn.Emulated,styles:n.styles||Lt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&$d("NgStandalone"),Vb(t);let r=n.dependencies;return t.directiveDefs=mC(r,!1),t.pipeDefs=mC(r,!0),t.id=Q1(t),t})}function q1(n){return Or(n)||Zg(n)}function G1(n){return n!==null}function er(n){return Jo(()=>({type:n.type,bootstrap:n.bootstrap||Lt,declarations:n.declarations||Lt,imports:n.imports||Lt,exports:n.exports||Lt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function W1(n,e){if(n==null)return xr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=jd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function K1(n){if(n==null)return xr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function st(n){return Jo(()=>{let e=Lb(n);return Vb(e),e})}function Ey(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Lb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||xr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Lt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:W1(n.inputs,e),outputs:K1(n.outputs),debugInfo:null}}function Vb(n){n.features?.forEach(e=>e(n))}function mC(n,e){if(!n)return null;let t=e?dD:q1;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(G1)}function Q1(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Y1(n){return Object.getPrototypeOf(n.prototype).constructor}function bn(n){let e=Y1(n.type),t=!0,r=[n];for(;e;){let i;if(Tn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Nm(n.inputs),s.declaredInputs=Nm(n.declaredInputs),s.outputs=Nm(n.outputs);let a=i.hostBindings;a&&tF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&X1(n,u),l&&eF(n,l),Z1(n,i),oD(n.outputs,i.outputs),Tn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===bn&&(t=!1)}}e=Object.getPrototypeOf(e)}J1(r)}function Z1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function J1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ya(i.hostAttrs,t=Ya(t,i.hostAttrs))}}function Nm(n){return n===xr?{}:n===Lt?[]:n}function X1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function eF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function tF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function nF(n,e,t,r,i,o,s,a,u){let l=e.consts,h=vy(e,n,4,s||null,a||null);lm()&&Rb(e,t,h,Ba(l,u),db),h.mergedAttrs=Ya(h.mergedAttrs,h.attrs),MC(e,h);let p=h.tView=oy(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function rF(n,e,t,r,i,o,s,a,u,l,h){let p=t+At,m=e.firstCreatePass?nF(p,e,n,r,i,o,s,a,l):e.data[p];u&&(m.flags|=u),Wo(m,!1);let y=iF(e,n,m,t);fd()&&py(e,n,y,m),ec(y,n);let b=Db(y,n,y,m);return n[p]=b,ay(n,b),$1(b,m,n),od(m)&&cy(e,n,m),l!=null&&ub(n,m,h),m}function Hr(n,e,t,r,i,o,s,a){let u=Ie(),l=wt(),h=Ba(l.consts,o);return rF(u,l,n,e,t,r,i,h,void 0,s,a),Hr}var iF=oF;function oF(n,e,t,r){return pd(!0),e[ke].createComment("")}var Iy=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Iy||{}),oc=new V(""),jb=!1,Qm=class extends $e{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,mD()&&(this.destroyRef=P(jr,{optional:!0})??void 0,this.pendingTasks=P(Yn,{optional:!0})??void 0)}emit(e){let t=re(null);try{super.next(e)}finally{re(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Fe=Qm;function Ub(n){let e,t;function r(){n=Wa;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function yC(n){return queueMicrotask(()=>n()),()=>{n=Wa}}var wy="isAngularZone",Md=wy+"_ID",sF=0,ye=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Fe(!1);onMicrotaskEmpty=new Fe(!1);onStable=new Fe(!1);onError=new Fe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=jb}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,uF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(wy)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,aF,Wa,Wa);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},aF={};function Ty(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Ub(()=>{n.callbackScheduled=!1,Ym(n),n.isCheckStableRunning=!0,Ty(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ym(n)}function uF(n){let e=()=>{cF(n)},t=sF++;n._inner=n._inner.fork({name:"angular",properties:{[wy]:!0,[Md]:t,[Md+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(lF(u))return r.invokeTask(o,s,a,u);try{return vC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),_C(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return vC(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!dF(u)&&e(),_C(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ym(n),Ty(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ym(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function vC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _C(n){n._nesting--,Ty(n)}var Pd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Fe;onMicrotaskEmpty=new Fe;onStable=new Fe;onError=new Fe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function lF(n){return Bb(n,"__ignore_ng_zone__")}function dF(n){return Bb(n,"__scheduler_tick__")}function Bb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var $b=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();var Dy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Cy=new V("");function tr(n){return!!n&&typeof n.then=="function"}function zd(n){return!!n&&typeof n.subscribe=="function"}var Hb=new V("");var by=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=P(Hb,{optional:!0})??[];injector=P(ze);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=qe(this.injector,i);if(tr(o))t.push(o);else if(zd(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qd=new V("");function zb(){sg(()=>{let n="";throw new L(600,n)})}function qb(n){return n.isBoundToModule}var hF=10;var zi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Mt);afterRenderManager=P($b);zonelessEnabled=P(Ga);rootEffectScheduler=P(Dm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new $e;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(Yn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Y(t=>!t))}constructor(){P(oc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=P(xe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ze.NULL){return this._injector.get(ye).run(()=>{we(10);let s=t instanceof Bd;if(!this._injector.get(by).done){let b="";throw new L(405,b)}let u;s?u=t:u=this._injector.get(nc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=qb(u)?void 0:this._injector.get(ji),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Cy,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Qa(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),we(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){we(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Iy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=re(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,re(t),this.afterTick.next(),we(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Vi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<hF;)we(14),this.synchronizeOnce(),we(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!$a(i))continue;let o=r&&!this.zonelessEnabled?0:1;my(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>$a(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Qa(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(qd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Qa(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qa(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Gd(n,e,t,r){let i=Ie(),o=qa();if(es(i,o,e)){let s=wt(),a=hd();SO(a,i,n,e,t,r)}return Gd}function zr(n,e,t){let r=Ie(),i=qa();if(es(r,i,e)){let o=wt(),s=hd();lb(s,r,n,e,r[ke],t)}return zr}function EC(n,e,t,r,i){uy(e,n,t,i?"class":"style",r)}function Ce(n,e,t,r){let i=Ie(),o=wt(),s=At+n,a=i[ke],u=o.firstCreatePass?Mb(s,o,i,e,db,lm(),t,r):o.data[s],l=fF(o,i,u,a,e,n);i[s]=l;let h=od(u);return Wo(u,!0),ib(a,l,u),!hy(u)&&fd()&&py(o,i,l,u),(CD()===0||h)&&ec(l,i),bD(),h&&(cy(o,i,u),JC(o,u,i)),r!==null&&ub(i,u),Ce}function be(){let n=Nt();hm()?PD():(n=n.parent,Wo(n,!1));let e=n;RD(e)&&ND(),SD();let t=wt();return t.firstCreatePass&&Pb(t,e),e.classesWithoutHost!=null&&Rk(e)&&EC(t,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Nk(e)&&EC(t,e,Ie(),e.stylesWithoutHost,!1),be}function hn(n,e,t,r){return Ce(n,e,t,r),be(),hn}var fF=(n,e,t,r,i,o)=>(pd(!0),nb(r,i,qD()));function ts(){return Ie()}var sc="en-US";var pF=sc;function Gb(n){typeof n=="string"&&(pF=n.toLowerCase().replace(/_/g,"-"))}function at(n,e,t){let r=Ie(),i=wt(),o=Nt();return Wb(i,r,r[ke],o,n,e,t),at}function Wb(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Am(r,e,o),b1(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Am(r,e,o),hC(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Am(r,e,o),hC(r,e,p,i,i,u)}}function Ke(n=1){return zD(n)}function ac(n){let e=xD();return om(e,At+n)}function md(n,e){return n<<17|e<<2}function Ui(n){return n>>17&32767}function gF(n){return(n&2)==2}function mF(n,e){return n&131071|e<<17}function Zm(n){return n|2}function Zo(n){return(n&131068)>>2}function Mm(n,e){return n&-131069|e<<2}function yF(n){return(n&1)===1}function Jm(n){return n|1}function vF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ui(s),u=Zo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ho(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Ui(n[a+1]);n[r+1]=md(m,a),m!==0&&(n[m+1]=Mm(n[m+1],r)),n[a+1]=mF(n[a+1],r)}else n[r+1]=md(a,0),a!==0&&(n[a+1]=Mm(n[a+1],r)),a=r;else n[r+1]=md(u,0),a===0?a=r:n[u+1]=Mm(n[u+1],r),u=r;l&&(n[r+1]=Zm(n[r+1])),IC(n,h,r,!0),IC(n,h,r,!1),_F(e,h,n,r,o),s=md(a,u),o?e.classBindings=s:e.styleBindings=s}function _F(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ho(o,e)>=0&&(t[r+1]=Jm(t[r+1]))}function IC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ui(i):Zo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];EF(u,e)&&(a=!0,n[s+1]=r?Jm(l):Zm(l)),s=r?Ui(l):Zo(l)}a&&(n[t+1]=r?Zm(i):Jm(i))}function EF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ho(n,e)>=0:!1}function qi(n,e){return IF(n,e,null,!0),qi}function IF(n,e,t,r){let i=Ie(),o=wt(),s=FD(2);if(o.firstUpdatePass&&TF(o,n,s,r),e!==Jn&&es(i,s,e)){let a=o.data[Oi()];AF(o,a,i,i[ke],n,i[s+1]=RF(e,t),r,s)}}function wF(n,e){return e>=n.expandoStartIndex}function TF(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Oi()],s=wF(n,t);NF(o,r)&&e===null&&!s&&(e=!1),e=DF(i,o,e,r),vF(i,o,e,t,s,r)}}function DF(n,e,t,r){let i=UD(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Pm(null,n,e,t,r),t=Xa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Pm(i,n,e,t,r),o===null){let u=CF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Pm(null,n,e,u[1],r),u=Xa(u,e.attrs,r),bF(n,e,r,u))}else o=SF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function CF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Zo(r)!==0)return n[Ui(r)]}function bF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ui(i)]=r}function SF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Xa(r,s,t)}return Xa(r,e.attrs,t)}function Pm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Xa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Xa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),lD(n,s,t?!0:e[++o]))}return n===void 0?null:n}function AF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=yF(l)?wC(u,e,t,i,Zo(l),s):void 0;if(!xd(h)){xd(o)||gF(l)&&(o=wC(u,null,t,i,a,s));let p=im(Oi(),t);QO(r,s,p,i,o)}}function wC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Jn&&(m=p?Lt:void 0);let y=p?nd(m,r):h===r?m:void 0;if(l&&!xd(y)&&(y=nd(u,r)),xd(y)&&(a=y,s))return a;let b=n[i+1];i=s?Ui(b):Zo(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=nd(u,r))}return a}function xd(n){return n!==void 0}function RF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=St(XC(n)))),n}function NF(n,e){return(n.flags&(e?8:16))!==0}function gt(n,e=""){let t=Ie(),r=wt(),i=n+At,o=r.firstCreatePass?vy(r,i,1,e,null):r.data[i],s=MF(r,t,o,e,n);t[i]=s,fd()&&py(r,t,s,o),Wo(o,!1)}var MF=(n,e,t,r,i)=>(pd(!0),lO(e[ke],r));function PF(n,e,t,r=""){return es(n,qa(),t)?e+Xl(t)+r:Jn}function Wd(n){return cc("",n),Wd}function cc(n,e,t){let r=Ie(),i=PF(r,n,e,t);return i!==Jn&&xF(r,Oi(),i),cc}function xF(n,e,t){let r=im(e,n);dO(n[ke],r,t)}function uc(n,e,t){Im(e)&&(e=e());let r=Ie(),i=qa();if(es(r,i,e)){let o=wt(),s=hd();lb(s,r,n,e,r[ke],t)}return uc}function Kd(n,e){let t=Im(n);return t&&n.set(e),t}function lc(n,e){let t=Ie(),r=wt(),i=Nt();return Wb(r,t,t[ke],i,n,e),lc}function kF(n,e,t){let r=wt();if(r.firstCreatePass){let i=Tn(n);Xm(t,r.data,r.blueprint,i,!0),Xm(e,r.data,r.blueprint,i,!1)}}function Xm(n,e,t,r,i){if(n=it(n),Array.isArray(n))for(let o=0;o<n.length;o++)Xm(n[o],e,t,r,i);else{let o=wt(),s=Ie(),a=Nt(),u=bi(n)?n:it(n.provide),l=em(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(bi(n)||!n.multi){let y=new Li(l,i,le),b=km(u,e,i?h:h+m,p);b===-1?(Fm(Dd(a,s),o,u),xm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[b]=y,s[b]=y)}else{let y=km(u,e,h+m,p),b=km(u,e,h,h+m),N=y>=0&&t[y],R=b>=0&&t[b];if(i&&!R||!i&&!N){Fm(Dd(a,s),o,u);let O=LF(i?FF:OF,t.length,i,r,l);!i&&R&&(t[b].providerFactory=O),xm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else{let O=Kb(t[i?b:y],l,!i&&r);xm(o,n,y>-1?y:b,O)}!i&&r&&R&&t[b].componentProviders++}}}function xm(n,e,t,r){let i=bi(e),o=gD(e);if(i||o){let u=(o?it(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function Kb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function km(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function OF(n,e,t,r){return ey(this.multi,[])}function FF(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Cd(t,t[se],this.providerFactory.index,r);o=a.slice(0,s),ey(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],ey(i,o);return o}function ey(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function LF(n,e,t,r,i){let o=new Li(n,t,le);return o.multi=[],o.index=e,o.componentProviders=0,Kb(o,i,r&&!t),o}function ns(n,e=[]){return t=>{t.providersResolver=(r,i)=>kF(r,i?i(n):n,e)}}function VF(n,e){let t=n[e];return t===Jn?void 0:t}function jF(n,e,t,r,i,o){let s=e+t;return es(n,s,i)?C1(n,s+1,o?r.call(o,i):r(i)):VF(n,s+1)}function dc(n,e){let t=wt(),r,i=n+At;t.firstCreatePass?(r=UF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Nr(r.type,!0)),s,a=It(le);try{let u=Td(!1),l=o();return Td(u),sm(t,Ie(),i,l),l}finally{It(a)}}function UF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function hc(n,e,t){let r=n+At,i=Ie(),o=om(i,r);return BF(i,r)?jF(i,kD(),e,o.transform,t,o):o.transform(t)}function BF(n,e){return n[se].data[e].pure}function fc(n,e){return bb(n,e)}var kd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Sy=(()=>{class n{compileModuleSync(t){return new Nd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Yg(t),o=eb(i.declarations).reduce((s,a)=>{let u=Or(a);return u&&s.push(new Yo(u)),s},[]);return new kd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $F=(()=>{class n{zone=P(ye);changeDetectionScheduler=P(Pr);applicationRef=P(zi);applicationErrorHandler=P(Mt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qb=new V("",{factory:()=>!1});function Ay({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ye(te(k({},Ny()),{scheduleInRootZone:t})),[{provide:ye,useFactory:n},{provide:kr,multi:!0,useFactory:()=>{let r=P($F,{optional:!0});return()=>r.initialize()}},{provide:kr,multi:!0,useFactory:()=>{let r=P(HF);return()=>{r.initialize()}}},e===!0?{provide:wm,useValue:!0}:[],{provide:Tm,useValue:t??jb},{provide:Mt,useFactory:()=>{let r=P(ye),i=P(xe),o;return s=>{o??=i.get(En),r.runOutsideAngular(()=>o.handleError(s))}}}]}function Ry(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Ay({ngZoneFactory:()=>{let i=Ny(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&$d("NgZone_CoalesceEvent"),new ye(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Vt([{provide:Qb,useValue:!0},{provide:Ga,useValue:!1},r])}function Ny(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var HF=(()=>{class n{subscription=new Ne;initialized=!1;zone=P(ye);pendingTasks=P(Yn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yb=(()=>{class n{applicationErrorHandler=P(Mt);appRef=P(zi);taskService=P(Yn);ngZone=P(ye);zonelessEnabled=P(Ga);tracing=P(oc,{optional:!0});disableScheduling=P(wm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Md):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Tm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?yC:Ub;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Md+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,yC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zF(){return typeof $localize<"u"&&$localize.locale||sc}var Qd=new V("",{providedIn:"root",factory:()=>P(Qd,{optional:!0,skipSelf:!0})||zF()});function $t(n){return tD(n)}function rs(n,e){return ml(n,e?.equal)}var Zb=class{[ft];constructor(e){this[ft]=e}destroy(){this[ft].destroy()}};var tS=Symbol("InputSignalNode#UNSET"),sL=te(k({},yl),{transformFn:void 0,applyValueToInputSignal(n,e){Ao(n,e)}});function nS(n,e){let t=Object.create(sL);t.value=n,t.transformFn=e?.transform;function r(){if(bo(t),t.value===tS){let i=null;throw new L(-950,i)}return t.value}return r[ft]=t,r}var aL=new V("");aL.__NG_ELEMENT_ID__=n=>{let e=Nt();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new L(204,!1)};function Jb(n,e){return nS(n,e)}function cL(n){return nS(tS,n)}var rS=(Jb.required=cL,Jb);var is=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},iS=new is("20.0.4");var My=new V(""),uL=new V("");function pc(n){return!n.moduleRef}function lL(n){let e=pc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ye);return t.run(()=>{pc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Mt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),pc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(My);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(My);s.add(o),n.moduleRef.onDestroy(()=>{Qa(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return hL(r,t,()=>{let o=e.get(by);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Qd,sc);if(Gb(s||sc),!e.get(uL,!0))return pc(n)?e.get(zi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(pc(n)){let u=e.get(zi);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return dL?.(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}var dL;function hL(n,e,t){try{let r=t();return tr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Yd=null;function fL(n=[],e){return ze.create({name:e,providers:[{provide:ka,useValue:"platform"},{provide:My,useValue:new Set([()=>Yd=null])},...n]})}function pL(n=[]){if(Yd)return Yd;let e=fL(n);return Yd=e,zb(),gL(e),e}function gL(n){let e=n.get(Ld,null);qe(n,()=>{e?.forEach(t=>t())})}function Ly(){return!1}var os=(()=>{class n{static __NG_ELEMENT_ID__=mL}return n})();function mL(n){return yL(Nt(),Ie(),(n&16)===16)}function yL(n,e,t){if(Lr(n)&&!t){let r=Xt(n.index,e);return new Br(r,r)}else if(n.type&175){let r=e[Zt];return new Br(r,e)}return null}var Py=class{constructor(){}supports(e){return _y(e)}create(e){return new xy(e)}},vL=(n,e)=>e,xy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||vL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Xb(r,i,o)?t:r,a=Xb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,b=y+m;h<=b&&b<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!_y(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,xb(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new ky(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Zd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Zd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ky=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Oy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Zd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Oy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Xb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function eS(){return new Vy([new Py])}var Vy=(()=>{class n{factories;static \u0275prov=B({token:n,providedIn:"root",factory:eS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||eS()),deps:[[n,new bC,new Pt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function oS(n){we(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=pL(r),o=[Ay({}),{provide:Pr,useExisting:Yb},WD,...t||[]],s=new Ja({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return lL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{we(9)}}function Jd(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var cS=null;function en(){return cS}function jy(n){cS??=n}var gc=class{},Uy=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(uS),providedIn:"platform"})}return n})();var uS=(()=>{class n extends Uy{_location;_history;_doc=P(Ge);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function lS(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function sS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function qr(n){return n&&n[0]!=="?"?`?${n}`:n}var Xd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(hS),providedIn:"root"})}return n})(),dS=new V(""),hS=(()=>{class n extends Xd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return lS(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+qr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+qr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+qr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(H(Uy),H(dS,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ss=(()=>{class n{_subject=new $e;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=IL(sS(aS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qr(r))}normalize(t){return n.stripTrailingSlash(EL(this._basePath,aS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=qr;static joinWithSlash=lS;static stripTrailingSlash=sS;static \u0275fac=function(r){return new(r||n)(H(Xd))};static \u0275prov=B({token:n,factory:()=>_L(),providedIn:"root"})}return n})();function _L(){return new ss(H(Xd))}function EL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function aS(n){return n.replace(/\/index.html$/,"")}function IL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var eh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},nh=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new eh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),fS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);fS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(le(Hi),le(tc),le(Vy))};static \u0275dir=st({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function fS(n,e){n.context.$implicit=e.item}var mc=(()=>{class n{_viewContainer;_context=new th;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(le(Hi),le(tc))};static \u0275dir=st({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),th=class{$implicit=null;ngIf=null};function pS(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}function wL(n,e){return new L(2100,!1)}var By=class{createSubscription(e,t,r){return $t(()=>e.subscribe({next:t,error:r}))}dispose(e){$t(()=>e.unsubscribe())}},$y=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},TL=new $y,DL=new By,yc=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=P(Mt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(tr(t))return TL;if(zd(t))return DL;throw wL(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(le(os,16))};static \u0275pipe=Ey({name:"async",type:n,pure:!1})}return n})();var Gr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=er({type:n});static \u0275inj=In({})}return n})();function vc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Gi=class{};var gS="browser",CL="server";function mS(n){return n===CL}var oh=new V(""),Gy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(H(oh),H(ye))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),_c=class{_doc;constructor(e){this._doc=e}manager},rh="ng-app-id";function vS(n){for(let e of n)e.remove()}function _S(n,e){let t=e.createElement("style");return t.textContent=n,t}function bL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${rh}="${e}"],link[${rh}="${e}"]`);if(i)for(let o of i)o.removeAttribute(rh),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function zy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Wy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=mS(o),bL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,_S);r?.forEach(i=>this.addUsage(i,this.external,zy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(vS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])vS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,_S(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,zy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(rh,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(H(Ge),H(Fd),H(Vd,8),H($r))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Hy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ky=/%COMP%/g;var IS="%COMP%",SL=`_nghost-${IS}`,AL=`_ngcontent-${IS}`,RL=!0,NL=new V("",{providedIn:"root",factory:()=>RL});function ML(n){return AL.replace(Ky,n)}function PL(n){return SL.replace(Ky,n)}function wS(n,e){return e.map(t=>t.replace(Ky,n))}var Qy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Ec(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof ih?i.applyToHost(t):i instanceof Ic&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Zn.Emulated:o=new ih(u,l,r,this.appId,h,s,a,p,m);break;case Zn.ShadowDom:return new qy(u,l,t,r,s,a,this.nonce,p,m);default:o=new Ic(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(H(Gy),H(Wy),H(Fd),H(NL),H(Ge),H($r),H(ye),H(Vd),H(oc,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Ec=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Hy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ES(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ES(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Hy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Hy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(t,r,i&Cn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Cn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=en().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function ES(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var qy=class extends Ec{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=wS(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=zy(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ic=class extends Ec{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?wS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ih=class extends Ic{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=ML(h),this.hostAttr=PL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var sh=class n extends gc{supportsDOMEvents=!0;static makeCurrent(){jy(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=xL();return t==null?null:kL(t)}resetBaseElement(){wc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vc(document.cookie,e)}},wc=null;function xL(){return wc=wc||document.head.querySelector("base"),wc?wc.getAttribute("href"):null}function kL(n){return new URL(n,document.baseURI).pathname}var OL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),DS=(()=>{class n extends _c{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(H(Ge))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),TS=["alt","control","meta","shift"],FL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},CS=(()=>{class n extends _c{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),TS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=FL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),TS.forEach(s=>{if(s!==i){let a=LL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(H(Ge))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function Yy(n,e){return oS(k({rootComponent:n},VL(e)))}function VL(n){return{appProviders:[...HL,...n?.providers??[]],platformProviders:$L}}function jL(){sh.makeCurrent()}function UL(){return new En}function BL(){return ry(document),document}var $L=[{provide:$r,useValue:gS},{provide:Ld,useValue:jL,multi:!0},{provide:Ge,useFactory:BL}];var HL=[{provide:ka,useValue:"root"},{provide:En,useFactory:UL},{provide:oh,useClass:DS,multi:!0,deps:[Ge]},{provide:oh,useClass:CS,multi:!0,deps:[Ge]},Qy,Wy,Gy,{provide:Vi,useExisting:Qy},{provide:Gi,useClass:OL},[]];var cs=class{},Dc=class{},Wi=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var ch=class{encodeKey(e){return bS(e)}encodeValue(e){return bS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function zL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var qL=/%(\d[a-f0-9])/gi,GL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bS(n){return encodeURIComponent(n).replace(qL,(e,t)=>GL[t]??e)}function ah(n){return`${n}`}var Wr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new ch,e.fromString){if(e.fromObject)throw new L(2805,!1);this.map=zL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(ah):[ah(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(ah(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ah(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var uh=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function WL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function SS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function AS(n){return typeof Blob<"u"&&n instanceof Blob}function RS(n){return typeof FormData<"u"&&n instanceof FormData}function KL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var NS="Content-Type",MS="Accept",PS="X-Request-URL",xS="text/plain",kS="application/json",QL=`${kS}, ${xS}, */*`,Tc=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(WL(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Wi,this.context??=new uh,!this.params)this.params=new Wr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||SS(this.body)||AS(this.body)||RS(this.body)||KL(this.body)?this.body:this.body instanceof Wr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||RS(this.body)?null:AS(this.body)?this.body.type||null:SS(this.body)?null:typeof this.body=="string"?xS:this.body instanceof Wr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?kS:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,u=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,p=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((y,b)=>y.set(b,e.setHeaders[b]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((y,b)=>y.set(b,e.setParams[b]),p)),new n(t,r,a,{params:p,headers:h,context:m,reportProgress:l,responseType:i,withCredentials:u,transferCache:s,keepalive:o})}},as=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(as||{}),us=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Wi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},lh=class n extends us{constructor(e={}){super(e)}type=as.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},dh=class n extends us{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=as.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hh=class extends us{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},YL=200,ZL=204;function Zy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive}}var JL=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Tc)o=t;else{let u;i.headers instanceof Wi?u=i.headers:u=new Wi(i.headers);let l;i.params&&(i.params instanceof Wr?l=i.params:l=new Wr({fromObject:i.params})),o=new Tc(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let s=q(o).pipe(Ar(u=>this.handler.handle(u)));if(t instanceof Tc||i.observe==="events")return s;let a=s.pipe(Et(u=>u instanceof dh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Y(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new L(2806,!1);return u.body}));case"blob":return a.pipe(Y(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new L(2807,!1);return u.body}));case"text":return a.pipe(Y(u=>{if(u.body!==null&&typeof u.body!="string")throw new L(2808,!1);return u.body}));case"json":default:return a.pipe(Y(u=>u.body))}case"response":return a;default:throw new L(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Wr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Zy(i,r))}post(t,r,i={}){return this.request("POST",t,Zy(i,r))}put(t,r,i={}){return this.request("PUT",t,Zy(i,r))}static \u0275fac=function(r){return new(r||n)(H(cs))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var XL=new V("");function eV(n,e){return e(n)}function tV(n,e,t){return(r,i)=>qe(t,()=>e(r,o=>n(o,i)))}var OS=new V(""),nV=new V(""),FS=new V("",{providedIn:"root",factory:()=>!0});var fh=(()=>{class n extends cs{backend;injector;chain=null;pendingTasks=P(Ur);contributeToStability=P(FS);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(OS),...this.injector.get(nV,[])]));this.chain=r.reduceRight((i,o)=>tV(i,o,this.injector),eV)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ti(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(H(Dc),H(xe))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var rV=/^\)\]\}',?\n/,iV=RegExp(`^${PS}:`,"m");function oV(n){return"responseURL"in n&&n.responseURL?n.responseURL:iV.test(n.getAllResponseHeaders())?n.getResponseHeader(PS):null}var Jy=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new L(-2800,!1);t.keepalive;let r=this.xhrFactory;return(r.\u0275loadImpl?_e(r.\u0275loadImpl()):q(null)).pipe(rt(()=>new Q(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,R)=>s.setRequestHeader(N,R.join(","))),t.headers.has(MS)||s.setRequestHeader(MS,QL),!t.headers.has(NS)){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader(NS,N)}if(t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",R=new Wi(s.getAllResponseHeaders()),O=oV(s)||t.url;return u=new lh({headers:R,status:s.status,statusText:N,url:O}),u},h=()=>{let{headers:N,status:R,statusText:O,url:W}=l(),$=null;R!==ZL&&($=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=$?YL:0);let pe=R>=200&&R<300;if(t.responseType==="json"&&typeof $=="string"){let et=$;$=$.replace(rV,"");try{$=$!==""?JSON.parse($):null}catch(ge){$=et,pe&&(pe=!1,$={error:ge,text:$})}}pe?(o.next(new dh({body:$,headers:N,status:R,statusText:O,url:W||void 0})),o.complete()):o.error(new hh({error:$,headers:N,status:R,statusText:O,url:W||void 0}))},p=N=>{let{url:R}=l(),O=new hh({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(O)},m=!1,y=N=>{m||(o.next(l()),m=!0);let R={type:as.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},b=N=>{let R={type:as.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:as.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(H(Gi))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),LS=new V(""),sV="XSRF-TOKEN",aV=new V("",{providedIn:"root",factory:()=>sV}),cV="X-XSRF-TOKEN",uV=new V("",{providedIn:"root",factory:()=>cV}),Cc=class{},lV=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=vc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(H(Ge),H(aV))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function dV(n,e){let t=n.url.toLowerCase();if(!P(LS)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=P(Cc).getToken(),i=P(uV);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function Xy(...n){let e=[JL,Jy,fh,{provide:cs,useExisting:fh},{provide:Dc,useFactory:()=>P(XL,{optional:!0})??P(Jy)},{provide:OS,useValue:dV,multi:!0},{provide:LS,useValue:!0},{provide:Cc,useClass:lV}];for(let t of n)e.push(...t.\u0275providers);return Vt(e)}var VS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(H(Ge))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ne="primary",Uc=Symbol("RouteTitle"),iv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Yi(n){return new iv(n)}function GS(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Sn(n[t],e[t]))return!1;return!0}function Sn(n,e){let t=n?ov(n):void 0,r=e?ov(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!WS(n[i],e[i]))return!1;return!0}function ov(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function WS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function KS(n){return n.length>0?n[n.length-1]:null}function ir(n){return Eg(n)?n:tr(n)?_e(Promise.resolve(n)):q(n)}var pV={exact:YS,subset:ZS},QS={exact:gV,subset:mV,ignored:()=>!0};function jS(n,e,t){return pV[t.paths](n.root,e.root,t.matrixParams)&&QS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function gV(n,e){return Sn(n,e)}function YS(n,e,t){if(!Ki(n.segments,e.segments)||!mh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!YS(n.children[r],e.children[r],t))return!1;return!0}function mV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>WS(n[t],e[t]))}function ZS(n,e,t){return JS(n,e,e.segments,t)}function JS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ki(i,t)||e.hasChildren()||!mh(i,t,r))}else if(n.segments.length===t.length){if(!Ki(n.segments,t)||!mh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!ZS(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ki(n.segments,i)||!mh(n.segments,i,r)||!n.children[ne]?!1:JS(n.children[ne],e,o,r)}}function mh(n,e,t){return e.every((r,i)=>QS[t](n[i].parameters,r.parameters))}var Rn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Yi(this.queryParams),this._queryParamMap}toString(){return _V.serialize(this)}},me=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yh(this)}},Kr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Yi(this.parameters),this._parameterMap}toString(){return e0(this)}};function yV(n,e){return Ki(n,e)&&n.every((t,r)=>Sn(t.parameters,e[r].parameters))}function Ki(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function vV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ne&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ne&&(t=t.concat(e(i,r)))}),t}var Bc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new Zi,providedIn:"root"})}return n})(),Zi=class{parse(e){let t=new av(e);return new Rn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${bc(e.root,!0)}`,r=wV(e.queryParams),i=typeof e.fragment=="string"?`#${EV(e.fragment)}`:"";return`${t}${r}${i}`}},_V=new Zi;function yh(n){return n.segments.map(e=>e0(e)).join("/")}function bc(n,e){if(!n.hasChildren())return yh(n);if(e){let t=n.children[ne]?bc(n.children[ne],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${bc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=vV(n,(r,i)=>i===ne?[bc(n.children[ne],!1)]:[`${i}:${bc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ne]!=null?`${yh(n)}/${t[0]}`:`${yh(n)}/(${t.join("//")})`}}function XS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ph(n){return XS(n).replace(/%3B/gi,";")}function EV(n){return encodeURI(n)}function sv(n){return XS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vh(n){return decodeURIComponent(n)}function US(n){return vh(n.replace(/\+/g,"%20"))}function e0(n){return`${sv(n.path)}${IV(n.parameters)}`}function IV(n){return Object.entries(n).map(([e,t])=>`;${sv(e)}=${sv(t)}`).join("")}function wV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ph(t)}=${ph(i)}`).join("&"):`${ph(t)}=${ph(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var TV=/^[^\/()?;#]+/;function ev(n){let e=n.match(TV);return e?e[0]:""}var DV=/^[^\/()?;=#]+/;function CV(n){let e=n.match(DV);return e?e[0]:""}var bV=/^[^=?&#]+/;function SV(n){let e=n.match(bV);return e?e[0]:""}var AV=/^[^&#]+/;function RV(n){let e=n.match(AV);return e?e[0]:""}var av=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ne]=new me(e,t)),r}parseSegment(){let e=ev(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Kr(vh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=CV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ev(this.remaining);i&&(r=i,this.capture(r))}e[vh(t)]=vh(r)}parseQueryParam(e){let t=SV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=RV(this.remaining);s&&(r=s,this.capture(r))}let i=US(t),o=US(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ev(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ne]:new me([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function t0(n){return n.segments.length>0?new me([],{[ne]:n}):n}function n0(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=n0(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new me(n.segments,e);return NV(t)}function NV(n){if(n.numberOfChildren===1&&n.children[ne]){let e=n.children[ne];return new me(n.segments.concat(e.segments),e.children)}return n}function ps(n){return n instanceof Rn}function r0(n,e,t=null,r=null){let i=i0(n);return o0(i,e,t,r)}function i0(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new me(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=t0(r);return e??i}function o0(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return tv(i,i,i,t,r);let o=MV(e);if(o.toRoot())return tv(i,i,new me([],{}),t,r);let s=PV(o,i,n),a=s.processChildren?Ac(s.segmentGroup,s.index,o.commands):a0(s.segmentGroup,s.index,o.commands);return tv(i,s.segmentGroup,a,t,r)}function _h(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Mc(n){return typeof n=="object"&&n!=null&&n.outlets}function tv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=s0(n,e,t);let a=t0(n0(s));return new Rn(a,o,i)}function s0(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=s0(o,e,t)}),new me(n.segments,r)}var Eh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&_h(r[0]))throw new L(4003,!1);let i=r.find(Mc);if(i&&i!==KS(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function MV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Eh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Eh(t,e,r)}var hs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function PV(n,e,t){if(n.isAbsolute)return new hs(e,!0,0);if(!t)return new hs(e,!1,NaN);if(t.parent===null)return new hs(t,!0,0);let r=_h(n.commands[0])?0:1,i=t.segments.length-1+r;return xV(t,i,n.numberOfDoubleDots)}function xV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new hs(r,!1,i-o)}function kV(n){return Mc(n[0])?n[0].outlets:{[ne]:n}}function a0(n,e,t){if(n??=new me([],{}),n.segments.length===0&&n.hasChildren())return Ac(n,e,t);let r=OV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new me(n.segments.slice(0,r.pathIndex),{});return o.children[ne]=new me(n.segments.slice(r.pathIndex),n.children),Ac(o,0,i)}else return r.match&&i.length===0?new me(n.segments,{}):r.match&&!n.hasChildren()?cv(n,e,t):r.match?Ac(n,0,i):cv(n,e,t)}function Ac(n,e,t){if(t.length===0)return new me(n.segments,{});{let r=kV(t),i={};if(Object.keys(r).some(o=>o!==ne)&&n.children[ne]&&n.numberOfChildren===1&&n.children[ne].segments.length===0){let o=Ac(n.children[ne],e,t);return new me(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=a0(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(n.segments,i)}}function OV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Mc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!$S(u,l,s))return o;r+=2}else{if(!$S(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function cv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Mc(o)){let u=FV(o.outlets);return new me(r,u)}if(i===0&&_h(t[0])){let u=n.segments[e];r.push(new Kr(u.path,BS(t[0]))),i++;continue}let s=Mc(o)?o.outlets[ne]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&_h(a)?(r.push(new Kr(s,BS(a))),i+=2):(r.push(new Kr(s,{})),i++)}return new me(r,{})}function FV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=cv(new me([],{}),0,r))}),e}function BS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function $S(n,e,t){return n==t.path&&Sn(e,t.parameters)}var Rc="imperative",Qe=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Qe||{}),zt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ji=class extends zt{type=Qe.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nr=class extends zt{urlAfterRedirects;type=Qe.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(Tt||{}),Pc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Pc||{}),An=class extends zt{reason;code;type=Qe.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rr=class extends zt{reason;code;type=Qe.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},gs=class extends zt{error;target;type=Qe.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xc=class extends zt{urlAfterRedirects;state;type=Qe.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ih=class extends zt{urlAfterRedirects;state;type=Qe.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wh=class extends zt{urlAfterRedirects;state;shouldActivate;type=Qe.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Th=class extends zt{urlAfterRedirects;state;type=Qe.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dh=class extends zt{urlAfterRedirects;state;type=Qe.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ch=class{route;type=Qe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bh=class{route;type=Qe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sh=class{snapshot;type=Qe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ah=class{snapshot;type=Qe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rh=class{snapshot;type=Qe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nh=class{snapshot;type=Qe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var kc=class{},ms=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function LV(n){return!(n instanceof kc)&&!(n instanceof ms)}function VV(n,e){return n.providers&&!n._injector&&(n._injector=ic(n.providers,e,`Route: ${n.path}`)),n._injector??e}function fn(n){return n.outlet||ne}function jV(n,e){let t=n.filter(r=>fn(r)===e);return t.push(...n.filter(r=>fn(r)!==e)),t}function $c(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Mh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $c(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new _s(this.rootInjector)}},_s=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Mh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(H(xe))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ph=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=uv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=uv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=lv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lv(e,this._root).map(t=>t.value)}};function uv(n,e){if(n===e.value)return e;for(let t of e.children){let r=uv(n,t);if(r)return r}return null}function lv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=lv(n,t);if(r.length)return r.unshift(e),r}return[]}var Ht=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ds(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Oc=class extends Ph{snapshot;constructor(e,t){super(e),this.snapshot=t,vv(this,e)}toString(){return this.snapshot.toString()}};function c0(n){let e=UV(n),t=new nt([new Kr("",{})]),r=new nt({}),i=new nt({}),o=new nt({}),s=new nt(""),a=new Qr(t,r,o,s,i,ne,n,e.root);return a.snapshot=e.root,new Oc(new Ht(a,[]),e)}function UV(n){let e={},t={},r={},i="",o=new Qi([],e,r,i,t,ne,n,null,{});return new Fc("",new Ht(o,[]))}var Qr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Y(l=>l[Uc]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>Yi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>Yi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&l0(i)&&(r.resolve[Uc]=i.title),r}var Qi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Uc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Fc=class extends Ph{url;constructor(e,t){super(t),this.url=e,vv(this,t)}toString(){return u0(this._root)}};function vv(n,e){e.value._routerState=n,e.children.forEach(t=>vv(n,t))}function u0(n){let e=n.children.length>0?` { ${n.children.map(u0).join(", ")} } `:"";return`${n.value}${e}`}function nv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Sn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Sn(e.params,t.params)||n.paramsSubject.next(t.params),fV(e.url,t.url)||n.urlSubject.next(t.url),Sn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function dv(n,e){let t=Sn(n.params,e.params)&&yV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||dv(n.parent,e.parent))}function l0(n){return typeof n.title=="string"||n.title===null}var d0=new V(""),Hc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new Fe;deactivateEvents=new Fe;attachEvents=new Fe;detachEvents=new Fe;routerOutletData=rS(void 0);parentContexts=P(_s);location=P(Hi);changeDetector=P(os);inputBinder=P(Lh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new hv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Bi]})}return n})(),hv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Qr?this.route:e===_s?this.childContexts:e===d0?this.outletData:this.parent.get(e,t)}},Lh=new V("");var _v=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Xn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&hn(0,"router-outlet")},dependencies:[Hc],encapsulation:2})}return n})();function Ev(n){let e=n.children&&n.children.map(Ev),t=e?te(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=_v),t}function BV(n,e,t){let r=Lc(n,e._root,t?t._root:void 0);return new Oc(r,e)}function Lc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=$V(n,e,t);return new Ht(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Lc(n,a)),s}}let r=HV(e.value),i=e.children.map(o=>Lc(n,o));return new Ht(r,i)}}function $V(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Lc(n,r,i);return Lc(n,r)})}function HV(n){return new Qr(new nt(n.url),new nt(n.params),new nt(n.queryParams),new nt(n.fragment),new nt(n.data),n.outlet,n.component,n)}var ys=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},h0="ngNavigationCancelingError";function kh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ps(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=f0(!1,Tt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function f0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[h0]=!0,t.cancellationCode=e,t}function zV(n){return p0(n)&&ps(n.url)}function p0(n){return!!n&&n[h0]}var qV=(n,e,t,r)=>Y(i=>(new fv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),fv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),nv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ds(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ds(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ds(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ds(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Nh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ah(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(nv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),nv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Oh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function GV(n,e,t){let r=n._root,i=e?e._root:null;return Sc(r,i,t,[r.value])}function WV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Es(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Vg(n)?n:e.get(n):r}function Sc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ds(e);return n.children.forEach(s=>{KV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Nc(a,t.getContext(s),i)),i}function KV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=QV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Oh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Sc(n,e,a?a.children:null,r,i):Sc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fs(a.outlet.component,s))}else s&&Nc(e,a,i),i.canActivateChecks.push(new Oh(r)),o.component?Sc(n,null,a?a.children:null,r,i):Sc(n,null,t,r,i);return i}function QV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ki(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ki(n.url,e.url)||!Sn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dv(n,e)||!Sn(n.queryParams,e.queryParams);case"paramsChange":default:return!dv(n,e)}}function Nc(n,e,t){let r=ds(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Nc(s,e.children.getContext(o),t):Nc(s,null,t):Nc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new fs(e.outlet.component,i)):t.canDeactivateChecks.push(new fs(null,i)):t.canDeactivateChecks.push(new fs(null,i))}function zc(n){return typeof n=="function"}function YV(n){return typeof n=="boolean"}function ZV(n){return n&&zc(n.canLoad)}function JV(n){return n&&zc(n.canActivate)}function XV(n){return n&&zc(n.canActivateChild)}function e2(n){return n&&zc(n.canDeactivate)}function t2(n){return n&&zc(n.canMatch)}function g0(n){return n instanceof zn||n?.name==="EmptyError"}var gh=Symbol("INITIAL_VALUE");function vs(){return rt(n=>$l(n.map(e=>e.pipe(sn(1),ql(gh)))).pipe(Y(e=>{for(let t of e)if(t!==!0){if(t===gh)return gh;if(t===!1||n2(t))return t}return!0}),Et(e=>e!==gh),sn(1)))}function n2(n){return ps(n)||n instanceof ys}function r2(n,e){return He(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?q(te(k({},t),{guardsResult:!0})):i2(s,r,i,n).pipe(He(a=>a&&YV(a)?o2(r,o,n,e):q(a)),Y(a=>te(k({},t),{guardsResult:a})))})}function i2(n,e,t,r){return _e(n).pipe(He(i=>l2(i.component,i.route,t,e,r)),qn(i=>i!==!0,!0))}function o2(n,e,t,r){return _e(e).pipe(Ar(i=>Uo(a2(i.route.parent,r),s2(i.route,r),u2(n,i.path,t),c2(n,i.route,t))),qn(i=>i!==!0,!0))}function s2(n,e){return n!==null&&e&&e(new Rh(n)),q(!0)}function a2(n,e){return n!==null&&e&&e(new Sh(n)),q(!0)}function c2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Aa(()=>{let s=$c(e)??t,a=Es(o,s),u=JV(a)?a.canActivate(e,n):qe(s,()=>a(e,n));return ir(u).pipe(qn())}));return q(i).pipe(vs())}function u2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>WV(s)).filter(s=>s!==null).map(s=>Aa(()=>{let a=s.guards.map(u=>{let l=$c(s.node)??t,h=Es(u,l),p=XV(h)?h.canActivateChild(r,n):qe(l,()=>h(r,n));return ir(p).pipe(qn())});return q(a).pipe(vs())}));return q(o).pipe(vs())}function l2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let u=$c(e)??i,l=Es(a,u),h=e2(l)?l.canDeactivate(n,e,t,r):qe(u,()=>l(n,e,t,r));return ir(h).pipe(qn())});return q(s).pipe(vs())}function d2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=Es(s,n),u=ZV(a)?a.canLoad(e,t):qe(n,()=>a(e,t));return ir(u)});return q(o).pipe(vs(),m0(r))}function m0(n){return wl(We(e=>{if(typeof e!="boolean")throw kh(n,e)}),Y(e=>e===!0))}function h2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=Es(s,n),u=t2(a)?a.canMatch(e,t):qe(n,()=>a(e,t));return ir(u)});return q(o).pipe(vs(),m0(r))}var Vc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},jc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ls(n){return jo(new Vc(n))}function f2(n){return jo(new L(4e3,!1))}function p2(n){return jo(f0(!1,Tt.GuardRejected))}var pv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[ne])return f2(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,t,r,i,o){return g2(t,i,o).pipe(Y(s=>{if(s instanceof Rn)throw new jc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new jc(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Rn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new me(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function g2(n,e,t){if(typeof n=="string")return q(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return ir(qe(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var gv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m2(n,e,t,r,i){let o=y0(n,e,t);return o.matched?(r=VV(e,r),h2(r,e,t,i).pipe(Y(s=>s===!0?o:k({},gv)))):q(o)}function y0(n,e,t){if(e.path==="**")return y2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},gv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||GS)(t,n,e);if(!i)return k({},gv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function y2(n){return{matched:!0,parameters:n.length>0?KS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function HS(n,e,t,r){return t.length>0&&E2(n,t,r)?{segmentGroup:new me(e,_2(r,new me(t,n.children))),slicedSegments:[]}:t.length===0&&I2(n,t,r)?{segmentGroup:new me(n.segments,v2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new me(n.segments,n.children),slicedSegments:t}}function v2(n,e,t,r){let i={};for(let o of t)if(Vh(n,e,o)&&!r[fn(o)]){let s=new me([],{});i[fn(o)]=s}return k(k({},r),i)}function _2(n,e){let t={};t[ne]=e;for(let r of n)if(r.path===""&&fn(r)!==ne){let i=new me([],{});t[fn(r)]=i}return t}function E2(n,e,t){return t.some(r=>Vh(n,e,r)&&fn(r)!==ne)}function I2(n,e,t){return t.some(r=>Vh(n,e,r))}function Vh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function w2(n,e,t){return e.length===0&&!n.children[t]}var mv=class{};function T2(n,e,t,r,i,o,s="emptyOnly"){return new yv(n,e,t,r,i,s,o).recognize()}var D2=31,yv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new pv(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=HS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:t,rootSnapshot:r})=>{let i=new Ht(r,t),o=new Fc("",i),s=r0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Qi([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,t).pipe(Y(r=>({children:r,rootSnapshot:t})),Sr(r=>{if(r instanceof jc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Y(s=>s instanceof Ht?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return _e(o).pipe(Ar(s=>{let a=r.children[s],u=jV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),zl((s,a)=>(s.push(...a),s)),Rr(null),wg(),He(s=>{if(s===null)return ls(r);let a=v0(s);return C2(a),q(a)}))}processSegment(e,t,r,i,o,s,a){return _e(t).pipe(Ar(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Sr(l=>{if(l instanceof Vc)return q(null);throw l}))),qn(u=>!!u),Sr(u=>{if(g0(u))return w2(r,i,o)?q(new mv):ls(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return fn(r)!==s&&(s===ne||!Vh(i,o,r))?ls(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ls(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=y0(t,i,o);if(!u)return ls(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>D2&&(this.allowRedirects=!1));let y=new Qi(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,zS(i),fn(i),i.component??i._loadedComponent??null,i,qS(i)),b=xh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(b.params),y.data=Object.freeze(b.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(rt(R=>this.applyRedirects.lineralizeSegments(i,R)),He(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=m2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(rt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(rt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,b=new Qi(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,zS(r),fn(r),r.component??r._loadedComponent??null,r,qS(r)),N=xh(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(N.params),b.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:O}=HS(t,m,y,l);if(O.length===0&&R.hasChildren())return this.processChildren(h,l,R,b).pipe(Y($=>new Ht(b,$)));if(l.length===0&&O.length===0)return q(new Ht(b,[]));let W=fn(r)===o;return this.processSegment(h,l,R,O,W?ne:o,!0,b).pipe(Y($=>new Ht(b,$ instanceof Ht?[$]:[])))}))):ls(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):d2(e,t,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,t).pipe(We(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):p2(t))):q({routes:[],injector:e})}};function C2(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}function b2(n){let e=n.value.routeConfig;return e&&e.path===""}function v0(n){let e=[],t=new Set;for(let r of n){if(!b2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=v0(r.children);e.push(new Ht(r.value,i))}return e.filter(r=>!t.has(r))}function zS(n){return n.data||{}}function qS(n){return n.resolve||{}}function S2(n,e,t,r,i,o){return He(s=>T2(n,e,t,r,s.extractedUrl,i,o).pipe(Y(({state:a,tree:u})=>te(k({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function A2(n,e){return He(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of _0(u))s.add(l);let a=0;return _e(s).pipe(Ar(u=>o.has(u)?R2(u,r,n,e):(u.data=xh(u,u.parent,n).resolve,q(void 0))),We(()=>a++),Bo(1),He(u=>a===s.size?q(t):Ct))})}function _0(n){let e=n.children.map(t=>_0(t)).flat();return[n,...e]}function R2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!l0(i)&&(o[Uc]=i.title),Aa(()=>(n.data=xh(n,n.parent,t).resolve,N2(o,n,e,r).pipe(Y(s=>(n._resolvedData=s,n.data=k(k({},n.data),s),null)))))}function N2(n,e,t,r){let i=ov(n);if(i.length===0)return q({});let o={};return _e(i).pipe(He(s=>M2(n[s],e,t,r).pipe(qn(),We(a=>{if(a instanceof ys)throw kh(new Zi,a);o[s]=a}))),Bo(1),Y(()=>o),Sr(s=>g0(s)?Ct:jo(s)))}function M2(n,e,t,r){let i=$c(e)??r,o=Es(n,i),s=o.resolve?o.resolve(e,t):qe(i,()=>o(e,t));return ir(s)}function rv(n){return rt(e=>{let t=n(e);return t?_e(t).pipe(Y(()=>e)):q(e)})}var Iv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(t){return t.data[Uc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(E0),providedIn:"root"})}return n})(),E0=(()=>{class n extends Iv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(H(VS))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qc=new V("",{providedIn:"root",factory:()=>({})}),Gc=new V(""),I0=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(Sy);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ir(t.loadComponent()).pipe(Y(T0),We(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ti(()=>{this.componentLoaders.delete(t)})),i=new Oo(r,()=>new $e).pipe(ko());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=w0(r,this.compiler,t,this.onLoadEndListener).pipe(Ti(()=>{this.childrenLoaders.delete(r)})),s=new Oo(o,()=>new $e).pipe(ko());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function w0(n,e,t,r){return ir(n.loadChildren()).pipe(Y(T0),He(i=>i instanceof Hd||Array.isArray(i)?q(i):_e(e.compileModuleAsync(i))),Y(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Gc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ev),injector:o}}))}function P2(n){return n&&typeof n=="object"&&"default"in n}function T0(n){return P2(n)?n.default:n}var jh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(x2),providedIn:"root"})}return n})(),x2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D0=new V("");var C0=new V(""),b0=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new $e;transitionAbortWithErrorSubject=new $e;configLoader=P(I0);environmentInjector=P(xe);destroyRef=P(jr);urlSerializer=P(Bc);rootContexts=P(_s);location=P(ss);inputBindingEnabled=P(Lh,{optional:!0})!==null;titleStrategy=P(Iv);options=P(qc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(jh);createViewTransition=P(D0,{optional:!0});navigationErrorHandler=P(C0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Ch(i)),r=i=>this.events.next(new bh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(te(k({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new nt(null),this.transitions.pipe(Et(r=>r!==null),rt(r=>{let i=!1;return q(r).pipe(rt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Tt.SupersededByNewNavigation),Ct;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?te(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let u="";return this.events.next(new rr(o.id,this.urlSerializer.serialize(o.rawUrl),u,Pc.IgnoredSameUrlNavigation)),o.resolve(!1),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return q(o).pipe(rt(u=>(this.events.next(new Ji(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Ct:Promise.resolve(u))),S2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),We(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=te(k({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new xc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Ji(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let b=c0(this.rootComponentType).snapshot;return this.currentTransition=r=te(k({},o),{targetSnapshot:b,urlAfterRedirects:l,extras:te(k({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,q(r)}else{let u="";return this.events.next(new rr(o.id,this.urlSerializer.serialize(o.extractedUrl),u,Pc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ct}}),We(o=>{let s=new Ih(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Y(o=>(this.currentTransition=r=te(k({},o),{guards:GV(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),r2(this.environmentInjector,o=>this.events.next(o)),We(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw kh(this.urlSerializer,o.guardsResult);let s=new wh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Et(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Tt.GuardRejected),!1)),rv(o=>{if(o.guards.canActivateChecks.length!==0)return q(o).pipe(We(s=>{let a=new Th(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),rt(s=>{let a=!1;return q(s).pipe(A2(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Tt.NoDataFromResolver)}}))}),We(s=>{let a=new Dh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),rv(o=>{let s=a=>{let u=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(a.routeConfig).pipe(We(l=>{a.component=l}),Y(()=>{})));for(let l of a.children)u.push(...s(l));return u};return $l(s(o.targetSnapshot.root)).pipe(Rr(null),sn(1))}),rv(()=>this.afterPreactivation()),rt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?_e(a).pipe(Y(()=>r)):q(r)}),Y(o=>{let s=BV(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=te(k({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),We(()=>{this.events.next(new kc)}),qV(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),sn(1),Gl(new Q(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Et(()=>!i&&!r.targetRouterState),We(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Tt.Aborted)}))),We({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Gl(this.transitionAbortWithErrorSubject.pipe(We(o=>{throw o}))),Ti(()=>{i||this.cancelNavigationTransition(r,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Sr(o=>{if(this.destroyed)return r.resolve(!1),Ct;if(i=!0,p0(o))this.events.next(new An(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),zV(o)?this.events.next(new ms(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new gs(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=qe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ys){let{message:u,cancellationCode:l}=kh(this.urlSerializer,a);this.events.next(new An(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new ms(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ct}))}))}cancelNavigationTransition(t,r,i){let o=new An(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function k2(n){return n!==Rc}var S0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(O2),providedIn:"root"})}return n})(),Fh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},O2=(()=>{class n extends Fh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=$i(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A0=(()=>{class n{urlSerializer=P(Bc);options=P(qc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(ss);urlHandlingStrategy=P(jh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Rn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=c0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>P(F2),providedIn:"root"})}return n})(),F2=(()=>{class n extends A0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ji?this.updateStateMemento():t instanceof rr?this.commitTransition(r):t instanceof xc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof kc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof An&&t.code!==Tt.SupersededByNewNavigation&&t.code!==Tt.Redirect?this.restoreHistory(r):t instanceof gs?this.restoreHistory(r,!0):t instanceof nr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$i(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wv(n,e){n.events.pipe(Et(t=>t instanceof nr||t instanceof An||t instanceof gs||t instanceof rr),Y(t=>t instanceof nr||t instanceof rr?0:(t instanceof An?t.code===Tt.Redirect||t.code===Tt.SupersededByNewNavigation:!1)?2:1),Et(t=>t!==2),sn(1)).subscribe(()=>{e()})}var L2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},V2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Uh=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(Dy);stateManager=P(A0);options=P(qc,{optional:!0})||{};pendingTasks=P(Yn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(b0);urlSerializer=P(Bc);location=P(ss);urlHandlingStrategy=P(jh);injector=P(xe);_events=new $e;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(S0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Gc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(Lh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof An&&r.code!==Tt.Redirect&&r.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nr)this.navigated=!0;else if(r instanceof ms){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||k2(i.source)},s);this.scheduleNavigation(a,Rc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}LV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.injector.get(Mt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ev),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=i0(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return o0(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ps(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Rc,null,r)}navigate(t,r={skipLocationChange:!1}){return j2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},L2):r===!1?i=k({},V2):i=r,ps(t))return jS(this.currentUrlTree,t,i);let o=this.parseUrl(t);return jS(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return wv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}var B2=new V("");function Tv(n,...e){return Vt([{provide:Gc,multi:!0,useValue:n},[],{provide:Qr,useFactory:$2,deps:[Uh]},{provide:qd,multi:!0,useFactory:H2},e.map(t=>t.\u0275providers)])}function $2(n){return n.routerState.root}function H2(){let n=P(ze);return e=>{let t=n.get(zi);if(e!==t.components[0])return;let r=n.get(Uh),i=n.get(z2);n.get(q2)===1&&r.initialNavigation(),n.get(G2,null,{optional:!0})?.setUpPreloading(),n.get(B2,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var z2=new V("",{factory:()=>new $e}),q2=new V("",{providedIn:"root",factory:()=>1});var G2=new V("");var R0=()=>{};var P0=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},K2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(P0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):K2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Cv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Cv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Q2=function(n){let e=P0(n);return Bh.encodeByteArray(e,!0)},Kc=function(n){return Q2(n).replace(/\./g,"")},$h=function(n){try{return Bh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Y2=()=>Sv().__FIREBASE_DEFAULTS__,Z2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},J2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&$h(n[1]);return e&&JSON.parse(e)},Hh=()=>{try{return R0()||Y2()||Z2()||J2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Av=n=>{var e,t;return(t=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},x0=n=>{let e=Av(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Rv=()=>{var n;return(n=Hh())===null||n===void 0?void 0:n.config},Nv=n=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${n}`]};var Xi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Yr(n){return n.endsWith(".cloudworkstations.dev")}function zh(n){return I(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function k0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kc(JSON.stringify(t)),Kc(JSON.stringify(s)),""].join(".")}var Wc={};function X2(){let n={prod:[],emulator:[]};for(let e of Object.keys(Wc))Wc[e]?n.emulator.push(e):n.prod.push(e);return n}function ej(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var N0=!1;function qh(n,e){if(typeof window>"u"||typeof document>"u"||!Yr(window.location.host)||Wc[n]===e||Wc[n]||N0)return;Wc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=X2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{N0=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=ej(r),y=t("text"),b=document.getElementById(y)||document.createElement("span"),N=t("learnmore"),R=document.getElementById(N)||document.createElement("a"),O=t("preprendIcon"),W=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let $=m.element;a($),h(R,N);let pe=l();u(W,O),$.append(W,b,R,pe),document.body.appendChild($)}o?(b.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function tj(){var n;let e=(n=Hh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function V0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j0(){let n=Ye();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function U0(){return!tj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qc(){try{return typeof indexedDB=="object"}catch{return!1}}function B0(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var nj="FirebaseError",qt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=nj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pn.prototype.create)}},pn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?rj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qt(i,a,r)}};function rj(n,e){return n.replace(ij,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ij=/\{\$([^}]+)}/g;function $0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(M0(o)&&M0(s)){if(!Nn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function M0(n){return n!==null&&typeof n=="object"}function Is(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function H0(n,e){let t=new bv(n,e);return t.subscribe.bind(t)}var bv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");oj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Dv),i.error===void 0&&(i.error=Dv),i.complete===void 0&&(i.complete=Dv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function oj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dv(){}var fre=4*60*60*1e3;function Le(n){return n&&n._delegate?n._delegate:n}var Dt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var eo="[DEFAULT]";var Mv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Xi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aj(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function sj(n){return n===eo?void 0:n}function aj(n){return n.instantiationMode==="EAGER"}var Gh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Mv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var cj=[],ae=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ae||{}),uj={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},lj=ae.INFO,dj={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},hj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=dj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mn=class{constructor(e){this.name=e,this._logLevel=lj,this._logHandler=hj,this._userLogHandler=null,cj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var fj=(n,e)=>e.some(t=>n instanceof t),z0,q0;function pj(){return z0||(z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gj(){return q0||(q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var G0=new WeakMap,xv=new WeakMap,W0=new WeakMap,Pv=new WeakMap,Ov=new WeakMap;function mj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Pn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&G0.set(t,n)}).catch(()=>{}),Ov.set(e,n),e}function yj(n){if(xv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});xv.set(n,e)}var kv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||W0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function K0(n){kv=n(kv)}function vj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Wh(this),e,...t);return W0.set(r,e.sort?e.sort():[e]),Pn(r)}:gj().includes(n)?function(...e){return n.apply(Wh(this),e),Pn(G0.get(this))}:function(...e){return Pn(n.apply(Wh(this),e))}}function _j(n){return typeof n=="function"?vj(n):(n instanceof IDBTransaction&&yj(n),fj(n,pj())?new Proxy(n,kv):n)}function Pn(n){if(n instanceof IDBRequest)return mj(n);if(Pv.has(n))return Pv.get(n);let e=_j(n);return e!==n&&(Pv.set(n,e),Ov.set(e,n)),e}var Wh=n=>Ov.get(n);function Y0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Pn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Pn(s.result),u.oldVersion,u.newVersion,Pn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Ej=["get","getKey","getAll","getAllKeys","count"],Ij=["put","add","delete","clear"],Fv=new Map;function Q0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fv.get(e))return Fv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Ij.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ej.includes(t)))return;let o=function(s,...a){return I(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Fv.set(e,o),o}K0(n=>te(k({},n),{get:(e,t,r)=>Q0(e,t)||n.get(e,t,r),has:(e,t)=>!!Q0(e,t)||n.has(e,t)}));var Vv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function wj(n){let e=n.getComponent();return e?.type==="VERSION"}var jv="@firebase/app",Z0="0.13.1";var or=new Mn("@firebase/app"),Tj="@firebase/app-compat",Dj="@firebase/analytics-compat",Cj="@firebase/analytics",bj="@firebase/app-check-compat",Sj="@firebase/app-check",Aj="@firebase/auth",Rj="@firebase/auth-compat",Nj="@firebase/database",Mj="@firebase/data-connect",Pj="@firebase/database-compat",xj="@firebase/functions",kj="@firebase/functions-compat",Oj="@firebase/installations",Fj="@firebase/installations-compat",Lj="@firebase/messaging",Vj="@firebase/messaging-compat",jj="@firebase/performance",Uj="@firebase/performance-compat",Bj="@firebase/remote-config",$j="@firebase/remote-config-compat",Hj="@firebase/storage",zj="@firebase/storage-compat",qj="@firebase/firestore",Gj="@firebase/ai",Wj="@firebase/firestore-compat",Kj="firebase",Qj="11.9.0";var Uv="[DEFAULT]",Yj={[jv]:"fire-core",[Tj]:"fire-core-compat",[Cj]:"fire-analytics",[Dj]:"fire-analytics-compat",[Sj]:"fire-app-check",[bj]:"fire-app-check-compat",[Aj]:"fire-auth",[Rj]:"fire-auth-compat",[Nj]:"fire-rtdb",[Mj]:"fire-data-connect",[Pj]:"fire-rtdb-compat",[xj]:"fire-fn",[kj]:"fire-fn-compat",[Oj]:"fire-iid",[Fj]:"fire-iid-compat",[Lj]:"fire-fcm",[Vj]:"fire-fcm-compat",[jj]:"fire-perf",[Uj]:"fire-perf-compat",[Bj]:"fire-rc",[$j]:"fire-rc-compat",[Hj]:"fire-gcs",[zj]:"fire-gcs-compat",[qj]:"fire-fst",[Wj]:"fire-fst-compat",[Gj]:"fire-vertex","fire-js":"fire-js",[Kj]:"fire-js-all"};var Yc=new Map,Zj=new Map,Bv=new Map;function J0(n,e){try{n.container.addComponent(e)}catch(t){or.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gn(n){let e=n.name;if(Bv.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Bv.set(e,n);for(let t of Yc.values())J0(t,n);for(let t of Zj.values())J0(t,n);return!0}function ws(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gt(n){return n==null?!1:n.settings!==void 0}var Jj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new pn("app","Firebase",Jj);var $v=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}};var Jr=Qj;function qv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Uv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(t||(t=Rv()),!t)throw Zr.create("no-options");let o=Yc.get(i);if(o){if(Nn(t,o.options)&&Nn(r,o.config))return o;throw Zr.create("duplicate-app",{appName:i})}let s=new Gh(i);for(let u of Bv.values())s.addComponent(u);let a=new $v(t,r,s);return Yc.set(i,a),a}function to(n=Uv){let e=Yc.get(n);if(!e&&n===Uv&&Rv())return qv();if(!e)throw Zr.create("no-app",{appName:n});return e}function Kh(){return Array.from(Yc.values())}function Me(n,e,t){var r;let i=(r=Yj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(a.join(" "));return}gn(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Xj="firebase-heartbeat-database",eU=1,Zc="firebase-heartbeat-store",Lv=null;function nA(){return Lv||(Lv=Y0(Xj,eU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Zr.create("idb-open",{originalErrorMessage:n.message})})),Lv}function tU(n){return I(this,null,function*(){try{let t=(yield nA()).transaction(Zc),r=yield t.objectStore(Zc).get(rA(n));return yield t.done,r}catch(e){if(e instanceof qt)or.warn(e.message);else{let t=Zr.create("idb-get",{originalErrorMessage:e?.message});or.warn(t.message)}}})}function X0(n,e){return I(this,null,function*(){try{let r=(yield nA()).transaction(Zc,"readwrite");yield r.objectStore(Zc).put(e,rA(n)),yield r.done}catch(t){if(t instanceof qt)or.warn(t.message);else{let r=Zr.create("idb-set",{originalErrorMessage:t?.message});or.warn(r.message)}}})}function rA(n){return`${n.name}!${n.options.appId}`}var nU=1024,rU=30,Hv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new zv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>rU){let s=oU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){or.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=eA(),{heartbeatsToSend:r,unsentEntries:i}=iU(this._heartbeatsCache.heartbeats),o=Kc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return or.warn(t),""}})}};function eA(){return new Date().toISOString().substring(0,10)}function iU(n,e=nU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tA(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),tA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var zv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Qc()?B0().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield tU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return X0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return X0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tA(n){return Kc(JSON.stringify({version:2,heartbeats:n})).length}function oU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function sU(n){gn(new Dt("platform-logger",e=>new Vv(e),"PRIVATE")),gn(new Dt("heartbeat",e=>new Hv(e),"PRIVATE")),Me(jv,Z0,n),Me(jv,Z0,"esm2017"),Me("fire-js","")}sU("");var aU="firebase",cU="11.9.1";Me(aU,cU,"app");function iA(n){n===void 0&&(n=P(ze));let e=n.get(Ur);return t=>new Q(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Xr=new is("ANGULARFIRE2_VERSION");function Jc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ds=(n,e)=>{let t=e?[e]:Kh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ts=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ts||{}),oA=Ly()&&typeof Zone<"u"?Ts.WARN:Ts.SILENT;var Qh=class{zone;delegate;constructor(e,t=_g){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ei=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=P(ye);this.outsideAngular=t.runOutsideAngular(()=>new Qh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Qh(typeof Zone>"u"?void 0:Zone.current,vg))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sA=!1;function uU(n,e){!sA&&(oA>Ts.SILENT||Ly())&&(sA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),oA>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function lU(n){let e=P(ye,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function no(n){let e=P(ye,{optional:!0});return e?e.run(()=>n()):n()}var dU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),qe(t,()=>no(()=>n.apply(void 0,r)))),Ze=(n,e,t)=>(t||=e?Ts.WARN:Ts.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(ei),s=P(Ur),a=P(xe)}catch{return uU(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=no(()=>s.add())),i[l]=dU(i[l],r,a));let u=lU(()=>n.apply(this,i));return e?u instanceof Q?u.pipe(br(o.outsideAngular),Cr(o.insideAngular),iA(a)):u instanceof Promise?no(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>qe(a,()=>no(()=>h(m))),m=>qe(a,()=>no(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:no(()=>u):u instanceof Q?u.pipe(br(o.outsideAngular),Cr(o.insideAngular)):no(()=>u)});var sr=class{constructor(e){return e}},ro=class{constructor(){return Kh()}};function hU(n){return n&&n.length===1?n[0]:new sr(to())}var Gv=new V("angularfire2._apps"),fU={provide:sr,useFactory:hU,deps:[[new Pt,Gv]]},pU={provide:ro,deps:[[new Pt,Gv]]};function gU(n){return(e,t)=>{let r=t.get($r);Me("angularfire",Xr.full,"core"),Me("angularfire",Xr.full,"app"),Me("angular",iS.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new sr(i)}}function aA(n,...e){return Vt([fU,pU,{provide:Gv,useFactory:gU(n),multi:!0,deps:[ye,ze,ei,...e]}])}var cA=Ze(qv,!0);var mU=new Map,yU={activated:!1,tokenObservers:[]},vU={initialized:!1,enabled:!1};function mn(n){return mU.get(n)||Object.assign({},yU)}function hA(){return vU}var _U="https://content-firebaseappcheck.googleapis.com/v1";var EU="exchangeDebugToken",uA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},mie=24*60*60*1e3;var Qv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return I(this,null,function*(){this.stop();try{this.pending=new Xi,this.pending.promise.catch(t=>{}),yield IU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Xi,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function IU(n){return new Promise(e=>{setTimeout(e,n)})}var wU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ti=new pn("appCheck","AppCheck",wU);function fA(n){if(!mn(n).activated)throw ti.create("use-before-activation",{appName:n.name})}function pA(r,i){return I(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw ti.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ti.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ti.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function gA(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${_U}/projects/${t}/apps/${r}:${EU}?key=${i}`,body:{debug_token:e}}}var TU="firebase-app-check-database",DU=1,Yv="firebase-app-check-store";var Yh=null;function CU(){return Yh||(Yh=new Promise((n,e)=>{try{let t=indexedDB.open(TU,DU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ti.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Yv,{keyPath:"compositeKey"})}}}catch(t){e(ti.create("storage-open",{originalErrorMessage:t?.message}))}}),Yh)}function bU(n,e){return SU(AU(n),e)}function SU(n,e){return I(this,null,function*(){let r=(yield CU()).transaction(Yv,"readwrite"),o=r.objectStore(Yv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ti.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function AU(n){return`${n.options.appId}-${n.name}`}var Xc=new Mn("@firebase/app-check");function Wv(n,e){return Qc()?bU(n,e).catch(t=>{Xc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function mA(){return hA().enabled}function yA(){return I(this,null,function*(){let n=hA();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var RU={error:"UNKNOWN_ERROR"};function NU(n){return Bh.encodeString(JSON.stringify(n),!1)}function Zv(n,e=!1,t=!1){return I(this,null,function*(){let r=n.app;fA(r);let i=mn(r),o=i.token,s;if(o&&!eu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(eu(l)?o=l:yield Wv(r,void 0))}if(!e&&o&&eu(o))return{token:o.token};let a=!1;if(mA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=pA(gA(r,yield yA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Wv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xc.warn(l.message):t&&Xc.error(l),Kv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield mn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xc.warn(l.message):t&&Xc.error(l),s=l}let u;return o?s?eu(o)?u={token:o.token,internalError:s}:u=Kv(s):(u={token:o.token},i.token=o,yield Wv(r,o)):u=Kv(s),a&&kU(r,u),u})}function MU(n){return I(this,null,function*(){let e=n.app;fA(e);let{provider:t}=mn(e);if(mA()){let r=yield yA(),{token:i}=yield pA(gA(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function PU(n,e,t,r){let{app:i}=n,o=mn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&eu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),lA(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>lA(n))}function vA(n,e){let t=mn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function lA(n){let{app:e}=n,t=mn(e),r=t.tokenRefresher;r||(r=xU(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function xU(n){let{app:e}=n;return new Qv(()=>I(null,null,function*(){let t=mn(e),r;if(t.token?r=yield Zv(n,!0):r=yield Zv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=mn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},uA.RETRIAL_MIN_WAIT,uA.RETRIAL_MAX_WAIT)}function kU(n,e){let t=mn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function eu(n){return n.expireTimeMillis-Date.now()>0}function Kv(n){return{token:NU(RU),error:n}}var Jv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=mn(this.app);for(let t of e)vA(this.app,t.next);return Promise.resolve()}};function OU(n,e){return new Jv(n,e)}function FU(n){return{getToken:e=>Zv(n,e),getLimitedUseToken:()=>MU(n),addTokenListener:e=>PU(n,"INTERNAL",e),removeTokenListener:e=>vA(n.app,e)}}var LU="@firebase/app-check",VU="0.10.0";var jU="app-check",dA="app-check-internal";function UU(){gn(new Dt(jU,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return OU(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dA).initialize()})),gn(new Dt(dA,n=>{let e=n.getProvider("app-check").getImmediate();return FU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Me(LU,VU)}UU();var BU="app-check";var Cs=class{constructor(){return Ds(BU)}};var $U=["localhost","0.0.0.0","127.0.0.1"],Rie=typeof window<"u"&&$U.includes(window.location.hostname);function xA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var kA=xA,OA=new pn("auth","Firebase",xA());var nf=new Mn("@firebase/auth");function HU(n,...e){nf.logLevel<=ae.WARN&&nf.warn(`Auth (${Jr}): ${n}`,...e)}function Jh(n,...e){nf.logLevel<=ae.ERROR&&nf.error(`Auth (${Jr}): ${n}`,...e)}function kn(n,...e){throw m_(n,...e)}function yn(n,...e){return m_(n,...e)}function g_(n,e,t){let r=Object.assign(Object.assign({},kA()),{[e]:t});return new pn("auth","Firebase",r).create(e,{appName:n.name})}function io(n){return g_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zU(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&kn(n,"argument-error"),g_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function m_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OA.create(n,...e)}function K(n,e,...t){if(!n)throw m_(e,...t)}function ar(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Jh(e),new Error(e)}function ur(n,e){n||ar(e)}function t_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function qU(){return _A()==="http:"||_A()==="https:"}function _A(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function GU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qU()||L0()||"connection"in navigator)?navigator.onLine:!0}function WU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var oo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ur(t>e,"Short delay should be less than long delay!"),this.isMobile=O0()||V0()}get(){return GU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function y_(n,e){ur(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var rf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var KU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var QU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YU=new oo(3e4,6e4);function v_(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ss(o,s,a,u){return I(this,arguments,function*(n,e,t,r,i={}){return FA(n,i,()=>I(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Is(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return F0()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Yr(n.emulatorConfig.host)&&(y.credentials="include"),rf.fetch()(yield LA(n,n.config.apiHost,t,p),y)}))})}function FA(n,e,t){return I(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},KU),e);try{let i=new n_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Zh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Zh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Zh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw g_(n,h,l);kn(n,h)}}catch(i){if(i instanceof qt)throw i;kn(n,"network-request-failed",{message:String(i)})}})}function ZU(o,s,a,u){return I(this,arguments,function*(n,e,t,r,i={}){let l=yield Ss(n,e,t,r,i);return"mfaPendingCredential"in l&&kn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function LA(n,e,t,r){return I(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?y_(n.config,i):`${n.config.apiScheme}://${i}`;return QU.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var n_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),YU.get())})}};function Zh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=yn(n,e,r);return i.customData._tokenResponse=t,i}function JU(n,e){return I(this,null,function*(){return Ss(n,"POST","/v1/accounts:delete",e)})}function of(n,e){return I(this,null,function*(){return Ss(n,"POST","/v1/accounts:lookup",e)})}function tu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function __(n,e=!1){return I(this,null,function*(){let t=Le(n),r=yield t.getIdToken(e),i=E_(r);K(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:tu(Xv(i.auth_time)),issuedAtTime:tu(Xv(i.iat)),expirationTime:tu(Xv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Xv(n){return Number(n)*1e3}function E_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{let i=$h(t);return i?JSON.parse(i):(Jh("Failed to decode base64 JWT payload"),null)}catch(i){return Jh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function EA(n){let e=E_(n);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ru(n,e,t=!1){return I(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof qt&&XU(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function XU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var r_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),t)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var iu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function sf(n){return I(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ru(n,of(t,{idToken:r}));K(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?VA(o.providerUserInfo):[],a=eB(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new iu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function I_(n){return I(this,null,function*(){let e=Le(n);yield sf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function eB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VA(n){return n.map(e=>{var{providerId:t}=e,r=Al(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function tB(n,e){return I(this,null,function*(){let t=yield FA(n,{},()=>I(null,null,function*(){let r=Is({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield LA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Yr(n.emulatorConfig.host)&&(u.credentials="include"),rf.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function nB(n,e){return I(this,null,function*(){return Ss(n,"POST","/v2/accounts:revokeToken",v_(n,e))})}var nu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){K(e.length!==0,"internal-error");let t=EA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return I(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield tB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ar("not implemented")}};function ni(n,e){K(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ri=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Al(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new iu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let t=yield ru(this,this.stsTokenManager.getToken(this.auth,e));return K(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return __(this,e)}reload(){return I_(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield sf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Gt(this.auth.app))return Promise.reject(io(this.auth));let e=yield this.getIdToken();return yield ru(this,JU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:pe,isAnonymous:et,providerData:ge,stsTokenManager:T}=t;K($&&T,e,"internal-error");let v=nu.fromJSON(this.name,T);K(typeof $=="string",e,"internal-error"),ni(p,e.name),ni(m,e.name),K(typeof pe=="boolean",e,"internal-error"),K(typeof et=="boolean",e,"internal-error"),ni(y,e.name),ni(b,e.name),ni(N,e.name),ni(R,e.name),ni(O,e.name),ni(W,e.name);let E=new n({uid:$,auth:e,email:m,emailVerified:pe,displayName:p,isAnonymous:et,photoURL:b,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:O,lastLoginAt:W});return ge&&Array.isArray(ge)&&(E.providerData=ge.map(w=>Object.assign({},w))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,t,r=!1){return I(this,null,function*(){let i=new nu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield sf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return I(this,null,function*(){let i=t.users[0];K(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?VA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new nu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new iu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var IA=new Map;function cr(n){ur(n instanceof Function,"Expected a class definition");let e=IA.get(n);return e?(ur(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,IA.set(n,e),e)}var rB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(t,r){return I(this,null,function*(){this.storage[t]=r})}_get(t){return I(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return I(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),i_=rB;function Xh(n,e,t){return`firebase:${n}:${e}:${t}`}var af=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Xh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Xh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield of(this.auth,{idToken:e}).catch(()=>{});return t?ri._fromGetAccountInfoResponse(this.auth,t,e):null}return ri._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return I(this,null,function*(){if(!t.length)return new n(cr(i_),e,r);let i=(yield Promise.all(t.map(l=>I(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||cr(i_),s=Xh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield of(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield ri._fromGetAccountInfoResponse(e,m,h)}else p=ri._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>I(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function wA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zA(e))return"Blackberry";if(qA(e))return"Webos";if(UA(e))return"Safari";if((e.includes("chrome/")||BA(e))&&!e.includes("edge/"))return"Chrome";if(HA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function jA(n=Ye()){return/firefox\//i.test(n)}function UA(n=Ye()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BA(n=Ye()){return/crios\//i.test(n)}function $A(n=Ye()){return/iemobile/i.test(n)}function HA(n=Ye()){return/android/i.test(n)}function zA(n=Ye()){return/blackberry/i.test(n)}function qA(n=Ye()){return/webos/i.test(n)}function w_(n=Ye()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iB(n=Ye()){var e;return w_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oB(){return j0()&&document.documentMode===10}function GA(n=Ye()){return w_(n)||HA(n)||qA(n)||zA(n)||/windows phone/i.test(n)||$A(n)}function WA(n,e=[]){let t;switch(n){case"Browser":t=wA(Ye());break;case"Worker":t=`${wA(Ye())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jr}/${r}`}var o_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function sB(t){return I(this,arguments,function*(n,e={}){return Ss(n,"GET","/v2/passwordPolicy",v_(n,e))})}var aB=6,s_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:aB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var a_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cf(this),this.idTokenSubscription=new cf(this),this.beforeStateQueue=new o_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cr(t)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield af.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let t=yield of(this,{idToken:e}),r=yield ri._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var t;if(Gt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield sf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=WU()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Gt(this.app))return Promise.reject(io(this));let t=e?Le(e):null;return t&&K(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return I(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Gt(this.app)?Promise.reject(io(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Gt(this.app)?Promise.reject(io(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(cr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield sB(this),t=new s_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield nB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&cr(e)||this._popupRedirectResolver;K(t,this,"argument-error"),this.redirectPersistenceManager=yield af.create(this,[cr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return I(this,null,function*(){var e;if(Gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&HU(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function mf(n){return Le(n)}var cf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=H0(t=>this.observer=t)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var T_={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cB(n){T_=n}function uB(n){return T_.loadJS(n)}function lB(){return T_.gapiScript}function KA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function D_(n,e){let t=ws(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Nn(o,e??{}))return i;kn(i,"already-initialized")}return t.initialize({options:e})}function dB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(cr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function C_(n,e,t){let r=mf(n);K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=QA(e),{host:s,port:a}=hB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),K(Nn(l,r.config.emulator)&&Nn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Yr(s)?(zh(`${o}//${s}${u}`),qh("Auth",!0)):i||fB()}function QA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hB(n){let e=QA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:TA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:TA(s)}}}function TA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function fB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ou=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ar("not implemented")}_getIdTokenResponse(e){return ar("not implemented")}_linkToIdToken(e,t){return ar("not implemented")}_getReauthenticationResolver(e){return ar("not implemented")}};function bs(n,e){return I(this,null,function*(){return ZU(n,"POST","/v1/accounts:signInWithIdp",v_(n,e))})}var pB="http://localhost",uf=class n extends ou{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Al(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return bs(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,bs(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}buildRequest(){let e={requestUri:pB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Is(t)}return e}};var su=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var lf=class extends su{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var b_=(()=>{class n extends lf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return uf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var au=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return I(this,null,function*(){let o=yield ri._fromIdTokenResponse(e,r,i),s=DA(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=DA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function DA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var c_=class n extends qt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function YA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?c_._fromErrorAndOperation(n,o,e,r):o})}function gB(n,e,t=!1){return I(this,null,function*(){let r=yield ru(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return au._forOperation(n,"link",r)})}function mB(n,e,t=!1){return I(this,null,function*(){let{auth:r}=n;if(Gt(r.app))return Promise.reject(io(r));let i="reauthenticate";try{let o=yield ru(n,YA(r,i,e,n),t);K(o.idToken,r,"internal-error");let s=E_(o.idToken);K(s,r,"internal-error");let{sub:a}=s;return K(n.uid===a,r,"user-mismatch"),au._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&kn(r,"user-mismatch"),o}})}function yB(n,e,t=!1){return I(this,null,function*(){if(Gt(n.app))return Promise.reject(io(n));let r="signIn",i=yield YA(n,r,e),o=yield au._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function uu(n,e,t,r){return Le(n).onIdTokenChanged(e,t,r)}function S_(n,e,t){return Le(n).beforeAuthStateChanged(e,t)}function A_(n){return Le(n).signOut()}var df="__sak";var hf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var vB=1e3,_B=10,EB=(()=>{class n extends hf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);oB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,_B):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},vB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return I(this,null,function*(){yield Tr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return I(this,null,function*(){let r=yield Tr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return I(this,null,function*(){yield Tr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),ZA=EB;var IB=(()=>{class n extends hf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),R_=IB;function wB(n){return Promise.all(n.map(e=>I(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var TB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return I(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>I(this,null,function*(){return h(r.origin,s)})),l=yield wB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function N_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var u_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=N_("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function xn(){return window}function DB(n){xn().location.href=n}function JA(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}function CB(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function bB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function SB(){return JA()?self:null}var XA="firebaseLocalStorageDb",AB=1,ff="firebaseLocalStorage",eR="fbase_key",so=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function yf(n,e){return n.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function RB(){let n=indexedDB.deleteDatabase(XA);return new so(n).toPromise()}function l_(){let n=indexedDB.open(XA,AB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(ff,{keyPath:eR})}catch(i){t(i)}}),n.addEventListener("success",()=>I(null,null,function*(){let r=n.result;r.objectStoreNames.contains(ff)?e(r):(r.close(),yield RB(),e(yield l_()))}))})}function CA(n,e,t){return I(this,null,function*(){let r=yf(n,!0).put({[eR]:e,value:t});return new so(r).toPromise()})}function NB(n,e){return I(this,null,function*(){let t=yf(n,!1).get(e),r=yield new so(t).toPromise();return r===void 0?null:r.value})}function bA(n,e){let t=yf(n,!0).delete(e);return new so(t).toPromise()}var MB=800,PB=3,xB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield l_(),this.db)})}_withRetries(t){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>PB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return JA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=TB._getInstance(SB()),this.receiver._subscribe("keyChanged",(t,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var t,r;if(this.activeServiceWorker=yield CB(),!this.activeServiceWorker)return;this.sender=new u_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||bB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let t=yield l_();return yield CA(t,df,"1"),yield bA(t,df),!0}catch{}return!1})}_withPendingWrite(t){return I(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>CA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return I(this,null,function*(){let r=yield this._withRetries(i=>NB(i,t));return this.localCache[t]=r,r})}_remove(t){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>bA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return I(this,null,function*(){let t=yield this._withRetries(o=>{let s=yf(o,!1).getAll();return new so(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),MB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),tR=xB;var jie=KA("rcb"),Uie=new oo(3e4,6e4);function nR(n,e){return e?cr(e):(K(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var cu=class extends ou{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bs(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function kB(n){return yB(n.auth,new cu(n),n.bypassAuthState)}function OB(n){let{auth:e,user:t}=n;return K(t,e,"internal-error"),mB(t,new cu(n),n.bypassAuthState)}function FB(n){return I(this,null,function*(){let{auth:e,user:t}=n;return K(t,e,"internal-error"),gB(t,new cu(n),n.bypassAuthState)})}var pf=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kB;case"linkViaPopup":case"linkViaRedirect":return FB;case"reauthViaPopup":case"reauthViaRedirect":return OB;default:kn(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var LB=new oo(2e3,1e4);function M_(n,e,t){return I(this,null,function*(){if(Gt(n.app))return Promise.reject(yn(n,"operation-not-supported-in-this-environment"));let r=mf(n);zU(n,e,su);let i=nR(r,t);return new VB(r,"signInViaPopup",e,i).executeNotNull()})}var VB=(()=>{class n extends pf{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return I(this,null,function*(){let t=yield this.execute();return K(t,this.auth,"internal-error"),t})}onExecution(){return I(this,null,function*(){ur(this.filter.length===1,"Popup operations only handle one event");let t=N_();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,LB.get())};t()}}n.currentPopupAction=null;return n})(),jB="pendingRedirect",ef=new Map,d_=class n extends pf{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=ef.get(this.auth._key());if(!e){try{let r=(yield UB(this.resolver,this.auth))?yield Tr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Tr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Tr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function UB(n,e){return I(this,null,function*(){let t=HB(e),r=$B(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function BB(n,e){ef.set(n._key(),e)}function $B(n){return cr(n._redirectPersistence)}function HB(n){return Xh(jB,n.config.apiKey,n.name)}function zB(n,e,t=!1){return I(this,null,function*(){if(Gt(n.app))return Promise.reject(io(n));let r=mf(n),i=nR(r,e),s=yield new d_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var qB=10*60*1e3,h_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!rR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(yn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qB&&this.cachedEventUids.clear(),this.cachedEventUids.has(SA(e))}saveEventToCache(e){this.cachedEventUids.add(SA(e)),this.lastProcessedEventTime=Date.now()}};function SA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function GB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rR(n);default:return!1}}function WB(t){return I(this,arguments,function*(n,e={}){return Ss(n,"GET","/v1/projects",e)})}var KB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QB=/^https?/;function YB(n){return I(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield WB(n);for(let t of e)try{if(ZB(t))return}catch{}kn(n,"unauthorized-domain")})}function ZB(n){let e=t_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!QB.test(t))return!1;if(KB.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var JB=new oo(3e4,6e4);function AA(){let n=xn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function XB(n){return new Promise((e,t)=>{var r,i,o;function s(){AA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AA(),t(yn(n,"network-request-failed"))},timeout:JB.get()})}if(!((i=(r=xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=xn().gapi)===null||o===void 0)&&o.load)s();else{let a=KA("iframefcb");return xn()[a]=()=>{gapi.load?s():t(yn(n,"network-request-failed"))},uB(`${lB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw tf=null,e})}var tf=null;function e$(n){return tf=tf||XB(n),tf}var t$=new oo(5e3,15e3),n$="__/auth/iframe",r$="emulator/auth/iframe",i$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s$(n){let e=n.config;K(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?y_(e,r$):`https://${n.config.authDomain}/${n$}`,r={apiKey:e.apiKey,appName:n.name,v:Jr},i=o$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Is(r).slice(1)}`}function a$(n){return I(this,null,function*(){let e=yield e$(n),t=xn().gapi;return K(t,n,"internal-error"),e.open({where:document.body,url:s$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i$,dontclear:!0},r=>new Promise((i,o)=>I(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=yn(n,"network-request-failed"),a=xn().setTimeout(()=>{o(s)},t$.get());function u(){xn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var c$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u$=500,l$=600,d$="_blank",h$="http://localhost",gf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function f$(n,e,t,r=u$,i=l$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},c$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ye().toLowerCase();t&&(a=BA(l)?d$:t),jA(l)&&(e=e||h$,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(iB(l)&&a!=="_self")return p$(e||"",a),new gf(null);let p=window.open(e||"",a,h);K(p,n,"popup-blocked");try{p.focus()}catch{}return new gf(p)}function p$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var g$="__/auth/handler",m$="emulator/auth/handler",y$=encodeURIComponent("fac");function RA(n,e,t,r,i,o){return I(this,null,function*(){K(n.config.authDomain,n,"auth-domain-config-required"),K(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Jr,eventId:i};if(e instanceof su){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",$0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof lf){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${y$}=${encodeURIComponent(u)}`:"";return`${v$(n)}?${Is(a).slice(1)}${l}`})}function v$({config:n}){return n.emulator?y_(n,m$):`https://${n.authDomain}/${g$}`}var e_="webStorageSupport",f_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R_,this._completeRedirectFn=zB,this._overrideRedirectResult=BB}_openPopup(e,t,r,i){return I(this,null,function*(){var o;ur((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield RA(e,t,r,t_(),i);return f$(e,s,N_())})}_openRedirect(e,t,r,i){return I(this,null,function*(){yield this._originValidation(e);let o=yield RA(e,t,r,t_(),i);return DB(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ur(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return I(this,null,function*(){let t=yield a$(e),r=new h_(e);return t.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(e_,{type:e_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[e_];s!==void 0&&t(!!s),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GA()||UA()||w_()}},iR=f_;var NA="@firebase/auth",MA="1.10.7";var p_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function _$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E$(n){gn(new Dt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WA(n)},l=new a_(r,i,o,u);return dB(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),gn(new Dt("auth-internal",e=>{let t=mf(e.getProvider("auth").getImmediate());return(r=>new p_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(NA,MA,_$(n)),Me(NA,MA,"esm2017")}var I$=5*60,w$=Nv("authIdTokenMaxAge")||I$,PA=null,T$=n=>e=>I(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>w$)return;let i=t?.token;PA!==i&&(PA=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function P_(n=to()){let e=ws(n,"auth");if(e.isInitialized())return e.getImmediate();let t=D_(n,{popupRedirectResolver:iR,persistence:[tR,ZA,R_]}),r=Nv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=T$(o.toString());S_(t,s,()=>s(t.currentUser)),uu(t,a=>s(a))}}let i=Av("auth");return i&&C_(t,`http://${i}`),t}function D$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}cB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=yn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",D$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E$("Browser");function aR(n){return new Q(function(e){var t=uu(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var cR="auth",ao=class{constructor(e){return e}},lu=class{constructor(){return Ds(cR)}};var x_=new V("angularfire2.auth-instances");function fH(n,e){let t=Jc(cR,n,e);return t&&new ao(t)}function pH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ao(r)}}var gH={provide:lu,deps:[[new Pt,x_]]},mH={provide:ao,useFactory:fH,deps:[[new Pt,x_],sr]};function uR(n,...e){return Me("angularfire",Xr.full,"auth"),Vt([mH,gH,{provide:x_,useFactory:pH(n),multi:!0,deps:[ye,ze,ei,ro,[new Pt,Cs],...e]}])}var lR=Ze(aR,!0);var dR=Ze(P_,!0);var hR=Ze(M_,!0,2);var fR=Ze(A_,!0,2);var pR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gR={};var lr,k_;(function(){var n;function e(T,v){function E(){}E.prototype=v.prototype,T.D=v.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(w,D,S){for(var _=Array(arguments.length-2),Un=2;Un<arguments.length;Un++)_[Un-2]=arguments[Un];return v.prototype[D].apply(w,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,E){E||(E=0);var w=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)w[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)w[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=T.g[0],E=T.g[1],D=T.g[2];var S=T.g[3],_=v+(S^E&(D^S))+w[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=S+(D^v&(E^D))+w[1]+3905402710&4294967295,S=v+(_<<12&4294967295|_>>>20),_=D+(E^S&(v^E))+w[2]+606105819&4294967295,D=S+(_<<17&4294967295|_>>>15),_=E+(v^D&(S^v))+w[3]+3250441966&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(S^E&(D^S))+w[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=S+(D^v&(E^D))+w[5]+1200080426&4294967295,S=v+(_<<12&4294967295|_>>>20),_=D+(E^S&(v^E))+w[6]+2821735955&4294967295,D=S+(_<<17&4294967295|_>>>15),_=E+(v^D&(S^v))+w[7]+4249261313&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(S^E&(D^S))+w[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=S+(D^v&(E^D))+w[9]+2336552879&4294967295,S=v+(_<<12&4294967295|_>>>20),_=D+(E^S&(v^E))+w[10]+4294925233&4294967295,D=S+(_<<17&4294967295|_>>>15),_=E+(v^D&(S^v))+w[11]+2304563134&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(S^E&(D^S))+w[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=S+(D^v&(E^D))+w[13]+4254626195&4294967295,S=v+(_<<12&4294967295|_>>>20),_=D+(E^S&(v^E))+w[14]+2792965006&4294967295,D=S+(_<<17&4294967295|_>>>15),_=E+(v^D&(S^v))+w[15]+1236535329&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(D^S&(E^D))+w[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^D&(v^E))+w[6]+3225465664&4294967295,S=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(S^v))+w[11]+643717713&4294967295,D=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(D^S))+w[0]+3921069994&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^S&(E^D))+w[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^D&(v^E))+w[10]+38016083&4294967295,S=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(S^v))+w[15]+3634488961&4294967295,D=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(D^S))+w[4]+3889429448&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^S&(E^D))+w[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^D&(v^E))+w[14]+3275163606&4294967295,S=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(S^v))+w[3]+4107603335&4294967295,D=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(D^S))+w[8]+1163531501&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^S&(E^D))+w[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^D&(v^E))+w[2]+4243563512&4294967295,S=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(S^v))+w[7]+1735328473&4294967295,D=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(D^S))+w[12]+2368359562&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(E^D^S)+w[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^D)+w[8]+2272392833&4294967295,S=v+(_<<11&4294967295|_>>>21),_=D+(S^v^E)+w[11]+1839030562&4294967295,D=S+(_<<16&4294967295|_>>>16),_=E+(D^S^v)+w[14]+4259657740&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^S)+w[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^D)+w[4]+1272893353&4294967295,S=v+(_<<11&4294967295|_>>>21),_=D+(S^v^E)+w[7]+4139469664&4294967295,D=S+(_<<16&4294967295|_>>>16),_=E+(D^S^v)+w[10]+3200236656&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^S)+w[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^D)+w[0]+3936430074&4294967295,S=v+(_<<11&4294967295|_>>>21),_=D+(S^v^E)+w[3]+3572445317&4294967295,D=S+(_<<16&4294967295|_>>>16),_=E+(D^S^v)+w[6]+76029189&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^S)+w[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^D)+w[12]+3873151461&4294967295,S=v+(_<<11&4294967295|_>>>21),_=D+(S^v^E)+w[15]+530742520&4294967295,D=S+(_<<16&4294967295|_>>>16),_=E+(D^S^v)+w[2]+3299628645&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(D^(E|~S))+w[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~D))+w[7]+1126891415&4294967295,S=v+(_<<10&4294967295|_>>>22),_=D+(v^(S|~E))+w[14]+2878612391&4294967295,D=S+(_<<15&4294967295|_>>>17),_=E+(S^(D|~v))+w[5]+4237533241&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~S))+w[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~D))+w[3]+2399980690&4294967295,S=v+(_<<10&4294967295|_>>>22),_=D+(v^(S|~E))+w[10]+4293915773&4294967295,D=S+(_<<15&4294967295|_>>>17),_=E+(S^(D|~v))+w[1]+2240044497&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~S))+w[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~D))+w[15]+4264355552&4294967295,S=v+(_<<10&4294967295|_>>>22),_=D+(v^(S|~E))+w[6]+2734768916&4294967295,D=S+(_<<15&4294967295|_>>>17),_=E+(S^(D|~v))+w[13]+1309151649&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~S))+w[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~D))+w[11]+3174756917&4294967295,S=v+(_<<10&4294967295|_>>>22),_=D+(v^(S|~E))+w[2]+718787259&4294967295,D=S+(_<<15&4294967295|_>>>17),_=E+(S^(D|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var E=v-this.blockSize,w=this.B,D=this.h,S=0;S<v;){if(D==0)for(;S<=E;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<v;)if(w[D++]=T.charCodeAt(S++),D==this.blockSize){i(this,w),D=0;break}}else for(;S<v;)if(w[D++]=T[S++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var E=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=E&255,E/=256;for(this.u(T),T=Array(16),v=E=0;4>v;++v)for(var w=0;32>w;w+=8)T[E++]=this.g[v]>>>w&255;return T};function o(T,v){var E=a;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=v(T)}function s(T,v){this.h=v;for(var E=[],w=!0,D=T.length-1;0<=D;D--){var S=T[D]|0;w&&S==v||(E[D]=S,w=!1)}this.g=E}var a={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var v=[],E=1,w=0;T>=E;w++)v[w]=T/E|0,E*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return R(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),w=p,D=0;D<T.length;D+=8){var S=Math.min(8,T.length-D),_=parseInt(T.substring(D,D+S),v);8>S?(S=l(Math.pow(v,S)),w=w.j(S).add(l(_))):(w=w.j(E),w=w.add(l(_)))}return w}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-R(this).m();for(var T=0,v=1,E=0;E<this.g.length;E++){var w=this.i(E);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b(this))return"0";if(N(this))return"-"+R(this).toString(T);for(var v=l(Math.pow(T,6)),E=this,w="";;){var D=pe(E,v).g;E=O(E,D.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=D,b(E))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function b(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function N(T){return T.h==-1}n.l=function(T){return T=O(this,T),N(T)?-1:b(T)?0:1};function R(T){for(var v=T.g.length,E=[],w=0;w<v;w++)E[w]=~T.g[w];return new s(E,~T.h).add(m)}n.abs=function(){return N(this)?R(this):this},n.add=function(T){for(var v=Math.max(this.g.length,T.g.length),E=[],w=0,D=0;D<=v;D++){var S=w+(this.i(D)&65535)+(T.i(D)&65535),_=(S>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);w=_>>>16,S&=65535,_&=65535,E[D]=_<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function O(T,v){return T.add(R(v))}n.j=function(T){if(b(this)||b(T))return p;if(N(this))return N(T)?R(this).j(R(T)):R(R(this).j(T));if(N(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,E=[],w=0;w<2*v;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<T.g.length;D++){var S=this.i(w)>>>16,_=this.i(w)&65535,Un=T.i(D)>>>16,ia=T.i(D)&65535;E[2*w+2*D]+=_*ia,W(E,2*w+2*D),E[2*w+2*D+1]+=S*ia,W(E,2*w+2*D+1),E[2*w+2*D+1]+=_*Un,W(E,2*w+2*D+1),E[2*w+2*D+2]+=S*Un,W(E,2*w+2*D+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function W(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function $(T,v){this.g=T,this.h=v}function pe(T,v){if(b(v))throw Error("division by zero");if(b(T))return new $(p,p);if(N(T))return v=pe(R(T),v),new $(R(v.g),R(v.h));if(N(v))return v=pe(T,R(v)),new $(R(v.g),v.h);if(30<T.g.length){if(N(T)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,w=v;0>=w.l(T);)E=et(E),w=et(w);var D=ge(E,1),S=ge(w,1);for(w=ge(w,2),E=ge(E,2);!b(w);){var _=S.add(w);0>=_.l(T)&&(D=D.add(E),S=_),w=ge(w,1),E=ge(E,1)}return v=O(T,D.j(v)),new $(D,v)}for(D=p;0<=T.l(v);){for(E=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(E),_=S.j(v);N(_)||0<_.l(T);)E-=w,S=l(E),_=S.j(v);b(S)&&(S=m),D=D.add(S),T=O(T,_)}return new $(D,T)}n.A=function(T){return pe(this,T).h},n.and=function(T){for(var v=Math.max(this.g.length,T.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)&T.i(w);return new s(E,this.h&T.h)},n.or=function(T){for(var v=Math.max(this.g.length,T.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)|T.i(w);return new s(E,this.h|T.h)},n.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)^T.i(w);return new s(E,this.h^T.h)};function et(T){for(var v=T.g.length+1,E=[],w=0;w<v;w++)E[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(E,T.h)}function ge(T,v){var E=v>>5;v%=32;for(var w=T.g.length-E,D=[],S=0;S<w;S++)D[S]=0<v?T.i(S+E)>>>v|T.i(S+E+1)<<32-v:T.i(S+E);return new s(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,k_=gR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,lr=gR.Integer=s}).apply(typeof pR<"u"?pR:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dr={};var O_,vH,As,F_,du,_f,L_,V_,j_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function b(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var F=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)F[Ee-2]=arguments[Ee];return d.prototype[C].apply(g,F)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let F=0;F<A;F++)c[C+F]=g[F]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var et=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ge(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function _(){var c=Rp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Un{constructor(){this.h=this.g=null}add(d,f){let g=ia.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ia=new O(()=>new RP,c=>c.reset());class RP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let oa,sa=!1,Rp=new Un,_w=()=>{let c=a.Promise.resolve(void 0);oa=()=>{c.then(NP)}};var NP=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){S(f)}var d=ia;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}sa=!1};function _r(){this.s=this.s,this.C=this.C}_r.prototype.s=!1,_r.prototype.ma=function(){this.s||(this.s=!0,this.N())},_r.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var MP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function aa(c,d){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(et){e:{try{pe(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:PP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&aa.aa.h.call(this)}}b(aa,ut);var PP={2:"touch",3:"pen",4:"mouse"};aa.prototype.h=function(){aa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ca="closure_listenable_"+(1e6*Math.random()|0),xP=0;function kP(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++xP,this.da=this.fa=!1}function Uu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bu(c){this.src=c,this.g={},this.h=0}Bu.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var F=Mp(c,d,g,C);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new kP(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function Np(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(Uu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Mp(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var Pp="closure_lm_"+(1e6*Math.random()|0),xp={};function Ew(c,d,f,g,C){if(g&&g.once)return ww(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Ew(c,d[A],f,g,C);return null}return f=Lp(f),c&&c[ca]?c.K(d,f,l(g)?!!g.capture:!!g,C):Iw(c,d,f,!1,g,C)}function Iw(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,Ee=Op(c);if(Ee||(c[Pp]=Ee=new Bu(c)),f=Ee.add(d,f,g,F,A),f.proxy)return f;if(g=OP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)MP||(C=F),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(Dw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function OP(){function c(f){return d.call(c.src,c.listener,f)}let d=FP;return c}function ww(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)ww(c,d[A],f,g,C);return null}return f=Lp(f),c&&c[ca]?c.L(d,f,l(g)?!!g.capture:!!g,C):Iw(c,d,f,!0,g,C)}function Tw(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)Tw(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=Lp(f),c&&c[ca]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Mp(A,f,g,C),-1<f&&(Uu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Op(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Mp(d,f,g,C)),(f=-1<c?d[c]:null)&&kp(f))}function kp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ca])Np(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Dw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Op(d))?(Np(f,c),f.h==0&&(f.src=null,d[Pp]=null)):Uu(c)}}}function Dw(c){return c in xp?xp[c]:xp[c]="on"+c}function FP(c,d){if(c.da)c=!0;else{d=new aa(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&kp(c),c=f.call(g,d)}return c}function Op(c){return c=c[Pp],c instanceof Bu?c:null}var Fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lp(c){return typeof c=="function"?c:(c[Fp]||(c[Fp]=function(d){return c.handleEvent(d)}),c[Fp])}function lt(){_r.call(this),this.i=new Bu(this),this.M=this,this.F=null}b(lt,_r),lt.prototype[ca]=!0,lt.prototype.removeEventListener=function(c,d,f,g){Tw(this,c,d,f,g)};function vt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ut(d,c);else if(d instanceof ut)d.target=d.target||c;else{var C=d;d=new ut(g,c),w(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];C=$u(F,g,!0,d)&&C}if(F=d.g=c,C=$u(F,g,!0,d)&&C,C=$u(F,g,!1,d)&&C,f)for(A=0;A<f.length;A++)F=d.g=f[A],C=$u(F,g,!1,d)&&C}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Uu(f[g]);delete c.g[d],c.h--}}this.F=null},lt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},lt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function $u(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var Ee=F.listener,tt=F.ha||F.src;F.fa&&Np(c.i,F),C=Ee.call(tt,g)!==!1&&C}}return C&&!g.defaultPrevented}function Cw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function bw(c){c.g=Cw(()=>{c.g=null,c.i&&(c.i=!1,bw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class LP extends _r{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:bw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(c){_r.call(this),this.h=c,this.g={}}b(ua,_r);var Sw=[];function Aw(c){ge(c.g,function(d,f){this.g.hasOwnProperty(f)&&kp(d)},c),c.g={}}ua.prototype.N=function(){ua.aa.N.call(this),Aw(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vp=a.JSON.stringify,VP=a.JSON.parse,jP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function jp(){}jp.prototype.h=null;function Rw(c){return c.h||(c.h=c.i())}function Nw(){}var la={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Up(){ut.call(this,"d")}b(Up,ut);function Bp(){ut.call(this,"c")}b(Bp,ut);var fi={},Mw=null;function Hu(){return Mw=Mw||new lt}fi.La="serverreachability";function Pw(c){ut.call(this,fi.La,c)}b(Pw,ut);function da(c){let d=Hu();vt(d,new Pw(d))}fi.STAT_EVENT="statevent";function xw(c,d){ut.call(this,fi.STAT_EVENT,c),this.stat=d}b(xw,ut);function _t(c){let d=Hu();vt(d,new xw(d,c))}fi.Ma="timingevent";function kw(c,d){ut.call(this,fi.Ma,c),this.size=d}b(kw,ut);function ha(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function fa(){this.g=!0}fa.prototype.xa=function(){this.g=!1};function UP(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var F="",Ee=A.split("&"),tt=0;tt<Ee.length;tt++){var fe=Ee[tt].split("=");if(1<fe.length){var dt=fe[0];fe=fe[1];var ht=dt.split("_");F=2<=ht.length&&ht[1]=="type"?F+(dt+"="+fe+"&"):F+(dt+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function BP(c,d,f,g,C,A,F){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+F})}function Io(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+HP(c,f)+(g?" "+g:"")})}function $P(c,d){c.info(function(){return"TIMEOUT: "+d})}fa.prototype.info=function(){};function HP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return Vp(f)}catch{return d}}var zu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ow={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$p;function qu(){}b(qu,jp),qu.prototype.g=function(){return new XMLHttpRequest},qu.prototype.i=function(){return{}},$p=new qu;function Er(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fw}function Fw(){this.i=null,this.g="",this.h=!1}var Lw={},Hp={};function zp(c,d,f){c.L=1,c.v=Qu(Bn(d)),c.m=f,c.P=!0,Vw(c,null)}function Vw(c,d){c.F=Date.now(),Gu(c),c.A=Bn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Jw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new Fw,c.g=mT(c.j,f?d:null,!c.m),0<c.O&&(c.M=new LP(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(Sw[0]=C.toString()),C=Sw);for(var A=0;A<C.length;A++){var F=Ew(f,C[A],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),da(),UP(c.i,c.u,c.A,c.l,c.R,c.m)}Er.prototype.ca=function(c){c=c.target;let d=this.M;d&&$n(c)==3?d.j():this.Y(c)},Er.prototype.Y=function(c){try{if(c==this.g)e:{let ht=$n(this.g);var d=this.g.Ba();let Do=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||oT(this.g)))){this.J||ht!=4||d==7||(d==8||0>=Do?da(3):da(2)),qp(this);var f=this.g.Z();this.X=f;t:if(jw(this)){var g=oT(this.g);c="";var C=g.length,A=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),pa(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,BP(this.i,this.u,this.A,this.l,this.R,ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,tt=this.g;if((Ee=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ee)){var fe=Ee;break t}}fe=null}if(f=fe)Io(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gp(this,f);else{this.o=!1,this.s=3,_t(12),pi(this),pa(this);break e}}if(this.P){f=!0;let rn;for(;!this.J&&this.C<F.length;)if(rn=zP(this,F),rn==Hp){ht==4&&(this.s=4,_t(14),f=!1),Io(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Lw){this.s=4,_t(15),Io(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else Io(this.i,this.l,rn,null),Gp(this,rn);if(jw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||F.length!=0||this.h.h||(this.s=1,_t(16),f=!1),this.o=this.o&&f,!f)Io(this.i,this.l,F,"[Invalid Chunked Response]"),pi(this),pa(this);else if(0<F.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Jp(dt),dt.M=!0,_t(11))}}else Io(this.i,this.l,F,null),Gp(this,F);ht==4&&pi(this),this.o&&!this.J&&(ht==4?hT(this.j,this):(this.o=!1,Gu(this)))}else ax(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),pi(this),pa(this)}}}catch{}finally{}};function jw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zP(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Hp:(f=Number(d.substring(f,g)),isNaN(f)?Lw:(g+=1,g+f>d.length?Hp:(d=d.slice(g,g+f),c.C=g+f,d)))}Er.prototype.cancel=function(){this.J=!0,pi(this)};function Gu(c){c.S=Date.now()+c.I,Uw(c,c.I)}function Uw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ha(m(c.ba,c),d)}function qp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Er.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?($P(this.i,this.A),this.L!=2&&(da(),_t(17)),pi(this),this.s=2,pa(this)):Uw(this,this.S-c)};function pa(c){c.j.G==0||c.J||hT(c.j,c)}function pi(c){qp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Aw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Gp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Wp(f.h,c))){if(!c.K&&Wp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)el(f),Ju(f);else break e;Zp(f),_t(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ha(m(f.Za,f),6e3));if(1>=Hw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else mi(f,11)}else if((c.K||f.g==c)&&el(f),!W(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let fe=C[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let dt=fe[3];dt!=null&&(f.la=dt,f.j.info("VER="+f.la));let ht=fe[4];ht!=null&&(f.Aa=ht,f.j.info("SVER="+f.Aa));let Do=fe[5];Do!=null&&typeof Do=="number"&&0<Do&&(g=1.5*Do,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let rn=c.g;if(rn){let nl=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nl){var A=g.h;A.g||nl.indexOf("spdy")==-1&&nl.indexOf("quic")==-1&&nl.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Kp(A,A.h),A.h=null))}if(g.D){let Xp=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xp&&(g.ya=Xp,Te(g.I,g.D,Xp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=c;if(g.qa=gT(g,g.J?g.ia:null,g.W),F.K){zw(g.h,F);var Ee=F,tt=g.L;tt&&(Ee.I=tt),Ee.B&&(qp(Ee),Gu(Ee)),g.g=F}else lT(g);0<f.i.length&&Xu(f)}else fe[0]!="stop"&&fe[0]!="close"||mi(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?mi(f,7):Yp(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}da(4)}catch{}}var qP=class{constructor(c,d){this.g=c,this.map=d}};function Bw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $w(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hw(c){return c.h?1:c.g?c.g.size:0}function Wp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Kp(c,d){c.g?c.g.add(d):c.h=d}function zw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Bw.prototype.cancel=function(){if(this.i=qw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function qw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function GP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function WP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Gw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=WP(c),g=GP(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var Ww=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function gi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gi){this.h=c.h,Wu(this,c.j),this.o=c.o,this.g=c.g,Ku(this,c.s),this.l=c.l;var d=c.i,f=new ya;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Kw(this,f),this.m=c.m}else c&&(d=String(c).match(Ww))?(this.h=!1,Wu(this,d[1]||"",!0),this.o=ga(d[2]||""),this.g=ga(d[3]||"",!0),Ku(this,d[4]),this.l=ga(d[5]||"",!0),Kw(this,d[6]||"",!0),this.m=ga(d[7]||"")):(this.h=!1,this.i=new ya(null,this.h))}gi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ma(d,Qw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ma(d,Qw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ma(f,f.charAt(0)=="/"?ZP:YP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ma(f,XP)),c.join("")};function Bn(c){return new gi(c)}function Wu(c,d,f){c.j=f?ga(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ku(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Kw(c,d,f){d instanceof ya?(c.i=d,ex(c.i,c.h)):(f||(d=ma(d,JP)),c.i=new ya(d,c.h))}function Te(c,d,f){c.i.set(d,f)}function Qu(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ga(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ma(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,QP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function QP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Qw=/[#\/\?@]/g,YP=/[#\?:]/g,ZP=/[#\?]/g,JP=/[#\?@]/g,XP=/#/g;function ya(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ir(c){c.g||(c.g=new Map,c.h=0,c.i&&KP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ya.prototype,n.add=function(c,d){Ir(this),this.i=null,c=wo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Yw(c,d){Ir(c),d=wo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Zw(c,d){return Ir(c),d=wo(c,d),c.g.has(d)}n.forEach=function(c,d){Ir(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},n.na=function(){Ir(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},n.V=function(c){Ir(this);let d=[];if(typeof c=="string")Zw(this,c)&&(d=d.concat(this.g.get(wo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Ir(this),this.i=null,c=wo(this,c),Zw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Jw(c,d,f){Yw(c,d),0<f.length&&(c.i=null,c.g.set(wo(c,d),N(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var C=A;F[g]!==""&&(C+="="+encodeURIComponent(String(F[g]))),c.push(C)}}return this.i=c.join("&")};function wo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function ex(c,d){d&&!c.j&&(Ir(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(Yw(this,g),Jw(this,C,f))},c)),c.j=d}function tx(c,d){let f=new fa;if(a.Image){let g=new Image;g.onload=y(wr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(wr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(wr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(wr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function nx(c,d){let f=new fa,g=new AbortController,C=setTimeout(()=>{g.abort(),wr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?wr(f,"TestPingServer: ok",!0,d):wr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),wr(f,"TestPingServer: error",!1,d)})}function wr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function rx(){this.g=new jP}function ix(c,d,f){let g=f||"";try{Gw(c,function(C,A){let F=C;l(C)&&(F=Vp(C)),d.push(g+A+"="+encodeURIComponent(F))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function va(c){this.l=c.Ub||null,this.j=c.eb||!1}b(va,jp),va.prototype.g=function(){return new Yu(this.l,this.j)},va.prototype.i=function(c){return function(){return c}}({});function Yu(c,d){lt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Yu,lt),n=Yu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ea(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?_a(this):Ea(this),this.readyState==3&&Xw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,_a(this))},n.Qa=function(c){this.g&&(this.response=c,_a(this))},n.ga=function(){this.g&&_a(this)};function _a(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ea(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ea(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function eT(c){let d="";return ge(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Qp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=eT(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Te(c,d,f))}function Re(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Re,lt);var ox=/^https?$/i,sx=["POST","PUT"];n=Re.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$p.g(),this.v=this.o?Rw(this.o):Rw($p),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){tT(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sx,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iT(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){tT(this,A)}};function tT(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,nT(c),Zu(c)}function nT(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),Zu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zu(this,!0)),Re.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?rT(this):this.bb())},n.bb=function(){rT(this)};function rT(c){if(c.h&&typeof s<"u"&&(!c.v[1]||$n(c)!=4||c.Z()!=2)){if(c.u&&$n(c)==4)Cw(c.Ea,0,c);else if(vt(c,"readystatechange"),$n(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var C=String(c.D).match(Ww)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!ox.test(C?C.toLowerCase():"")}f=g}if(f)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var A=2<$n(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",nT(c)}}finally{Zu(c)}}}}function Zu(c,d){if(c.g){iT(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||vt(c,"ready");try{f.onreadystatechange=g}catch{}}}function iT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),VP(d)}};function oT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ax(c){let d={};c=(c.g&&2<=$n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(W(c[g]))continue;var f=D(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}T(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function sT(c){this.Aa=0,this.i=[],this.j=new fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,c),this.cb=Ia("retryDelaySeedMs",1e4,c),this.Wa=Ia("forwardChannelMaxRetries",2,c),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Bw(c&&c.concurrentRequestLimit),this.Da=new rx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=sT.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){_t(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=gT(this,null,this.W),Xu(this)};function Yp(c){if(aT(c),c.G==3){var d=c.U++,f=Bn(c.I);if(Te(f,"SID",c.K),Te(f,"RID",d),Te(f,"TYPE","terminate"),wa(c,f),d=new Er(c,c.j,d),d.L=2,d.v=Qu(Bn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=mT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Gu(d)}pT(c)}function Ju(c){c.g&&(Jp(c),c.g.cancel(),c.g=null)}function aT(c){Ju(c),c.u&&(a.clearTimeout(c.u),c.u=null),el(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Xu(c){if(!$w(c.h)&&!c.s){c.s=!0;var d=c.Ga;oa||_w(),sa||(oa(),sa=!0),Rp.add(d,c),c.B=0}}function cx(c,d){return Hw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ha(m(c.Ga,c,d),fT(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Er(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=uT(this,C,d),f=Bn(this.I),Te(f,"RID",c),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),wa(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(eT(A)))+"&"+d:this.m&&Qp(f,this.m,A)),Kp(this.h,C),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",d),Te(f,"SID","null"),C.T=!0,zp(C,f,null)):zp(C,f,d),this.G=2}}else this.G==3&&(c?cT(this,c):this.i.length==0||$w(this.h)||cT(this))};function cT(c,d){var f;d?f=d.l:f=c.U++;let g=Bn(c.I);Te(g,"SID",c.K),Te(g,"RID",f),Te(g,"AID",c.T),wa(c,g),c.m&&c.o&&Qp(g,c.m,c.o),f=new Er(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=uT(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Kp(c.h,f),zp(f,g,d)}function wa(c,d){c.H&&ge(c.H,function(f,g){Te(d,g,f)}),c.l&&Gw({},function(f,g){Te(d,g,f)})}function uT(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=C[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let Ee=!0;for(let tt=0;tt<f;tt++){let fe=C[tt].g,dt=C[tt].map;if(fe-=A,0>fe)A=Math.max(0,C[tt].g-100),Ee=!1;else try{ix(dt,F,"req"+fe+"_")}catch{g&&g(dt)}}if(Ee){g=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function lT(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;oa||_w(),sa||(oa(),sa=!0),Rp.add(d,c),c.v=0}}function Zp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ha(m(c.Fa,c),fT(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,dT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ha(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Ju(this),dT(this))};function Jp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function dT(c){c.g=new Er(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Bn(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),wa(c,d),c.m&&c.o&&Qp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Qu(Bn(d)),f.m=null,f.P=!0,Vw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Ju(this),Zp(this),_t(19))};function el(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function hT(c,d){var f=null;if(c.g==d){el(c),Jp(c),c.g=null;var g=2}else if(Wp(c.h,d))f=d.D,zw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Hu(),vt(g,new kw(g,f)),Xu(c)}else lT(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&cx(c,d)||g==2&&Zp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:mi(c,5);break;case 4:mi(c,10);break;case 3:mi(c,6);break;default:mi(c,2)}}}function fT(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function mi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new gi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wu(g,"https"),Qu(g),C?tx(g.toString(),f):nx(g.toString(),f)}else _t(2);c.G=0,c.l&&c.l.sa(d),pT(c),aT(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function pT(c){if(c.G=0,c.ka=[],c.l){let d=qw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function gT(c,d,f){var g=f instanceof gi?Bn(f):new gi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Ku(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new gi(null);g&&Wu(A,g),d&&(A.g=d),C&&Ku(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Te(g,f,d),Te(g,"VER",c.la),wa(c,g),g}function mT(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Re(new va({eb:f})):new Re(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yT(){}n=yT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function tl(){}tl.prototype.g=function(c,d){return new Ot(c,d)};function Ot(c,d){lt.call(this),this.g=new sT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new To(this)}b(Ot,lt),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Yp(this.g)},Ot.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Vp(c),c=f);d.i.push(new qP(d.Ya++,c)),d.G==3&&Xu(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Yp(this.g),delete this.g,Ot.aa.N.call(this)};function vT(c){Up.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b(vT,Up);function _T(){Bp.call(this),this.status=1}b(_T,Bp);function To(c){this.g=c}b(To,yT),To.prototype.ua=function(){vt(this.g,"a")},To.prototype.ta=function(c){vt(this.g,new vT(c))},To.prototype.sa=function(c){vt(this.g,new _T)},To.prototype.ra=function(){vt(this.g,"b")},tl.prototype.createWebChannel=tl.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,j_=dr.createWebChannelTransport=function(){return new tl},V_=dr.getStatEventTarget=function(){return Hu()},L_=dr.Event=fi,_f=dr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zu.NO_ERROR=0,zu.TIMEOUT=8,zu.HTTP_ERROR=6,du=dr.ErrorCode=zu,Ow.COMPLETE="complete",F_=dr.EventType=Ow,Nw.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",lt.prototype.listen=lt.prototype.K,As=dr.WebChannel=Nw,vH=dr.FetchXmlHttpFactory=va,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,O_=dr.XhrIo=Re}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});var mR="@firebase/firestore",yR="4.7.17";var Je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var Zs="11.9.0";var ho=new Mn("@firebase/firestore");function Rs(){return ho.logLevel}function j(n,...e){if(ho.logLevel<=ae.DEBUG){let t=e.map(NI);ho.debug(`Firestore (${Zs}): ${n}`,...t)}}function pr(n,...e){if(ho.logLevel<=ae.ERROR){let t=e.map(NI);ho.error(`Firestore (${Zs}): ${n}`,...t)}}function Fs(n,...e){if(ho.logLevel<=ae.WARN){let t=e.map(NI);ho.warn(`Firestore (${Zs}): ${n}`,...t)}}function NI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function G(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,lN(n,r,t)}function lN(n,e,t){let r=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw pr(r),new Error(r)}function ve(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||lN(e,i,r)}function Z(n,e){return n}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends qt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var hr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var bf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},z_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Je.UNAUTHENTICATED))}shutdown(){}},q_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},G_=class{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ve(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new bf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new Je(e)}},W_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},K_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new W_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Sf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Q_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ve(this.o===void 0,3512);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Sf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _H(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function dN(){return new TextEncoder}var Af=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=_H(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ie(n,e){return n<e?-1:n>e?1:0}function Y_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ie(r,i);{let o=dN(),s=EH(o.encode(vR(n,t)),o.encode(vR(e,t)));return s!==0?s:ie(r,i)}}t+=r>65535?2:1}return ie(n.length,e.length)}function vR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function EH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ie(n[t],e[t]);return ie(n.length,e.length)}function Ls(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var _R=-62135596800,ER=1e6,ct=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ER);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_R)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ER}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-_R;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ct(0,0))}static max(){return new n(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var IR="__name__",Rf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&G(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&G(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ie(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Y_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}},Ae=class n extends Rf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},IH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kt=class n extends Rf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return IH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IR}static keyField(){return new n([IR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var z=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ae.fromString(e))}static fromName(e){return new n(Ae.fromString(e).popFirst(5))}static empty(){return new n(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ae.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ae(e.slice()))}};var yu=-1,Z_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Z_.UNKNOWN_ID=-1;function wH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new fo(i,z.empty(),e)}function TH(n){return new fo(n.readTime,n.key,yu)}var fo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ee.min(),z.empty(),yu)}static max(){return new n(ee.max(),z.empty(),yu)}};function DH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=z.comparator(n.documentKey,e.documentKey),t!==0?t:ie(n.largestBatchId,e.largestBatchId))}var CH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",J_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Js(n){return I(this,null,function*(){if(n.code!==M.FAILED_PRECONDITION||n.message!==CH)throw n;j("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function bH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xs(n){return n.name==="IndexedDbTransactionError"}var MI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),PI=-1;function ap(n){return n==null}function vu(n){return n===0&&1/n==-1/0}function SH(n){return typeof n=="number"&&Number.isInteger(n)&&!vu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var hN="";function AH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wR(e)),e=RH(n.get(t),e);return wR(e)}function RH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case hN:t+="";break;default:t+=o}}return t}function wR(n){return n+hN+""}var NH="remoteDocuments",fN="owner";var pN="mutationQueues";var gN="mutations";var mN="documentMutations",MH="remoteDocumentsV14";var yN="remoteDocumentGlobal";var vN="targets";var _N="targetDocuments";var EN="targetGlobal",IN="collectionParents";var wN="clientMetadata";var TN="bundles";var DN="namedQueries";var PH="indexConfiguration";var xH="indexState";var kH="indexEntries";var CN="documentOverlays";var OH="globals";var FH=[pN,gN,mN,NH,vN,fN,EN,_N,wN,yN,IN,TN,DN],Goe=[...FH,CN],LH=[pN,gN,mN,MH,vN,fN,EN,_N,wN,yN,IN,TN,DN,CN],VH=LH,jH=[...VH,PH,xH,kH];var Woe=[...jH,OH];function TR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function li(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Pe=class n{constructor(e,t){this.comparator=e,this.root=t||On.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xs(this.root,e,this.comparator,!0)}},xs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},On=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new On(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xe=class n{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nf(this.data.getIterator())}getIteratorFrom(e){return new Nf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Nf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var nn=class n{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Xe(Kt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Mf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Mf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var UH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(n){if(ve(!!n,39018),typeof n=="string"){let e=0,t=UH.exec(n);if(ve(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mr(n){return typeof n=="string"?yt.fromBase64String(n):yt.fromUint8Array(n)}var SN="server_timestamp",AN="__type__",RN="__previous_value__",NN="__local_write_time__";function xI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AN])===null||t===void 0?void 0:t.stringValue)===SN}function cp(n){let e=n.mapValue.fields[RN];return xI(e)?cp(e):e}function _u(n){let e=gr(n.mapValue.fields[NN].timestampValue);return new ct(e.seconds,e.nanos)}var X_=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Pf="(default)",xf=class n{constructor(e,t){this.projectId=e,this.database=t||Pf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Pf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var kI="__type__",MN="__max__",Ef={mapValue:{fields:{__type__:{stringValue:MN}}}},OI="__vector__",Vs="value";function si(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xI(n)?4:xN(n)?9007199254740991:PN(n)?10:11:G(28295,{value:n})}function Vn(n,e){if(n===e)return!0;let t=si(n);if(t!==si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _u(n).isEqual(_u(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=gr(i.timestampValue),a=gr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return mr(i.bytesValue).isEqual(mr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Se(i.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Se(i.integerValue)===Se(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Se(i.doubleValue),a=Se(o.doubleValue);return s===a?vu(s)===vu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ls(n.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(TR(s)!==TR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Vn(s[u],a[u])))return!1;return!0}(n,e);default:return G(52216,{left:n})}}function Eu(n,e){return(n.values||[]).find(t=>Vn(t,e))!==void 0}function js(n,e){if(n===e)return 0;let t=si(n),r=si(e);if(t!==r)return ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ie(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Se(o.integerValue||o.doubleValue),u=Se(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return DR(n.timestampValue,e.timestampValue);case 4:return DR(_u(n),_u(e));case 5:return Y_(n.stringValue,e.stringValue);case 6:return function(o,s){let a=mr(o),u=mr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ie(a[l],u[l]);if(h!==0)return h}return ie(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ie(Se(o.latitude),Se(s.latitude));return a!==0?a:ie(Se(o.longitude),Se(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return CR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Vs])===null||a===void 0?void 0:a.arrayValue,b=(u=m[Vs])===null||u===void 0?void 0:u.arrayValue,N=ie(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:CR(y,b)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ef.mapValue&&s===Ef.mapValue)return 0;if(o===Ef.mapValue)return 1;if(s===Ef.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Y_(u[p],h[p]);if(m!==0)return m;let y=js(a[u[p]],l[h[p]]);if(y!==0)return y}return ie(u.length,h.length)}(n.mapValue,e.mapValue);default:throw G(23264,{Pe:t})}}function DR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ie(n,e);let t=gr(n),r=gr(e),i=ie(t.seconds,r.seconds);return i!==0?i:ie(t.nanos,r.nanos)}function CR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=js(t[i],r[i]);if(o)return o}return ie(t.length,r.length)}function Us(n){return eE(n)}function eE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=gr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return mr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return z.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=eE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${eE(t.fields[s])}`;return i+"}"}(n.mapValue):G(61005,{value:n})}function Tf(n){switch(si(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=cp(n);return e?16+Tf(e):16;case 5:return 2*n.stringValue.length;case 6:return mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Tf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return li(r.fields,(o,s)=>{i+=o.length+Tf(s)}),i}(n.mapValue);default:throw G(13486,{value:n})}}function bR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tE(n){return!!n&&"integerValue"in n}function FI(n){return!!n&&"arrayValue"in n}function SR(n){return!!n&&"nullValue"in n}function AR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Df(n){return!!n&&"mapValue"in n}function PN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kI])===null||t===void 0?void 0:t.stringValue)===OI}function fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return li(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=fu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===MN}var Qoe={mapValue:{fields:{[kI]:{stringValue:OI},[Vs]:{arrayValue:{}}}}};var Wt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Df(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=Kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=fu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Df(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Df(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){li(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(fu(this.value))}};function kN(n){let e=[];return li(n.fields,(t,r)=>{let i=new Kt([t]);if(Df(r)){let o=kN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new nn(e)}var vn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),Wt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),Wt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),Wt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Bs=class{constructor(e,t){this.position=e,this.inclusive=t}};function RR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),t.key):r=js(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function NR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vn(n.position[t],e.position[t]))return!1;return!0}var $s=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function BH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var kf=class{},Ue=class n extends kf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rE(e,t,r):t==="array-contains"?new sE(e,r):t==="in"?new aE(e,r):t==="not-in"?new cE(e,r):t==="array-contains-any"?new uE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new iE(e,r):new oE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(js(t,this.value)):t!==null&&si(this.value)===si(t)&&this.matchesComparison(js(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_n=class n extends kf{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return ON(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function ON(n){return n.op==="and"}function FN(n){return $H(n)&&ON(n)}function $H(n){for(let e of n.filters)if(e instanceof _n)return!1;return!0}function nE(n){if(n instanceof Ue)return n.field.canonicalString()+n.op.toString()+Us(n.value);if(FN(n))return n.filters.map(e=>nE(e)).join(",");{let e=n.filters.map(t=>nE(t)).join(",");return`${n.op}(${e})`}}function LN(n,e){return n instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)}(n,e):n instanceof _n?function(r,i){return i instanceof _n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&LN(s,i.filters[a]),!0):!1}(n,e):void G(19439)}function VN(n){return n instanceof Ue?function(t){return`${t.field.canonicalString()} ${t.op} ${Us(t.value)}`}(n):n instanceof _n?function(t){return t.op.toString()+" {"+t.getFilters().map(VN).join(" ,")+"}"}(n):"Filter"}var rE=class extends Ue{constructor(e,t,r){super(e,t,r),this.key=z.fromName(r.referenceValue)}matches(e){let t=z.comparator(e.key,this.key);return this.matchesComparison(t)}},iE=class extends Ue{constructor(e,t){super(e,"in",t),this.keys=jN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},oE=class extends Ue{constructor(e,t){super(e,"not-in",t),this.keys=jN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function jN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>z.fromName(r.referenceValue))}var sE=class extends Ue{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return FI(t)&&Eu(t.arrayValue,this.value)}},aE=class extends Ue{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Eu(this.value.arrayValue,t)}},cE=class extends Ue{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Eu(this.value.arrayValue,t)}},uE=class extends Ue{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!FI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Eu(this.value.arrayValue,r))}};var lE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function MR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new lE(n,e,t,r,i,o,s)}function LI(n){let e=Z(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ap(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Us(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Us(r)).join(",")),e.Ie=t}return e.Ie}function VI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!LN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!NR(n.startAt,e.startAt)&&NR(n.endAt,e.endAt)}function dE(n){return z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var po=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function HH(n,e,t,r,i,o,s,a){return new po(n,e,t,r,i,o,s,a)}function jI(n){return new po(n)}function PR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UN(n){return n.collectionGroup!==null}function pu(n){let e=Z(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Xe(Kt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new $s(o,r))}),t.has(Kt.keyField().canonicalString())||e.Ee.push(new $s(Kt.keyField(),r))}return e.Ee}function Fn(n){let e=Z(n);return e.de||(e.de=zH(e,pu(n))),e.de}function zH(n,e){if(n.limitType==="F")return MR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new $s(i.field,o)});let t=n.endAt?new Bs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Bs(n.startAt.position,n.startAt.inclusive):null;return MR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function hE(n,e){let t=n.filters.concat([e]);return new po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function fE(n,e,t){return new po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function up(n,e){return VI(Fn(n),Fn(e))&&n.limitType===e.limitType}function BN(n){return`${LI(Fn(n))}|lt:${n.limitType}`}function Ns(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>VN(i)).join(", ")}]`),ap(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Us(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Us(i)).join(",")),`Target(${r})`}(Fn(n))}; limitType=${n.limitType})`}function lp(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of pu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=RR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,pu(r),i)||r.endAt&&!function(s,a,u){let l=RR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,pu(r),i))}(n,e)}function qH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $N(n){return(e,t)=>{let r=!1;for(let i of pu(n)){let o=GH(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function GH(n,e,t){let r=n.field.isKeyField()?z.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?js(u,l):G(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G(19790,{direction:n.dir})}}var yr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return bN(this.inner)}size(){return this.innerSize}};var WH=new Pe(z.comparator);function vr(){return WH}var HN=new Pe(z.comparator);function hu(...n){let e=HN;for(let t of n)e=e.insert(t.key,t);return e}function zN(n){let e=HN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function co(){return gu()}function qN(){return gu()}function gu(){return new yr(n=>n.toString(),(n,e)=>n.isEqual(e))}var KH=new Pe(z.comparator),QH=new Xe(z.comparator);function ue(...n){let e=QH;for(let t of n)e=e.add(t);return e}var YH=new Xe(ie);function ZH(){return YH}function UI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(e)?"-0":e}}function GN(n){return{integerValue:""+n}}function JH(n,e){return SH(e)?GN(e):UI(n,e)}var Hs=class{constructor(){this._=void 0}};function XH(n,e,t){return n instanceof zs?function(i,o){let s={fields:{[AN]:{stringValue:SN},[NN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&xI(o)&&(o=cp(o)),o&&(s.fields[RN]=o),{mapValue:s}}(t,e):n instanceof go?KN(n,e):n instanceof mo?QN(n,e):function(i,o){let s=WN(i,o),a=xR(s)+xR(i.Re);return tE(s)&&tE(i.Re)?GN(a):UI(i.serializer,a)}(n,e)}function e4(n,e,t){return n instanceof go?KN(n,e):n instanceof mo?QN(n,e):t}function WN(n,e){return n instanceof qs?function(r){return tE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var zs=class extends Hs{},go=class extends Hs{constructor(e){super(),this.elements=e}};function KN(n,e){let t=YN(e);for(let r of n.elements)t.some(i=>Vn(i,r))||t.push(r);return{arrayValue:{values:t}}}var mo=class extends Hs{constructor(e){super(),this.elements=e}};function QN(n,e){let t=YN(e);for(let r of n.elements)t=t.filter(i=>!Vn(i,r));return{arrayValue:{values:t}}}var qs=class extends Hs{constructor(e,t){super(),this.serializer=e,this.Re=t}};function xR(n){return Se(n.integerValue||n.doubleValue)}function YN(n){return FI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function t4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof go&&i instanceof go||r instanceof mo&&i instanceof mo?Ls(r.elements,i.elements,Vn):r instanceof qs&&i instanceof qs?Vn(r.Re,i.Re):r instanceof zs&&i instanceof zs}(n.transform,e.transform)}var pE=class{constructor(e,t){this.version=e,this.transformResults=t}},fr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Cf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Gs=class{};function ZN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Iu(n.key,fr.none()):new yo(n.key,n.data,fr.none());{let t=n.data,r=Wt.empty(),i=new Xe(Kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new jn(n.key,r,new nn(i.toArray()),fr.none())}}function n4(n,e,t){n instanceof yo?function(i,o,s){let a=i.value.clone(),u=OR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof jn?function(i,o,s){if(!Cf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=OR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(JN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function mu(n,e,t,r){return n instanceof yo?function(o,s,a,u){if(!Cf(o.precondition,s))return a;let l=o.value.clone(),h=FR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof jn?function(o,s,a,u){if(!Cf(o.precondition,s))return a;let l=FR(o.fieldTransforms,u,s),h=s.data;return h.setAll(JN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Cf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function r4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=WN(r.transform,i||null);o!=null&&(t===null&&(t=Wt.empty()),t.set(r.field,o))}return t||null}function kR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ls(r,i,(o,s)=>t4(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var yo=class extends Gs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},jn=class extends Gs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function JN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function OR(n,e,t){let r=new Map;ve(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,e4(s,a,t[i]))}return r}function FR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,XH(o,s,e))}return r}var Iu=class extends Gs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},gE=class extends Gs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var mE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&n4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=mu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=mu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=qN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=ZN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,(t,r)=>kR(t,r))&&Ls(this.baseMutations,e.baseMutations,(t,r)=>kR(t,r))}},yE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ve(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return KH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var vE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var _E=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ve,he;function i4(n){switch(n){case M.OK:return G(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return G(15467,{code:n})}}function XN(n){if(n===void 0)return pr("GRPC error has no .code"),M.UNKNOWN;switch(n){case Ve.OK:return M.OK;case Ve.CANCELLED:return M.CANCELLED;case Ve.UNKNOWN:return M.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return M.INTERNAL;case Ve.UNAVAILABLE:return M.UNAVAILABLE;case Ve.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ve.NOT_FOUND:return M.NOT_FOUND;case Ve.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ve.ABORTED:return M.ABORTED;case Ve.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ve.DATA_LOSS:return M.DATA_LOSS;default:return G(39323,{code:n})}}(he=Ve||(Ve={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var LR=null;var o4=new lr([4294967295,4294967295],0);function VR(n){let e=dN().encode(n),t=new k_;return t.update(e),new Uint8Array(t.digest())}function jR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new lr([t,r],0),new lr([i,o],0)]}var EE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new uo(`Invalid padding: ${t}`);if(r<0)throw new uo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new uo(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=lr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(lr.fromNumber(r)));return i.compare(o4)===1&&(i=new lr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=VR(e),[r,i]=jR(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=VR(e),[r,i]=jR(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},uo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Of=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ee.min(),i,new Pe(ie),vr(),ue())}},wu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ue(),ue(),ue())}};var ks=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Ff=class{constructor(e,t){this.targetId=e,this.Ce=t}},Lf=class{constructor(e,t,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Vf=class{constructor(){this.Fe=0,this.Me=UR(),this.xe=yt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ue(),t=ue(),r=ue();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G(38017,{changeType:o})}}),new wu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=UR()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},IE=class{constructor(e){this.ze=e,this.je=new Map,this.He=vr(),this.Je=If(),this.Ye=If(),this.Ze=new Pe(ie)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:G(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(dE(o))if(r===0){let s=new z(o.path);this.tt(t,s,vn.newNoDocument(s,ee.min()))}else ve(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}LR?.ht(function(h,p,m,y,b){var N,R,O,W,$,pe;let et={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ge=p.unchangedNames;return ge&&(et.bloomFilter={applied:b===0,hashCount:(N=ge?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(W=(O=(R=ge?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&W!==void 0?W:0,padding:(pe=($=ge?.bits)===null||$===void 0?void 0:$.padding)!==null&&pe!==void 0?pe:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),et}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=mr(r).toUint8Array()}catch(u){if(u instanceof Mf)return Fs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new EE(s,i,o)}catch(u){return Fs(u instanceof uo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&dE(a.target)){let u=new z(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,vn.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=ue();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Of(e,t,this.Ze,this.He,r);return this.He=vr(),this.Je=If(),this.Ye=If(),this.Ze=new Pe(ie),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Vf,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Xe(ie),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Xe(ie),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||j("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Vf),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function If(){return new Pe(z.comparator)}function UR(){return new Pe(z.comparator)}var s4={asc:"ASCENDING",desc:"DESCENDING"},a4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c4={and:"AND",or:"OR"},wE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function TE(n,e){return n.useProto3Json||ap(e)?e:{value:e}}function jf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function u4(n,e){return jf(n,e.toTimestamp())}function Ln(n){return ve(!!n,49232),ee.fromTimestamp(function(t){let r=gr(t);return new ct(r.seconds,r.nanos)}(n))}function BI(n,e){return DE(n,e).canonicalString()}function DE(n,e){let t=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function tM(n){let e=Ae.fromString(n);return ve(sM(e),10190,{key:e.toString()}),e}function CE(n,e){return BI(n.databaseId,e.path)}function U_(n,e){let t=tM(e);if(t.get(1)!==n.databaseId.projectId)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new z(rM(t))}function nM(n,e){return BI(n.databaseId,e)}function l4(n){let e=tM(n);return e.length===4?Ae.emptyPath():rM(e)}function bE(n){return new Ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rM(n){return ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function BR(n,e,t){return{name:CE(n,e),fields:t.value.mapValue.fields}}function d4(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ve(h===void 0||typeof h=="string",58123),yt.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),yt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:XN(l.code);return new U(h,l.message||"")}(s);t=new Lf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=U_(n,r.document.name),o=Ln(r.document.updateTime),s=r.document.createTime?Ln(r.document.createTime):ee.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=vn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ks(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=U_(n,r.document),o=r.readTime?Ln(r.readTime):ee.min(),s=vn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ks([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=U_(n,r.document),o=r.removedTargetIds||[];t=new ks([],o,i,null)}else{if(!("filter"in e))return G(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new _E(i,o),a=r.targetId;t=new Ff(a,s)}}return t}function h4(n,e){let t;if(e instanceof yo)t={update:BR(n,e.key,e.value)};else if(e instanceof Iu)t={delete:CE(n,e.key)};else if(e instanceof jn)t={update:BR(n,e.key,e.data),updateMask:I4(e.fieldMask)};else{if(!(e instanceof gE))return G(16599,{ft:e.type});t={verify:CE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof go)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qs)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw G(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:u4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G(27497)}(n,e.precondition)),t}function f4(n,e){return n&&n.length>0?(ve(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Ln(i.updateTime):Ln(o);return s.isEqual(ee.min())&&(s=Ln(o)),new pE(s,i.transformResults||[])}(t,e))):[]}function p4(n,e){return{documents:[nM(n,e.path)]}}function g4(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=nM(n,i);let o=function(l){if(l.length!==0)return oM(_n.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Ms(m.field),direction:v4(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=TE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function m4(n){let e=l4(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ve(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=iM(p);return m instanceof _n&&FN(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(b){return new $s(Ps(b.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,ap(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Bs(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Bs(y,m)}(t.endAt)),HH(e,i,s,o,a,"F",u,l)}function y4(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ps(t.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ps(t.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ps(t.unaryFilter.field);return Ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ps(t.unaryFilter.field);return Ue.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ue.create(Ps(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _n.create(t.compositeFilter.filters.map(r=>iM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G(1026)}}(t.compositeFilter.op))}(n):G(30097,{filter:n})}function v4(n){return s4[n]}function _4(n){return a4[n]}function E4(n){return c4[n]}function Ms(n){return{fieldPath:n.canonicalString()}}function Ps(n){return Kt.fromServerFormat(n.fieldPath)}function oM(n){return n instanceof Ue?function(t){if(t.op==="=="){if(AR(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NAN"}};if(SR(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(AR(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NOT_NAN"}};if(SR(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(t.field),op:_4(t.op),value:t.value}}}(n):n instanceof _n?function(t){let r=t.getFilters().map(i=>oM(i));return r.length===1?r[0]:{compositeFilter:{op:E4(t.op),filters:r}}}(n):G(54877,{filter:n})}function I4(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Tu=class n{constructor(e,t,r,i,o=ee.min(),s=ee.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var SE=class{constructor(e){this.wt=e}};function w4(n){let e=m4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fE(e,e.limit,"L"):e}var Uf=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),vu(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=gr(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(mr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?xN(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):PN(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):G(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Vs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Se(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),z.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Uf.Wt=new Uf;var AE=class{constructor(){this.Cn=new RE}addToCollectionParentIndex(e,t){return this.Cn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(fo.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},RE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xe(Ae.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Ae.comparator)).toArray()}};var Yoe=new Uint8Array(0);var $R={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aM=41943040,tn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(aM,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);var Du=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var HR="LruGarbageCollector",T4=1048576;function zR([n,e],[t,r]){let i=ie(n,t);return i===0?ie(e,r):i}var NE=class{constructor(e){this.Er=e,this.buffer=new Xe(zR),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();zR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},ME=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){j(HR,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>I(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xs(t)?j(HR,"Ignoring IndexedDB error during garbage collection: ",t):yield Js(t)}yield this.mr(3e5)}))}},PE=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(MI.le);let r=new NE(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve($R)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$R):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Rs()<=ae.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function D4(n,e){return new PE(n,e)}var xE=class{constructor(){this.changes=new yr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var kE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var OE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&mu(r.mutation,i,nn.empty(),ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){let i=co();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=hu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=co();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=vr(),s=gu(),a=function(){return gu()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof jn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),mu(h.mutation,l,h.mutation.getFieldMask(),ct.now())):s.set(l.key,nn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new kE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=gu(),i=new Pe((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||nn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=qN();h.forEach(m=>{if(!o.has(m)){let y=ZN(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):UN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(co()),a=yu,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:zN(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next(r=>{let i=hu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=hu();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=function(p,m){return new po(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,vn.newInvalidDocument(h)))});let a=hu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&mu(h.mutation,l,nn.empty(),ct.now()),lp(t,l)&&(a=a.insert(u,l))}),a})}};var FE=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return x.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ln(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:w4(i.bundledQuery),readTime:Ln(i.readTime)}}(t)),x.resolve()}};var LE=class{constructor(){this.overlays=new Pe(z.comparator),this.Qr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=co();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=co(),o=t.length+1,s=new z(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Pe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=co(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=co(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vE(t,r));let o=this.Qr.get(t);o===void 0&&(o=ue(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var VE=class{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Cu=class{constructor(){this.$r=new Xe(je.Ur),this.Kr=new Xe(je.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new je(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new je(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new z(new Ae([])),r=new je(t,e),i=new je(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new z(new Ae([])),r=new je(t,e),i=new je(t,e+1),o=ue();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new je(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},je=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return z.comparator(e.key,t.key)||ie(e.Zr,t.Zr)}static Wr(e,t){return ie(e.Zr,t.Zr)||z.comparator(e.key,t.key)}};var jE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Xe(je.Ur)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new mE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new je(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?PI:this.nr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new je(t,0),i=new je(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xe(ie);return t.forEach(i=>{let o=new je(i,0),s=new je(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),x.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new je(new z(o),0),a=new Xe(ie);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),x.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ve(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return x.forEach(t.mutations,i=>{let o=new je(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new je(t,0),i=this.Xr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var UE=class{constructor(e){this.ii=e,this.docs=function(){return new Pe(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let r=vr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=vr(),s=t.path,a=new z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||DH(TH(h),r)<=0||(i.has(h.key)||lp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){G(9500)}si(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new BE(this)}getSize(e){return x.resolve(this.size)}},BE=class extends xE{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var $E=class{constructor(e){this.persistence=e,this.oi=new yr(t=>LI(t),VI),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this._i=0,this.ai=new Cu,this.targetCount=0,this.ui=Du.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),x.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new Du(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Tr(t),x.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.ai.containsKey(t))}};var Bf=class{constructor(e,t){this.ci={},this.overlays={},this.li=new MI(0),this.hi=!1,this.hi=!0,this.Pi=new VE,this.referenceDelegate=e(this),this.Ti=new $E(this),this.indexManager=new AE,this.remoteDocumentCache=function(i){return new UE(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new SE(t),this.Ei=new FE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new jE(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){j("MemoryPersistence","Starting transaction:",e);let i=new HE(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return x.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},HE=class extends J_{constructor(e){super(),this.currentSequenceNumber=e}},zE=class n{constructor(e){this.persistence=e,this.Vi=new Cu,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw G(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.gi,r=>{let i=z.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,ee.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return x.or([()=>x.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},$f=class n{constructor(e,t){this.persistence=e,this.yi=new yr(r=>AH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=D4(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return x.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tf(e.data.value)),t}Dr(e,t,r){return x.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var qE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=ue(),i=ue();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var GE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var WE=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return U0()?8:bH(Ye())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new GE;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Rs()<=ae.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Ns(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),x.resolve()):(Rs()<=ae.DEBUG&&j("QueryEngine","Query:",Ns(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Rs()<=ae.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Ns(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fn(t))):x.resolve())}ws(e,t){if(PR(t))return x.resolve(null);let r=Fn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=fE(t,null,"F"),r=Fn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(t,a);return this.Cs(t,l,s,u.readTime)?this.ws(e,fE(t,null,"F")):this.Fs(e,l,t,u)}))})))}bs(e,t,r,i){return PR(t)||i.isEqual(ee.min())?x.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?x.resolve(null):(Rs()<=ae.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(t)),this.Fs(e,s,t,wH(i,yu)).next(a=>a))})}vs(e,t){let r=new Xe($N(e));return t.forEach((i,o)=>{lp(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Rs()<=ae.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Ns(t)),this.ys.getDocumentsMatchingQuery(e,t,fo.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var $I="LocalStore",C4=3e8,KE=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Pe(ie),this.Os=new yr(o=>LI(o),VI),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OE(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function b4(n,e,t,r){return new KE(n,e,t,r)}function cM(n,e){return I(this,null,function*(){let t=Z(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function S4(n,e){let t=Z(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=x.resolve();return m.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(N=>{let R=l.docVersions.get(b);ve(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uM(n){let e=Z(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function A4(n,e){let t=Z(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(yt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,O){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=C4?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,y,h)&&a.push(t.Ti.updateTargetData(o,y))});let u=vr(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(R4(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(ee.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.xs=i,o))}function R4(n,e,t){let r=ue(),i=ue();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=vr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):j($I,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function N4(n,e){let t=Z(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=PI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M4(n,e){let t=Z(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Tu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function QE(n,e,t){return I(this,null,function*(){let r=Z(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Xs(s))throw s;j($I,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function qR(n,e,t){let r=Z(n),i=ee.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Z(u),m=p.Os.get(h);return m!==void 0?x.resolve(p.xs.get(m)):p.Ti.getTargetData(l,h)}(r,s,Fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:ee.min(),t?o:ue())).next(a=>(P4(r,qH(e),a),{documents:a,$s:o})))}function P4(n,e,t){let r=n.Ns.get(e)||ee.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Hf=class{constructor(){this.activeTargetIds=ZH()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var YE=class{constructor(){this.xo=new Hf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Hf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ZE=class{No(e){}shutdown(){}};var GR="ConnectivityMonitor",zf=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){j(GR,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){j(GR,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var wf=null;function JE(){return wf===null?wf=function(){return 268435456+Math.round(2147483648*Math.random())}():wf++,"0x"+wf.toString(16)}var B_="RestConnection",x4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},XE=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Pf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=JE(),a=this.jo(e,t.toUriEncodedString());j(B_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=Yr(l);return this.Jo(e,a,u,r,h).then(p=>(j(B_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Fs(B_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=x4[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var eI=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var mt="WebChannelConnection",tI=class extends XE{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=JE();return new Promise((a,u)=>{let l=new O_;l.setWithCredentials(!0),l.listenOnce(F_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case du.NO_ERROR:let p=l.getResponseJson();j(mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case du.TIMEOUT:j(mt,`RPC '${e}' ${s} timed out`),u(new U(M.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:let m=l.getStatus();if(j(mt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let N=function(O){let W=O.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(W)>=0?W:M.UNKNOWN}(b.status);u(new U(N,b.message))}else u(new U(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new U(M.UNAVAILABLE,"Connection failed."));break;default:G(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{j(mt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);j(mt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=JE(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=j_(),a=V_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");j(mt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let m=!1,y=!1,b=new eI({Zo:R=>{y?j(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(j(mt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(mt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),N=(R,O,W)=>{R.listen(O,$=>{try{W($)}catch(pe){setTimeout(()=>{throw pe},0)}})};return N(p,As.EventType.OPEN,()=>{y||(j(mt,`RPC '${e}' stream ${i} transport opened.`),b.__())}),N(p,As.EventType.CLOSE,()=>{y||(y=!0,j(mt,`RPC '${e}' stream ${i} transport closed`),b.u_(),this.d_(p))}),N(p,As.EventType.ERROR,R=>{y||(y=!0,Fs(mt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),b.u_(new U(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,As.EventType.MESSAGE,R=>{var O;if(!y){let W=R.data[0];ve(!!W,16349);let $=W,pe=$?.error||((O=$[0])===null||O===void 0?void 0:O.error);if(pe){j(mt,`RPC '${e}' stream ${i} received error:`,pe);let et=pe.status,ge=function(E){let w=Ve[E];if(w!==void 0)return XN(w)}(et),T=pe.message;ge===void 0&&(ge=M.INTERNAL,T="Unknown error status: "+et+" with message "+pe.message),y=!0,b.u_(new U(ge,T)),p.close()}else j(mt,`RPC '${e}' stream ${i} received:`,W),b.c_(W)}}),N(a,L_.STAT_EVENT,R=>{R.stat===_f.PROXY?j(mt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===_f.NOPROXY&&j(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function $_(){return typeof document<"u"?document:null}function dp(n){return new wE(n,!0)}var qf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var WR="PersistentStream",Gf=class{constructor(e,t,r,i,o,s,a,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new qf(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return I(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return I(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return I(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new U(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>I(this,null,function*(){this.state=0,this.start()}))}j_(e){return j(WR,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(j(WR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},nI=class extends Gf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=d4(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Ln(s.readTime):ee.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=bE(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=dE(u)?{documents:p4(o,u)}:{query:g4(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=eM(o,s.resumeToken);let l=TE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=jf(o,s.snapshotVersion.toTimestamp());let l=TE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=y4(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=bE(this.serializer),t.removeTarget=e,this.Q_(t)}},rI=class extends Gf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=f4(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=bE(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>h4(this.serializer,r))};this.Q_(t)}};var iI=class{},oI=class extends iI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,DE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(M.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,DE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(M.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},sI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(pr(t),this.ua=!1):j("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var vo="RemoteStore",aI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>I(this,null,function*(){_o(this)&&(j(vo,"Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let l=Z(u);l.da.add(4),yield Mu(l),l.Va.set("Unknown"),l.da.delete(4),yield hp(l)})}(this))}))}),this.Va=new sI(r,i)}};function hp(n){return I(this,null,function*(){if(_o(n))for(let e of n.Aa)yield e(!0)})}function Mu(n){return I(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function lM(n,e){let t=Z(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),GI(t)?qI(t):ea(t).N_()&&zI(t,e))}function HI(n,e){let t=Z(n),r=ea(t);t.Ea.delete(e),r.N_()&&dM(t,e),t.Ea.size===0&&(r.N_()?r.k_():_o(t)&&t.Va.set("Unknown"))}function zI(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ea(n).Z_(e)}function dM(n,e){n.ma.Ke(e),ea(n).X_(e)}function qI(n){n.ma=new IE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),ea(n).start(),n.Va.ca()}function GI(n){return _o(n)&&!ea(n).O_()&&n.Ea.size>0}function _o(n){return Z(n).da.size===0}function hM(n){n.ma=void 0}function k4(n){return I(this,null,function*(){n.Va.set("Online")})}function O4(n){return I(this,null,function*(){n.Ea.forEach((e,t)=>{zI(n,e)})})}function F4(n,e){return I(this,null,function*(){hM(n),GI(n)?(n.Va.Pa(e),qI(n)):n.Va.set("Unknown")})}function L4(n,e,t){return I(this,null,function*(){if(n.Va.set("Online"),e instanceof Lf&&e.state===2&&e.cause)try{yield function(i,o){return I(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){j(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wf(n,r)}else if(e instanceof ks?n.ma.Xe(e):e instanceof Ff?n.ma.ot(e):n.ma.nt(e),!t.isEqual(ee.min()))try{let r=yield uM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(yt.EMPTY_BYTE_STRING,h.snapshotVersion)),dM(o,u);let p=new Tu(h.target,u,l,h.sequenceNumber);zI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){j(vo,"Failed to raise snapshot:",r),yield Wf(n,r)}})}function Wf(n,e,t){return I(this,null,function*(){if(!Xs(e))throw e;n.da.add(1),yield Mu(n),n.Va.set("Offline"),t||(t=()=>uM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>I(null,null,function*(){j(vo,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield hp(n)}))})}function fM(n,e){return e().catch(t=>Wf(n,t,e))}function fp(n){return I(this,null,function*(){let e=Z(n),t=ai(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:PI;for(;V4(e);)try{let i=yield N4(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,j4(e,i)}catch(i){yield Wf(e,i)}pM(e)&&gM(e)})}function V4(n){return _o(n)&&n.Ia.length<10}function j4(n,e){n.Ia.push(e);let t=ai(n);t.N_()&&t.ea&&t.ta(e.mutations)}function pM(n){return _o(n)&&!ai(n).O_()&&n.Ia.length>0}function gM(n){ai(n).start()}function U4(n){return I(this,null,function*(){ai(n).ia()})}function B4(n){return I(this,null,function*(){let e=ai(n);for(let t of n.Ia)e.ta(t.mutations)})}function $4(n,e,t){return I(this,null,function*(){let r=n.Ia.shift(),i=yE.from(r,e,t);yield fM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield fp(n)})}function H4(n,e){return I(this,null,function*(){e&&ai(n).ea&&(yield function(r,i){return I(this,null,function*(){if(function(s){return i4(s)&&s!==M.ABORTED}(i.code)){let o=r.Ia.shift();ai(r).L_(),yield fM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield fp(r)}})}(n,e)),pM(n)&&gM(n)})}function KR(n,e){return I(this,null,function*(){let t=Z(n);t.asyncQueue.verifyOperationInProgress(),j(vo,"RemoteStore received new credentials");let r=_o(t);t.da.add(3),yield Mu(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield hp(t)})}function z4(n,e){return I(this,null,function*(){let t=Z(n);e?(t.da.delete(2),yield hp(t)):e||(t.da.add(2),yield Mu(t),t.Va.set("Unknown"))})}function ea(n){return n.fa||(n.fa=function(t,r,i){let o=Z(t);return o.oa(),new nI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:k4.bind(null,n),n_:O4.bind(null,n),i_:F4.bind(null,n),Y_:L4.bind(null,n)}),n.Aa.push(e=>I(null,null,function*(){e?(n.fa.L_(),GI(n)?qI(n):n.Va.set("Unknown")):(yield n.fa.stop(),hM(n))}))),n.fa}function ai(n){return n.ga||(n.ga=function(t,r,i){let o=Z(t);return o.oa(),new rI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:U4.bind(null,n),i_:H4.bind(null,n),na:B4.bind(null,n),ra:$4.bind(null,n)}),n.Aa.push(e=>I(null,null,function*(){e?(n.ga.L_(),yield fp(n)):(yield n.ga.stop(),n.Ia.length>0&&(j(vo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var cI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function WI(n,e){if(pr("AsyncQueue",`${e}: ${n}`),Xs(n))return new U(M.UNAVAILABLE,`${e}: ${n}`);throw n}var Kf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||z.comparator(t.key,r.key):(t,r)=>z.comparator(t.key,r.key),this.keyedMap=hu(),this.sortedSet=new Pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Qf=class{constructor(){this.pa=new Pe(z.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):G(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ws=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Kf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var uI=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},lI=class{constructor(){this.queries=QR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=Z(t),o=i.queries;i.queries=QR(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new U(M.ABORTED,"Firestore shutting down"))}};function QR(){return new yr(n=>BN(n),up)}function q4(n,e){return I(this,null,function*(){let t=Z(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new uI,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=WI(s,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&KI(t)})}function G4(n,e){return I(this,null,function*(){let t=Z(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function W4(n,e){let t=Z(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&KI(t)}function K4(n,e,t){let r=Z(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function KI(n){n.Ca.forEach(e=>{e.next()})}var dI,YR;(YR=dI||(dI={})).xa="default",YR.Cache="cache";var hI=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==dI.Cache}};var Yf=class{constructor(e){this.key=e}},Zf=class{constructor(e){this.key=e}},fI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ue(),this.mutatedKeys=ue(),this.Za=$N(e),this.Xa=new Kf(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new Qf,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=lp(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?b!==N&&(r.track({type:3,doc:y}),R=!0):this.ru(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Za(y,u)>0||l&&this.Za(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,b){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{Vt:R})}};return N(y)-N(b)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new Ws(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Qf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=ue(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new Zf(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Yf(r))}),t}au(e){this.Ha=e.$s,this.Ya=ue();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Ws.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},QI="SyncEngine",pI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},gI=class{constructor(e){this.key=e,this.cu=!1}},mI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new yr(a=>BN(a),up),this.Pu=new Map,this.Tu=new Set,this.Iu=new Pe(z.comparator),this.Eu=new Map,this.du=new Cu,this.Au={},this.Ru=new Map,this.Vu=Du.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function Q4(n,e,t=!0){return I(this,null,function*(){let r=IM(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield mM(r,e,t,!0),i})}function Y4(n,e){return I(this,null,function*(){let t=IM(n);yield mM(t,e,!0,!1)})}function mM(n,e,t,r){return I(this,null,function*(){let i=yield M4(n.localStore,Fn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Z4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&lM(n.remoteStore,i),a})}function Z4(n,e,t,r,i){return I(this,null,function*(){n.fu=(p,m,y)=>function(N,R,O,W){return I(this,null,function*(){let $=R.view.tu(O);$.Cs&&($=yield qR(N.localStore,R.query,!1).then(({documents:T})=>R.view.tu(T,$)));let pe=W&&W.targetChanges.get(R.targetId),et=W&&W.targetMismatches.get(R.targetId)!=null,ge=R.view.applyChanges($,N.isPrimaryClient,pe,et);return JR(N,R.targetId,ge.ou),ge.snapshot})}(n,p,m,y);let o=yield qR(n.localStore,e,!0),s=new fI(e,o.$s),a=s.tu(o.documents),u=wu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);JR(n,t,l.ou);let h=new pI(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function J4(n,e,t){return I(this,null,function*(){let r=Z(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!up(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield QE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&HI(r.remoteStore,i.targetId),yI(r,i.targetId)}).catch(Js))):(yI(r,i.targetId),yield QE(r.localStore,i.targetId,!0))})}function X4(n,e){return I(this,null,function*(){let t=Z(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),HI(t.remoteStore,r.targetId))})}function ez(n,e,t){return I(this,null,function*(){let r=az(n);try{let i=yield function(s,a){let u=Z(s),l=ct.now(),h=a.reduce((y,b)=>y.add(b.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=vr(),N=ue();return u.Bs.getEntries(y,h).next(R=>{b=R,b.forEach((O,W)=>{W.isValidDocument()||(N=N.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(R=>{p=R;let O=[];for(let W of a){let $=r4(W,p.get(W.key).overlayedDocument);$!=null&&O.push(new jn(W.key,$,kN($.value.mapValue),fr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(R=>{m=R;let O=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,O)})}).then(()=>({batchId:m.batchId,changes:zN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Au[s.currentUser.toKey()];l||(l=new Pe(ie)),l=l.insert(a,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Pu(r,i.changes),yield fp(r.remoteStore)}catch(i){let o=WI(i,"Failed to persist write");t.reject(o)}})}function yM(n,e){return I(this,null,function*(){let t=Z(n);try{let r=yield A4(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?ve(s.cu,14607):i.removedDocuments.size>0&&(ve(s.cu,42227),s.cu=!1))}),yield Pu(t,r,e)}catch(r){yield Js(r)}})}function ZR(n,e,t){let r=Z(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Z(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Sa)m.Fa(a)&&(l=!0)}),l&&KI(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function tz(n,e,t){return I(this,null,function*(){let r=Z(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Pe(z.comparator);s=s.insert(o,vn.newNoDocument(o,ee.min()));let a=ue().add(o),u=new Of(ee.min(),new Map,new Pe(ie),s,a);yield yM(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),YI(r)}else yield QE(r.localStore,e,!1).then(()=>yI(r,e,t)).catch(Js)})}function nz(n,e){return I(this,null,function*(){let t=Z(n),r=e.batch.batchId;try{let i=yield S4(t.localStore,e);_M(t,r,null),vM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pu(t,i)}catch(i){yield Js(i)}})}function rz(n,e,t){return I(this,null,function*(){let r=Z(n);try{let i=yield function(s,a){let u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ve(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);_M(r,e,t),vM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pu(r,i)}catch(i){yield Js(i)}})}function vM(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function _M(n,e,t){let r=Z(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function yI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||EM(n,r)})}function EM(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(HI(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),YI(n))}function JR(n,e,t){for(let r of t)r instanceof Yf?(n.du.addReference(r.key,e),iz(n,r)):r instanceof Zf?(j(QI,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||EM(n,r.key)):G(19791,{pu:r})}function iz(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(j(QI,"New document in limbo: "+t),n.Tu.add(r),YI(n))}function YI(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new z(Ae.fromString(e)),r=n.Vu.next();n.Eu.set(r,new gI(t)),n.Iu=n.Iu.insert(t,r),lM(n.remoteStore,new Tu(Fn(jI(t.path)),r,"TargetPurposeLimboResolution",MI.le))}}function Pu(n,e,t){return I(this,null,function*(){let r=Z(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{s.push(r.fu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=qE.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return I(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Xs(p))throw p;j($I,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.xs.get(m),b=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(b);h.xs=h.xs.insert(m,N)}}})}(r.localStore,o))})}function oz(n,e){return I(this,null,function*(){let t=Z(n);if(!t.currentUser.isEqual(e)){j(QI,"User change. New user:",e.toKey());let r=yield cM(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(u=>{u.reject(new U(M.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pu(t,r.ks)}})}function sz(n,e){let t=Z(n),r=t.Eu.get(e);if(r&&r.cu)return ue().add(r.key);{let i=ue(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function IM(n){let e=Z(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tz.bind(null,e),e.lu.Y_=W4.bind(null,e.eventManager),e.lu.gu=K4.bind(null,e.eventManager),e}function az(n){let e=Z(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rz.bind(null,e),e}var wM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return I(this,null,function*(){this.serializer=dp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return b4(this.persistence,new WE,t.initialUser,this.serializer)}Su(t){return new Bf(zE.fi,this.serializer)}bu(t){return new YE}terminate(){return I(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),vI=class extends wM{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ve(this.persistence.referenceDelegate instanceof $f,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new ME(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Bf(r=>$f.fi(r,t),this.serializer)}};var cz=(()=>{class n{initialize(t,r){return I(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ZR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oz.bind(null,this.syncEngine),yield z4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new lI}()}createDatastore(t){let r=dp(t.databaseInfo.databaseId),i=function(s){return new tI(s)}(t.databaseInfo);return function(s,a,u,l){return new oI(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new aI(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>ZR(this.syncEngine,r,0),function(){return zf.C()?new zf:new ZE}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let m=new mI(o,s,a,u,l,h);return p&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var t,r;yield function(o){return I(this,null,function*(){let s=Z(o);j(vo,"RemoteStore shutting down."),s.da.add(5),yield Mu(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var _I=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ci="FirestoreClient",EI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=Af.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>I(this,null,function*(){j(ci,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j(ci,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=WI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function H_(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),j(ci,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>I(null,null,function*(){r.isEqual(i)||(yield cM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function XR(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield uz(n);j(ci,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>KR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>KR(e.remoteStore,i)),n._onlineComponents=e})}function uz(n){return I(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){j(ci,"Using user provided OfflineComponentProvider");try{yield H_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Fs("Error using user provided cache. Falling back to memory cache: "+t),yield H_(n,new wM)}}else j(ci,"Using default OfflineComponentProvider"),yield H_(n,new vI(void 0));return n._offlineComponents})}function TM(n){return I(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(j(ci,"Using user provided OnlineComponentProvider"),yield XR(n,n._uninitializedComponentsProvider._online)):(j(ci,"Using default OnlineComponentProvider"),yield XR(n,new cz))),n._onlineComponents})}function lz(n){return TM(n).then(e=>e.syncEngine)}function eN(n){return I(this,null,function*(){let e=yield TM(n),t=e.eventManager;return t.onListen=Q4.bind(null,e.syncEngine),t.onUnlisten=J4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Y4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=X4.bind(null,e.syncEngine),t})}function DM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var tN=new Map;function CM(n,e,t){if(!t)throw new U(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dz(n,e,t,r){if(e===!0&&r===!0)throw new U(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nN(n){if(!z.isDocumentKey(n))throw new U(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rN(n){if(z.isDocumentKey(n))throw new U(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":G(12329,{type:typeof n})}function ii(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new U(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=pp(n);throw new U(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var bM="firestore.googleapis.com",iN=!0,Jf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bM,this.ssl=iN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:iN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T4)throw new U(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ks=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new z_;switch(r.type){case"firstParty":return new K_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=tN.get(t);r&&(j("ComponentProvider","Removing Datastore"),tN.delete(t),r.terminate())}(this),Promise.resolve()}};function SM(n,e,t,r={}){var i;n=ii(n,Ks);let o=Yr(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(zh(`https://${u}`),qh("Firestore",!0)),s.host!==bM&&s.host!==u&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Nn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Je.MOCK_USER;else{h=k0(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new U(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Je(m)}n._authCredentials=new q_(new bf(h,p))}}var Qs=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},kt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},oi=class n extends Qs{constructor(e,t,r){super(e,t,jI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function AM(n,e,...t){if(n=Le(n),CM("collection","path",e),n instanceof Ks){let r=Ae.fromString(e,...t);return rN(r),new oi(n,null,r)}{if(!(n instanceof kt||n instanceof oi))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ae.fromString(e,...t));return rN(r),new oi(n.firestore,null,r)}}function ZI(n,e,...t){if(n=Le(n),arguments.length===1&&(e=Af.newId()),CM("doc","path",e),n instanceof Ks){let r=Ae.fromString(e,...t);return nN(r),new kt(n,null,new z(r))}{if(!(n instanceof kt||n instanceof oi))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ae.fromString(e,...t));return nN(r),new kt(n.firestore,n instanceof oi?n.converter:null,new z(r))}}var oN="AsyncQueue",Xf=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new qf(this,"async_queue_retry"),this.rc=()=>{let r=$_();r&&j(oN,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=$_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=$_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new hr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return I(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Xs(e))throw e;j(oN,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,pr("INTERNAL UNHANDLED ERROR: ",sN(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=cI.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&G(47125,{cc:sN(this.Xu)})}verifyOperationInProgress(){}lc(){return I(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function sN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function aN(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ui=class extends Ks{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Xf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Xf(e),this._firestoreClient=void 0,yield e}})}};function RM(n,e){let t=typeof n=="object"?n:to(),r=typeof n=="string"?n:e||Pf,i=ws(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=x0("firestore");o&&SM(i,...o)}return i}function NM(n){if(n._terminated)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hz(n),n._firestoreClient}function hz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new X_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,DM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new EI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var bu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(yt.fromBase64String(e))}catch(t){throw new U(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ys=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new U(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Su=class{constructor(e){this._methodName=e}};var Au=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}};var Ru=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var fz=/^__.*__$/,II=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new jn(e,this.data,this.fieldMask,t,this.fieldTransforms):new yo(e,this.data,t,this.fieldTransforms)}},ep=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new jn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function MM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ic:n})}}var wI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return np(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(MM(this.Ic)&&fz.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},TI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||dp(e)}bc(e,t,r,i=!1){return new wI({Ic:e,methodName:t,wc:r,path:Kt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function JI(n){let e=n._freezeSettings(),t=dp(n._databaseId);return new TI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pz(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);XI("Data must be an object, but it was:",s,r);let a=PM(r,s),u,l;if(o.merge)u=new nn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=DI(e,p,t);if(!s.contains(m))throw new U(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);kM(h,m)||h.push(m)}u=new nn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new II(new Wt(a),u,l)}var tp=class n extends Su{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function gz(n,e,t,r){let i=n.bc(1,e,t);XI("Data must be an object, but it was:",i,r);let o=[],s=Wt.empty();li(r,(u,l)=>{let h=ew(e,u,t);l=Le(l);let p=i.mc(h);if(l instanceof tp)o.push(h);else{let m=xu(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new nn(o);return new ep(s,a,i.fieldTransforms)}function mz(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[DI(e,r,t)],u=[i];if(o.length%2!=0)throw new U(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(DI(e,o[m])),u.push(o[m+1]);let l=[],h=Wt.empty();for(let m=a.length-1;m>=0;--m)if(!kM(l,a[m])){let y=a[m],b=u[m];b=Le(b);let N=s.mc(y);if(b instanceof tp)l.push(y);else{let R=xu(b,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new nn(l);return new ep(h,p,s.fieldTransforms)}function yz(n,e,t,r=!1){return xu(t,n.bc(r?4:3,e))}function xu(n,e){if(xM(n=Le(n)))return XI("Unsupported field value:",e,n),PM(n,e);if(n instanceof Su)return function(r,i){if(!MM(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=xu(a,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ct.fromDate(r);return{timestampValue:jf(i.serializer,o)}}if(r instanceof ct){let o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jf(i.serializer,o)}}if(r instanceof Au)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bu)return{bytesValue:eM(i.serializer,r._byteString)};if(r instanceof kt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:BI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ru)return function(s,a){return{mapValue:{fields:{[kI]:{stringValue:OI},[Vs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return UI(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${pp(r)}`)}(n,e)}function PM(n,e){let t={};return bN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(n,(r,i)=>{let o=xu(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function xM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof Au||n instanceof bu||n instanceof kt||n instanceof Su||n instanceof Ru)}function XI(n,e,t){if(!xM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=pp(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function DI(n,e,t){if((e=Le(e))instanceof Ys)return e._internalPath;if(typeof e=="string")return ew(n,e);throw np("Field path arguments must be of type string or ",n,!1,void 0,t)}var vz=new RegExp("[~\\*/\\[\\]]");function ew(n,e,t){if(e.search(vz)>=0)throw np(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ys(...e.split("."))._internalPath}catch{throw np(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function np(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(M.INVALID_ARGUMENT,a+n+u)}function kM(n,e){return n.some(t=>t.isEqual(e))}var rp=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(tw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},CI=class extends rp{data(){return super.data()}};function tw(n,e){return typeof e=="string"?ew(n,e):e instanceof Ys?e._internalPath:e._delegate._internalPath}function _z(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new U(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nu=class{},bI=class extends Nu{};function OM(n,e,...t){let r=[];e instanceof Nu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof SI).length,a=o.filter(u=>u instanceof ip).length;if(s>1||s>0&&a>0)throw new U(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var ip=class n extends bI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return LM(e._query,t),new Qs(e.firestore,e.converter,hE(e._query,t))}_parse(e){let t=JI(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){uN(p,h);let b=[];for(let N of p)b.push(cN(u,o,N));m={arrayValue:{values:b}}}else m=cN(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||uN(p,h),m=yz(a,s,p,h==="in"||h==="not-in");return Ue.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function FM(n,e,t){let r=e,i=tw("where",n);return ip._create(i,r,t)}var SI=class n extends Nu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:_n.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)LM(s,u),s=hE(s,u)}(e._query,t),new Qs(e.firestore,e.converter,hE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function cN(n,e,t){if(typeof(t=Le(t))=="string"){if(t==="")throw new U(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UN(e)&&t.indexOf("/")!==-1)throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ae.fromString(t));if(!z.isDocumentKey(r))throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bR(n,new z(r))}if(t instanceof kt)return bR(n,t._key);throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pp(t)}.`)}function uN(n,e){if(!Array.isArray(n)||n.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LM(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new U(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var AI=class{convertValue(e,t="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return li(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Vs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Se(s.doubleValue));return new Ru(o)}convertGeoPoint(e){return new Au(Se(e.latitude),Se(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=cp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){let t=gr(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ae.fromString(e);ve(sM(r),9688,{name:e});let i=new xf(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(t)||pr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Ez(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var lo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},op=class extends rp{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Os(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(tw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Os=class extends op{data(e={}){return super.data(e)}},RI=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new lo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Os(this._firestore,this._userDataWriter,r.key,r,new lo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new U(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new lo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Iz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Iz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:n})}}var sp=class extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new bu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}};function VM(n,e,t,...r){n=ii(n,kt);let i=ii(n.firestore,ui),o=JI(i),s;return s=typeof(e=Le(e))=="string"||e instanceof Ys?mz(o,"updateDoc",n._key,e,t,r):gz(o,"updateDoc",n._key,e),rw(i,[s.toMutation(n._key,fr.exists(!0))])}function jM(n){return rw(ii(n.firestore,ui),[new Iu(n._key,fr.none())])}function UM(n,e){let t=ii(n.firestore,ui),r=ZI(n),i=Ez(n.converter,e);return rw(t,[pz(JI(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function nw(n,...e){var t,r,i;n=Le(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||aN(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(aN(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof kt)l=ii(n.firestore,ui),h=jI(n._key.path),u={next:p=>{e[s]&&e[s](wz(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=ii(n,Qs);l=ii(p.firestore,ui),h=p._query;let m=new sp(l);u={next:y=>{e[s]&&e[s](new RI(l,m,p,y))},error:e[s+1],complete:e[s+2]},_z(n._query)}return function(m,y,b,N){let R=new _I(N),O=new hI(y,R,b);return m.asyncQueue.enqueueAndForget(()=>I(null,null,function*(){return q4(yield eN(m),O)})),()=>{R.xu(),m.asyncQueue.enqueueAndForget(()=>I(null,null,function*(){return G4(yield eN(m),O)}))}}(NM(l),h,a,u)}function rw(n,e){return function(r,i){let o=new hr;return r.asyncQueue.enqueueAndForget(()=>I(null,null,function*(){return ez(yield lz(r),i,o)})),o.promise}(NM(n),e)}function wz(n,e,t){let r=t.docs.get(e._key),i=new sp(n);return new op(n,i,e._key,r,new lo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Zs=i})(Jr),gn(new Dt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ui(new G_(r.getProvider("auth-internal")),new Q_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Me(mR,yR,e),Me(mR,yR,"esm2017")})();var gp=function(){return gp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},gp.apply(this,arguments)};var Cz={includeMetadataChanges:!1};function BM(n,e){return e===void 0&&(e=Cz),new Q(function(t){var r=nw(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function $M(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:gp(gp({},r),(t={},t[e.idField]=n.id,t))}function HM(n){return BM(n,{includeMetadataChanges:!0}).pipe(Y(function(e){return e.docs}))}function zM(n,e){return e===void 0&&(e={}),HM(n).pipe(Y(function(t){return t.map(function(r){return $M(r,e)})}))}var Eo=class{constructor(e){return e}},qM="firestore",iw=class{constructor(){return Ds(qM)}};var ow=new V("angularfire2.firestore-instances");function bz(n,e){let t=Jc(qM,n,e);return t&&new Eo(t)}function Sz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Eo(r)}}var Az={provide:iw,deps:[[new Pt,ow]]},Rz={provide:Eo,useFactory:bz,deps:[[new Pt,ow],sr]};function GM(n,...e){return Me("angularfire",Xr.full,"fst"),Vt([Rz,Az,{provide:ow,useFactory:Sz(n),multi:!0,deps:[ye,ze,ei,ro,[new Pt,lu],[new Pt,Cs],...e]}])}var WM=Ze(zM,!0);var KM=Ze(UM,!0,2);var QM=Ze(AM,!0,2);var YM=Ze(jM,!0,2);var sw=Ze(ZI,!0,2);var ZM=Ze(RM,!0);var JM=Ze(OM,!0,2);var XM=Ze(VM,!0,2);var eP=Ze(FM,!0,2);var tP=[];var nP={production:!1,firebaseConfig:{apiKey:"AIzaSyAP6oP_CO8yIvG_d8LxaDCn2R9YXbuehR0",authDomain:"todolist-164b4.firebaseapp.com",projectId:"todolist-164b4",storageBucket:"todolist-164b4.firebasestorage.app",messagingSenderId:"488468917095",appId:"1:488468917095:web:4d467eebe593bff0681dc2",measurementId:"G-LLZ00SYW34"}};var rP={providers:[Ry({eventCoalescing:!0}),Tv(tP),Xy(),aA(()=>cA(nP.firebaseConfig)),GM(()=>ZM()),uR(()=>dR())]};var hP=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(le(rc),le(Xo))};static \u0275dir=st({type:n})}return n})(),Mz=(()=>{class n extends hP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=$i(n)))(i||n)}})();static \u0275dir=st({type:n,features:[bn]})}return n})(),fP=new V("");var Pz={provide:fP,useExisting:Wn(()=>Tp),multi:!0};function xz(){let n=en()?en().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var kz=new V(""),Tp=(()=>{class n extends hP{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!xz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(le(rc),le(Xo),le(kz,8))};static \u0275dir=st({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&at("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ns([Pz]),bn]})}return n})();function Oz(n){return n==null||Fz(n)===0}function Fz(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var lw=new V(""),pP=new V("");function Lz(n){return Oz(n.value)?{required:!0}:null}function iP(n){return null}function gP(n){return n!=null}function mP(n){return tr(n)?_e(n):n}function yP(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function vP(n,e){return e.map(t=>t(n))}function Vz(n){return!n.validate}function _P(n){return n.map(e=>Vz(e)?e:t=>e.validate(t))}function jz(n){if(!n)return null;let e=n.filter(gP);return e.length==0?null:function(t){return yP(vP(t,e))}}function dw(n){return n!=null?jz(_P(n)):null}function Uz(n){if(!n)return null;let e=n.filter(gP);return e.length==0?null:function(t){let r=vP(t,e).map(mP);return Ig(r).pipe(Y(yP))}}function hw(n){return n!=null?Uz(_P(n)):null}function oP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Bz(n){return n._rawValidators}function $z(n){return n._rawAsyncValidators}function aw(n){return n?Array.isArray(n)?n:[n]:[]}function yp(n,e){return Array.isArray(n)?n.includes(e):n===e}function sP(n,e){let t=aw(e);return aw(n).forEach(i=>{yp(t,i)||t.push(i)}),t}function aP(n,e){return aw(e).filter(t=>!yp(n,t))}var vp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ra=class extends vp{name;get formDirective(){return null}get path(){return null}},ju=class extends vp{_parent=null;name=null;valueAccessor=null},_p=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Hz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Hae=te(k({},Hz),{"[class.ng-submitted]":"isSubmitted"}),EP=(()=>{class n extends _p{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(le(ju,2))};static \u0275dir=st({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[bn]})}return n})(),IP=(()=>{class n extends _p{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(le(ra,10))};static \u0275dir=st({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&qi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[bn]})}return n})();var ku="VALID",mp="INVALID",ta="PENDING",Ou="DISABLED",di=class{},Ep=class extends di{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Lu=class extends di{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Vu=class extends di{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},na=class extends di{status;source;constructor(e,t){super(),this.status=e,this.source=t}},cw=class extends di{source;constructor(e){super(),this.source=e}},uw=class extends di{source;constructor(e){super(),this.source=e}};function wP(n){return(Dp(n)?n.validators:n)||null}function zz(n){return Array.isArray(n)?dw(n):n||null}function TP(n,e){return(Dp(e)?e.asyncValidators:n)||null}function qz(n){return Array.isArray(n)?hw(n):n||null}function Dp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Gz(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function Wz(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var Ip=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return $t(this.statusReactive)}set status(e){$t(()=>this.statusReactive.set(e))}_status=rs(()=>this.statusReactive());statusReactive=Qn(void 0);get valid(){return this.status===ku}get invalid(){return this.status===mp}get pending(){return this.status==ta}get disabled(){return this.status===Ou}get enabled(){return this.status!==Ou}errors;get pristine(){return $t(this.pristineReactive)}set pristine(e){$t(()=>this.pristineReactive.set(e))}_pristine=rs(()=>this.pristineReactive());pristineReactive=Qn(!0);get dirty(){return!this.pristine}get touched(){return $t(this.touchedReactive)}set touched(e){$t(()=>this.touchedReactive.set(e))}_touched=rs(()=>this.touchedReactive());touchedReactive=Qn(!1);get untouched(){return!this.touched}_events=new $e;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aP(e,this._rawAsyncValidators))}hasValidator(e){return yp(this._rawValidators,e)}hasAsyncValidator(e){return yp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Vu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Vu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Lu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Lu(!0,r))}markAsPending(e={}){this.status=ta;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new na(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ou,this.errors=null,this._forEachChild(i=>{i.disable(te(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ep(this.value,r)),this._events.next(new na(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ku,this._forEachChild(r=>{r.enable(te(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ku||this.status===ta)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ep(this.value,t)),this._events.next(new na(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ou:ku}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ta,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=mP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new na(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Ou:this.errors?mp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ta)?ta:this._anyControlsHaveStatus(mp)?mp:ku}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Lu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Vu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=zz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=qz(this._rawAsyncValidators)}},wp=class extends Ip{constructor(e,t,r){super(wP(t),TP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Wz(this,!0,e),Object.keys(e).forEach(r=>{Gz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var fw=new V("",{providedIn:"root",factory:()=>pw}),pw="always";function Kz(n,e){return[...e.path,n]}function DP(n,e,t=pw){CP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Yz(n,e),Jz(n,e),Zz(n,e),Qz(n,e)}function cP(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Qz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function CP(n,e){let t=Bz(n);e.validator!==null?n.setValidators(oP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=$z(n);e.asyncValidator!==null?n.setAsyncValidators(oP(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();cP(e._rawValidators,i),cP(e._rawAsyncValidators,i)}function Yz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&bP(n,e)})}function Zz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&bP(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function bP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Jz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Xz(n,e){n==null,CP(n,e)}function eq(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function tq(n){return Object.getPrototypeOf(n.constructor)===Mz}function nq(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function rq(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Tp?t=o:tq(o)?r=o:i=o}),i||r||t||null}var iq={provide:ra,useExisting:Wn(()=>gw)},Fu=Promise.resolve(),gw=(()=>{class n extends ra{callSetDisabledState;get submitted(){return $t(this.submittedReactive)}_submitted=rs(()=>this.submittedReactive());submittedReactive=Qn(!1);_directives=new Set;form;ngSubmit=new Fe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new wp({},dw(t),hw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Fu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),DP(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Fu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Fu.then(()=>{let r=this._findContainer(t.path),i=new wp({});Xz(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Fu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Fu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),nq(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new cw(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new uw(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(le(lw,10),le(pP,10),le(fw,8))};static \u0275dir=st({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&at("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ns([iq]),bn]})}return n})();function uP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lP(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var oq=class extends Ip{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(wP(t),TP(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(lP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){lP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var sq={provide:ju,useExisting:Wn(()=>mw)},dP=Promise.resolve(),mw=(()=>{class n extends ju{_changeDetectorRef;callSetDisabledState;control=new oq;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Fe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=rq(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),eq(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){DP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){dP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Jd(r);dP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Kz(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(le(ra,9),le(lw,10),le(pP,10),le(fP,10),le(os,8),le(fw,8))};static \u0275dir=st({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ns([sq]),bn,Bi]})}return n})();var SP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var aq=(()=>{class n{_validator=iP;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):iP,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,features:[Bi]})}return n})();var cq={provide:lw,useExisting:Wn(()=>yw),multi:!0};var yw=(()=>{class n extends aq{required;inputName="required";normalizeInput=Jd;createValidator=t=>Lz;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$i(n)))(i||n)}})();static \u0275dir=st({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Gd("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ns([cq]),bn]})}return n})();var uq=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=er({type:n});static \u0275inj=In({})}return n})();var AP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fw,useValue:t.callSetDisabledState??pw}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=er({type:n});static \u0275inj=In({imports:[uq]})}return n})();var hi=class n{constructor(e){this.auth=e;this.user$=lR(this.auth)}user$;signInWithGoogle(){let e=new b_;return hR(this.auth,e)}signOut(){return fR(this.auth)}static \u0275fac=function(t){return new(t||n)(H(ao))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var Cp=class n{constructor(e,t){this.firestore=e;this.authService=t;this.todosCollection=QM(this.firestore,"todos")}todosCollection;getTodos(){return this.authService.user$.pipe(rt(e=>{if(e){let t=JM(this.todosCollection,eP("userId","==",e.uid));return WM(t,{idField:"id"})}else return q([])}))}addTodo(e){return this.authService.user$.pipe(sn(1),rt(t=>{if(!t)return q(Promise.reject("User not logged in"));let r={title:e,completed:!1,userId:t.uid};return _e(KM(this.todosCollection,r))}))}updateTodo(e){if(!e.id)return Promise.reject("Todo ID is missing");let t=sw(this.firestore,`todos/${e.id}`),o=e,{id:r}=o,i=eg(o,["id"]);return XM(t,i)}deleteTodo(e){let t=sw(this.firestore,`todos/${e}`);return YM(t)}static \u0275fac=function(t){return new(t||n)(H(Eo),H(hi))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function hq(n,e){if(n&1){let t=ts();Ce(0,"div",8)(1,"input",9),at("change",function(){Ut(t);let i=Ke().$implicit,o=Ke();return Bt(o.toggleCompletion(i))}),be(),Ce(2,"span",10),gt(3),be(),Ce(4,"div",11)(5,"button",12),at("click",function(){Ut(t);let i=Ke().$implicit,o=Ke();return Bt(o.editTodo(i))}),gt(6,"Edit"),be(),Ce(7,"button",13),at("click",function(){Ut(t);let i=Ke().$implicit,o=Ke();return Bt(o.deleteTodo(i.id))}),gt(8,"Delete"),be()()()}if(n&2){let t=Ke().$implicit;dn(),zr("checked",t.completed),dn(2),Wd(t.title)}}function fq(n,e){if(n&1){let t=ts();Ce(0,"div",14)(1,"input",15),lc("ngModelChange",function(i){Ut(t);let o=Ke(2);return Kd(o.editingTodo.title,i)||(o.editingTodo.title=i),Bt(i)}),at("keydown.enter",function(){Ut(t);let i=Ke(2);return Bt(i.saveTodo())})("keydown.escape",function(){Ut(t);let i=Ke(2);return Bt(i.cancelEdit())}),be(),Ce(2,"div",11)(3,"button",16),at("click",function(){Ut(t);let i=Ke(2);return Bt(i.saveTodo())}),gt(4,"Save"),be(),Ce(5,"button",17),at("click",function(){Ut(t);let i=Ke(2);return Bt(i.cancelEdit())}),gt(6,"Cancel"),be()()()}if(n&2){let t=Ke(2);dn(),uc("ngModel",t.editingTodo.title)}}function pq(n,e){if(n&1&&(Ce(0,"li"),Hr(1,hq,9,2,"div",7)(2,fq,7,1,"ng-template",null,0,fc),be()),n&2){let t=e.$implicit,r=ac(3),i=Ke();qi("completed",t.completed),dn(),zr("ngIf",(i.editingTodo==null?null:i.editingTodo.id)!==t.id)("ngIfElse",r)}}var bp=class n{constructor(e){this.todoService=e;this.todos$=this.todoService.getTodos()}todos$;newTodoTitle="";editingTodo=null;originalTitle="";ngOnInit(){}addTodo(){this.newTodoTitle.trim()&&this.todoService.addTodo(this.newTodoTitle.trim()).subscribe({next:()=>{this.newTodoTitle=""},error:e=>{console.error("Error adding todo:",e)}})}toggleCompletion(e){this.todoService.updateTodo(te(k({},e),{completed:!e.completed}))}editTodo(e){this.editingTodo=k({},e),this.originalTitle=e.title}saveTodo(){this.editingTodo&&this.editingTodo.title.trim()&&(this.todoService.updateTodo(this.editingTodo),this.editingTodo=null)}cancelEdit(){this.editingTodo=null}deleteTodo(e){e&&this.todoService.deleteTodo(e)}static \u0275fac=function(t){return new(t||n)(le(Cp))};static \u0275cmp=Xn({type:n,selectors:[["app-todo"]],decls:10,vars:4,consts:[["editMode",""],[1,"todo-container"],[1,"add-todo-form",3,"ngSubmit"],["type","text","name","newTodoTitle","placeholder","What needs to be done?","required","",1,"todo-input",3,"ngModelChange","ngModel"],["type","submit",1,"btn","add-btn"],[1,"todo-list"],[3,"completed",4,"ngFor","ngForOf"],["class","view-mode",4,"ngIf","ngIfElse"],[1,"view-mode"],["type","checkbox",1,"todo-checkbox",3,"change","checked"],[1,"todo-title"],[1,"actions"],[1,"btn","edit-btn",3,"click"],[1,"btn","delete-btn",3,"click"],[1,"edit-mode"],["type","text","name","editingTodoTitle",1,"edit-input",3,"ngModelChange","keydown.enter","keydown.escape","ngModel"],[1,"btn","save-btn",3,"click"],[1,"btn","cancel-btn",3,"click"]],template:function(t,r){t&1&&(Ce(0,"div",1)(1,"h2"),gt(2,"My To-Do List"),be(),Ce(3,"form",2),at("ngSubmit",function(){return r.addTodo()}),Ce(4,"input",3),lc("ngModelChange",function(o){return Kd(r.newTodoTitle,o)||(r.newTodoTitle=o),o}),be(),Ce(5,"button",4),gt(6,"Add"),be()(),Ce(7,"ul",5),Hr(8,pq,4,4,"li",6),dc(9,"async"),be()()),t&2&&(dn(4),uc("ngModel",r.newTodoTitle),dn(4),zr("ngForOf",hc(9,2,r.todos$)))},dependencies:[Gr,nh,mc,yc,AP,SP,Tp,EP,IP,yw,mw,gw],styles:[".todo-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:2rem;border-radius:8px;box-shadow:0 4px 8px #0000001a;background-color:#fff}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:1.5rem}.add-todo-form[_ngcontent-%COMP%]{display:flex;margin-bottom:1.5rem}.todo-input[_ngcontent-%COMP%]{flex-grow:1;padding:.75rem;font-size:1rem;border:1px solid #ccc;border-radius:4px}.btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem;border:none;border-radius:4px;cursor:pointer;margin-left:.5rem;color:#fff}.add-btn[_ngcontent-%COMP%]{background-color:#28a745}.edit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#333}.delete-btn[_ngcontent-%COMP%]{background-color:#dc3545}.save-btn[_ngcontent-%COMP%]{background-color:#007bff}.cancel-btn[_ngcontent-%COMP%]{background-color:#6c757d}.todo-list[_ngcontent-%COMP%]{list-style:none;padding:0}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;border-bottom:1px solid #eee}.todo-list[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%]   .todo-title[_ngcontent-%COMP%]{text-decoration:line-through;color:#888}.view-mode[_ngcontent-%COMP%], .edit-mode[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.todo-checkbox[_ngcontent-%COMP%]{margin-right:1rem}.todo-title[_ngcontent-%COMP%]{flex-grow:1}.edit-input[_ngcontent-%COMP%]{flex-grow:1;padding:.5rem;font-size:1rem;border:1px solid #ddd;border-radius:4px}"]})};var Sp=class n{constructor(e){this.authService=e}login(){this.authService.signInWithGoogle().catch(e=>{console.error("Login failed:",e)})}static \u0275fac=function(t){return new(t||n)(le(hi))};static \u0275cmp=Xn({type:n,selectors:[["app-login"]],decls:8,vars:0,consts:[[1,"login-container"],[1,"login-btn",3,"click"],["src","/assets/google-logo.svg","alt","Google logo",1,"google-logo"]],template:function(t,r){t&1&&(Ce(0,"div",0)(1,"h2"),gt(2,"Welcome to your To-Do List"),be(),Ce(3,"p"),gt(4,"Please sign in to continue"),be(),Ce(5,"button",1),at("click",function(){return r.login()}),hn(6,"img",2),gt(7," Sign in with Google "),be()())},dependencies:[Gr],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;margin-top:5rem}.login-btn[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#4285f4;color:#fff;padding:10px 24px;border:none;border-radius:4px;font-size:16px;cursor:pointer;box-shadow:0 2px 4px #00000040;transition:box-shadow .3s ease}.login-btn[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000040}.google-logo[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:16px;background-color:#fff;border-radius:50%;padding:2px}"]})};function gq(n,e){if(n&1){let t=ts();Ce(0,"div")(1,"header")(2,"h1"),gt(3),be(),Ce(4,"button",2),at("click",function(){Ut(t);let i=Ke();return Bt(i.logout())}),gt(5,"Sign Out"),be()(),hn(6,"app-todo"),be()}if(n&2){let t=e.ngIf;dn(3),cc("",t.displayName,"'s To-Do List")}}function mq(n,e){n&1&&hn(0,"app-login")}var Ap=class n{constructor(e){this.authService=e;this.user$=this.authService.user$}user$;logout(){this.authService.signOut()}static \u0275fac=function(t){return new(t||n)(le(hi))};static \u0275cmp=Xn({type:n,selectors:[["app-root"]],decls:6,vars:4,consts:[["login",""],[4,"ngIf","ngIfElse"],[1,"logout-btn",3,"click"]],template:function(t,r){if(t&1&&(hn(0,"hr"),Hr(1,gq,7,1,"div",1),dc(2,"async"),Hr(3,mq,1,0,"ng-template",null,0,fc),hn(5,"router-outlet")),t&2){let i=ac(4);dn(),zr("ngIf",hc(2,2,r.user$))("ngIfElse",i)}},dependencies:[Hc,Gr,mc,yc,bp,Sp],styles:[".container[_ngcontent-%COMP%]{font-family:sans-serif;max-width:600px;margin:2rem auto;padding:2rem;border-radius:8px;box-shadow:0 4px 8px #0000001a;background-color:#f9f9f9}h1[_ngcontent-%COMP%]{color:#333;text-align:center}p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5;color:#555}strong[_ngcontent-%COMP%]{color:#000}.error[_ngcontent-%COMP%]{color:#d9534f;font-weight:700}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background-color:#f8f9fa;border-bottom:1px solid #dee2e6}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}.logout-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer}"]})};Yy(Ap,rP).catch(n=>console.error(n));
