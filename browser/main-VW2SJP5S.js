var mO=Object.defineProperty,gO=Object.defineProperties;var yO=Object.getOwnPropertyDescriptors;var wd=Object.getOwnPropertySymbols,vO=Object.getPrototypeOf,Jb=Object.prototype.hasOwnProperty,Xb=Object.prototype.propertyIsEnumerable,_O=Reflect.get;var Zb=(n,e,t)=>e in n?mO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})Jb.call(e,t)&&Zb(n,t,e[t]);if(wd)for(var t of wd(e))Xb.call(e,t)&&Zb(n,t,e[t]);return n},re=(n,e)=>gO(n,yO(e));var Uc=(n,e)=>{var t={};for(var r in n)Jb.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&wd)for(var r of wd(n))e.indexOf(r)<0&&Xb.call(n,r)&&(t[r]=n[r]);return t};var yi=(n,e,t)=>_O(vO(n),t,e);var E=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var ry;function iy(){return ry}function Pr(n){let e=ry;return ry=n,e}var EO=Symbol("NotFound"),Td=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function Os(n){return n===EO||n?.name==="\u0275NotFound"}function Ad(n,e){return Object.is(n,e)}var yt=null,bd=!1,oy=1,IO=null,Ut=Symbol("SIGNAL");function ve(n){let e=yt;return yt=n,e}function xd(){return yt}var vo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ls(n){if(bd)throw new Error("");if(yt===null)return;yt.consumerOnSignalRead(n);let e=yt.nextProducerIndex++;if(kd(yt),e<yt.producerNode.length&&yt.producerNode[e]!==n&&$c(yt)){let t=yt.producerNode[e];Nd(t,yt.producerIndexOfThis[e])}yt.producerNode[e]!==n&&(yt.producerNode[e]=n,yt.producerIndexOfThis[e]=$c(yt)?tC(n,yt,e):0),yt.producerLastReadVersion[e]=n.version}function eC(){oy++}function Rd(n){if(!($c(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===oy)){if(!n.producerMustRecompute(n)&&!Hc(n)){Sd(n);return}n.producerRecomputeValue(n),Sd(n)}}function sy(n){if(n.liveConsumerNode===void 0)return;let e=bd;bd=!0;try{for(let t of n.liveConsumerNode)t.dirty||wO(t)}finally{bd=e}}function ay(){return yt?.consumerAllowSignalWrites!==!1}function wO(n){n.dirty=!0,sy(n),n.consumerMarkedDirty?.(n)}function Sd(n){n.dirty=!1,n.lastCleanEpoch=oy}function _o(n){return n&&(n.nextProducerIndex=0),ve(n)}function Fs(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if($c(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Nd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Hc(n){kd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Rd(t),r!==t.version))return!0}return!1}function Md(n){if(kd(n),$c(n))for(let e=0;e<n.producerNode.length;e++)Nd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function tC(n,e,t){if(nC(n),n.liveConsumerNode.length===0&&rC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=tC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Nd(n,e){if(nC(n),n.liveConsumerNode.length===1&&rC(n))for(let r=0;r<n.producerNode.length;r++)Nd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];kd(i),i.producerIndexOfThis[r]=e}}function $c(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function kd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function nC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function rC(n){return n.producerNode!==void 0}function Pd(n){IO?.(n)}function Od(n,e){let t=Object.create(TO);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Rd(t),Ls(t),t.value===Bc)throw t.error;return t.value};return r[Ut]=t,Pd(t),r}var Cd=Symbol("UNSET"),Dd=Symbol("COMPUTING"),Bc=Symbol("ERRORED"),TO=re(F({},vo),{value:Cd,dirty:!0,error:null,equal:Ad,kind:"computed",producerMustRecompute(n){return n.value===Cd||n.value===Dd},producerRecomputeValue(n){if(n.value===Dd)throw new Error("");let e=n.value;n.value=Dd;let t=_o(n),r,i=!1;try{r=n.computation(),ve(null),i=e!==Cd&&e!==Bc&&r!==Bc&&n.equal(e,r)}catch(o){r=Bc,n.error=o}finally{Fs(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function bO(){throw new Error}var iC=bO;function oC(n){iC(n)}function cy(n){iC=n}var CO=null;function uy(n,e){let t=Object.create(Ld);t.value=n,e!==void 0&&(t.equal=e);let r=()=>sC(t);return r[Ut]=t,Pd(t),[r,s=>Vs(t,s),s=>ly(t,s)]}function sC(n){return Ls(n),n.value}function Vs(n,e){ay()||oC(n),n.equal(n.value,e)||(n.value=e,DO(n))}function ly(n,e){ay()||oC(n),Vs(n,e(n.value))}var Ld=re(F({},vo),{equal:Ad,value:void 0,kind:"signal"});function DO(n){n.version++,eC(),sy(n),CO?.(n)}function fe(n){return typeof n=="function"}function js(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Fd=js(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Eo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ye=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){e=o instanceof Fd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{aC(o)}catch(s){e=e??[],s instanceof Fd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Fd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)aC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Eo(t,e)}remove(e){let{_finalizers:t}=this;t&&Eo(t,e),e instanceof n&&e._removeParent(this)}};Ye.EMPTY=(()=>{let n=new Ye;return n.closed=!0,n})();var dy=Ye.EMPTY;function Vd(n){return n instanceof Ye||n&&"closed"in n&&fe(n.remove)&&fe(n.add)&&fe(n.unsubscribe)}function aC(n){fe(n)?n():n.unsubscribe()}var Fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Us={setTimeout(n,e,...t){let{delegate:r}=Us;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Us;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function jd(n){Us.setTimeout(()=>{let{onUnhandledError:e}=Fn;if(e)e(n);else throw n})}function zc(){}var cC=hy("C",void 0,void 0);function uC(n){return hy("E",void 0,n)}function lC(n){return hy("N",n,void 0)}function hy(n,e,t){return{kind:n,value:e,error:t}}var Io=null;function Bs(n){if(Fn.useDeprecatedSynchronousErrorHandling){let e=!Io;if(e&&(Io={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Io;if(Io=null,t)throw r}}else n()}function dC(n){Fn.useDeprecatedSynchronousErrorHandling&&Io&&(Io.errorThrown=!0,Io.error=n)}var wo=class extends Ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Vd(e)&&e.add(this)):this.destination=xO}static create(e,t,r){return new vi(e,t,r)}next(e){this.isStopped?py(lC(e),this):this._next(e)}error(e){this.isStopped?py(uC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?py(cC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SO=Function.prototype.bind;function fy(n,e){return SO.call(n,e)}var my=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ud(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ud(r)}else Ud(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ud(t)}}},vi=class extends wo{constructor(e,t,r){super();let i;if(fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Fn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&fy(e.next,o),error:e.error&&fy(e.error,o),complete:e.complete&&fy(e.complete,o)}):i=e}this.destination=new my(i)}};function Ud(n){Fn.useDeprecatedSynchronousErrorHandling?dC(n):jd(n)}function AO(n){throw n}function py(n,e){let{onStoppedNotification:t}=Fn;t&&Us.setTimeout(()=>t(n,e))}var xO={closed:!0,next:zc,error:AO,complete:zc};var $s=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ln(n){return n}function Bd(...n){return gy(n)}function gy(n){return n.length===0?ln:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=MO(t)?t:new vi(t,r,i);return Bs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=hC(r),new r((i,o)=>{let s=new vi({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[$s](){return this}pipe(...t){return gy(t)(this)}toPromise(t){return t=hC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function hC(n){var e;return(e=n??Fn.Promise)!==null&&e!==void 0?e:Promise}function RO(n){return n&&fe(n.next)&&fe(n.error)&&fe(n.complete)}function MO(n){return n&&n instanceof wo||RO(n)&&Vd(n)}function yy(n){return fe(n?.lift)}function Ce(n){return e=>{if(yy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(n,e,t,r,i){return new vy(n,e,t,r,i)}var vy=class extends wo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Hs(){return Ce((n,e)=>{let t=null;n._refCount++;let r=we(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var zs=class extends ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,yy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ye;let t=this.getSubject();e.add(this.source.subscribe(we(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ye.EMPTY)}return e}refCount(){return Hs()(this)}};var fC=js(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var it=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new $d(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new fC}next(t){Bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?dy:(this.currentObservers=null,o.push(t),new Ye(()=>{this.currentObservers=null,Eo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return n.create=(e,t)=>new $d(e,t),n})(),$d=class extends it{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:dy}};var ot=class extends it{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _y={now(){return(_y.delegate||Date).now()},delegate:void 0};var Hd=class extends Ye{constructor(e,t){super()}schedule(e,t=0){return this}};var qc={setInterval(n,e,...t){let{delegate:r}=qc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=qc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var qs=class extends Hd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return qc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&qc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Eo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Gs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Gs.now=_y.now;var Ws=class extends Gs{constructor(e,t=Gs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ks=new Ws(qs),Ey=Ks;var zd=class extends qs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var qd=class extends Ws{};var Iy=new qd(zd);var tn=new ie(n=>n.complete());function Gd(n){return n&&fe(n.schedule)}function pC(n){return n[n.length-1]}function Wd(n){return fe(pC(n))?n.pop():void 0}function _i(n){return Gd(pC(n))?n.pop():void 0}function Kd(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function gC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function mC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function To(n){return this instanceof To?(this.v=n,this):new To(n)}function yC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(k){return new Promise(function(R,j){o.push([y,k,R,j])>1||u(y,k)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(k){m(o[0][3],k)}}function l(y){y.value instanceof To?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function vC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof mC=="function"?mC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Qd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Yd(n){return fe(n?.then)}function Zd(n){return fe(n[$s])}function Jd(n){return Symbol.asyncIterator&&fe(n?.[Symbol.asyncIterator])}function Xd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function NO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var eh=NO();function th(n){return fe(n?.[eh])}function nh(n){return yC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield To(t.read());if(i)return yield To(void 0);yield yield To(r)}}finally{t.releaseLock()}})}function rh(n){return fe(n?.getReader)}function lt(n){if(n instanceof ie)return n;if(n!=null){if(Zd(n))return kO(n);if(Qd(n))return PO(n);if(Yd(n))return OO(n);if(Jd(n))return _C(n);if(th(n))return LO(n);if(rh(n))return FO(n)}throw Xd(n)}function kO(n){return new ie(e=>{let t=n[$s]();if(fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PO(n){return new ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function OO(n){return new ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,jd)})}function LO(n){return new ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function _C(n){return new ie(e=>{VO(n,e).catch(t=>e.error(t))})}function FO(n){return _C(nh(n))}function VO(n,e){var t,r,i,o;return gC(this,void 0,void 0,function*(){try{for(t=vC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function nn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ei(n,e=0){return Ce((t,r)=>{t.subscribe(we(r,i=>nn(r,n,()=>r.next(i),e),()=>nn(r,n,()=>r.complete(),e),i=>nn(r,n,()=>r.error(i),e)))})}function Ii(n,e=0){return Ce((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function EC(n,e){return lt(n).pipe(Ii(e),Ei(e))}function IC(n,e){return lt(n).pipe(Ii(e),Ei(e))}function wC(n,e){return new ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function TC(n,e){return new ie(t=>{let r;return nn(t,e,()=>{r=n[eh](),nn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}function ih(n,e){if(!n)throw new Error("Iterable cannot be null");return new ie(t=>{nn(t,e,()=>{let r=n[Symbol.asyncIterator]();nn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function bC(n,e){return ih(nh(n),e)}function CC(n,e){if(n!=null){if(Zd(n))return EC(n,e);if(Qd(n))return wC(n,e);if(Yd(n))return IC(n,e);if(Jd(n))return ih(n,e);if(th(n))return TC(n,e);if(rh(n))return bC(n,e)}throw Xd(n)}function Ee(n,e){return e?CC(n,e):lt(n)}function Q(...n){let e=_i(n);return Ee(n,e)}function Qs(n,e){let t=fe(n)?n:()=>n,r=i=>i.error(t());return new ie(e?i=>e.schedule(r,0,i):r)}function wy(n){return!!n&&(n instanceof ie||fe(n.lift)&&fe(n.subscribe))}var Vn=js(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ty(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new vi({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Vn)}});n.subscribe(o)})}function DC(n){return n instanceof Date&&!isNaN(n)}function ne(n,e){return Ce((t,r)=>{let i=0;t.subscribe(we(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:jO}=Array;function UO(n,e){return jO(e)?n(...e):n(e)}function oh(n){return ne(e=>UO(n,e))}var{isArray:BO}=Array,{getPrototypeOf:$O,prototype:HO,keys:zO}=Object;function sh(n){if(n.length===1){let e=n[0];if(BO(e))return{args:e,keys:null};if(qO(e)){let t=zO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function qO(n){return n&&typeof n=="object"&&$O(n)===HO}function ah(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Gc(...n){let e=_i(n),t=Wd(n),{args:r,keys:i}=sh(n);if(r.length===0)return Ee([],e);let o=new ie(GO(r,e,i?s=>ah(i,s):ln));return t?o.pipe(oh(t)):o}function GO(n,e,t=ln){return r=>{SC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)SC(e,()=>{let l=Ee(n[u],e),h=!1;l.subscribe(we(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function SC(n,e,t){n?nn(t,n,e):e()}function AC(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=k=>l<r?S(k):u.push(k),S=k=>{o&&e.next(k),l++;let R=!1;lt(t(k,h++)).subscribe(we(e,j=>{i?.(j),o?y(j):e.next(j)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let j=u.shift();s?nn(e,s,()=>S(j)):S(j)}m()}catch(j){e.error(j)}}))};return n.subscribe(we(e,y,()=>{p=!0,m()})),()=>{a?.()}}function st(n,e,t=1/0){return fe(e)?st((r,i)=>ne((o,s)=>e(r,o,i,s))(lt(n(r,i))),t):(typeof e=="number"&&(t=e),Ce((r,i)=>AC(r,i,n,t)))}function wi(n=1/0){return st(ln,n)}function xC(){return wi(1)}function Ys(...n){return xC()(Ee(n,_i(n)))}function Wc(n){return new ie(e=>{lt(n()).subscribe(e)})}function by(...n){let e=Wd(n),{args:t,keys:r}=sh(n),i=new ie(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;lt(t[h]).subscribe(we(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?ah(r,a):a),o.complete())}))}});return e?i.pipe(oh(e)):i}function RC(n=0,e,t=Ey){let r=-1;return e!=null&&(Gd(e)?t=e:r=e),new ie(i=>{let o=DC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Cy(n=0,e=Ks){return n<0&&(n=0),RC(n,n,e)}function kt(n,e){return Ce((t,r)=>{let i=0;t.subscribe(we(r,o=>n.call(e,o,i++)&&r.next(o)))})}function jn(n){return Ce((e,t)=>{let r=null,i=!1,o;r=e.subscribe(we(t,void 0,void 0,s=>{o=lt(n(s,jn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function MC(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(we(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ir(n,e){return fe(e)?st(n,e,1):st(n,1)}function Ti(n){return Ce((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function at(n){return n<=0?()=>tn:Ce((e,t)=>{let r=0;e.subscribe(we(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ch(n=WO){return Ce((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function WO(){return new Vn}function bo(n){return Ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Or(n,e){let t=arguments.length>=2;return r=>r.pipe(n?kt((i,o)=>n(i,o,r)):ln,at(1),t?Ti(e):ch(()=>new Vn))}function Zs(n){return n<=0?()=>tn:Ce((e,t)=>{let r=[];e.subscribe(we(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Dy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?kt((i,o)=>n(i,o,r)):ln,Zs(1),t?Ti(e):ch(()=>new Vn))}function uh(n,e){return Ce(MC(n,e,arguments.length>=2,!0))}function lh(...n){let e=_i(n);return Ce((t,r)=>{(e?Ys(n,t,e):Ys(n,t)).subscribe(r)})}function Fe(n,e){return Ce((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(we(r,u=>{i?.unsubscribe();let l=0,h=o++;lt(n(u,h)).subscribe(i=we(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function dh(n){return Ce((e,t)=>{lt(n).subscribe(we(t,()=>t.complete(),zc)),!t.closed&&e.subscribe(t)})}function Tt(n,e,t){let r=fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(we(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ln}function NC(n){let e=ve(null);try{return n()}finally{ve(e)}}var gh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,t){super(Zc(e,t)),this.code=e}};function KO(n){return`NG0${Math.abs(n)}`}function Zc(n,e){return`${KO(n)}${e?": "+e:""}`}var Vr=globalThis;function ze(n){for(let e in n)if(n[e]===ze)return e;throw Error("")}function LC(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function rn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(rn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function jy(n,e){return n?e?`${n} ${e}`:n:e||""}var QO=ze({__forward_ref__:ze});function jr(n){return n.__forward_ref__=jr,n.toString=function(){return rn(this())},n}function Pt(n){return Uy(n)?n():n}function Uy(n){return typeof n=="function"&&n.hasOwnProperty(QO)&&n.__forward_ref__===jr}function FC(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jc(n){return YO(n,yh)}function By(n){return Jc(n)!==null}function YO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function ZO(n){let e=n?.[yh]??null;return e||null}function Ay(n){return n&&n.hasOwnProperty(fh)?n[fh]:null}var yh=ze({\u0275prov:ze}),fh=ze({\u0275inj:ze}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $y(n){return n&&!!n.\u0275providers}var Hy=ze({\u0275cmp:ze}),zy=ze({\u0275dir:ze}),qy=ze({\u0275pipe:ze}),Gy=ze({\u0275mod:ze}),Qc=ze({\u0275fac:ze}),xo=ze({__NG_ELEMENT_ID__:ze}),kC=ze({__NG_ENV_ID__:ze});function Ro(n){return typeof n=="string"?n:n==null?"":String(n)}function VC(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ro(n)}function Wy(n,e){throw new B(-200,n)}function vh(n,e){throw new B(-201,!1)}var xy;function jC(){return xy}function Kt(n){let e=xy;return xy=n,e}function Ky(n,e,t){let r=Jc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;vh(n,"Injector")}var JO={},Co=JO,Ry="__NG_DI_FLAG__",My=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Do(t)||0;try{return this.injector.get(e,r&8?null:Co,r)}catch(i){if(Os(i))return i;throw i}}},ph="ngTempTokenPath",XO="ngTokenPath",eL=/\n/gm,tL="\u0275",PC="__source";function nL(n,e=0){let t=iy();if(t===void 0)throw new B(-203,!1);if(t===null)return Ky(n,void 0,e);{let r=rL(e),i=t.retrieve(n,r);if(Os(i)){if(r.optional)return null;throw i}return i}}function q(n,e=0){return(jC()||nL)(Pt(n),e)}function P(n,e){return q(n,Do(e))}function Do(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function rL(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Ny(n){let e=[];for(let t=0;t<n.length;t++){let r=Pt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=iL(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(q(i,o))}else e.push(q(r))}return e}function Qy(n,e){return n[Ry]=e,n.prototype[Ry]=e,n}function iL(n){return n[Ry]}function oL(n,e,t,r){let i=n[ph];throw e[PC]&&i.unshift(e[PC]),n.message=sL(`
`+n.message,i,t,r),n[XO]=i,n[ph]=null,n}function sL(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==tL?n.slice(2):n;let i=rn(e);if(Array.isArray(e))i=e.map(rn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):rn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(eL,`
  `)}`}function bi(n,e){let t=n.hasOwnProperty(Qc);return t?n[Qc]:null}function UC(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function BC(n){return n.flat(Number.POSITIVE_INFINITY)}function _h(n,e){n.forEach(t=>Array.isArray(t)?_h(t,e):e(t))}function Yy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function $C(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function HC(n,e,t){let r=Xs(n,e);return r>=0?n[r|1]=t:(r=~r,$C(n,r,e,t)),r}function Eh(n,e){let t=Xs(n,e);if(t>=0)return n[t|1]}function Xs(n,e){return aL(n,e,1)}function aL(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Di={},dn=[],Si=new H(""),Zy=new H("",-1),Jy=new H(""),Yc=class{get(e,t=Co){if(t===Co)throw new Td(`NullInjectorError: No provider for ${rn(e)}!`);return t}};function Xy(n){return n[Gy]||null}function Ur(n){return n[Hy]||null}function ev(n){return n[zy]||null}function zC(n){return n[qy]||null}function on(n){return{\u0275providers:n}}function qC(...n){return{\u0275providers:tv(!0,n),\u0275fromNgModule:!0}}function tv(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return _h(e,s=>{let a=s;mh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&GC(i,o),t}function GC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];nv(i,o=>{e(o,r)})}}function mh(n,e,t,r){if(n=Pt(n),!n)return!1;let i=null,o=Ay(n),s=!o&&Ur(n);if(!o&&!s){let u=n.ngModule;if(o=Ay(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)mh(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{_h(o.imports,h=>{mh(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&GC(l,e)}if(!a){let l=bi(i)||(()=>new i);e({provide:i,useFactory:l,deps:dn},i),e({provide:Jy,useValue:i,multi:!0},i),e({provide:Si,useValue:()=>q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;nv(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function nv(n,e){for(let t of n)$y(t)&&(t=t.\u0275providers),Array.isArray(t)?nv(t,e):e(t)}var cL=ze({provide:String,useValue:ze});function WC(n){return n!==null&&typeof n=="object"&&cL in n}function uL(n){return!!(n&&n.useExisting)}function lL(n){return!!(n&&n.useFactory)}function So(n){return typeof n=="function"}function KC(n){return!!n.useClass}var eu=new H(""),hh={},OC={},Sy;function tu(){return Sy===void 0&&(Sy=new Yc),Sy}var Ge=class{},Ao=class extends Ge{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Py(e,s=>this.processProvider(s)),this.records.set(Zy,Js(void 0,this)),i.has("environment")&&this.records.set(Ge,Js(void 0,this));let o=this.records.get(eu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Jy,dn,{self:!0}))}retrieve(e,t){let r=Do(t)||0;try{return this.get(e,Co,r)}catch(i){if(Os(i))return i;throw i}}destroy(){Kc(this),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return Kc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Kc(this);let t=Pr(this),r=Kt(void 0),i;try{return e()}finally{Pr(t),Kt(r)}}get(e,t=Co,r){if(Kc(this),e.hasOwnProperty(kC))return e[kC](this);let i=Do(r),o,s=Pr(this),a=Kt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=mL(e)&&Jc(e);h&&this.injectableDefInScope(h)?l=Js(ky(e),hh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let u=i&2?tu():this.parent;return t=i&8&&t===Co?null:t,u.get(e,t)}catch(u){if(Os(u)){if((u[ph]=u[ph]||[]).unshift(rn(e)),s)throw u;return oL(u,e,"R3InjectorError",this.source)}else throw u}finally{Kt(a),Pr(s)}}resolveInjectorInitializers(){let e=ve(null),t=Pr(this),r=Kt(void 0),i;try{let o=this.get(Si,dn,{self:!0});for(let s of o)s()}finally{Pr(t),Kt(r),ve(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(rn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Pt(e);let t=So(e)?e:Pt(e&&e.provide),r=hL(e);if(!So(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Js(void 0,hh,!0),i.factory=()=>Ny(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ve(null);try{return t.value===OC?Wy(rn(e)):t.value===hh&&(t.value=OC,t.value=t.factory()),typeof t.value=="object"&&t.value&&pL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Pt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ky(n){let e=Jc(n),t=e!==null?e.factory:bi(n);if(t!==null)return t;if(n instanceof H)throw new B(204,!1);if(n instanceof Function)return dL(n);throw new B(204,!1)}function dL(n){if(n.length>0)throw new B(204,!1);let t=ZO(n);return t!==null?()=>t.factory(n):()=>new n}function hL(n){if(WC(n))return Js(void 0,n.useValue);{let e=rv(n);return Js(e,hh)}}function rv(n,e,t){let r;if(So(n)){let i=Pt(n);return bi(i)||ky(i)}else if(WC(n))r=()=>Pt(n.useValue);else if(lL(n))r=()=>n.useFactory(...Ny(n.deps||[]));else if(uL(n))r=()=>q(Pt(n.useExisting));else{let i=Pt(n&&(n.useClass||n.provide));if(fL(n))r=()=>new i(...Ny(n.deps));else return bi(i)||ky(i)}return r}function Kc(n){if(n.destroyed)throw new B(205,!1)}function Js(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function fL(n){return!!n.deps}function pL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function mL(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Py(n,e){for(let t of n)Array.isArray(t)?Py(t,e):t&&$y(t)?Py(t.\u0275providers,e):e(t)}function dt(n,e){let t;n instanceof Ao?(Kc(n),t=n):t=new My(n);let r,i=Pr(t),o=Kt(void 0);try{return e()}finally{Pr(i),Kt(o)}}function iv(){return jC()!==void 0||iy()!=null}function ov(n){if(!iv())throw new B(-203,!1)}var Bn=0,ge=1,de=2,bt=3,bn=4,Cn=5,nu=6,ea=7,Bt=8,Mo=9,or=10,Je=11,ta=12,sv=13,No=14,Dn=15,Ai=16,ko=17,sr=18,ru=19,av=20,Lr=21,Ih=22,iu=23,hn=24,Po=25,$t=26,QC=1;var xi=7,ou=8,Oo=9,Qt=10;function ar(n){return Array.isArray(n)&&typeof n[QC]=="object"}function $n(n){return Array.isArray(n)&&n[QC]===!0}function wh(n){return(n.flags&4)!==0}function Ri(n){return n.componentOffset>-1}function su(n){return(n.flags&1)===1}function cr(n){return!!n.template}function na(n){return(n[de]&512)!==0}function Lo(n){return(n[de]&256)===256}var cv="svg",YC="math";function Sn(n){for(;Array.isArray(n);)n=n[Bn];return n}function uv(n,e){return Sn(e[n])}function Hn(n,e){return Sn(e[n.index])}function Th(n,e){return n.data[e]}function bh(n,e){return n[e]}function lv(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function An(n,e){let t=e[n];return ar(t)?t:t[Bn]}function ZC(n){return(n[de]&4)===4}function Ch(n){return(n[de]&128)===128}function JC(n){return $n(n[bt])}function Fo(n,e){return e==null?null:n[e]}function dv(n){n[ko]=0}function hv(n){n[de]&1024||(n[de]|=1024,Ch(n)&&ra(n))}function XC(n,e){for(;n>0;)e=e[No],n--;return e}function au(n){return!!(n[de]&9216||n[hn]?.dirty)}function Dh(n){n[or].changeDetectionScheduler?.notify(8),n[de]&64&&(n[de]|=1024),au(n)&&ra(n)}function ra(n){n[or].changeDetectionScheduler?.notify(0);let e=Ci(n);for(;e!==null&&!(e[de]&8192||(e[de]|=8192,!Ch(e)));)e=Ci(e)}function fv(n,e){if(Lo(n))throw new B(911,!1);n[Lr]===null&&(n[Lr]=[]),n[Lr].push(e)}function eD(n,e){if(n[Lr]===null)return;let t=n[Lr].indexOf(e);t!==-1&&n[Lr].splice(t,1)}function Ci(n){let e=n[bt];return $n(e)?e[bt]:e}function pv(n){return n[ea]??=[]}function mv(n){return n.cleanup??=[]}function tD(n,e,t,r){let i=pv(e);i.push(t),n.firstCreatePass&&mv(n).push(r,i.length-1)}var me={lFrame:yD(null),bindingsEnabled:!0,skipHydrationRootTNode:null},cu=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(cu||{}),gL=0,Oy=!1;function nD(){return me.lFrame.elementDepthCount}function rD(){me.lFrame.elementDepthCount++}function iD(){me.lFrame.elementDepthCount--}function Sh(){return me.bindingsEnabled}function oD(){return me.skipHydrationRootTNode!==null}function sD(n){return me.skipHydrationRootTNode===n}function aD(){me.skipHydrationRootTNode=null}function Te(){return me.lFrame.lView}function vt(){return me.lFrame.tView}function ae(n){return me.lFrame.contextLView=n,n[Bt]}function ce(n){return me.lFrame.contextLView=null,n}function Ct(){let n=gv();for(;n!==null&&n.type===64;)n=n.parent;return n}function gv(){return me.lFrame.currentTNode}function cD(){let n=me.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Mi(n,e){let t=me.lFrame;t.currentTNode=n,t.isParent=e}function Ah(){return me.lFrame.isParent}function yv(){me.lFrame.isParent=!1}function uD(){return me.lFrame.contextLView}function vv(n){FC("Must never be called in production mode"),gL=n}function _v(){return Oy}function Ev(n){let e=Oy;return Oy=n,e}function xh(){let n=me.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function lD(){return me.lFrame.bindingIndex}function dD(n){return me.lFrame.bindingIndex=n}function uu(){return me.lFrame.bindingIndex++}function Iv(n){let e=me.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function hD(){return me.lFrame.inI18n}function fD(n,e){let t=me.lFrame;t.bindingIndex=t.bindingRootIndex=n,Rh(e)}function pD(){return me.lFrame.currentDirectiveIndex}function Rh(n){me.lFrame.currentDirectiveIndex=n}function mD(n){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function wv(){return me.lFrame.currentQueryIndex}function Mh(n){me.lFrame.currentQueryIndex=n}function yL(n){let e=n[ge];return e.type===2?e.declTNode:e.type===1?n[Cn]:null}function Tv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=yL(o),i===null||(o=o[No],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=me.lFrame=gD();return r.currentTNode=e,r.lView=n,!0}function Nh(n){let e=gD(),t=n[ge];me.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function gD(){let n=me.lFrame,e=n===null?null:n.child;return e===null?yD(n):e}function yD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function vD(){let n=me.lFrame;return me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var bv=vD;function kh(){let n=vD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function _D(n){return(me.lFrame.contextLView=XC(n,me.lFrame.contextLView))[Bt]}function Ni(){return me.lFrame.selectedIndex}function ki(n){me.lFrame.selectedIndex=n}function Ph(){let n=me.lFrame;return Th(n.tView,n.selectedIndex)}function J(){me.lFrame.currentNamespace=cv}function le(){vL()}function vL(){me.lFrame.currentNamespace=null}function ED(){return me.lFrame.currentNamespace}var ID=!0;function lu(){return ID}function du(n){ID=n}function Ly(n,e=null,t=null,r){let i=Cv(n,e,t,r);return i.resolveInjectorInitializers(),i}function Cv(n,e=null,t=null,r,i=new Set){let o=[t||dn,qC(n)];return r=r||(typeof n=="object"?void 0:rn(n)),new Ao(o,e||tu(),r||null,i)}var Ze=class n{static THROW_IF_NOT_FOUND=Co;static NULL=new Yc;static create(e,t){if(Array.isArray(e))return Ly({name:""},t,e,"");{let r=e.name??"";return Ly({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:n,providedIn:"any",factory:()=>q(Zy)});static __NG_ELEMENT_ID__=-1},Xe=new H(""),Br=(()=>{class n{static __NG_ELEMENT_ID__=_L;static __NG_ENV_ID__=t=>t}return n})(),Fy=class extends Br{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Lo(this._lView)}onDestroy(e){let t=this._lView;return fv(t,e),()=>eD(t,e)}};function _L(){return new Fy(Te())}var Un=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Yt=new H("",{providedIn:"root",factory:()=>{let n=P(Ge),e;return t=>{e??=n.get(Un),e.handleError(t)}}}),wD={provide:Si,useValue:()=>void P(Un),multi:!0};function Dv(n){return typeof n=="function"&&n[Ut]!==void 0}function ur(n,e){let[t,r,i]=uy(n,e?.equal),o=t,s=o[Ut];return o.set=r,o.update=i,o.asReadonly=TD.bind(o),o}function TD(){let n=this[Ut];if(n.readonlyFn===void 0){let e=()=>this();e[Ut]=n,n.readonlyFn=e}return n.readonlyFn}function Sv(n){return Dv(n)&&typeof n.set=="function"}var Fr=class{},hu=new H("",{providedIn:"root",factory:()=>!1});var Av=new H(""),xv=new H("");var Oh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=EL}return n})();function EL(){return new Oh(Te(),Ct())}var $r=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ot(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),Pi=(()=>{class n{internalPendingTasks=P($r);scheduler=P(Fr);errorHandler=P(Yt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})();function fu(...n){}var Rv=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new Vy})}return n})(),Vy=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function ca(n){return{toString:n}.toString()}var Lh="__parameters__";function DL(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function eS(n,e,t){return ca(()=>{let r=DL(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Lh)?u[Lh]:Object.defineProperty(u,Lh,{value:[]})[Lh];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var sn=Qy(eS("Optional"),8);var tS=Qy(eS("SkipSelf"),4);function SL(n){return typeof n=="function"}var Hh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function nS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var hr=(()=>{let n=()=>rS;return n.ngInherit=!0,n})();function rS(n){return n.type.prototype.ngOnChanges&&(n.setInput=xL),AL}function AL(){let n=oS(this),e=n?.current;if(e){let t=n.previous;if(t===Di)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function xL(n,e,t,r,i){let o=this.declaredInputs[r],s=oS(n)||RL(n,{previous:Di,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Hh(l&&l.currentValue,t,u===Di),nS(n,e,i,t)}var iS="__ngSimpleChanges__";function oS(n){return n[iS]||null}function RL(n,e){return n[iS]=e}var bD=[];var Pe=function(n,e=null,t){for(let r=0;r<bD.length;r++){let i=bD[r];i(n,e,t)}};function ML(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=rS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function p_(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function jh(n,e,t){sS(n,e,3,t)}function Uh(n,e,t,r){(n[de]&3)===t&&sS(n,e,t,r)}function Mv(n,e){let t=n[de];(t&3)===e&&(t&=16383,t+=1,n[de]=t)}function sS(n,e,t,r){let i=r!==void 0?n[ko]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[ko]+=65536),(a<o||o==-1)&&(NL(n,t,e,u),n[ko]=(n[ko]&4294901760)+u+2),u++}function CD(n,e){Pe(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),Pe(5,n,e)}}function NL(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[de]>>14<n[ko]>>16&&(n[de]&3)===e&&(n[de]+=16384,CD(a,o)):CD(a,o)}var oa=-1,Uo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function kL(n){return(n.flags&8)!==0}function PL(n){return(n.flags&16)!==0}function OL(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];LL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function aS(n){return n===3||n===4||n===6}function LL(n){return n.charCodeAt(0)===64}function sa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?DD(n,t,i,null,e[++r]):DD(n,t,i,null,null))}}return n}function DD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function cS(n){return n!==oa}function zh(n){return n&32767}function FL(n){return n>>16}function qh(n,e){let t=FL(n),r=e;for(;t>0;)r=r[No],t--;return r}var $v=!0;function Gh(n){let e=$v;return $v=n,e}var VL=256,uS=VL-1,lS=5,jL=0,lr={};function UL(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(xo)&&(r=t[xo]),r==null&&(r=t[xo]=jL++);let i=r&uS,o=1<<i;e.data[n+(i>>lS)]|=o}function Wh(n,e){let t=dS(n,e);if(t!==-1)return t;let r=e[ge];r.firstCreatePass&&(n.injectorIndex=e.length,Nv(r.data,n),Nv(e,null),Nv(r.blueprint,null));let i=m_(n,e),o=n.injectorIndex;if(cS(i)){let s=zh(i),a=qh(i,e),u=a[ge].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Nv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function m_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=gS(i),r===null)return oa;if(t++,i=i[No],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return oa}function Hv(n,e,t){UL(n,e,t)}function BL(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(aS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function hS(n,e,t){if(t&8||n!==void 0)return n;vh(e,"NodeInjector")}function fS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Mo],o=Kt(void 0);try{return i?i.get(e,r,t&8):Ky(e,r,t&8)}finally{Kt(o)}}return hS(r,e,t)}function pS(n,e,t,r=0,i){if(n!==null){if(e[de]&2048&&!(r&2)){let s=qL(n,e,t,r,lr);if(s!==lr)return s}let o=mS(n,e,t,r,lr);if(o!==lr)return o}return fS(e,t,r,i)}function mS(n,e,t,r,i){let o=HL(t);if(typeof o=="function"){if(!Tv(e,n,r))return r&1?hS(i,t,r):fS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))vh(t);else return s}finally{bv()}}else if(typeof o=="number"){let s=null,a=dS(n,e),u=oa,l=r&1?e[Dn][Cn]:null;for((a===-1||r&4)&&(u=a===-1?m_(n,e):e[a+8],u===oa||!AD(r,!1)?a=-1:(s=e[ge],a=zh(u),e=qh(u,e)));a!==-1;){let h=e[ge];if(SD(o,a,h.data)){let p=$L(a,e,t,s,r,l);if(p!==lr)return p}u=e[a+8],u!==oa&&AD(r,e[ge].data[a+8]===l)&&SD(o,a,e)?(s=h,a=zh(u),e=qh(u,e)):a=-1}}return i}function $L(n,e,t,r,i,o){let s=e[ge],a=s.data[n+8],u=r==null?Ri(a)&&$v:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=Bh(a,s,t,u,l);return h!==null?gu(e,s,h,a):lr}function Bh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&cr(y)&&y.type===t)return u}return null}function gu(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Uo){let s=i;s.resolving&&Wy(VC(o[t]));let a=Gh(s.canSeeViewProviders);s.resolving=!0;let u=o[t].type||o[t],l,h=s.injectImpl?Kt(s.injectImpl):null,p=Tv(n,r,0);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&ML(t,o[t],e)}finally{h!==null&&Kt(h),Gh(a),s.resolving=!1,bv()}}return i}function HL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(xo)?n[xo]:void 0;return typeof e=="number"?e>=0?e&uS:zL:e}function SD(n,e,t){let r=1<<n;return!!(t[e+(n>>lS)]&r)}function AD(n,e){return!(n&2)&&!(n&1&&e)}var jo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return pS(this._tNode,this._lView,e,Do(r),t)}};function zL(){return new jo(Ct(),Te())}function qo(n){return ca(()=>{let e=n.prototype.constructor,t=e[Qc]||zv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Qc]||zv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function zv(n){return Uy(n)?()=>{let e=zv(Pt(n));return e&&e()}:bi(n)}function qL(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[de]&2048&&!na(s);){let a=mS(o,s,t,r|2,lr);if(a!==lr)return a;let u=o.parent;if(!u){let l=s[av];if(l){let h=l.get(t,lr,r);if(h!==lr)return h}u=gS(s),s=s[No]}o=u}return i}function gS(n){let e=n[ge],t=e.type;return t===2?e.declTNode:t===1?n[Cn]:null}function Eu(n){return BL(Ct(),n)}function GL(){return ua(Ct(),Te())}function ua(n,e){return new fn(Hn(n,e))}var fn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=GL}return n})();function WL(n){return n instanceof fn?n.nativeElement:n}function KL(){return this._results[Symbol.iterator]()}var Kh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new it}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=BC(e);(this._changesDetected=!UC(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=KL};function yS(n){return(n.flags&128)===128}var g_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(g_||{}),vS=new Map,QL=0;function YL(){return QL++}function ZL(n){vS.set(n[ru],n)}function qv(n){vS.delete(n[ru])}var xD="__ngContext__";function la(n,e){ar(e)?(n[xD]=e[ru],ZL(e)):n[xD]=e}function _S(n){return IS(n[ta])}function ES(n){return IS(n[bn])}function IS(n){for(;n!==null&&!$n(n);)n=n[bn];return n}var Gv;function y_(n){Gv=n}function wS(){if(Gv!==void 0)return Gv;if(typeof document<"u")return document;throw new B(210,!1)}var af=new H("",{providedIn:"root",factory:()=>JL}),JL="ng",cf=new H(""),Vi=new H("",{providedIn:"platform",factory:()=>"unknown"});var uf=new H("",{providedIn:"root",factory:()=>wS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XL="h",eF="b";var TS=!1,bS=new H("",{providedIn:"root",factory:()=>TS});var tF=(n,e,t,r)=>{};function nF(n,e,t,r){tF(n,e,t,r)}var rF=()=>null;function CS(n,e,t=!1){return rF(n,e,t)}function DS(n,e){let t=n.contentQueries;if(t!==null){let r=ve(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Mh(o),a.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function Wv(n,e,t){Mh(0);let r=ve(null);try{e(n,t)}finally{ve(r)}}function v_(n,e,t){if(wh(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ve(r)}}}var Hr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Hr||{});var Fh;function iF(){if(Fh===void 0&&(Fh=null,Vr.trustedTypes))try{Fh=Vr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Fh}function RD(n){return iF()?.createScriptURL(n)||n}var Qh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gh})`}};function Iu(n){return n instanceof Qh?n.changingThisBreaksApplicationSecurity:n}function __(n,e){let t=SS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${gh})`)}return t===e}function SS(n){return n instanceof Qh&&n.getTypeName()||null}var oF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function AS(n){return n=String(n),n.match(oF)?n:"unsafe:"+n}var lf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(lf||{});function xS(n){let e=MS();return e?e.sanitize(lf.URL,n)||"":__(n,"URL")?Iu(n):AS(Ro(n))}function RS(n){let e=MS();if(e)return RD(e.sanitize(lf.RESOURCE_URL,n)||"");if(__(n,"ResourceURL"))return RD(Iu(n));throw new B(904,!1)}function sF(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?RS:xS}function E_(n,e,t){return sF(e,t)(n)}function MS(){let n=Te();return n&&n[or].sanitizer}var aF=/^>|^->|<!--|-->|--!>|<!-$/g,cF=/(<|>)/g,uF="\u200B$1\u200B";function lF(n){return n.replace(aF,e=>e.replace(cF,uF))}function NS(n){return n instanceof Function?n():n}function dF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var kS="ng-template";function hF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&dF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(I_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function I_(n){return n.type===4&&n.value!==kS}function fF(n,e,t){let r=n.type===4&&!t?kS:n.value;return e===r}function pF(n,e,t){let r=4,i=n.attrs,o=i!==null?yF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!zn(r)&&!zn(u))return!1;if(s&&zn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!fF(n,u,t)||u===""&&e.length===1){if(zn(r))return!1;s=!0}}else if(r&8){if(i===null||!hF(n,i,u,t)){if(zn(r))return!1;s=!0}}else{let l=e[++a],h=mF(u,i,I_(n),t);if(h===-1){if(zn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(zn(r))return!1;s=!0}}}}return zn(r)||s}function zn(n){return(n&1)===0}function mF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return vF(e,n)}function gF(n,e,t=!1){for(let r=0;r<e.length;r++)if(pF(n,e[r],t))return!0;return!1}function yF(n){for(let e=0;e<n.length;e++){let t=n[e];if(aS(t))return e}return n.length}function vF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function MD(n,e){return n?":not("+e.trim()+")":e}function _F(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!zn(s)&&(e+=MD(o,i),i=""),r=s,o=o||!zn(r);t++}return i!==""&&(e+=MD(o,i)),e}function EF(n){return n.map(_F).join(",")}function IF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!zn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var xn={};function wF(n,e){return n.createText(e)}function TF(n,e,t){n.setValue(e,t)}function bF(n,e){return n.createComment(lF(e))}function PS(n,e,t){return n.createElement(e,t)}function Yh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function OS(n,e,t){n.appendChild(e,t)}function ND(n,e,t,r,i){r!==null?Yh(n,e,t,r,i):OS(n,e,t)}function CF(n,e,t){n.removeChild(null,e,t)}function DF(n,e,t){n.setAttribute(e,"style",t)}function SF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function LS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&OL(n,e,r),i!==null&&SF(n,e,i),o!==null&&DF(n,e,o)}function w_(n,e,t,r,i,o,s,a,u,l,h){let p=$t+r,m=p+i,y=AF(p,m),S=typeof l=="function"?l():l;return y[ge]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function AF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:xn);return t}function xF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=w_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function T_(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Bn]=i,p[de]=r|4|128|8|64|1024,(l!==null||n&&n[de]&2048)&&(p[de]|=2048),dv(p),p[bt]=p[No]=n,p[Bt]=t,p[or]=s||n&&n[or],p[Je]=a||n&&n[Je],p[Mo]=u||n&&n[Mo]||null,p[Cn]=o,p[ru]=YL(),p[nu]=h,p[av]=l,p[Dn]=e.type==2?n[Dn]:p,p}function RF(n,e,t){let r=Hn(e,n),i=xF(t),o=n[or].rendererFactory,s=b_(n,T_(n,i,null,FS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function FS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function VS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function b_(n,e){return n[ta]?n[sv][bn]=e:n[ta]=e,n[sv]=e,e}function V(n=1){jS(vt(),Te(),Ni()+n,!1)}function jS(n,e,t,r){if(!r)if((e[de]&3)===3){let o=n.preOrderCheckHooks;o!==null&&jh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Uh(e,o,0,t)}ki(t)}var df=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(df||{});function Kv(n,e,t,r){let i=ve(null);try{let[o,s,a]=n.inputs[t],u=null;(s&df.SignalBased)!==0&&(u=e[o][Ut]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):nS(e,u,o,r)}finally{ve(i)}}function US(n,e,t,r,i){let o=Ni(),s=r&2;try{ki(-1),s&&e.length>$t&&jS(n,e,$t,!1),Pe(s?2:0,i,t),t(r,i)}finally{ki(o),Pe(s?3:1,i,t)}}function hf(n,e,t){FF(n,e,t),(t.flags&64)===64&&VF(n,e,t)}function C_(n,e,t=Hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function MF(n,e,t,r){let o=r.get(bS,TS)||t===Hr.ShadowDom,s=n.selectRootElement(e,o);return NF(s),s}function NF(n){kF(n)}var kF=()=>null;function PF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function BS(n,e,t,r,i,o){let s=e[ge];if(S_(n,s,e,t,r)){Ri(n)&&LF(e,n.index);return}OF(n,e,t,r,i,o)}function OF(n,e,t,r,i,o){if(n.type&3){let s=Hn(n,e);t=PF(t),r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function LF(n,e){let t=An(e,n);t[de]&16||(t[de]|=64)}function FF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ri(t)&&RF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Wh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=gu(e,n,s,t);if(la(u,e),o!==null&&$F(e,s-r,u,a,t,o),cr(a)){let l=An(t.index,e);l[Bt]=gu(e,n,s,t)}}}function VF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=pD();try{ki(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Rh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&jF(u,l)}}finally{ki(-1),Rh(s)}}function jF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function D_(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];gF(e,o.selectors,!1)&&(r??=[],cr(o)?r.unshift(o):r.push(o))}return r}function UF(n,e,t,r,i,o){let s=Hn(n,e);BF(e[Je],s,o,n.value,t,r,i)}function BF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ro(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function $F(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Kv(r,t,u,l)}}function HF(n,e){let t=n[Mo];if(!t)return;t.get(Yt,null)?.(e)}function S_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Kv(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Kv(h,l,r,i),a=!0}return a}function zF(n,e){let t=An(e,n),r=t[ge];qF(r,t);let i=t[Bn];i!==null&&t[nu]===null&&(t[nu]=CS(i,t[Mo])),Pe(18),A_(r,t,t[Bt]),Pe(19,t[Bt])}function qF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function A_(n,e,t){Nh(e);try{let r=n.viewQuery;r!==null&&Wv(1,r,t);let i=n.template;i!==null&&US(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[sr]?.finishViewCreation(n),n.staticContentQueries&&DS(n,e),n.staticViewQueries&&Wv(2,n.viewQuery,t);let o=n.components;o!==null&&GF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[de]&=-5,kh()}}function GF(n,e){for(let t=0;t<e.length;t++)zF(n,e[t])}function WF(n,e,t,r){let i=ve(null);try{let o=e.tView,a=n[de]&4096?4096:16,u=T_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Ai]=l;let h=n[sr];return h!==null&&(u[sr]=h.createEmbeddedView(o)),A_(o,u,t),u}finally{ve(i)}}function kD(n,e){return!e||e.firstChild===null||yS(n)}var PD=!1,KF=new H(""),QF;function x_(n,e){return QF(n,e)}var dr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(dr||{});function R_(n){return(n.flags&32)===32}function ia(n,e,t,r,i){if(r!=null){let o,s=!1;$n(r)?o=r:ar(r)&&(s=!0,r=r[Bn]);let a=Sn(r);n===0&&t!==null?i==null?OS(e,t,a):Yh(e,t,a,i||null,!0):n===1&&t!==null?Yh(e,t,a,i||null,!0):n===2?CF(e,a,s):n===3&&e.destroyNode(a),o!=null&&aV(e,n,o,t,i)}}function YF(n,e){$S(n,e),e[Bn]=null,e[Cn]=null}function ZF(n,e,t,r,i,o){r[Bn]=i,r[Cn]=e,pf(n,r,t,1,i,o)}function $S(n,e){e[or].changeDetectionScheduler?.notify(9),pf(n,e,e[Je],2,null,null)}function JF(n){let e=n[ta];if(!e)return kv(n[ge],n);for(;e;){let t=null;if(ar(e))t=e[ta];else{let r=e[Qt];r&&(t=r)}if(!t){for(;e&&!e[bn]&&e!==n;)ar(e)&&kv(e[ge],e),e=e[bt];e===null&&(e=n),ar(e)&&kv(e[ge],e),t=e&&e[bn]}e=t}}function M_(n,e){let t=n[Oo],r=t.indexOf(e);t.splice(r,1)}function HS(n,e){if(Lo(e))return;let t=e[Je];t.destroyNode&&pf(n,e,t,3,null,null),JF(e)}function kv(n,e){if(Lo(e))return;let t=ve(null);try{e[de]&=-129,e[de]|=256,e[hn]&&Md(e[hn]),eV(n,e),XF(n,e),e[ge].type===1&&e[Je].destroy();let r=e[Ai];if(r!==null&&$n(e[bt])){r!==e[bt]&&M_(r,e);let i=e[sr];i!==null&&i.detachView(n)}qv(e)}finally{ve(t)}}function XF(n,e){let t=n.cleanup,r=e[ea];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ea]=null);let i=e[Lr];if(i!==null){e[Lr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[iu];if(o!==null){e[iu]=null;for(let s of o)s.destroy()}}function eV(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Uo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Pe(4,a,u);try{u.call(a)}finally{Pe(5,a,u)}}else{Pe(4,i,o);try{o.call(i)}finally{Pe(5,i,o)}}}}}function tV(n,e,t){return nV(n,e.parent,t)}function nV(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Bn];if(Ri(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Hr.None||i===Hr.Emulated)return null}return Hn(r,t)}function rV(n,e,t){return oV(n,e,t)}function iV(n,e,t){return n.type&40?Hn(n,t):null}var oV=iV,OD;function ff(n,e,t,r){let i=tV(n,r,e),o=e[Je],s=r.parent||e[Cn],a=rV(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)ND(o,i,t[u],a,!1);else ND(o,i,t,a,!1);OD!==void 0&&OD(o,r,e,t,i)}function pu(n,e){if(e!==null){let t=e.type;if(t&3)return Hn(e,n);if(t&4)return Qv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return pu(n,r);{let i=n[e.index];return $n(i)?Qv(-1,i):Sn(i)}}else{if(t&128)return pu(n,e.next);if(t&32)return x_(e,n)()||Sn(n[e.index]);{let r=zS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ci(n[Dn]);return pu(i,r)}else return pu(n,e.next)}}}return null}function zS(n,e){if(e!==null){let r=n[Dn][Cn],i=e.projection;return r.projection[i]}return null}function Qv(n,e){let t=Qt+n+1;if(t<e.length){let r=e[t],i=r[ge].firstChild;if(i!==null)return pu(r,i)}return e[xi]}function N_(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&la(Sn(a),r),t.flags|=2),!R_(t))if(u&8)N_(n,e,t.child,r,i,o,!1),ia(e,n,i,a,o);else if(u&32){let l=x_(t,r),h;for(;h=l();)ia(e,n,i,h,o);ia(e,n,i,a,o)}else u&16?sV(n,e,r,t,i,o):ia(e,n,i,a,o);t=s?t.projectionNext:t.next}}function pf(n,e,t,r,i,o){N_(t,r,n.firstChild,e,i,o,!1)}function sV(n,e,t,r,i,o){let s=t[Dn],u=s[Cn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ia(e,n,i,h,o)}else{let l=u,h=s[bt];yS(r)&&(l.flags|=128),N_(n,e,l,h,i,o,!0)}}function aV(n,e,t,r,i){let o=t[xi],s=Sn(t);o!==s&&ia(e,n,r,o,i);for(let a=Qt;a<t.length;a++){let u=t[a];pf(u[ge],u,n,e,r,o)}}function cV(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:dr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=dr.Important),n.setStyle(t,r,i,o))}}function yu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Sn(o)),$n(o)&&qS(o,r);let s=t.type;if(s&8)yu(n,e,t.child,r);else if(s&32){let a=x_(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=zS(e,t);if(Array.isArray(a))r.push(...a);else{let u=Ci(e[Dn]);yu(u[ge],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function qS(n,e){for(let t=Qt;t<n.length;t++){let r=n[t],i=r[ge].firstChild;i!==null&&yu(r[ge],r,i,e)}n[xi]!==n[Bn]&&e.push(n[xi])}function GS(n){if(n[Po]!==null){for(let e of n[Po])e.impl.addSequence(e);n[Po].length=0}}var WS=[];function uV(n){return n[hn]??lV(n)}function lV(n){let e=WS.pop()??Object.create(hV);return e.lView=n,e}function dV(n){n.lView[hn]!==n&&(n.lView=null,WS.push(n))}var hV=re(F({},vo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ra(n.lView)},consumerOnSignalRead(){this.lView[hn]=this}});function fV(n){let e=n[hn]??Object.create(pV);return e.lView=n,e}var pV=re(F({},vo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ci(n.lView);for(;e&&!KS(e[ge]);)e=Ci(e);e&&hv(e)},consumerOnSignalRead(){this.lView[hn]=this}});function KS(n){return n.type!==2}function QS(n){if(n[iu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[iu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[de]&8192)}}var mV=100;function k_(n,e=0){let r=n[or].rendererFactory,i=!1;i||r.begin?.();try{gV(n,e)}finally{i||r.end?.()}}function gV(n,e){let t=_v();try{Ev(!0),Yv(n,e);let r=0;for(;au(n);){if(r===mV)throw new B(103,!1);r++,Yv(n,1)}}finally{Ev(t)}}function YS(n,e){vv(e?cu.Exhaustive:cu.OnlyDirtyViews);try{k_(n)}finally{vv(cu.Off)}}function yV(n,e,t,r){if(Lo(e))return;let i=e[de],o=!1,s=!1;Nh(e);let a=!0,u=null,l=null;o||(KS(n)?(l=uV(e),u=_o(l)):xd()===null?(a=!1,l=fV(e),u=_o(l)):e[hn]&&(Md(e[hn]),e[hn]=null));try{dv(e),dD(n.bindingStartIndex),t!==null&&US(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&jh(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Uh(e,y,0,null),Mv(e,0)}if(s||vV(e),QS(e),ZS(e,0),n.contentQueries!==null&&DS(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&jh(e,y)}else{let y=n.contentHooks;y!==null&&Uh(e,y,1),Mv(e,1)}EV(n,e);let p=n.components;p!==null&&XS(e,p,0);let m=n.viewQuery;if(m!==null&&Wv(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&jh(e,y)}else{let y=n.viewHooks;y!==null&&Uh(e,y,2),Mv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Ih]){for(let y of e[Ih])y();e[Ih]=null}o||(GS(e),e[de]&=-73)}catch(h){throw o||ra(e),h}finally{l!==null&&(Fs(l,u),a&&dV(l)),kh()}}function ZS(n,e){for(let t=_S(n);t!==null;t=ES(t))for(let r=Qt;r<t.length;r++){let i=t[r];JS(i,e)}}function vV(n){for(let e=_S(n);e!==null;e=ES(e)){if(!(e[de]&2))continue;let t=e[Oo];for(let r=0;r<t.length;r++){let i=t[r];hv(i)}}}function _V(n,e,t){Pe(18);let r=An(e,n);JS(r,t),Pe(19,r[Bt])}function JS(n,e){Ch(n)&&Yv(n,e)}function Yv(n,e){let r=n[ge],i=n[de],o=n[hn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Hc(o)),s||=!1,o&&(o.dirty=!1),n[de]&=-9217,s)yV(r,n,r.template,n[Bt]);else if(i&8192){let a=ve(null);try{QS(n),ZS(n,1);let u=r.components;u!==null&&XS(n,u,1),GS(n)}finally{ve(a)}}}function XS(n,e,t){for(let r=0;r<e.length;r++)_V(n,e[r],t)}function EV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ki(~i);else{let o=i,s=t[++r],a=t[++r];fD(s,o);let u=e[o];Pe(24,u),a(2,u),Pe(25,u)}}}finally{ki(-1)}}function P_(n,e){let t=_v()?64:1088;for(n[or].changeDetectionScheduler?.notify(e);n;){n[de]|=t;let r=Ci(n);if(na(n)&&!r)return n;n=r}return null}function eA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function IV(n,e,t,r=!0){let i=e[ge];if(wV(i,e,n,t),r){let s=Qv(t,n),a=e[Je],u=a.parentNode(n[xi]);u!==null&&ZF(i,n[Cn],a,e,u,s)}let o=e[nu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Zv(n,e){if(n.length<=Qt)return;let t=Qt+e,r=n[t];if(r){let i=r[Ai];i!==null&&i!==n&&M_(i,r),e>0&&(n[t-1][bn]=r[bn]);let o=Xc(n,Qt+e);YF(r[ge],r);let s=o[sr];s!==null&&s.detachView(o[ge]),r[bt]=null,r[bn]=null,r[de]&=-129}return r}function wV(n,e,t,r){let i=Qt+r,o=t.length;r>0&&(t[i-1][bn]=e),r<o-Qt?(e[bn]=t[i],Yy(t,Qt+r,e)):(t.push(e),e[bn]=null),e[bt]=t;let s=e[Ai];s!==null&&t!==s&&tA(s,e);let a=e[sr];a!==null&&a.insertView(n),Dh(e),e[de]|=128}function tA(n,e){let t=n[Oo],r=e[bt];if(ar(r))n[de]|=2;else{let i=r[bt][Dn];e[Dn]!==i&&(n[de]|=2)}t===null?n[Oo]=[e]:t.push(e)}var Oi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ge];return yu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Bt]}set context(e){this._lView[Bt]=e}get destroyed(){return Lo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bt];if($n(e)){let t=e[ou],r=t?t.indexOf(this):-1;r>-1&&(Zv(e,r),Xc(t,r))}this._attachedToViewContainer=!1}HS(this._lView[ge],this._lView)}onDestroy(e){fv(this._lView,e)}markForCheck(){P_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){Dh(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,k_(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Mo].get(KF,PD)}catch{this.exhaustive=PD}}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=na(this._lView),t=this._lView[Ai];t!==null&&!e&&M_(t,this._lView),$S(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=na(this._lView),r=this._lView[Ai];r!==null&&!t&&tA(r,this._lView),Dh(this._lView)}};var Li=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=TV;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=WF(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Oi(o)}}return n})();function TV(){return mf(Ct(),Te())}function mf(n,e){return n.type&4?new Li(e,n,ua(n,e)):null}function gf(n,e,t,r,i){let o=n.data[e];if(o===null)o=bV(n,e,t,r,i),hD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=cD();o.injectorIndex=s===null?-1:s.injectorIndex}return Mi(o,!0),o}function bV(n,e,t,r,i){let o=gv(),s=Ah(),a=s?o:o&&o.parent,u=n.data[e]=DV(n,a,t,e,r,i);return CV(n,u,o,s),u}function CV(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function DV(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return oD()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var EZ=new RegExp(`^(\\d+)*(${eF}|${XL})*(.*)`);var SV=()=>null;function LD(n,e){return SV(n,e)}var nA=class{},yf=class{},Jv=class{resolveComponentFactory(e){throw new B(917,!1)}},wu=class{static NULL=new Jv},Bo=class{},zr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>AV()}return n})();function AV(){let n=Te(),e=Ct(),t=An(e.index,n);return(ar(t)?t:n)[Je]}var rA=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>null})}return n})();var $h={},Xv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,$h,r);return i!==$h||t===$h?i:this.parentInjector.get(e,t,r)}};function e_(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=jy(i,a);else if(o==2){let u=a,l=e[++s];r=jy(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function K(n,e=0){let t=Te();if(t===null)return q(n,e);let r=Ct();return pS(r,t,Pt(n),e)}function O_(){let n="invalid";throw new Error(n)}function L_(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}MV(n,e,t,a,o,u,l)}o!==null&&r!==null&&xV(t,r,o)}function xV(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function RV(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function MV(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&cr(y)&&(u=!0,RV(n,t,m)),Hv(Wh(t,e),n,y.type)}FV(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=VS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=sa(t.mergedAttrs,y.hostAttrs),kV(n,t,e,p,y),LV(p,y,i),s!==null&&s.has(y)){let[k,R]=s.get(y);t.directiveToIndex.set(y.type,[p,k+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}NV(n,t,o)}function NV(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))FD(0,e,i,r),FD(1,e,i,r),jD(e,r,!1);else{let o=t.get(i);VD(0,e,o,r),VD(1,e,o,r),jD(e,r,!0)}}}function FD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),iA(e,o)}}function VD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),iA(e,s)}}function iA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function jD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||I_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function kV(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=bi(i.type,!0)),s=new Uo(o,cr(i),K);n.blueprint[r]=s,t[r]=s,PV(n,e,r,VS(n,t,i.hostVars,xn),i)}function PV(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;OV(s)!=a&&s.push(a),s.push(t,r,o)}}function OV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function LV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;cr(e)&&(t[""]=n)}}function FV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function oA(n,e,t,r,i,o,s,a){let u=e.consts,l=Fo(u,s),h=gf(e,n,2,r,l);return o&&L_(e,t,h,Fo(u,a),i),h.mergedAttrs=sa(h.mergedAttrs,h.attrs),h.attrs!==null&&e_(h,h.attrs,!1),h.mergedAttrs!==null&&e_(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function sA(n,e){p_(n,e),wh(e)&&n.queries.elementEnd(e)}function F_(n){return cA(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function aA(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function cA(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function V_(n,e,t){return n[e]=t}function VV(n,e){return n[e]}function Fi(n,e,t){if(t===xn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function uA(n,e,t,r){let i=Fi(n,e,t);return Fi(n,e+1,r)||i}function Pv(n,e,t){return function r(i){let o=Ri(n)?An(n.index,e):e;P_(o,5);let s=e[Bt],a=UD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=UD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function UD(n,e,t,r){let i=ve(null);try{return Pe(6,e,t),t(r)!==!1}catch(o){return HF(n,o),!1}finally{Pe(7,e,t),ve(i)}}function jV(n,e,t,r,i,o,s,a){let u=su(n),l=!1,h=null;if(!r&&u&&(h=UV(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Hn(n,t),m=r?r(p):p;nF(t,m,o,a);let y=i.listen(m,o,a),S=r?k=>r(Sn(k[n.index])):n.index;lA(S,e,t,o,a,y,!1)}return l}function UV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ea],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function lA(n,e,t,r,i,o,s){let a=e.firstCreatePass?mv(e):null,u=pv(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function BD(n,e,t,r,i,o){let s=e[t],a=e[ge],l=a.data[t].outputs[r],p=s[l].subscribe(o);lA(n.index,a,e,i,o,p,!0)}var t_=Symbol("BINDING");var Zh=class extends wu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ur(e);return new $o(t,this.ngModule)}};function BV(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&df.SignalBased)!==0};return i&&(o.transform=i),o})}function $V(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function HV(n,e,t){let r=e instanceof Ge?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Xv(t,r):t}function zV(n){let e=n.get(Bo,null);if(e===null)throw new B(407,!1);let t=n.get(rA,null),r=n.get(Fr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function qV(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return PS(e,t,t==="svg"?cv:t==="math"?YC:null)}var $o=class extends yf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=BV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=$V(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=EF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Pe(22);let a=ve(null);try{let u=this.componentDef,l=GV(r,u,s,o),h=HV(u,i||this.ngModule,e),p=zV(h),m=p.rendererFactory.createRenderer(null,u),y=r?MF(m,r,u.encapsulation,h):qV(u,m),S=s?.some($D)||o?.some(j=>typeof j!="function"&&j.bindings.some($D)),k=T_(null,l,null,512|FS(u),null,null,p,m,h,null,CS(y,h,!0));k[$t]=y,Nh(k);let R=null;try{let j=oA($t,l,k,"#host",()=>l.directiveRegistry,!0,0);y&&(LS(m,y,j),la(y,k)),hf(l,k,j),v_(l,j,k),sA(l,j),t!==void 0&&KV(j,this.ngContentSelectors,t),R=An(j.index,k),k[Bt]=R[Bt],A_(l,k,null)}catch(j){throw R!==null&&qv(R),qv(k),j}finally{Pe(23),kh()}return new Jh(this.componentType,k,!!S)}finally{ve(a)}}};function GV(n,e,t,r){let i=n?["ng-version","20.0.4"]:IF(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[t_].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[t_].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=ev(p);u.push(m)}return w_(0,null,WV(o,s),1,a,u,null,null,null,[i],null)}function WV(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function $D(n){let e=n[t_].kind;return e==="input"||e==="twoWay"}var Jh=class extends nA{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Th(t[ge],$t),this.location=ua(this._tNode,t),this.instance=An(this._tNode.index,t)[Bt],this.hostView=this.changeDetectorRef=new Oi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=S_(r,i[ge],i,e,t);this.previousInputValues.set(e,t);let s=An(r.index,i);P_(s,1)}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function KV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var qr=(()=>{class n{static __NG_ELEMENT_ID__=QV}return n})();function QV(){let n=Ct();return hA(n,Te())}var YV=qr,dA=class extends YV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ua(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){let e=m_(this._hostTNode,this._hostLView);if(cS(e)){let t=qh(e,this._hostLView),r=zh(e),i=t[ge].data[r+8];return new jo(i,t)}else return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=HD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=LD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,kD(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!SL(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new $o(Ur(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let j=(u?p:this.parentInjector).get(Ge,null);j&&(o=j)}let m=Ur(h.componentType??{}),y=LD(this._lContainer,m?.id??null),S=y?.firstChild??null,k=h.create(p,i,S,o,s,a);return this.insertImpl(k.hostView,l,kD(this._hostTNode,y)),k}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(JC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[bt],l=new dA(u,u[Cn],u[bt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return IV(s,i,o,r),e.attachToViewContainerRef(),Yy(Ov(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=HD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Zv(this._lContainer,t);r&&(Xc(Ov(this._lContainer),t),HS(r[ge],r))}detach(e){let t=this._adjustIndex(e,-1),r=Zv(this._lContainer,t);return r&&Xc(Ov(this._lContainer),t)!=null?new Oi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function HD(n){return n[ou]}function Ov(n){return n[ou]||(n[ou]=[])}function hA(n,e){let t,r=e[n.index];return $n(r)?t=r:(t=eA(r,e,null,n),e[n.index]=t,b_(e,t)),JV(t,e,n,r),new dA(t,n,e)}function ZV(n,e){let t=n[Je],r=t.createComment(""),i=Hn(e,n),o=t.parentNode(i);return Yh(t,o,r,t.nextSibling(i),!1),r}var JV=t2,XV=()=>!1;function e2(n,e,t){return XV(n,e,t)}function t2(n,e,t,r){if(n[xi])return;let i;t.type&8?i=Sn(r):i=ZV(e,t),n[xi]=i}var n_=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},r_=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)j_(e,t).matches!==null&&this.queries[t].setDirty()}},i_=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=u2(e):this.predicate=e}},o_=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},s_=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,n2(t,o)),this.matchTNodeWithReadOption(e,t,Bh(t,e,o,!1,!1))}else r===Li?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Bh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===fn||i===qr||i===Li&&t.type&4)this.addMatch(t.index,-2);else{let o=Bh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function n2(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function r2(n,e){return n.type&11?ua(n,e):n.type&4?mf(n,e):null}function i2(n,e,t,r){return t===-1?r2(e,n):t===-2?o2(n,e,r):gu(n,n[ge],t,e)}function o2(n,e,t){if(t===fn)return ua(e,n);if(t===Li)return mf(e,n);if(t===qr)return hA(e,n)}function fA(n,e,t,r){let i=e[sr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(i2(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function a_(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=fA(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Qt;p<h.length;p++){let m=h[p];m[Ai]===m[bt]&&a_(m[ge],m,l,r)}if(h[Oo]!==null){let p=h[Oo];for(let m=0;m<p.length;m++){let y=p[m];a_(y[ge],y,l,r)}}}}}return r}function s2(n,e){return n[sr].queries[e].queryList}function a2(n,e,t){let r=new Kh((t&4)===4);return tD(n,e,r,r.destroy),(e[sr]??=new r_).queries.push(new n_(r))-1}function c2(n,e,t,r){let i=vt();if(i.firstCreatePass){let o=Ct();l2(i,new i_(e,t,r),o.index),d2(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return a2(i,Te(),t)}function u2(n){return n.split(",").map(e=>e.trim())}function l2(n,e,t){n.queries===null&&(n.queries=new o_),n.queries.track(new s_(e,t))}function d2(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function j_(n,e){return n.queries.getByIndex(e)}function h2(n,e){let t=n[ge],r=j_(t,e);return r.crossesNgTemplate?a_(t,n,e,[]):fA(t,n,r,e)}var zD=new Set;function Go(n){zD.has(n)||(zD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ho=class{},vf=class{};var Xh=class extends Ho{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Zh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Xy(e);this._bootstrapComponents=NS(o.bootstrap),this._r3Injector=Cv(e,t,[{provide:Ho,useValue:this},{provide:wu,useValue:this.componentFactoryResolver},...r],rn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ef=class extends vf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Xh(this.moduleType,e,[])}};var vu=class extends Ho{injector;componentFactoryResolver=new Zh(this);instance=null;constructor(e){super();let t=new Ao([...e.providers,{provide:Ho,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],e.parent||tu(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function da(n,e,t=null){return new vu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var f2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=tv(!1,t.type),i=r.length>0?da([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(q(Ge))})}return n})();function _t(n){return ca(()=>{let e=pA(n),t=re(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===g_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(f2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Hr.Emulated,styles:n.styles||dn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Go("NgStandalone"),mA(t);let r=n.dependencies;return t.directiveDefs=qD(r,!1),t.pipeDefs=qD(r,!0),t.id=v2(t),t})}function p2(n){return Ur(n)||ev(n)}function m2(n){return n!==null}function qn(n){return ca(()=>({type:n.type,bootstrap:n.bootstrap||dn,declarations:n.declarations||dn,imports:n.imports||dn,exports:n.exports||dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function g2(n,e){if(n==null)return Di;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=df.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function y2(n){if(n==null)return Di;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ht(n){return ca(()=>{let e=pA(n);return mA(e),e})}function _f(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function pA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Di,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||dn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:g2(n.inputs,e),outputs:y2(n.outputs),debugInfo:null}}function mA(n){n.features?.forEach(e=>e(n))}function qD(n,e){if(!n)return null;let t=e?zC:p2;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(m2)}function v2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function _2(n){return Object.getPrototypeOf(n.prototype).constructor}function fr(n){let e=_2(n.type),t=!0,r=[n];for(;e;){let i;if(cr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Lv(n.inputs),s.declaredInputs=Lv(n.declaredInputs),s.outputs=Lv(n.outputs);let a=i.hostBindings;a&&b2(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&w2(n,u),l&&T2(n,l),E2(n,i),LC(n.outputs,i.outputs),cr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===fr&&(t=!1)}}e=Object.getPrototypeOf(e)}I2(r)}function E2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function I2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=sa(i.hostAttrs,t=sa(t,i.hostAttrs))}}function Lv(n){return n===Di?{}:n===dn?[]:n}function w2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function T2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function b2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function C2(n,e,t,r,i,o,s,a,u){let l=e.consts,h=gf(e,n,4,s||null,a||null);Sh()&&L_(e,t,h,Fo(l,u),D_),h.mergedAttrs=sa(h.mergedAttrs,h.attrs),p_(e,h);let p=h.tView=w_(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function D2(n,e,t,r,i,o,s,a,u,l,h){let p=t+$t,m=e.firstCreatePass?C2(p,e,n,r,i,o,s,a,l):e.data[p];u&&(m.flags|=u),Mi(m,!1);let y=S2(e,n,m,t);lu()&&ff(e,n,y,m),la(y,n);let S=eA(y,n,y,m);return n[p]=S,b_(n,S),e2(S,m,n),su(m)&&hf(e,n,m),l!=null&&C_(n,m,h),m}function De(n,e,t,r,i,o,s,a){let u=Te(),l=vt(),h=Fo(l.consts,o);return D2(u,l,n,e,t,r,i,h,void 0,s,a),De}var S2=A2;function A2(n,e,t,r){return du(!0),e[Je].createComment("")}var Ef=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Ef||{}),Wo=new H(""),gA=!1,c_=class extends it{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,iv()&&(this.destroyRef=P(Br,{optional:!0})??void 0,this.pendingTasks=P($r,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ye&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ct=c_;function yA(n){let e,t;function r(){n=fu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function GD(n){return queueMicrotask(()=>n()),()=>{n=fu}}var U_="isAngularZone",tf=U_+"_ID",x2=0,xe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ct(!1);onMicrotaskEmpty=new ct(!1);onStable=new ct(!1);onError=new ct(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=gA}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,N2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(U_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,R2,fu,fu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},R2={};function B_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function M2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){yA(()=>{n.callbackScheduled=!1,u_(n),n.isCheckStableRunning=!0,B_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),u_(n)}function N2(n){let e=()=>{M2(n)},t=x2++;n._inner=n._inner.fork({name:"angular",properties:{[U_]:!0,[tf]:t,[tf+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(k2(u))return r.invokeTask(o,s,a,u);try{return WD(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),KD(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return WD(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!P2(u)&&e(),KD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,u_(n),B_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function u_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function WD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function KD(n){n._nesting--,B_(n)}var nf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ct;onMicrotaskEmpty=new ct;onStable=new ct;onError=new ct;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function k2(n){return vA(n,"__ignore_ng_zone__")}function P2(n){return vA(n,"__scheduler_tick__")}function vA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var $_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),_A=[0,1,2,3],EA=(()=>{class n{ngZone=P(xe);scheduler=P(Fr);errorHandler=P(Un,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(Wo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Pe(16),this.executing=!0;for(let r of _A)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Pe(17)}register(t){let{view:r}=t;r!==void 0?((r[Po]??=[]).push(t),ra(r),r[de]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Ef.AFTER_NEXT_RENDER,t):t()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),rf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Po];e&&(this.view[Po]=e.filter(t=>t!==this))}};function If(n,e){!e?.injector&&ov(If);let t=e?.injector??P(Ze);return Go("NgAfterNextRender"),L2(n,t,e,!0)}function O2(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function L2(n,e,t,r){let i=e.get($_);i.impl??=e.get(EA);let o=e.get(Wo,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Br):null,a=e.get(Oh,null,{optional:!0}),u=new rf(i.impl,O2(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var H_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var z_=new H("");function Gr(n){return!!n&&typeof n.then=="function"}function wf(n){return!!n&&typeof n.subscribe=="function"}var q_=new H("");function Tf(n){return on([{provide:q_,multi:!0,useValue:n}])}var G_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=P(q_,{optional:!0})??[];injector=P(Ze);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=dt(this.injector,i);if(Gr(o))t.push(o);else if(wf(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tu=new H("");function IA(){cy(()=>{let n="";throw new B(600,n)})}function wA(n){return n.isBoundToModule}var F2=10;var Ko=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Yt);afterRenderManager=P($_);zonelessEnabled=P(hu);rootEffectScheduler=P(Rv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new it;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P($r);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ne(t=>!t))}constructor(){P(Wo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=P(Ge);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ze.NULL){return this._injector.get(xe).run(()=>{Pe(10);let s=t instanceof yf;if(!this._injector.get(G_).done){let S="";throw new B(405,S)}let u;s?u=t:u=this._injector.get(wu).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=wA(u)?void 0:this._injector.get(Ho),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(z_,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),mu(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Pe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Pe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ef.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let t=ve(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ve(t),this.afterTick.next(),Pe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Bo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<F2;)Pe(14),this.synchronizeOnce(),Pe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!au(i))continue;let o=r&&!this.zonelessEnabled?0:1;k_(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>au(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;mu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Tu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ha(n,e,t,r){let i=Te(),o=uu();if(Fi(i,o,e)){let s=vt(),a=Ph();UF(a,i,n,e,t,r)}return ha}function X(n,e,t){let r=Te(),i=uu();if(Fi(r,i,e)){let o=vt(),s=Ph();BS(s,r,n,e,r[Je],t)}return X}function QD(n,e,t,r,i){S_(e,n,t,i?"class":"style",r)}function v(n,e,t,r){let i=Te(),o=vt(),s=$t+n,a=i[Je],u=o.firstCreatePass?oA(s,o,i,e,D_,Sh(),t,r):o.data[s],l=V2(o,i,u,a,e,n);i[s]=l;let h=su(u);return Mi(u,!0),LS(a,l,u),!R_(u)&&lu()&&ff(o,i,l,u),(nD()===0||h)&&la(l,i),rD(),h&&(hf(o,i,u),v_(o,u,i)),r!==null&&C_(i,u),v}function T(){let n=Ct();Ah()?yv():(n=n.parent,Mi(n,!1));let e=n;sD(e)&&aD(),iD();let t=vt();return t.firstCreatePass&&sA(t,e),e.classesWithoutHost!=null&&kL(e)&&QD(t,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&PL(e)&&QD(t,e,Te(),e.stylesWithoutHost,!1),T}function G(n,e,t,r){return v(n,e,t,r),T(),G}var V2=(n,e,t,r,i,o)=>(du(!0),PS(r,i,ED()));function j2(n,e,t,r,i){let o=e.consts,s=Fo(o,r),a=gf(e,n,8,"ng-container",s);s!==null&&e_(a,s,!0);let u=Fo(o,i);return Sh()&&L_(e,t,a,u,D_),a.mergedAttrs=sa(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function fa(n,e,t){let r=Te(),i=vt(),o=n+$t,s=i.firstCreatePass?j2(o,i,r,e,t):i.data[o];Mi(s,!0);let a=U2(i,r,s,n);return r[o]=a,lu()&&ff(i,r,a,s),la(a,r),su(s)&&(hf(i,r,s),v_(i,s,r)),t!=null&&C_(r,s),fa}function pa(){let n=Ct(),e=vt();return Ah()?yv():(n=n.parent,Mi(n,!1)),e.firstCreatePass&&(p_(e,n),wh(n)&&e.queries.elementEnd(n)),pa}var U2=(n,e,t,r)=>(du(!0),bF(e[Je],""));function We(){return Te()}var Vo=void 0;function B2(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var $2=["en",[["a","p"],["AM","PM"],Vo],[["AM","PM"],Vo,Vo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vo,"{1} 'at' {0}",Vo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",B2],Fv={};function pn(n){let e=H2(n),t=YD(e);if(t)return t;let r=e.split("-")[0];if(t=YD(r),t)return t;if(r==="en")return $2;throw new B(701,!1)}function YD(n){return n in Fv||(Fv[n]=Vr.ng&&Vr.ng.common&&Vr.ng.common.locales&&Vr.ng.common.locales[n]),Fv[n]}var ut=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ut||{});function H2(n){return n.toLowerCase().replace(/_/g,"-")}var bu="en-US";var z2=bu;function TA(n){typeof n=="string"&&(z2=n.toLowerCase().replace(/_/g,"-"))}function Z(n,e,t){let r=Te(),i=vt(),o=Ct();return bA(i,r,r[Je],o,n,e,t),Z}function bA(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Pv(r,e,o),jV(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Pv(r,e,o),BD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Pv(r,e,o),BD(r,e,p,i,i,u)}}function ee(n=1){return _D(n)}function W_(n,e,t,r){c2(n,e,t,r)}function K_(n){let e=Te(),t=vt(),r=wv();Mh(r+1);let i=j_(t,r);if(n.dirty&&ZC(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=h2(e,r);n.reset(o,WL),n.notifyOnChanges()}return!0}return!1}function Q_(){return s2(Te(),wv())}function Y_(n){let e=uD();return bh(e,$t+n)}function Vh(n,e){return n<<17|e<<2}function zo(n){return n>>17&32767}function q2(n){return(n&2)==2}function G2(n,e){return n&131071|e<<17}function l_(n){return n|2}function aa(n){return(n&131068)>>2}function Vv(n,e){return n&-131069|e<<2}function W2(n){return(n&1)===1}function d_(n){return n|1}function K2(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=zo(s),u=aa(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Xs(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=zo(n[a+1]);n[r+1]=Vh(m,a),m!==0&&(n[m+1]=Vv(n[m+1],r)),n[a+1]=G2(n[a+1],r)}else n[r+1]=Vh(a,0),a!==0&&(n[a+1]=Vv(n[a+1],r)),a=r;else n[r+1]=Vh(u,0),a===0?a=r:n[u+1]=Vv(n[u+1],r),u=r;l&&(n[r+1]=l_(n[r+1])),ZD(n,h,r,!0),ZD(n,h,r,!1),Q2(e,h,n,r,o),s=Vh(a,u),o?e.classBindings=s:e.styleBindings=s}function Q2(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Xs(o,e)>=0&&(t[r+1]=d_(t[r+1]))}function ZD(n,e,t,r){let i=n[t+1],o=e===null,s=r?zo(i):aa(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];Y2(u,e)&&(a=!0,n[s+1]=r?d_(l):l_(l)),s=r?zo(l):aa(l)}a&&(n[t+1]=r?l_(i):d_(i))}function Y2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Xs(n,e)>=0:!1}function bf(n,e,t){return CA(n,e,t,!1),bf}function Qo(n,e){return CA(n,e,null,!0),Qo}function CA(n,e,t,r){let i=Te(),o=vt(),s=Iv(2);if(o.firstUpdatePass&&J2(o,n,s,r),e!==xn&&Fi(i,s,e)){let a=o.data[Ni()];rj(o,a,i,i[Je],n,i[s+1]=ij(e,t),r,s)}}function Z2(n,e){return e>=n.expandoStartIndex}function J2(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ni()],s=Z2(n,t);oj(o,r)&&e===null&&!s&&(e=!1),e=X2(i,o,e,r),K2(i,o,e,t,s,r)}}function X2(n,e,t,r){let i=mD(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=jv(null,n,e,t,r),t=_u(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=jv(i,n,e,t,r),o===null){let u=ej(n,e,r);u!==void 0&&Array.isArray(u)&&(u=jv(null,n,e,u[1],r),u=_u(u,e.attrs,r),tj(n,e,r,u))}else o=nj(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function ej(n,e,t){let r=t?e.classBindings:e.styleBindings;if(aa(r)!==0)return n[zo(r)]}function tj(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[zo(i)]=r}function nj(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=_u(r,s,t)}return _u(r,e.attrs,t)}function jv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=_u(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function _u(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),HC(n,s,t?!0:e[++o]))}return n===void 0?null:n}function rj(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=W2(l)?JD(u,e,t,i,aa(l),s):void 0;if(!of(h)){of(o)||q2(l)&&(o=JD(u,null,t,i,a,s));let p=uv(Ni(),t);cV(r,s,p,i,o)}}function JD(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===xn&&(m=p?dn:void 0);let y=p?Eh(m,r):h===r?m:void 0;if(l&&!of(y)&&(y=Eh(u,r)),of(y)&&(a=y,s))return a;let S=n[i+1];i=s?zo(S):aa(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Eh(u,r))}return a}function of(n){return n!==void 0}function ij(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=rn(Iu(n)))),n}function oj(n,e){return(n.flags&(e?8:16))!==0}function N(n,e=""){let t=Te(),r=vt(),i=n+$t,o=r.firstCreatePass?gf(r,i,1,e,null):r.data[i],s=sj(r,t,o,e,n);t[i]=s,lu()&&ff(r,t,s,o),Mi(o,!1)}var sj=(n,e,t,r,i)=>(du(!0),wF(e[Je],r));function aj(n,e,t,r=""){return Fi(n,uu(),t)?e+Ro(t)+r:xn}function cj(n,e,t,r,i,o=""){let s=lD(),a=uA(n,s,t,i);return Iv(2),a?e+Ro(t)+r+Ro(i)+o:xn}function Ue(n){return Et("",n),Ue}function Et(n,e,t){let r=Te(),i=aj(r,n,e,t);return i!==xn&&DA(r,Ni(),i),Et}function Cf(n,e,t,r,i){let o=Te(),s=cj(o,n,e,t,r,i);return s!==xn&&DA(o,Ni(),s),Cf}function DA(n,e,t){let r=uv(e,n);TF(n[Je],r,t)}function pr(n,e,t){Sv(e)&&(e=e());let r=Te(),i=uu();if(Fi(r,i,e)){let o=vt(),s=Ph();BS(s,r,n,e,r[Je],t)}return pr}function Wr(n,e){let t=Sv(n);return t&&n.set(e),t}function mr(n,e){let t=Te(),r=vt(),i=Ct();return bA(r,t,t[Je],i,n,e),mr}function uj(n,e,t){let r=vt();if(r.firstCreatePass){let i=cr(n);h_(t,r.data,r.blueprint,i,!0),h_(e,r.data,r.blueprint,i,!1)}}function h_(n,e,t,r,i){if(n=Pt(n),Array.isArray(n))for(let o=0;o<n.length;o++)h_(n[o],e,t,r,i);else{let o=vt(),s=Te(),a=Ct(),u=So(n)?n:Pt(n.provide),l=rv(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(So(n)||!n.multi){let y=new Uo(l,i,K),S=Bv(u,e,i?h:h+m,p);S===-1?(Hv(Wh(a,s),o,u),Uv(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[S]=y,s[S]=y)}else{let y=Bv(u,e,h+m,p),S=Bv(u,e,h,h+m),k=y>=0&&t[y],R=S>=0&&t[S];if(i&&!R||!i&&!k){Hv(Wh(a,s),o,u);let j=hj(i?dj:lj,t.length,i,r,l);!i&&R&&(t[S].providerFactory=j),Uv(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),s.push(j)}else{let j=SA(t[i?S:y],l,!i&&r);Uv(o,n,y>-1?y:S,j)}!i&&r&&R&&t[S].componentProviders++}}}function Uv(n,e,t,r){let i=So(e),o=KC(e);if(i||o){let u=(o?Pt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function SA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Bv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function lj(n,e,t,r){return f_(this.multi,[])}function dj(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=gu(t,t[ge],this.providerFactory.index,r);o=a.slice(0,s),f_(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],f_(i,o);return o}function f_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function hj(n,e,t,r,i){let o=new Uo(n,t,K);return o.multi=[],o.index=e,o.componentProviders=0,SA(o,i,r&&!t),o}function ma(n,e=[]){return t=>{t.providersResolver=(r,i)=>uj(r,i?i(n):n,e)}}function Df(n,e,t){let r=xh()+n,i=Te();return i[r]===xn?V_(i,r,t?e.call(t):e()):VV(i,r)}function AA(n,e){let t=n[e];return t===xn?void 0:t}function fj(n,e,t,r,i,o){let s=e+t;return Fi(n,s,i)?V_(n,s+1,o?r.call(o,i):r(i)):AA(n,s+1)}function pj(n,e,t,r,i,o,s){let a=e+t;return uA(n,a,i,o)?V_(n,a+2,s?r.call(s,i,o):r(i,o)):AA(n,a+2)}function Be(n,e){let t=vt(),r,i=n+$t;t.firstCreatePass?(r=mj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=bi(r.type,!0)),s,a=Kt(K);try{let u=Gh(!1),l=o();return Gh(u),lv(t,Te(),i,l),l}finally{Kt(a)}}function mj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function It(n,e,t){let r=n+$t,i=Te(),o=bh(i,r);return xA(i,r)?fj(i,xh(),e,o.transform,t,o):o.transform(t)}function ji(n,e,t,r){let i=n+$t,o=Te(),s=bh(o,i);return xA(o,i)?pj(o,xh(),e,s.transform,t,r,s):s.transform(t,r)}function xA(n,e){return n[ge].data[e].pure}function Z_(n,e){return mf(n,e)}var sf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},J_=(()=>{class n{compileModuleSync(t){return new ef(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Xy(t),o=NS(i.declarations).reduce((s,a)=>{let u=Ur(a);return u&&s.push(new $o(u)),s},[]);return new sf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gj=(()=>{class n{zone=P(xe);changeDetectionScheduler=P(Fr);applicationRef=P(Ko);applicationErrorHandler=P(Yt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RA=new H("",{factory:()=>!1});function X_({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new xe(re(F({},t0()),{scheduleInRootZone:t})),[{provide:xe,useFactory:n},{provide:Si,multi:!0,useFactory:()=>{let r=P(gj,{optional:!0});return()=>r.initialize()}},{provide:Si,multi:!0,useFactory:()=>{let r=P(yj);return()=>{r.initialize()}}},e===!0?{provide:Av,useValue:!0}:[],{provide:xv,useValue:t??gA},{provide:Yt,useFactory:()=>{let r=P(xe),i=P(Ge),o;return s=>{o??=i.get(Un),r.runOutsideAngular(()=>o.handleError(s))}}}]}function e0(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=X_({ngZoneFactory:()=>{let i=t0(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Go("NgZone_CoalesceEvent"),new xe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return on([{provide:RA,useValue:!0},{provide:hu,useValue:!1},r])}function t0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var yj=(()=>{class n{subscription=new Ye;initialized=!1;zone=P(xe);pendingTasks=P($r);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var MA=(()=>{class n{applicationErrorHandler=P(Yt);appRef=P(Ko);taskService=P($r);ngZone=P(xe);zonelessEnabled=P(hu);tracing=P(Wo,{optional:!0});disableScheduling=P(Av,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ye;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(tf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(xv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof nf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?GD:yA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(tf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,GD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vj(){return typeof $localize<"u"&&$localize.locale||bu}var Cu=new H("",{providedIn:"root",factory:()=>P(Cu,{optional:!0,skipSelf:!0})||vj()});function an(n){return NC(n)}function ga(n,e){return Od(n,e?.equal)}var NA=class{[Ut];constructor(e){this[Ut]=e}destroy(){this[Ut].destroy()}};var FA=Symbol("InputSignalNode#UNSET"),Rj=re(F({},Ld),{transformFn:void 0,applyValueToInputSignal(n,e){Vs(n,e)}});function VA(n,e){let t=Object.create(Rj);t.value=n,t.transformFn=e?.transform;function r(){if(Ls(t),t.value===FA){let i=null;throw new B(-950,i)}return t.value}return r[Ut]=t,r}var Af=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Eu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Mj=new H("");Mj.__NG_ELEMENT_ID__=n=>{let e=Ct();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new B(204,!1)};function kA(n,e){return VA(n,e)}function Nj(n){return VA(FA,n)}var jA=(kA.required=Nj,kA);var Yo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},UA=new Yo("20.0.4");var n0=new H(""),kj=new H("");function Du(n){return!n.moduleRef}function Pj(n){let e=Du(n)?n.r3Injector:n.moduleRef.injector,t=e.get(xe);return t.run(()=>{Du(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Yt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Du(n)){let o=()=>e.destroy(),s=n.platformInjector.get(n0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(n0);s.add(o),n.moduleRef.onDestroy(()=>{mu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Lj(r,t,()=>{let o=e.get(G_);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Cu,bu);if(TA(s||bu),!e.get(kj,!0))return Du(n)?e.get(Ko):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Du(n)){let u=e.get(Ko);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return Oj?.(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}var Oj;function Lj(n,e,t){try{let r=t();return Gr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Sf=null;function Fj(n=[],e){return Ze.create({name:e,providers:[{provide:eu,useValue:"platform"},{provide:n0,useValue:new Set([()=>Sf=null])},...n]})}function Vj(n=[]){if(Sf)return Sf;let e=Fj(n);return Sf=e,IA(),jj(e),e}function jj(n){let e=n.get(cf,null);dt(n,()=>{e?.forEach(t=>t())})}function a0(){return!1}var Kr=(()=>{class n{static __NG_ELEMENT_ID__=Uj}return n})();function Uj(n){return Bj(Ct(),Te(),(n&16)===16)}function Bj(n,e,t){if(Ri(n)&&!t){let r=An(n.index,e);return new Oi(r,r)}else if(n.type&175){let r=e[Dn];return new Oi(r,e)}return null}var r0=class{constructor(){}supports(e){return F_(e)}create(e){return new i0(e)}},$j=(n,e)=>e,i0=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||$j}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<PA(r,i,o)?t:r,a=PA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!F_(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,aA(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new o0(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new xf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new xf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},o0=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},s0=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},xf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new s0,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function PA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function OA(){return new c0([new r0])}var c0=(()=>{class n{factories;static \u0275prov=$({token:n,providedIn:"root",factory:OA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||OA()),deps:[[n,new tS,new sn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new B(901,!1)}}return n})();function BA(n){Pe(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=Vj(r),o=[X_({}),{provide:Fr,useExisting:MA},wD,...t||[]],s=new vu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Pj({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Pe(9)}}function Bi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function $A(n){let e=Ur(n);if(!e)return null;let t=new $o(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var qA=null;function Rn(){return qA}function u0(n){qA??=n}var Su=class{},Au=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>P(GA),providedIn:"platform"})}return n})(),l0=new H(""),GA=(()=>{class n extends Au{_location;_history;_doc=P(Xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rn().getBaseHref(this._doc)}onPopState(t){let r=Rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Rf(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function HA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Gn(n){return n&&n[0]!=="?"?`?${n}`:n}var Wn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>P(Nf),providedIn:"root"})}return n})(),Mf=new H(""),Nf=(()=>{class n extends Wn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Rf(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Gn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Gn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Gn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(q(Au),q(Mf,8))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$i=(()=>{class n{_subject=new it;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=qj(HA(zA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Gn(r))}normalize(t){return n.stripTrailingSlash(zj(this._basePath,zA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Gn;static joinWithSlash=Rf;static stripTrailingSlash=HA;static \u0275fac=function(r){return new(r||n)(q(Wn))};static \u0275prov=$({token:n,factory:()=>Hj(),providedIn:"root"})}return n})();function Hj(){return new $i(q(Wn))}function zj(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function zA(n){return n.replace(/\/index.html$/,"")}function qj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var g0=(()=>{class n extends Wn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Rf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Gn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Gn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(q(Au),q(Mf,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var Ht=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ht||{}),Oe=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Oe||{}),cn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(cn||{}),Yr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function YA(n){return pn(n)[ut.LocaleId]}function ZA(n,e,t){let r=pn(n),i=[r[ut.DayPeriodsFormat],r[ut.DayPeriodsStandalone]],o=Mn(i,e);return Mn(o,t)}function JA(n,e,t){let r=pn(n),i=[r[ut.DaysFormat],r[ut.DaysStandalone]],o=Mn(i,e);return Mn(o,t)}function XA(n,e,t){let r=pn(n),i=[r[ut.MonthsFormat],r[ut.MonthsStandalone]],o=Mn(i,e);return Mn(o,t)}function ex(n,e){let r=pn(n)[ut.Eras];return Mn(r,e)}function xu(n,e){let t=pn(n);return Mn(t[ut.DateFormat],e)}function Ru(n,e){let t=pn(n);return Mn(t[ut.TimeFormat],e)}function Mu(n,e){let r=pn(n)[ut.DateTimeFormat];return Mn(r,e)}function Nu(n,e){let t=pn(n),r=t[ut.NumberSymbols][e];if(typeof r>"u"){if(e===Yr.CurrencyDecimal)return t[ut.NumberSymbols][Yr.Decimal];if(e===Yr.CurrencyGroup)return t[ut.NumberSymbols][Yr.Group]}return r}function tx(n){if(!n[ut.ExtraData])throw new B(2303,!1)}function nx(n){let e=pn(n);return tx(e),(e[ut.ExtraData][2]||[]).map(r=>typeof r=="string"?d0(r):[d0(r[0]),d0(r[1])])}function rx(n,e,t){let r=pn(n);tx(r);let i=[r[ut.ExtraData][0],r[ut.ExtraData][1]],o=Mn(i,e)||[];return Mn(o,t)||[]}function Mn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new B(2304,!1)}function d0(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var Gj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,kf={},Wj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ix(n,e,t,r){let i=nU(n);e=Qr(t,e)||e;let s=[],a;for(;e;)if(a=Wj.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=sx(r,u),i=tU(i,r));let l="";return s.forEach(h=>{let p=Xj(h);l+=p?p(i,t,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Vf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Qr(n,e){let t=YA(n);if(kf[t]??={},kf[t][e])return kf[t][e];let r="";switch(e){case"shortDate":r=xu(n,cn.Short);break;case"mediumDate":r=xu(n,cn.Medium);break;case"longDate":r=xu(n,cn.Long);break;case"fullDate":r=xu(n,cn.Full);break;case"shortTime":r=Ru(n,cn.Short);break;case"mediumTime":r=Ru(n,cn.Medium);break;case"longTime":r=Ru(n,cn.Long);break;case"fullTime":r=Ru(n,cn.Full);break;case"short":let i=Qr(n,"shortTime"),o=Qr(n,"shortDate");r=Pf(Mu(n,cn.Short),[i,o]);break;case"medium":let s=Qr(n,"mediumTime"),a=Qr(n,"mediumDate");r=Pf(Mu(n,cn.Medium),[s,a]);break;case"long":let u=Qr(n,"longTime"),l=Qr(n,"longDate");r=Pf(Mu(n,cn.Long),[u,l]);break;case"full":let h=Qr(n,"fullTime"),p=Qr(n,"fullDate");r=Pf(Mu(n,cn.Full),[h,p]);break}return r&&(kf[t][e]=r),r}function Pf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Kn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Kj(n,e){return Kn(n,3).substring(0,e)}function ft(n,e,t=0,r=!1,i=!1){return function(o,s){let a=Qj(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return Kj(a,e);let u=Nu(s,Yr.MinusSign);return Kn(a,e,u,r,i)}}function Qj(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new B(2301,!1)}}function Ve(n,e,t=Ht.Format,r=!1){return function(i,o){return Yj(i,o,n,e,t,r)}}function Yj(n,e,t,r,i,o){switch(t){case 2:return XA(e,i,r)[n.getMonth()];case 1:return JA(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=nx(e),h=rx(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,S]=m,k=s>=y.hours&&a>=y.minutes,R=s<S.hours||s===S.hours&&a<S.minutes;if(y.hours<S.hours){if(k&&R)return!0}else if(k||R)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return ZA(e,i,r)[s<12?0:1];case 3:return ex(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new B(2302,!1)}}function Of(n){return function(e,t,r){let i=-1*r,o=Nu(t,Yr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Kn(s,2,o)+Kn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Kn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Kn(s,2,o)+":"+Kn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Kn(s,2,o)+":"+Kn(Math.abs(i%60),2,o);default:throw new B(2302,!1)}}}var Zj=0,Ff=4;function Jj(n){let e=Vf(n,Zj,1).getDay();return Vf(n,0,1+(e<=Ff?Ff:Ff+7)-e)}function ox(n){let e=n.getDay(),t=e===0?-3:Ff-e;return Vf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function h0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=ox(t),s=Jj(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Kn(i,n,Nu(r,Yr.MinusSign))}}function Lf(n,e=!1){return function(t,r){let o=ox(t).getFullYear();return Kn(o,n,Nu(r,Yr.MinusSign),e)}}var f0={};function Xj(n){if(f0[n])return f0[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ve(3,Oe.Abbreviated);break;case"GGGG":e=Ve(3,Oe.Wide);break;case"GGGGG":e=Ve(3,Oe.Narrow);break;case"y":e=ft(0,1,0,!1,!0);break;case"yy":e=ft(0,2,0,!0,!0);break;case"yyy":e=ft(0,3,0,!1,!0);break;case"yyyy":e=ft(0,4,0,!1,!0);break;case"Y":e=Lf(1);break;case"YY":e=Lf(2,!0);break;case"YYY":e=Lf(3);break;case"YYYY":e=Lf(4);break;case"M":case"L":e=ft(1,1,1);break;case"MM":case"LL":e=ft(1,2,1);break;case"MMM":e=Ve(2,Oe.Abbreviated);break;case"MMMM":e=Ve(2,Oe.Wide);break;case"MMMMM":e=Ve(2,Oe.Narrow);break;case"LLL":e=Ve(2,Oe.Abbreviated,Ht.Standalone);break;case"LLLL":e=Ve(2,Oe.Wide,Ht.Standalone);break;case"LLLLL":e=Ve(2,Oe.Narrow,Ht.Standalone);break;case"w":e=h0(1);break;case"ww":e=h0(2);break;case"W":e=h0(1,!0);break;case"d":e=ft(2,1);break;case"dd":e=ft(2,2);break;case"c":case"cc":e=ft(7,1);break;case"ccc":e=Ve(1,Oe.Abbreviated,Ht.Standalone);break;case"cccc":e=Ve(1,Oe.Wide,Ht.Standalone);break;case"ccccc":e=Ve(1,Oe.Narrow,Ht.Standalone);break;case"cccccc":e=Ve(1,Oe.Short,Ht.Standalone);break;case"E":case"EE":case"EEE":e=Ve(1,Oe.Abbreviated);break;case"EEEE":e=Ve(1,Oe.Wide);break;case"EEEEE":e=Ve(1,Oe.Narrow);break;case"EEEEEE":e=Ve(1,Oe.Short);break;case"a":case"aa":case"aaa":e=Ve(0,Oe.Abbreviated);break;case"aaaa":e=Ve(0,Oe.Wide);break;case"aaaaa":e=Ve(0,Oe.Narrow);break;case"b":case"bb":case"bbb":e=Ve(0,Oe.Abbreviated,Ht.Standalone,!0);break;case"bbbb":e=Ve(0,Oe.Wide,Ht.Standalone,!0);break;case"bbbbb":e=Ve(0,Oe.Narrow,Ht.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ve(0,Oe.Abbreviated,Ht.Format,!0);break;case"BBBB":e=Ve(0,Oe.Wide,Ht.Format,!0);break;case"BBBBB":e=Ve(0,Oe.Narrow,Ht.Format,!0);break;case"h":e=ft(3,1,-12);break;case"hh":e=ft(3,2,-12);break;case"H":e=ft(3,1);break;case"HH":e=ft(3,2);break;case"m":e=ft(4,1);break;case"mm":e=ft(4,2);break;case"s":e=ft(5,1);break;case"ss":e=ft(5,2);break;case"S":e=ft(6,1);break;case"SS":e=ft(6,2);break;case"SSS":e=ft(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Of(0);break;case"ZZZZZ":e=Of(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Of(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Of(2);break;default:return null}return f0[n]=e,e}function sx(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function eU(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function tU(n,e,t){let i=n.getTimezoneOffset(),o=sx(e,i);return eU(n,-1*(o-i))}function nU(n){if(WA(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Vf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Gj))return rU(r)}let e=new Date(n);if(!WA(e))throw new B(2302,!1);return e}function rU(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,u,l),e}function WA(n){return n instanceof Date&&!isNaN(n.valueOf())}var jf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ya=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new jf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),KA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);KA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(K(qr),K(Li),K(c0))};static \u0275dir=ht({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function KA(n,e){n.context.$implicit=e.item}var Zt=(()=>{class n{_viewContainer;_context=new Uf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){QA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){QA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(K(qr),K(Li))};static \u0275dir=ht({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Uf=class{$implicit=null;ngIf=null};function QA(n,e){if(n&&!n.createEmbeddedView)throw new B(2020,!1)}function ax(n,e){return new B(2100,!1)}var p0=class{createSubscription(e,t,r){return an(()=>e.subscribe({next:t,error:r}))}dispose(e){an(()=>e.unsubscribe())}},m0=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},iU=new m0,oU=new p0,Zr=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=P(Yt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Gr(t))return iU;if(wf(t))return oU;throw ax(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(K(Kr,16))};static \u0275pipe=_f({name:"async",type:n,pure:!1})}return n})();var sU="mediumDate",cx=new H(""),ux=new H(""),Zo=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??sU,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ix(t,s,o||this.locale,a)}catch(s){throw ax(n,s.message)}}static \u0275fac=function(r){return new(r||n)(K(Cu,16),K(cx,24),K(ux,24))};static \u0275pipe=_f({name:"date",type:n,pure:!0})}return n})();var Dt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=Tn({})}return n})();function ku(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Jo=class{};var lx="browser",aU="server";function dx(n){return n===aU}var hx=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new y0(P(Xe),window)})}return n})(),y0=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(re(F({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=cU(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(re(F({},t),{left:i-s[0],top:o-s[1]}))}};function cU(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Hf=new H(""),I0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(q(Hf),q(xe))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Pu=class{_doc;constructor(e){this._doc=e}manager},Bf="ng-app-id";function fx(n){for(let e of n)e.remove()}function px(n,e){let t=e.createElement("style");return t.textContent=n,t}function uU(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Bf}="${e}"],link[${Bf}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Bf),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function _0(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var w0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=dx(o),uU(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,px);r?.forEach(i=>this.addUsage(i,this.external,_0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(fx(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])fx(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,px(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,_0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Bf,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(q(Xe),q(af),q(uf,8),q(Vi))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),v0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},T0=/%COMP%/g;var gx="%COMP%",lU=`_nghost-${gx}`,dU=`_ngcontent-${gx}`,hU=!0,fU=new H("",{providedIn:"root",factory:()=>hU});function pU(n){return dU.replace(T0,n)}function mU(n){return lU.replace(T0,n)}function yx(n,e){return e.map(t=>t.replace(T0,n))}var b0=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Ou(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof $f?i.applyToHost(t):i instanceof Lu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Hr.Emulated:o=new $f(u,l,r,this.appId,h,s,a,p,m);break;case Hr.ShadowDom:return new E0(u,l,t,r,s,a,this.nonce,p,m);default:o=new Lu(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(q(I0),q(w0),q(af),q(fU),q(Xe),q(Vi),q(xe),q(uf),q(Wo,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Ou=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(v0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(mx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=v0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=v0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(dr.DashCase|dr.Important)?e.style.setProperty(t,r,i&dr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&dr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Rn().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function mx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var E0=class extends Ou{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=yx(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=_0(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Lu=class extends Ou{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?yx(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},$f=class extends Lu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=pU(h),this.hostAttr=mU(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var zf=class n extends Su{supportsDOMEvents=!0;static makeCurrent(){u0(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=gU();return t==null?null:yU(t)}resetBaseElement(){Fu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ku(document.cookie,e)}},Fu=null;function gU(){return Fu=Fu||document.head.querySelector("base"),Fu?Fu.getAttribute("href"):null}function yU(n){return new URL(n,document.baseURI).pathname}var vU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),_x=(()=>{class n extends Pu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(q(Xe))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),vx=["alt","control","meta","shift"],_U={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Ex=(()=>{class n extends Pu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),vx.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=_U[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),vx.forEach(s=>{if(s!==i){let a=EU[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(q(Xe))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function C0(n,e){return BA(F({rootComponent:n},IU(e)))}function IU(n){return{appProviders:[...DU,...n?.providers??[]],platformProviders:CU}}function wU(){zf.makeCurrent()}function TU(){return new Un}function bU(){return y_(document),document}var CU=[{provide:Vi,useValue:lx},{provide:cf,useValue:wU,multi:!0},{provide:Xe,useFactory:bU}];var DU=[{provide:eu,useValue:"root"},{provide:Un,useFactory:TU},{provide:Hf,useClass:_x,multi:!0,deps:[Xe]},{provide:Hf,useClass:Ex,multi:!0,deps:[Xe]},b0,w0,I0,{provide:Bo,useExisting:b0},{provide:Jo,useClass:vU},[]];var _a=class{},Vu=class{},zi=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Gf=class{encodeKey(e){return Ix(e)}encodeValue(e){return Ix(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function SU(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var AU=/%(\d[a-f0-9])/gi,xU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ix(n){return encodeURIComponent(n).replace(AU,(e,t)=>xU[t]??e)}function qf(n){return`${n}`}var Jr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Gf,e.fromString){if(e.fromObject)throw new B(2805,!1);this.map=SU(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(qf):[qf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(qf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(qf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Wf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function RU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wx(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Tx(n){return typeof Blob<"u"&&n instanceof Blob}function bx(n){return typeof FormData<"u"&&n instanceof FormData}function MU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Cx="Content-Type",Dx="Accept",Sx="X-Request-URL",Ax="text/plain",xx="application/json",NU=`${xx}, ${Ax}, */*`,va=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(RU(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new zi,this.context??=new Wf,!this.params)this.params=new Jr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wx(this.body)||Tx(this.body)||bx(this.body)||MU(this.body)?this.body:this.body instanceof Jr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bx(this.body)?null:Tx(this.body)?this.body.type||null:wx(this.body)?null:typeof this.body=="string"?Ax:this.body instanceof Jr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?xx:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,u=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,p=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((y,S)=>y.set(S,e.setHeaders[S]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((y,S)=>y.set(S,e.setParams[S]),p)),new n(t,r,a,{params:p,headers:h,context:m,reportProgress:l,responseType:i,withCredentials:u,transferCache:s,keepalive:o})}},Xo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Xo||{}),Ea=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new zi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Kf=class n extends Ea{constructor(e={}){super(e)}type=Xo.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ju=class n extends Ea{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Xo.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Uu=class extends Ea{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},kU=200,PU=204;function D0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive}}var Ia=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof va)o=t;else{let u;i.headers instanceof zi?u=i.headers:u=new zi(i.headers);let l;i.params&&(i.params instanceof Jr?l=i.params:l=new Jr({fromObject:i.params})),o=new va(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let s=Q(o).pipe(ir(u=>this.handler.handle(u)));if(t instanceof va||i.observe==="events")return s;let a=s.pipe(kt(u=>u instanceof ju));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ne(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new B(2806,!1);return u.body}));case"blob":return a.pipe(ne(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new B(2807,!1);return u.body}));case"text":return a.pipe(ne(u=>{if(u.body!==null&&typeof u.body!="string")throw new B(2808,!1);return u.body}));case"json":default:return a.pipe(ne(u=>u.body))}case"response":return a;default:throw new B(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Jr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,D0(i,r))}post(t,r,i={}){return this.request("POST",t,D0(i,r))}put(t,r,i={}){return this.request("PUT",t,D0(i,r))}static \u0275fac=function(r){return new(r||n)(q(_a))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var OU=new H("");function LU(n,e){return e(n)}function FU(n,e,t){return(r,i)=>dt(t,()=>e(r,o=>n(o,i)))}var Rx=new H(""),Mx=new H(""),Nx=new H("",{providedIn:"root",factory:()=>!0});var Qf=(()=>{class n extends _a{backend;injector;chain=null;pendingTasks=P(Pi);contributeToStability=P(Nx);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Rx),...this.injector.get(Mx,[])]));this.chain=r.reduceRight((i,o)=>FU(i,o,this.injector),LU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(bo(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(q(Vu),q(Ge))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var VU=/^\)\]\}',?\n/,jU=RegExp(`^${Sx}:`,"m");function UU(n){return"responseURL"in n&&n.responseURL?n.responseURL:jU.test(n.getAllResponseHeaders())?n.getResponseHeader(Sx):null}var S0=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new B(-2800,!1);t.keepalive;let r=this.xhrFactory;return(r.\u0275loadImpl?Ee(r.\u0275loadImpl()):Q(null)).pipe(Fe(()=>new ie(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((k,R)=>s.setRequestHeader(k,R.join(","))),t.headers.has(Dx)||s.setRequestHeader(Dx,NU),!t.headers.has(Cx)){let k=t.detectContentTypeHeader();k!==null&&s.setRequestHeader(Cx,k)}if(t.responseType){let k=t.responseType.toLowerCase();s.responseType=k!=="json"?k:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let k=s.statusText||"OK",R=new zi(s.getAllResponseHeaders()),j=UU(s)||t.url;return u=new Kf({headers:R,status:s.status,statusText:k,url:j}),u},h=()=>{let{headers:k,status:R,statusText:j,url:se}=l(),Y=null;R!==PU&&(Y=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=Y?kU:0);let Re=R>=200&&R<300;if(t.responseType==="json"&&typeof Y=="string"){let Mt=Y;Y=Y.replace(VU,"");try{Y=Y!==""?JSON.parse(Y):null}catch(Me){Y=Mt,Re&&(Re=!1,Y={error:Me,text:Y})}}Re?(o.next(new ju({body:Y,headers:k,status:R,statusText:j,url:se||void 0})),o.complete()):o.error(new Uu({error:Y,headers:k,status:R,statusText:j,url:se||void 0}))},p=k=>{let{url:R}=l(),j=new Uu({error:k,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(j)},m=!1,y=k=>{m||(o.next(l()),m=!0);let R={type:Xo.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},S=k=>{let R={type:Xo.UploadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:Xo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(q(Jo))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),kx=new H(""),BU="XSRF-TOKEN",$U=new H("",{providedIn:"root",factory:()=>BU}),HU="X-XSRF-TOKEN",zU=new H("",{providedIn:"root",factory:()=>HU}),Bu=class{},qU=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ku(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(q(Xe),q($U))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function GU(n,e){let t=n.url.toLowerCase();if(!P(kx)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=P(Bu).getToken(),i=P(zU);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function A0(...n){let e=[Ia,S0,Qf,{provide:_a,useExisting:Qf},{provide:Vu,useFactory:()=>P(OU,{optional:!0})??P(S0)},{provide:Rx,useValue:GU,multi:!0},{provide:kx,useValue:!0},{provide:Bu,useClass:qU}];for(let t of n)e.push(...t.\u0275providers);return on(e)}var Ox=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(q(Xe))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ye="primary",el=Symbol("RouteTitle"),k0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ns(n){return new k0(n)}function Hx(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function KU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gr(n[t],e[t]))return!1;return!0}function gr(n,e){let t=n?P0(n):void 0,r=e?P0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!zx(n[i],e[i]))return!1;return!0}function P0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function zx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function qx(n){return n.length>0?n[n.length-1]:null}function Xr(n){return wy(n)?n:Gr(n)?Ee(Promise.resolve(n)):Q(n)}var QU={exact:Wx,subset:Kx},Gx={exact:YU,subset:ZU,ignored:()=>!0};function Lx(n,e,t){return QU[t.paths](n.root,e.root,t.matrixParams)&&Gx[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function YU(n,e){return gr(n,e)}function Wx(n,e,t){if(!es(n.segments,e.segments)||!Jf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Wx(n.children[r],e.children[r],t))return!1;return!0}function ZU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zx(n[t],e[t]))}function Kx(n,e,t){return Qx(n,e,e.segments,t)}function Qx(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!es(i,t)||e.hasChildren()||!Jf(i,t,r))}else if(n.segments.length===t.length){if(!es(n.segments,t)||!Jf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Kx(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!es(n.segments,i)||!Jf(n.segments,i,r)||!n.children[ye]?!1:Qx(n.children[ye],e,o,r)}}function Jf(n,e,t){return e.every((r,i)=>Gx[t](n[i].parameters,r.parameters))}var vr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ne([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ns(this.queryParams),this._queryParamMap}toString(){return eB.serialize(this)}},Ne=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xf(this)}},qi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ns(this.parameters),this._parameterMap}toString(){return Zx(this)}};function JU(n,e){return es(n,e)&&n.every((t,r)=>gr(t.parameters,e[r].parameters))}function es(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function XU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ye&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ye&&(t=t.concat(e(i,r)))}),t}var rs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new Gi,providedIn:"root"})}return n})(),Gi=class{parse(e){let t=new L0(e);return new vr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${$u(e.root,!0)}`,r=rB(e.queryParams),i=typeof e.fragment=="string"?`#${tB(e.fragment)}`:"";return`${t}${r}${i}`}},eB=new Gi;function Xf(n){return n.segments.map(e=>Zx(e)).join("/")}function $u(n,e){if(!n.hasChildren())return Xf(n);if(e){let t=n.children[ye]?$u(n.children[ye],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ye&&r.push(`${i}:${$u(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=XU(n,(r,i)=>i===ye?[$u(n.children[ye],!1)]:[`${i}:${$u(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ye]!=null?`${Xf(n)}/${t[0]}`:`${Xf(n)}/(${t.join("//")})`}}function Yx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yf(n){return Yx(n).replace(/%3B/gi,";")}function tB(n){return encodeURI(n)}function O0(n){return Yx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ep(n){return decodeURIComponent(n)}function Fx(n){return ep(n.replace(/\+/g,"%20"))}function Zx(n){return`${O0(n.path)}${nB(n.parameters)}`}function nB(n){return Object.entries(n).map(([e,t])=>`;${O0(e)}=${O0(t)}`).join("")}function rB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Yf(t)}=${Yf(i)}`).join("&"):`${Yf(t)}=${Yf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var iB=/^[^\/()?;#]+/;function x0(n){let e=n.match(iB);return e?e[0]:""}var oB=/^[^\/()?;=#]+/;function sB(n){let e=n.match(oB);return e?e[0]:""}var aB=/^[^=?&#]+/;function cB(n){let e=n.match(aB);return e?e[0]:""}var uB=/^[^&#]+/;function lB(n){let e=n.match(uB);return e?e[0]:""}var L0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ye]=new Ne(e,t)),r}parseSegment(){let e=x0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new qi(ep(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=sB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=x0(this.remaining);i&&(r=i,this.capture(r))}e[ep(t)]=ep(r)}parseQueryParam(e){let t=cB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=lB(this.remaining);s&&(r=s,this.capture(r))}let i=Fx(t),o=Fx(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=x0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ye);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ye]:new Ne([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function Jx(n){return n.segments.length>0?new Ne([],{[ye]:n}):n}function Xx(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Xx(i);if(r===ye&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ne(n.segments,e);return dB(t)}function dB(n){if(n.numberOfChildren===1&&n.children[ye]){let e=n.children[ye];return new Ne(n.segments.concat(e.segments),e.children)}return n}function Wi(n){return n instanceof vr}function eR(n,e,t=null,r=null){let i=tR(n);return nR(i,e,t,r)}function tR(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ne(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Jx(r);return e??i}function nR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return R0(i,i,i,t,r);let o=hB(e);if(o.toRoot())return R0(i,i,new Ne([],{}),t,r);let s=fB(o,i,n),a=s.processChildren?zu(s.segmentGroup,s.index,o.commands):iR(s.segmentGroup,s.index,o.commands);return R0(i,s.segmentGroup,a,t,r)}function tp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Gu(n){return typeof n=="object"&&n!=null&&n.outlets}function R0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=rR(n,e,t);let a=Jx(Xx(s));return new vr(a,o,i)}function rR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=rR(o,e,t)}),new Ne(n.segments,r)}var np=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&tp(r[0]))throw new B(4003,!1);let i=r.find(Gu);if(i&&i!==qx(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new np(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new np(t,e,r)}var ba=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function fB(n,e,t){if(n.isAbsolute)return new ba(e,!0,0);if(!t)return new ba(e,!1,NaN);if(t.parent===null)return new ba(t,!0,0);let r=tp(n.commands[0])?0:1,i=t.segments.length-1+r;return pB(t,i,n.numberOfDoubleDots)}function pB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new ba(r,!1,i-o)}function mB(n){return Gu(n[0])?n[0].outlets:{[ye]:n}}function iR(n,e,t){if(n??=new Ne([],{}),n.segments.length===0&&n.hasChildren())return zu(n,e,t);let r=gB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ne(n.segments.slice(0,r.pathIndex),{});return o.children[ye]=new Ne(n.segments.slice(r.pathIndex),n.children),zu(o,0,i)}else return r.match&&i.length===0?new Ne(n.segments,{}):r.match&&!n.hasChildren()?F0(n,e,t):r.match?zu(n,0,i):F0(n,e,t)}function zu(n,e,t){if(t.length===0)return new Ne(n.segments,{});{let r=mB(t),i={};if(Object.keys(r).some(o=>o!==ye)&&n.children[ye]&&n.numberOfChildren===1&&n.children[ye].segments.length===0){let o=zu(n.children[ye],e,t);return new Ne(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=iR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ne(n.segments,i)}}function gB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Gu(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!jx(u,l,s))return o;r+=2}else{if(!jx(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function F0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Gu(o)){let u=yB(o.outlets);return new Ne(r,u)}if(i===0&&tp(t[0])){let u=n.segments[e];r.push(new qi(u.path,Vx(t[0]))),i++;continue}let s=Gu(o)?o.outlets[ye]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&tp(a)?(r.push(new qi(s,Vx(a))),i+=2):(r.push(new qi(s,{})),i++)}return new Ne(r,{})}function yB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=F0(new Ne([],{}),0,r))}),e}function Vx(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function jx(n,e,t){return n==t.path&&gr(e,t.parameters)}var Ca="imperative",wt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(wt||{}),gn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ki=class extends gn{type=wt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yn=class extends gn{urlAfterRedirects;type=wt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(Jt||{}),Sa=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Sa||{}),yr=class extends gn{reason;code;type=wt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_r=class extends gn{reason;code;type=wt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Aa=class extends gn{error;target;type=wt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wu=class extends gn{urlAfterRedirects;state;type=wt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rp=class extends gn{urlAfterRedirects;state;type=wt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ip=class extends gn{urlAfterRedirects;state;shouldActivate;type=wt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},op=class extends gn{urlAfterRedirects;state;type=wt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sp=class extends gn{urlAfterRedirects;state;type=wt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class{route;type=wt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cp=class{route;type=wt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},up=class{snapshot;type=wt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lp=class{snapshot;type=wt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dp=class{snapshot;type=wt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hp=class{snapshot;type=wt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xa=class{routerEvent;position;anchor;type=wt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ku=class{},Ra=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function vB(n){return!(n instanceof Ku)&&!(n instanceof Ra)}function _B(n,e){return n.providers&&!n._injector&&(n._injector=da(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Qn(n){return n.outlet||ye}function EB(n,e){let t=n.filter(r=>Qn(r)===e);return t.push(...n.filter(r=>Qn(r)!==e)),t}function tl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var fp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return tl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new is(this.rootInjector)}},is=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new fp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(q(Ge))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=V0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=V0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=j0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return j0(e,this._root).map(t=>t.value)}};function V0(n,e){if(n===e.value)return e;for(let t of e.children){let r=V0(n,t);if(r)return r}return null}function j0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=j0(n,t);if(r.length)return r.unshift(e),r}return[]}var mn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ta(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Qu=class extends pp{snapshot;constructor(e,t){super(e),this.snapshot=t,W0(this,e)}toString(){return this.snapshot.toString()}};function oR(n){let e=IB(n),t=new ot([new qi("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new Nn(t,r,o,s,i,ye,n,e.root);return a.snapshot=e.root,new Qu(new mn(a,[]),e)}function IB(n){let e={},t={},r={},i="",o=new ts([],e,r,i,t,ye,n,null,{});return new Yu("",new mn(o,[]))}var Nn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[el]))??Q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>ns(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>ns(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&aR(i)&&(r.resolve[el]=i.title),r}var ts=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[el]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ns(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ns(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Yu=class extends pp{url;constructor(e,t){super(t),this.url=e,W0(this,t)}toString(){return sR(this._root)}};function W0(n,e){e.value._routerState=n,e.children.forEach(t=>W0(n,t))}function sR(n){let e=n.children.length>0?` { ${n.children.map(sR).join(", ")} } `:"";return`${n.value}${e}`}function M0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gr(e.params,t.params)||n.paramsSubject.next(t.params),KU(e.url,t.url)||n.urlSubject.next(t.url),gr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function U0(n,e){let t=gr(n.params,e.params)&&JU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||U0(n.parent,e.parent))}function aR(n){return typeof n.title=="string"||n.title===null}var cR=new H(""),nl=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ye;activateEvents=new ct;deactivateEvents=new ct;attachEvents=new ct;detachEvents=new ct;routerOutletData=jA(void 0);parentContexts=P(is);location=P(qr);changeDetector=P(Kr);inputBinder=P(rl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new B0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ht({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[hr]})}return n})(),B0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Nn?this.route:e===is?this.childContexts:e===cR?this.outletData:this.parent.get(e,t)}},rl=new H(""),K0=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Gc([r.queryParams,r.params,r.data]).pipe(Fe(([o,s,a],u)=>(a=F(F(F({},o),s),a),u===0?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=$A(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Q0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=_t({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&G(0,"router-outlet")},dependencies:[nl],encapsulation:2})}return n})();function Y0(n){let e=n.children&&n.children.map(Y0),t=e?re(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=Q0),t}function wB(n,e,t){let r=Zu(n,e._root,t?t._root:void 0);return new Qu(r,e)}function Zu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=TB(n,e,t);return new mn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Zu(n,a)),s}}let r=bB(e.value),i=e.children.map(o=>Zu(n,o));return new mn(r,i)}}function TB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Zu(n,r,i);return Zu(n,r)})}function bB(n){return new Nn(new ot(n.url),new ot(n.params),new ot(n.queryParams),new ot(n.fragment),new ot(n.data),n.outlet,n.component,n)}var Ma=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},uR="ngNavigationCancelingError";function gp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Wi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lR(!1,Jt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function lR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[uR]=!0,t.cancellationCode=e,t}function CB(n){return dR(n)&&Wi(n.url)}function dR(n){return!!n&&n[uR]}var DB=(n,e,t,r)=>ne(i=>(new $0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),$0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),M0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ta(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ta(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ta(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ta(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new lp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(M0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),M0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},yp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Da=class{component;route;constructor(e,t){this.component=e,this.route=t}};function SB(n,e,t){let r=n._root,i=e?e._root:null;return Hu(r,i,t,[r.value])}function AB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ka(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!By(n)?n:e.get(n):r}function Hu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ta(e);return n.children.forEach(s=>{xB(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qu(a,t.getContext(s),i)),i}function xB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=RB(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Hu(n,e,a?a.children:null,r,i):Hu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Da(a.outlet.component,s))}else s&&qu(e,a,i),i.canActivateChecks.push(new yp(r)),o.component?Hu(n,null,a?a.children:null,r,i):Hu(n,null,t,r,i);return i}function RB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!es(n.url,e.url);case"pathParamsOrQueryParamsChange":return!es(n.url,e.url)||!gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!U0(n,e)||!gr(n.queryParams,e.queryParams);case"paramsChange":default:return!U0(n,e)}}function qu(n,e,t){let r=Ta(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?qu(s,e.children.getContext(o),t):qu(s,null,t):qu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Da(e.outlet.component,i)):t.canDeactivateChecks.push(new Da(null,i)):t.canDeactivateChecks.push(new Da(null,i))}function il(n){return typeof n=="function"}function MB(n){return typeof n=="boolean"}function NB(n){return n&&il(n.canLoad)}function kB(n){return n&&il(n.canActivate)}function PB(n){return n&&il(n.canActivateChild)}function OB(n){return n&&il(n.canDeactivate)}function LB(n){return n&&il(n.canMatch)}function hR(n){return n instanceof Vn||n?.name==="EmptyError"}var Zf=Symbol("INITIAL_VALUE");function Na(){return Fe(n=>Gc(n.map(e=>e.pipe(at(1),lh(Zf)))).pipe(ne(e=>{for(let t of e)if(t!==!0){if(t===Zf)return Zf;if(t===!1||FB(t))return t}return!0}),kt(e=>e!==Zf),at(1)))}function FB(n){return Wi(n)||n instanceof Ma}function VB(n,e){return st(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Q(re(F({},t),{guardsResult:!0})):jB(s,r,i,n).pipe(st(a=>a&&MB(a)?UB(r,o,n,e):Q(a)),ne(a=>re(F({},t),{guardsResult:a})))})}function jB(n,e,t,r){return Ee(n).pipe(st(i=>qB(i.component,i.route,t,e,r)),Or(i=>i!==!0,!0))}function UB(n,e,t,r){return Ee(e).pipe(ir(i=>Ys($B(i.route.parent,r),BB(i.route,r),zB(n,i.path,t),HB(n,i.route,t))),Or(i=>i!==!0,!0))}function BB(n,e){return n!==null&&e&&e(new dp(n)),Q(!0)}function $B(n,e){return n!==null&&e&&e(new up(n)),Q(!0)}function HB(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>Wc(()=>{let s=tl(e)??t,a=ka(o,s),u=kB(a)?a.canActivate(e,n):dt(s,()=>a(e,n));return Xr(u).pipe(Or())}));return Q(i).pipe(Na())}function zB(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>AB(s)).filter(s=>s!==null).map(s=>Wc(()=>{let a=s.guards.map(u=>{let l=tl(s.node)??t,h=ka(u,l),p=PB(h)?h.canActivateChild(r,n):dt(l,()=>h(r,n));return Xr(p).pipe(Or())});return Q(a).pipe(Na())}));return Q(o).pipe(Na())}function qB(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let u=tl(e)??i,l=ka(a,u),h=OB(l)?l.canDeactivate(n,e,t,r):dt(u,()=>l(n,e,t,r));return Xr(h).pipe(Or())});return Q(s).pipe(Na())}function GB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=ka(s,n),u=NB(a)?a.canLoad(e,t):dt(n,()=>a(e,t));return Xr(u)});return Q(o).pipe(Na(),fR(r))}function fR(n){return Bd(Tt(e=>{if(typeof e!="boolean")throw gp(n,e)}),ne(e=>e===!0))}function WB(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=ka(s,n),u=LB(a)?a.canMatch(e,t):dt(n,()=>a(e,t));return Xr(u)});return Q(o).pipe(Na(),fR(r))}var Ju=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Xu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function wa(n){return Qs(new Ju(n))}function KB(n){return Qs(new B(4e3,!1))}function QB(n){return Qs(lR(!1,Jt.GuardRejected))}var H0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ye])return KB(`${e.redirectTo}`);i=i.children[ye]}}applyRedirectCommands(e,t,r,i,o){return YB(t,i,o).pipe(ne(s=>{if(s instanceof vr)throw new Xu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Xu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new vr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ne(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function YB(n,e,t){if(typeof n=="string")return Q(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Xr(dt(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var z0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZB(n,e,t,r,i){let o=pR(n,e,t);return o.matched?(r=_B(e,r),WB(r,e,t,i).pipe(ne(s=>s===!0?o:F({},z0)))):Q(o)}function pR(n,e,t){if(e.path==="**")return JB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},z0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Hx)(t,n,e);if(!i)return F({},z0);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function JB(n){return{matched:!0,parameters:n.length>0?qx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Ux(n,e,t,r){return t.length>0&&t4(n,t,r)?{segmentGroup:new Ne(e,e4(r,new Ne(t,n.children))),slicedSegments:[]}:t.length===0&&n4(n,t,r)?{segmentGroup:new Ne(n.segments,XB(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ne(n.segments,n.children),slicedSegments:t}}function XB(n,e,t,r){let i={};for(let o of t)if(_p(n,e,o)&&!r[Qn(o)]){let s=new Ne([],{});i[Qn(o)]=s}return F(F({},r),i)}function e4(n,e){let t={};t[ye]=e;for(let r of n)if(r.path===""&&Qn(r)!==ye){let i=new Ne([],{});t[Qn(r)]=i}return t}function t4(n,e,t){return t.some(r=>_p(n,e,r)&&Qn(r)!==ye)}function n4(n,e,t){return t.some(r=>_p(n,e,r))}function _p(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function r4(n,e,t){return e.length===0&&!n.children[t]}var q0=class{};function i4(n,e,t,r,i,o,s="emptyOnly"){return new G0(n,e,t,r,i,s,o).recognize()}var o4=31,G0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new H0(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=Ux(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:t,rootSnapshot:r})=>{let i=new mn(r,t),o=new Yu("",i),s=eR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ts([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ye,t).pipe(ne(r=>({children:r,rootSnapshot:t})),jn(r=>{if(r instanceof Xu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ju?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ne(s=>s instanceof mn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ee(o).pipe(ir(s=>{let a=r.children[s],u=EB(t,s);return this.processSegmentGroup(e,u,a,s,i)}),uh((s,a)=>(s.push(...a),s)),Ti(null),Dy(),st(s=>{if(s===null)return wa(r);let a=mR(s);return s4(a),Q(a)}))}processSegment(e,t,r,i,o,s,a){return Ee(t).pipe(ir(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(jn(l=>{if(l instanceof Ju)return Q(null);throw l}))),Or(u=>!!u),jn(u=>{if(hR(u))return r4(r,i,o)?Q(new q0):wa(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Qn(r)!==s&&(s===ye||!_p(i,o,r))?wa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):wa(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=pR(t,i,o);if(!u)return wa(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>o4&&(this.allowRedirects=!1));let y=new ts(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Bx(i),Qn(i),i.component??i._loadedComponent??null,i,$x(i)),S=mp(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Fe(R=>this.applyRedirects.lineralizeSegments(i,R)),st(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=ZB(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Fe(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Fe(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new ts(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Bx(r),Qn(r),r.component??r._loadedComponent??null,r,$x(r)),k=mp(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(k.params),S.data=Object.freeze(k.data);let{segmentGroup:R,slicedSegments:j}=Ux(t,m,y,l);if(j.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(ne(Y=>new mn(S,Y)));if(l.length===0&&j.length===0)return Q(new mn(S,[]));let se=Qn(r)===o;return this.processSegment(h,l,R,j,se?ye:o,!0,S).pipe(ne(Y=>new mn(S,Y instanceof mn?[Y]:[])))}))):wa(t)))}getChildConfig(e,t,r){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):GB(e,t,r,this.urlSerializer).pipe(st(i=>i?this.configLoader.loadChildren(e,t).pipe(Tt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):QB(t))):Q({routes:[],injector:e})}};function s4(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}function a4(n){let e=n.value.routeConfig;return e&&e.path===""}function mR(n){let e=[],t=new Set;for(let r of n){if(!a4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=mR(r.children);e.push(new mn(r.value,i))}return e.filter(r=>!t.has(r))}function Bx(n){return n.data||{}}function $x(n){return n.resolve||{}}function c4(n,e,t,r,i,o){return st(s=>i4(n,e,t,r,s.extractedUrl,i,o).pipe(ne(({state:a,tree:u})=>re(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function u4(n,e){return st(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of gR(u))s.add(l);let a=0;return Ee(s).pipe(ir(u=>o.has(u)?l4(u,r,n,e):(u.data=mp(u,u.parent,n).resolve,Q(void 0))),Tt(()=>a++),Zs(1),st(u=>a===s.size?Q(t):tn))})}function gR(n){let e=n.children.map(t=>gR(t)).flat();return[n,...e]}function l4(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!aR(i)&&(o[el]=i.title),Wc(()=>(n.data=mp(n,n.parent,t).resolve,d4(o,n,e,r).pipe(ne(s=>(n._resolvedData=s,n.data=F(F({},n.data),s),null)))))}function d4(n,e,t,r){let i=P0(n);if(i.length===0)return Q({});let o={};return Ee(i).pipe(st(s=>h4(n[s],e,t,r).pipe(Or(),Tt(a=>{if(a instanceof Ma)throw gp(new Gi,a);o[s]=a}))),Zs(1),ne(()=>o),jn(s=>hR(s)?tn:Qs(s)))}function h4(n,e,t,r){let i=tl(e)??r,o=ka(n,i),s=o.resolve?o.resolve(e,t):dt(i,()=>o(e,t));return Xr(s)}function N0(n){return Fe(e=>{let t=n(e);return t?Ee(t).pipe(ne(()=>e)):Q(e)})}var Z0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ye);return r}getResolvedTitleForRoute(t){return t.data[el]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>P(yR),providedIn:"root"})}return n})(),yR=(()=>{class n extends Z0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(q(Ox))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qi=new H("",{providedIn:"root",factory:()=>({})}),os=new H(""),Ep=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(J_);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Xr(t.loadComponent()).pipe(ne(_R),Tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),bo(()=>{this.componentLoaders.delete(t)})),i=new zs(r,()=>new it).pipe(Hs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=vR(r,this.compiler,t,this.onLoadEndListener).pipe(bo(()=>{this.childrenLoaders.delete(r)})),s=new zs(o,()=>new it).pipe(Hs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vR(n,e,t,r){return Xr(n.loadChildren()).pipe(ne(_R),st(i=>i instanceof vf||Array.isArray(i)?Q(i):Ee(e.compileModuleAsync(i))),ne(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(os,[],{optional:!0,self:!0}).flat()),{routes:s.map(Y0),injector:o}}))}function f4(n){return n&&typeof n=="object"&&"default"in n}function _R(n){return f4(n)?n.default:n}var Ip=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>P(p4),providedIn:"root"})}return n})(),p4=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),J0=new H(""),X0=new H("");function ER(n,e,t){let r=n.get(X0),i=n.get(Xe);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),m4(n))),{onViewTransitionCreated:u}=r;return u&&dt(n,()=>u({transition:a,from:e,to:t})),s}function m4(n){return new Promise(e=>{If({read:()=>setTimeout(e)},{injector:n})})}var eE=new H(""),wp=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new it;transitionAbortWithErrorSubject=new it;configLoader=P(Ep);environmentInjector=P(Ge);destroyRef=P(Br);urlSerializer=P(rs);rootContexts=P(is);location=P($i);inputBindingEnabled=P(rl,{optional:!0})!==null;titleStrategy=P(Z0);options=P(Qi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(Ip);createViewTransition=P(J0,{optional:!0});navigationErrorHandler=P(eE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ap(i)),r=i=>this.events.next(new cp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(re(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new ot(null),this.transitions.pipe(kt(r=>r!==null),Fe(r=>{let i=!1;return Q(r).pipe(Fe(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Jt.SupersededByNewNavigation),tn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?re(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let u="";return this.events.next(new _r(o.id,this.urlSerializer.serialize(o.rawUrl),u,Sa.IgnoredSameUrlNavigation)),o.resolve(!1),tn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Q(o).pipe(Fe(u=>(this.events.next(new Ki(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?tn:Promise.resolve(u))),c4(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Tt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=re(F({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new Wu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Ki(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let S=oR(this.rootComponentType).snapshot;return this.currentTransition=r=re(F({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:re(F({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,Q(r)}else{let u="";return this.events.next(new _r(o.id,this.urlSerializer.serialize(o.extractedUrl),u,Sa.IgnoredByUrlHandlingStrategy)),o.resolve(!1),tn}}),Tt(o=>{let s=new rp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ne(o=>(this.currentTransition=r=re(F({},o),{guards:SB(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),VB(this.environmentInjector,o=>this.events.next(o)),Tt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw gp(this.urlSerializer,o.guardsResult);let s=new ip(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),kt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Jt.GuardRejected),!1)),N0(o=>{if(o.guards.canActivateChecks.length!==0)return Q(o).pipe(Tt(s=>{let a=new op(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Fe(s=>{let a=!1;return Q(s).pipe(u4(this.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Jt.NoDataFromResolver)}}))}),Tt(s=>{let a=new sp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),N0(o=>{let s=a=>{let u=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(a.routeConfig).pipe(Tt(l=>{a.component=l}),ne(()=>{})));for(let l of a.children)u.push(...s(l));return u};return Gc(s(o.targetSnapshot.root)).pipe(Ti(null),at(1))}),N0(()=>this.afterPreactivation()),Fe(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ee(a).pipe(ne(()=>r)):Q(r)}),ne(o=>{let s=wB(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=re(F({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Tt(()=>{this.events.next(new Ku)}),DB(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),at(1),dh(new ie(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(kt(()=>!i&&!r.targetRouterState),Tt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Jt.Aborted)}))),Tt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),dh(this.transitionAbortWithErrorSubject.pipe(Tt(o=>{throw o}))),bo(()=>{i||this.cancelNavigationTransition(r,"",Jt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),jn(o=>{if(this.destroyed)return r.resolve(!1),tn;if(i=!0,dR(o))this.events.next(new yr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),CB(o)?this.events.next(new Ra(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Aa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=dt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Ma){let{message:u,cancellationCode:l}=gp(this.urlSerializer,a);this.events.next(new yr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Ra(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return tn}))}))}cancelNavigationTransition(t,r,i){let o=new yr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function g4(n){return n!==Ca}var IR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>P(y4),providedIn:"root"})}return n})(),vp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},y4=(()=>{class n extends vp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=qo(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wR=(()=>{class n{urlSerializer=P(rs);options=P(Qi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P($i);urlHandlingStrategy=P(Ip);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new vr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof vr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=oR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>P(v4),providedIn:"root"})}return n})(),v4=(()=>{class n extends wR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ki?this.updateStateMemento():t instanceof _r?this.commitTransition(r):t instanceof Wu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ku?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof yr&&t.code!==Jt.SupersededByNewNavigation&&t.code!==Jt.Redirect?this.restoreHistory(r):t instanceof Aa?this.restoreHistory(r,!0):t instanceof yn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=qo(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tp(n,e){n.events.pipe(kt(t=>t instanceof yn||t instanceof yr||t instanceof Aa||t instanceof _r),ne(t=>t instanceof yn||t instanceof _r?0:(t instanceof yr?t.code===Jt.Redirect||t.code===Jt.SupersededByNewNavigation:!1)?2:1),kt(t=>t!==2),at(1)).subscribe(()=>{e()})}var _4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},E4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},He=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(H_);stateManager=P(wR);options=P(Qi,{optional:!0})||{};pendingTasks=P($r);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(wp);urlSerializer=P(rs);location=P($i);urlHandlingStrategy=P(Ip);injector=P(Ge);_events=new it;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(IR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(os,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(rl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ye;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yr&&r.code!==Jt.Redirect&&r.code!==Jt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof yn)this.navigated=!0;else if(r instanceof Ra){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||g4(i.source)},s);this.scheduleNavigation(a,Ca,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}vB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ca,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.injector.get(Yt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Y0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=tR(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return nR(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Wi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ca,null,r)}navigate(t,r={skipLocationChange:!1}){return I4(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},_4):r===!1?i=F({},E4):i=r,Wi(t))return Lx(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Lx(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Tp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function I4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}var Pa=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ur(null);get href(){return an(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new it;applicationErrorHandler=P(Yt);options=P(Qi,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new Af("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof yn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Wi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Wi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(K(He),K(Nn),Eu("tabindex"),K(zr),K(fn),K(Wn))};static \u0275dir=ht({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Z("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ha("href",i.reactiveHref(),E_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Bi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Bi],replaceUrl:[2,"replaceUrl","replaceUrl",Bi],routerLink:"routerLink"},features:[hr]})}return n})(),nE=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ct;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof yn&&this.update()})}ngAfterContentInit(){Q(this.links.changes,Q(null)).pipe(wi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ee(t).pipe(wi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=w4(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(K(He),K(fn),K(zr),K(Kr),K(Pa,8))};static \u0275dir=ht({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&W_(o,Pa,5),r&2){let s;K_(s=Q_())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[hr]})}return n})();function w4(n){return!!n.paths}var ol=class{};var TR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(kt(t=>t instanceof yn),ir(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=da(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ee(i).pipe(wi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Q(null);let o=i.pipe(st(s=>s===null?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ee([o,s]).pipe(wi())}else return o})}static \u0275fac=function(r){return new(r||n)(q(He),q(Ge),q(ol),q(Ep))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bR=new H(""),T4=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ca;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof _r&&t.code===Sa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xa&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>E(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new xa(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){O_()};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function rE(n,...e){return on([{provide:os,multi:!0,useValue:n},[],{provide:Nn,useFactory:CR,deps:[He]},{provide:Tu,multi:!0,useFactory:DR},e.map(t=>t.\u0275providers)])}function CR(n){return n.routerState.root}function sl(n,e){return{\u0275kind:n,\u0275providers:e}}function DR(){let n=P(Ze);return e=>{let t=n.get(Ko);if(e!==t.components[0])return;let r=n.get(He),i=n.get(SR);n.get(iE)===1&&r.initialNavigation(),n.get(RR,null,{optional:!0})?.setUpPreloading(),n.get(bR,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var SR=new H("",{factory:()=>new it}),iE=new H("",{providedIn:"root",factory:()=>1});function AR(){let n=[{provide:iE,useValue:0},Tf(()=>{let e=P(Ze);return e.get(l0,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(He),o=e.get(SR);Tp(i,()=>{r(!0)}),e.get(wp).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))})];return sl(2,n)}function xR(){let n=[Tf(()=>{P(He).setUpLocationChangeListener()}),{provide:iE,useValue:2}];return sl(3,n)}var RR=new H("");function MR(n){return sl(0,[{provide:RR,useExisting:TR},{provide:ol,useExisting:n}])}function NR(){return sl(8,[K0,{provide:rl,useExisting:K0}])}function kR(n){Go("NgRouterViewTransitions");let e=[{provide:J0,useValue:ER},{provide:X0,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return sl(9,e)}var PR=[$i,{provide:rs,useClass:Gi},He,is,{provide:Nn,useFactory:CR,deps:[He]},Ep,[]],ss=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[PR,[],{provide:os,multi:!0,useValue:t},[],r?.errorHandler?{provide:eE,useValue:r.errorHandler}:[],{provide:Qi,useValue:r||{}},r?.useHash?C4():D4(),b4(),r?.preloadingStrategy?MR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?S4(r):[],r?.bindToComponentInputs?NR().\u0275providers:[],r?.enableViewTransitions?kR().\u0275providers:[],A4()]}}static forChild(t){return{ngModule:n,providers:[{provide:os,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=Tn({})}return n})();function b4(){return{provide:bR,useFactory:()=>{let n=P(hx),e=P(xe),t=P(Qi),r=P(wp),i=P(rs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new T4(i,r,n,e,t)}}}function C4(){return{provide:Wn,useClass:g0}}function D4(){return{provide:Wn,useClass:Nf}}function S4(n){return[n.initialNavigation==="disabled"?xR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?AR().\u0275providers:[]]}var tE=new H("");function A4(){return[{provide:tE,useFactory:DR},{provide:Tu,multi:!0,useExisting:tE}]}var OR=()=>{};var VR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},x4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},bp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):x4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new sE;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},sE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},R4=function(n){let e=VR(n);return bp.encodeByteArray(e,!0)},cl=function(n){return R4(n).replace(/\./g,"")},Cp=function(n){try{return bp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var M4=()=>cE().__FIREBASE_DEFAULTS__,N4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},k4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Cp(n[1]);return e&&JSON.parse(e)},Dp=()=>{try{return OR()||M4()||N4()||k4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uE=n=>{var e,t;return(t=(e=Dp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jR=n=>{let e=uE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},lE=()=>{var n;return(n=Dp())===null||n===void 0?void 0:n.config},dE=n=>{var e;return(e=Dp())===null||e===void 0?void 0:e[`_${n}`]};var as=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Yi(n){return n.endsWith(".cloudworkstations.dev")}function Sp(n){return E(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function UR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cl(JSON.stringify(t)),cl(JSON.stringify(s)),""].join(".")}var al={};function P4(){let n={prod:[],emulator:[]};for(let e of Object.keys(al))al[e]?n.emulator.push(e):n.prod.push(e);return n}function O4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var LR=!1;function Ap(n,e){if(typeof window>"u"||typeof document>"u"||!Yi(window.location.host)||al[n]===e||al[n]||LR)return;al[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=P4().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{LR=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=O4(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),k=t("learnmore"),R=document.getElementById(k)||document.createElement("a"),j=t("preprendIcon"),se=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Y=m.element;a(Y),h(R,k);let Re=l();u(se,j),Y.append(se,S,R,Re),document.body.appendChild(Y)}o?(S.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function L4(){var n;let e=(n=Dp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qR(){let n=St();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function GR(){return!L4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ul(){try{return typeof indexedDB=="object"}catch{return!1}}function WR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var F4="FirebaseError",vn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=F4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yn.prototype.create)}},Yn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?V4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new vn(i,a,r)}};function V4(n,e){return n.replace(j4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var j4=/\{\$([^}]+)}/g;function KR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Er(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(FR(o)&&FR(s)){if(!Er(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function FR(n){return n!==null&&typeof n=="object"}function La(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function QR(n,e){let t=new aE(n,e);return t.subscribe.bind(t)}var aE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");U4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=oE),i.error===void 0&&(i.error=oE),i.complete===void 0&&(i.complete=oE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function U4(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function oE(){}var Ose=4*60*60*1e3;function et(n){return n&&n._delegate?n._delegate:n}var Xt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var cs="[DEFAULT]";var hE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new as;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($4(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function B4(n){return n===cs?void 0:n}function $4(n){return n.instantiationMode==="EAGER"}var xp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new hE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var H4=[],Ie=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ie||{}),z4={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},q4=Ie.INFO,G4={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},W4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=G4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ir=class{constructor(e){this.name=e,this._logLevel=q4,this._logHandler=W4,this._userLogHandler=null,H4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}};var K4=(n,e)=>e.some(t=>n instanceof t),YR,ZR;function Q4(){return YR||(YR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y4(){return ZR||(ZR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var JR=new WeakMap,pE=new WeakMap,XR=new WeakMap,fE=new WeakMap,gE=new WeakMap;function Z4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(wr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&JR.set(t,n)}).catch(()=>{}),gE.set(e,n),e}function J4(n){if(pE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});pE.set(n,e)}var mE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return pE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||XR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function e1(n){mE=n(mE)}function X4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Rp(this),e,...t);return XR.set(r,e.sort?e.sort():[e]),wr(r)}:Y4().includes(n)?function(...e){return n.apply(Rp(this),e),wr(JR.get(this))}:function(...e){return wr(n.apply(Rp(this),e))}}function e3(n){return typeof n=="function"?X4(n):(n instanceof IDBTransaction&&J4(n),K4(n,Q4())?new Proxy(n,mE):n)}function wr(n){if(n instanceof IDBRequest)return Z4(n);if(fE.has(n))return fE.get(n);let e=e3(n);return e!==n&&(fE.set(n,e),gE.set(e,n)),e}var Rp=n=>gE.get(n);function n1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=wr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(wr(s.result),u.oldVersion,u.newVersion,wr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var t3=["get","getKey","getAll","getAllKeys","count"],n3=["put","add","delete","clear"],yE=new Map;function t1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(yE.get(e))return yE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=n3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||t3.includes(t)))return;let o=function(s,...a){return E(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return yE.set(e,o),o}e1(n=>re(F({},n),{get:(e,t,r)=>t1(e,t)||n.get(e,t,r),has:(e,t)=>!!t1(e,t)||n.has(e,t)}));var _E=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(r3(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function r3(n){let e=n.getComponent();return e?.type==="VERSION"}var EE="@firebase/app",r1="0.13.1";var ei=new Ir("@firebase/app"),i3="@firebase/app-compat",o3="@firebase/analytics-compat",s3="@firebase/analytics",a3="@firebase/app-check-compat",c3="@firebase/app-check",u3="@firebase/auth",l3="@firebase/auth-compat",d3="@firebase/database",h3="@firebase/data-connect",f3="@firebase/database-compat",p3="@firebase/functions",m3="@firebase/functions-compat",g3="@firebase/installations",y3="@firebase/installations-compat",v3="@firebase/messaging",_3="@firebase/messaging-compat",E3="@firebase/performance",I3="@firebase/performance-compat",w3="@firebase/remote-config",T3="@firebase/remote-config-compat",b3="@firebase/storage",C3="@firebase/storage-compat",D3="@firebase/firestore",S3="@firebase/ai",A3="@firebase/firestore-compat",x3="firebase",R3="11.9.0";var IE="[DEFAULT]",M3={[EE]:"fire-core",[i3]:"fire-core-compat",[s3]:"fire-analytics",[o3]:"fire-analytics-compat",[c3]:"fire-app-check",[a3]:"fire-app-check-compat",[u3]:"fire-auth",[l3]:"fire-auth-compat",[d3]:"fire-rtdb",[h3]:"fire-data-connect",[f3]:"fire-rtdb-compat",[p3]:"fire-fn",[m3]:"fire-fn-compat",[g3]:"fire-iid",[y3]:"fire-iid-compat",[v3]:"fire-fcm",[_3]:"fire-fcm-compat",[E3]:"fire-perf",[I3]:"fire-perf-compat",[w3]:"fire-rc",[T3]:"fire-rc-compat",[b3]:"fire-gcs",[C3]:"fire-gcs-compat",[D3]:"fire-fst",[A3]:"fire-fst-compat",[S3]:"fire-vertex","fire-js":"fire-js",[x3]:"fire-js-all"};var ll=new Map,N3=new Map,wE=new Map;function i1(n,e){try{n.container.addComponent(e)}catch(t){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zn(n){let e=n.name;if(wE.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;wE.set(e,n);for(let t of ll.values())i1(t,n);for(let t of N3.values())i1(t,n);return!0}function Fa(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _n(n){return n==null?!1:n.settings!==void 0}var k3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new Yn("app","Firebase",k3);var TE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}};var Ji=R3;function DE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:IE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Zi.create("bad-app-name",{appName:String(i)});if(t||(t=lE()),!t)throw Zi.create("no-options");let o=ll.get(i);if(o){if(Er(t,o.options)&&Er(r,o.config))return o;throw Zi.create("duplicate-app",{appName:i})}let s=new xp(i);for(let u of wE.values())s.addComponent(u);let a=new TE(t,r,s);return ll.set(i,a),a}function us(n=IE){let e=ll.get(n);if(!e&&n===IE&&lE())return DE();if(!e)throw Zi.create("no-app",{appName:n});return e}function Mp(){return Array.from(ll.values())}function tt(n,e,t){var r;let i=(r=M3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}Zn(new Xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var P3="firebase-heartbeat-database",O3=1,dl="firebase-heartbeat-store",vE=null;function c1(){return vE||(vE=n1(P3,O3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Zi.create("idb-open",{originalErrorMessage:n.message})})),vE}function L3(n){return E(this,null,function*(){try{let t=(yield c1()).transaction(dl),r=yield t.objectStore(dl).get(u1(n));return yield t.done,r}catch(e){if(e instanceof vn)ei.warn(e.message);else{let t=Zi.create("idb-get",{originalErrorMessage:e?.message});ei.warn(t.message)}}})}function o1(n,e){return E(this,null,function*(){try{let r=(yield c1()).transaction(dl,"readwrite");yield r.objectStore(dl).put(e,u1(n)),yield r.done}catch(t){if(t instanceof vn)ei.warn(t.message);else{let r=Zi.create("idb-set",{originalErrorMessage:t?.message});ei.warn(r.message)}}})}function u1(n){return`${n.name}!${n.options.appId}`}var F3=1024,V3=30,bE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new CE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=s1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>V3){let s=U3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ei.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=s1(),{heartbeatsToSend:r,unsentEntries:i}=j3(this._heartbeatsCache.heartbeats),o=cl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ei.warn(t),""}})}};function s1(){return new Date().toISOString().substring(0,10)}function j3(n,e=F3){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),a1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),a1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var CE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return ul()?WR().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield L3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return o1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return o1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function a1(n){return cl(JSON.stringify({version:2,heartbeats:n})).length}function U3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function B3(n){Zn(new Xt("platform-logger",e=>new _E(e),"PRIVATE")),Zn(new Xt("heartbeat",e=>new bE(e),"PRIVATE")),tt(EE,r1,n),tt(EE,r1,"esm2017"),tt("fire-js","")}B3("");var $3="firebase",H3="11.9.1";tt($3,H3,"app");function l1(n){n===void 0&&(n=P(Ze));let e=n.get(Pi);return t=>new ie(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Xi=new Yo("ANGULARFIRE2_VERSION");function hl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ja=(n,e)=>{let t=e?[e]:Mp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Va=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Va||{}),d1=a0()&&typeof Zone<"u"?Va.WARN:Va.SILENT;var Np=class{zone;delegate;constructor(e,t=Iy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},eo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=P(xe);this.outsideAngular=t.runOutsideAngular(()=>new Np(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Np(typeof Zone>"u"?void 0:Zone.current,Ks))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),h1=!1;function z3(n,e){!h1&&(d1>Va.SILENT||a0())&&(h1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),d1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function q3(n){let e=P(xe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ls(n){let e=P(xe,{optional:!0});return e?e.run(()=>n()):n()}var G3=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),dt(t,()=>ls(()=>n.apply(void 0,r)))),nt=(n,e,t)=>(t||=e?Va.WARN:Va.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(eo),s=P(Pi),a=P(Ge)}catch{return z3(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=ls(()=>s.add())),i[l]=G3(i[l],r,a));let u=q3(()=>n.apply(this,i));return e?u instanceof ie?u.pipe(Ii(o.outsideAngular),Ei(o.insideAngular),l1(a)):u instanceof Promise?ls(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>dt(a,()=>ls(()=>h(m))),m=>dt(a,()=>ls(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:ls(()=>u):u instanceof ie?u.pipe(Ii(o.outsideAngular),Ei(o.insideAngular)):ls(()=>u)});var ti=class{constructor(e){return e}},ds=class{constructor(){return Mp()}};function W3(n){return n&&n.length===1?n[0]:new ti(us())}var SE=new H("angularfire2._apps"),K3={provide:ti,useFactory:W3,deps:[[new sn,SE]]},Q3={provide:ds,deps:[[new sn,SE]]};function Y3(n){return(e,t)=>{let r=t.get(Vi);tt("angularfire",Xi.full,"core"),tt("angularfire",Xi.full,"app"),tt("angular",UA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ti(i)}}function f1(n,...e){return on([K3,Q3,{provide:SE,useFactory:Y3(n),multi:!0,deps:[xe,Ze,eo,...e]}])}var p1=nt(DE,!0);var Z3=new Map,J3={activated:!1,tokenObservers:[]},X3={initialized:!1,enabled:!1};function Jn(n){return Z3.get(n)||Object.assign({},J3)}function v1(){return X3}var e$="https://content-firebaseappcheck.googleapis.com/v1";var t$="exchangeDebugToken",m1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Vae=24*60*60*1e3;var RE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new as,this.pending.promise.catch(t=>{}),yield n$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new as,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function n$(n){return new Promise(e=>{setTimeout(e,n)})}var r$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},to=new Yn("appCheck","AppCheck",r$);function _1(n){if(!Jn(n).activated)throw to.create("use-before-activation",{appName:n.name})}function E1(r,i){return E(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw to.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw to.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw to.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw to.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function I1(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${e$}/projects/${t}/apps/${r}:${t$}?key=${i}`,body:{debug_token:e}}}var i$="firebase-app-check-database",o$=1,ME="firebase-app-check-store";var kp=null;function s$(){return kp||(kp=new Promise((n,e)=>{try{let t=indexedDB.open(i$,o$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(to.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ME,{keyPath:"compositeKey"})}}}catch(t){e(to.create("storage-open",{originalErrorMessage:t?.message}))}}),kp)}function a$(n,e){return c$(u$(n),e)}function c$(n,e){return E(this,null,function*(){let r=(yield s$()).transaction(ME,"readwrite"),o=r.objectStore(ME).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(to.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function u$(n){return`${n.options.appId}-${n.name}`}var fl=new Ir("@firebase/app-check");function AE(n,e){return ul()?a$(n,e).catch(t=>{fl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function w1(){return v1().enabled}function T1(){return E(this,null,function*(){let n=v1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var l$={error:"UNKNOWN_ERROR"};function d$(n){return bp.encodeString(JSON.stringify(n),!1)}function NE(n,e=!1,t=!1){return E(this,null,function*(){let r=n.app;_1(r);let i=Jn(r),o=i.token,s;if(o&&!pl(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(pl(l)?o=l:yield AE(r,void 0))}if(!e&&o&&pl(o))return{token:o.token};let a=!1;if(w1())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=E1(I1(r,yield T1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield AE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?fl.warn(l.message):t&&fl.error(l),xE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Jn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?fl.warn(l.message):t&&fl.error(l),s=l}let u;return o?s?pl(o)?u={token:o.token,internalError:s}:u=xE(s):(u={token:o.token},i.token=o,yield AE(r,o)):u=xE(s),a&&m$(r,u),u})}function h$(n){return E(this,null,function*(){let e=n.app;_1(e);let{provider:t}=Jn(e);if(w1()){let r=yield T1(),{token:i}=yield E1(I1(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function f$(n,e,t,r){let{app:i}=n,o=Jn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&pl(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),g1(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>g1(n))}function b1(n,e){let t=Jn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function g1(n){let{app:e}=n,t=Jn(e),r=t.tokenRefresher;r||(r=p$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function p$(n){let{app:e}=n;return new RE(()=>E(null,null,function*(){let t=Jn(e),r;if(t.token?r=yield NE(n,!0):r=yield NE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Jn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},m1.RETRIAL_MIN_WAIT,m1.RETRIAL_MAX_WAIT)}function m$(n,e){let t=Jn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function pl(n){return n.expireTimeMillis-Date.now()>0}function xE(n){return{token:d$(l$),error:n}}var kE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Jn(this.app);for(let t of e)b1(this.app,t.next);return Promise.resolve()}};function g$(n,e){return new kE(n,e)}function y$(n){return{getToken:e=>NE(n,e),getLimitedUseToken:()=>h$(n),addTokenListener:e=>f$(n,"INTERNAL",e),removeTokenListener:e=>b1(n.app,e)}}var v$="@firebase/app-check",_$="0.10.0";var E$="app-check",y1="app-check-internal";function I$(){Zn(new Xt(E$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return g$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(y1).initialize()})),Zn(new Xt(y1,n=>{let e=n.getProvider("app-check").getImmediate();return y$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),tt(v$,_$)}I$();var w$="app-check";var Ua=class{constructor(){return ja(w$)}};var T$=["localhost","0.0.0.0","127.0.0.1"],Zae=typeof window<"u"&&T$.includes(window.location.hostname);function j1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var U1=j1,B1=new Yn("auth","Firebase",j1());var jp=new Ir("@firebase/auth");function b$(n,...e){jp.logLevel<=Ie.WARN&&jp.warn(`Auth (${Ji}): ${n}`,...e)}function Op(n,...e){jp.logLevel<=Ie.ERROR&&jp.error(`Auth (${Ji}): ${n}`,...e)}function br(n,...e){throw ZE(n,...e)}function Xn(n,...e){return ZE(n,...e)}function YE(n,e,t){let r=Object.assign(Object.assign({},U1()),{[e]:t});return new Yn("auth","Firebase",r).create(e,{appName:n.name})}function hs(n){return YE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C$(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&br(n,"argument-error"),YE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ZE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return B1.create(n,...e)}function ue(n,e,...t){if(!n)throw ZE(e,...t)}function ni(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Op(e),new Error(e)}function ii(n,e){n||ni(e)}function LE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function D$(){return C1()==="http:"||C1()==="https:"}function C1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function S$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D$()||HR()||"connection"in navigator)?navigator.onLine:!0}function A$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var fs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ii(t>e,"Short delay should be less than long delay!"),this.isMobile=BR()||zR()}get(){return S$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function JE(n,e){ii(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Up=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var x$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var R$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M$=new fs(3e4,6e4);function XE(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function $a(o,s,a,u){return E(this,arguments,function*(n,e,t,r,i={}){return $1(n,i,()=>E(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=La(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return $R()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Yi(n.emulatorConfig.host)&&(y.credentials="include"),Up.fetch()(yield H1(n,n.config.apiHost,t,p),y)}))})}function $1(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},x$),e);try{let i=new FE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Pp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Pp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Pp(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw YE(n,h,l);br(n,h)}}catch(i){if(i instanceof vn)throw i;br(n,"network-request-failed",{message:String(i)})}})}function N$(o,s,a,u){return E(this,arguments,function*(n,e,t,r,i={}){let l=yield $a(n,e,t,r,i);return"mfaPendingCredential"in l&&br(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function H1(n,e,t,r){return E(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?JE(n.config,i):`${n.config.apiScheme}://${i}`;return R$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var FE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),M$.get())})}};function Pp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Xn(n,e,r);return i.customData._tokenResponse=t,i}function k$(n,e){return E(this,null,function*(){return $a(n,"POST","/v1/accounts:delete",e)})}function Bp(n,e){return E(this,null,function*(){return $a(n,"POST","/v1/accounts:lookup",e)})}function ml(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function eI(n,e=!1){return E(this,null,function*(){let t=et(n),r=yield t.getIdToken(e),i=tI(r);ue(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ml(PE(i.auth_time)),issuedAtTime:ml(PE(i.iat)),expirationTime:ml(PE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function PE(n){return Number(n)*1e3}function tI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Op("JWT malformed, contained fewer than 3 sections"),null;try{let i=Cp(t);return i?JSON.parse(i):(Op("Failed to decode base64 JWT payload"),null)}catch(i){return Op("Caught error parsing JWT payload as JSON",i?.toString()),null}}function D1(n){let e=tI(n);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function yl(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof vn&&P$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function P$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var VE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var vl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function $p(n){return E(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield yl(n,Bp(t,{idToken:r}));ue(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?z1(o.providerUserInfo):[],a=O$(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vl(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function nI(n){return E(this,null,function*(){let e=et(n);yield $p(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function O$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function z1(n){return n.map(e=>{var{providerId:t}=e,r=Kd(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function L$(n,e){return E(this,null,function*(){let t=yield $1(n,{},()=>E(null,null,function*(){let r=La({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield H1(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Yi(n.emulatorConfig.host)&&(u.credentials="include"),Up.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function F$(n,e){return E(this,null,function*(){return $a(n,"POST","/v2/accounts:revokeToken",XE(n,e))})}var gl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ue(e.length!==0,"internal-error");let t=D1(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield L$(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ni("not implemented")}};function no(n,e){ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ro=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Kd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield yl(this,this.stsTokenManager.getToken(this.auth,e));return ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return eI(this,e)}reload(){return nI(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield $p(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(_n(this.auth.app))return Promise.reject(hs(this.auth));let e=yield this.getIdToken();return yield yl(this,k$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,k=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=t.createdAt)!==null&&l!==void 0?l:void 0,se=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Y,emailVerified:Re,isAnonymous:Mt,providerData:Me,stsTokenManager:C}=t;ue(Y&&C,e,"internal-error");let _=gl.fromJSON(this.name,C);ue(typeof Y=="string",e,"internal-error"),no(p,e.name),no(m,e.name),ue(typeof Re=="boolean",e,"internal-error"),ue(typeof Mt=="boolean",e,"internal-error"),no(y,e.name),no(S,e.name),no(k,e.name),no(R,e.name),no(j,e.name),no(se,e.name);let w=new n({uid:Y,auth:e,email:m,emailVerified:Re,displayName:p,isAnonymous:Mt,photoURL:S,phoneNumber:y,tenantId:k,stsTokenManager:_,createdAt:j,lastLoginAt:se});return Me&&Array.isArray(Me)&&(w.providerData=Me.map(b=>Object.assign({},b))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,t,r=!1){return E(this,null,function*(){let i=new gl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield $p(o),o})}static _fromGetAccountInfoResponse(e,t,r){return E(this,null,function*(){let i=t.users[0];ue(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?z1(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new gl;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var S1=new Map;function ri(n){ii(n instanceof Function,"Expected a class definition");let e=S1.get(n);return e?(ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,S1.set(n,e),e)}var V$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,r){return E(this,null,function*(){this.storage[t]=r})}_get(t){return E(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),jE=V$;function Lp(n,e,t){return`firebase:${n}:${e}:${t}`}var Hp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Lp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Lp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Bp(this.auth,{idToken:e}).catch(()=>{});return t?ro._fromGetAccountInfoResponse(this.auth,t,e):null}return ro._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(this,null,function*(){if(!t.length)return new n(ri(jE),e,r);let i=(yield Promise.all(t.map(l=>E(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ri(jE),s=Lp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Bp(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield ro._fromGetAccountInfoResponse(e,m,h)}else p=ro._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>E(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function A1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(q1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Y1(e))return"Blackberry";if(Z1(e))return"Webos";if(G1(e))return"Safari";if((e.includes("chrome/")||W1(e))&&!e.includes("edge/"))return"Chrome";if(Q1(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function q1(n=St()){return/firefox\//i.test(n)}function G1(n=St()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W1(n=St()){return/crios\//i.test(n)}function K1(n=St()){return/iemobile/i.test(n)}function Q1(n=St()){return/android/i.test(n)}function Y1(n=St()){return/blackberry/i.test(n)}function Z1(n=St()){return/webos/i.test(n)}function rI(n=St()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function j$(n=St()){var e;return rI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U$(){return qR()&&document.documentMode===10}function J1(n=St()){return rI(n)||Q1(n)||Z1(n)||Y1(n)||/windows phone/i.test(n)||K1(n)}function X1(n,e=[]){let t;switch(n){case"Browser":t=A1(St());break;case"Worker":t=`${A1(St())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ji}/${r}`}var UE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function B$(t){return E(this,arguments,function*(n,e={}){return $a(n,"GET","/v2/passwordPolicy",XE(n,e))})}var $$=6,BE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:$$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var $E=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zp(this),this.idTokenSubscription=new zp(this),this.beforeStateQueue=new UE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Hp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield Bp(this,{idToken:e}),r=yield ro._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if(_n(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield $p(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=A$()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(_n(this.app))return Promise.reject(hs(this));let t=e?et(e):null;return t&&ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return _n(this.app)?Promise.reject(hs(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return _n(this.app)?Promise.reject(hs(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(ri(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield B$(this),t=new BE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield F$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ri(e)||this._popupRedirectResolver;ue(t,this,"argument-error"),this.redirectPersistenceManager=yield Hp.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return E(this,null,function*(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&b$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Jp(n){return et(n)}var zp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=QR(t=>this.observer=t)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var iI={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H$(n){iI=n}function z$(n){return iI.loadJS(n)}function q$(){return iI.gapiScript}function eM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function oI(n,e){let t=Fa(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Er(o,e??{}))return i;br(i,"already-initialized")}return t.initialize({options:e})}function G$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ri);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function sI(n,e,t){let r=Jp(n);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=tM(e),{host:s,port:a}=W$(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(Er(l,r.config.emulator)&&Er(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Yi(s)?(Sp(`${o}//${s}${u}`),Ap("Auth",!0)):i||K$()}function tM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function W$(n){let e=tM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:x1(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:x1(s)}}}function x1(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function K$(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var _l=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}};function Ba(n,e){return E(this,null,function*(){return N$(n,"POST","/v1/accounts:signInWithIdp",XE(n,e))})}var Q$="http://localhost",qp=class n extends _l{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Kd(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Ba(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Ba(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Ba(e,t)}buildRequest(){let e={requestUri:Q$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=La(t)}return e}};var El=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Gp=class extends El{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var aI=(()=>{class n extends Gp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return qp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var Il=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return E(this,null,function*(){let o=yield ro._fromIdTokenResponse(e,r,i),s=R1(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=R1(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function R1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var HE=class n extends vn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function nM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?HE._fromErrorAndOperation(n,o,e,r):o})}function Y$(n,e,t=!1){return E(this,null,function*(){let r=yield yl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Il._forOperation(n,"link",r)})}function Z$(n,e,t=!1){return E(this,null,function*(){let{auth:r}=n;if(_n(r.app))return Promise.reject(hs(r));let i="reauthenticate";try{let o=yield yl(n,nM(r,i,e,n),t);ue(o.idToken,r,"internal-error");let s=tI(o.idToken);ue(s,r,"internal-error");let{sub:a}=s;return ue(n.uid===a,r,"user-mismatch"),Il._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&br(r,"user-mismatch"),o}})}function J$(n,e,t=!1){return E(this,null,function*(){if(_n(n.app))return Promise.reject(hs(n));let r="signIn",i=yield nM(n,r,e),o=yield Il._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Tl(n,e,t,r){return et(n).onIdTokenChanged(e,t,r)}function cI(n,e,t){return et(n).beforeAuthStateChanged(e,t)}function uI(n){return et(n).signOut()}var Wp="__sak";var Kp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wp,"1"),this.storage.removeItem(Wp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var X$=1e3,eH=10,tH=(()=>{class n extends Kp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);U$()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,eH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},X$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return E(this,null,function*(){yield yi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return E(this,null,function*(){let r=yield yi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return E(this,null,function*(){yield yi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),rM=tH;var nH=(()=>{class n extends Kp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),lI=nH;function rH(n){return Promise.all(n.map(e=>E(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var iH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>E(this,null,function*(){return h(r.origin,s)})),l=yield rH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function dI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var zE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=dI("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Tr(){return window}function oH(n){Tr().location.href=n}function iM(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}function sH(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function aH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function cH(){return iM()?self:null}var oM="firebaseLocalStorageDb",uH=1,Qp="firebaseLocalStorage",sM="fbase_key",ps=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Xp(n,e){return n.transaction([Qp],e?"readwrite":"readonly").objectStore(Qp)}function lH(){let n=indexedDB.deleteDatabase(oM);return new ps(n).toPromise()}function qE(){let n=indexedDB.open(oM,uH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Qp,{keyPath:sM})}catch(i){t(i)}}),n.addEventListener("success",()=>E(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Qp)?e(r):(r.close(),yield lH(),e(yield qE()))}))})}function M1(n,e,t){return E(this,null,function*(){let r=Xp(n,!0).put({[sM]:e,value:t});return new ps(r).toPromise()})}function dH(n,e){return E(this,null,function*(){let t=Xp(n,!1).get(e),r=yield new ps(t).toPromise();return r===void 0?null:r.value})}function N1(n,e){let t=Xp(n,!0).delete(e);return new ps(t).toPromise()}var hH=800,fH=3,pH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield qE(),this.db)})}_withRetries(t){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>fH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return iM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=iH._getInstance(cH()),this.receiver._subscribe("keyChanged",(t,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,r;if(this.activeServiceWorker=yield sH(),!this.activeServiceWorker)return;this.sender=new zE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||aH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield qE();return yield M1(t,Wp,"1"),yield N1(t,Wp),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>M1(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let r=yield this._withRetries(i=>dH(i,t));return this.localCache[t]=r,r})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>N1(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(o=>{let s=Xp(o,!1).getAll();return new ps(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),hH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),aM=pH;var ace=eM("rcb"),cce=new fs(3e4,6e4);function cM(n,e){return e?ri(e):(ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var wl=class extends _l{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ba(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function mH(n){return J$(n.auth,new wl(n),n.bypassAuthState)}function gH(n){let{auth:e,user:t}=n;return ue(t,e,"internal-error"),Z$(t,new wl(n),n.bypassAuthState)}function yH(n){return E(this,null,function*(){let{auth:e,user:t}=n;return ue(t,e,"internal-error"),Y$(t,new wl(n),n.bypassAuthState)})}var Yp=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mH;case"linkViaPopup":case"linkViaRedirect":return yH;case"reauthViaPopup":case"reauthViaRedirect":return gH;default:br(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var vH=new fs(2e3,1e4);function hI(n,e,t){return E(this,null,function*(){if(_n(n.app))return Promise.reject(Xn(n,"operation-not-supported-in-this-environment"));let r=Jp(n);C$(n,e,El);let i=cM(r,t);return new _H(r,"signInViaPopup",e,i).executeNotNull()})}var _H=(()=>{class n extends Yp{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return E(this,null,function*(){let t=yield this.execute();return ue(t,this.auth,"internal-error"),t})}onExecution(){return E(this,null,function*(){ii(this.filter.length===1,"Popup operations only handle one event");let t=dI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vH.get())};t()}}n.currentPopupAction=null;return n})(),EH="pendingRedirect",Fp=new Map,GE=class n extends Yp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=Fp.get(this.auth._key());if(!e){try{let r=(yield IH(this.resolver,this.auth))?yield yi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Fp.set(this.auth._key(),e)}return this.bypassAuthState||Fp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return yi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,yi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function IH(n,e){return E(this,null,function*(){let t=bH(e),r=TH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function wH(n,e){Fp.set(n._key(),e)}function TH(n){return ri(n._redirectPersistence)}function bH(n){return Lp(EH,n.config.apiKey,n.name)}function CH(n,e,t=!1){return E(this,null,function*(){if(_n(n.app))return Promise.reject(hs(n));let r=Jp(n),i=cM(r,e),s=yield new GE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var DH=10*60*1e3,WE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!uM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Xn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DH&&this.cachedEventUids.clear(),this.cachedEventUids.has(k1(e))}saveEventToCache(e){this.cachedEventUids.add(k1(e)),this.lastProcessedEventTime=Date.now()}};function k1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function SH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uM(n);default:return!1}}function AH(t){return E(this,arguments,function*(n,e={}){return $a(n,"GET","/v1/projects",e)})}var xH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RH=/^https?/;function MH(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield AH(n);for(let t of e)try{if(NH(t))return}catch{}br(n,"unauthorized-domain")})}function NH(n){let e=LE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!RH.test(t))return!1;if(xH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var kH=new fs(3e4,6e4);function P1(){let n=Tr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PH(n){return new Promise((e,t)=>{var r,i,o;function s(){P1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P1(),t(Xn(n,"network-request-failed"))},timeout:kH.get()})}if(!((i=(r=Tr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Tr().gapi)===null||o===void 0)&&o.load)s();else{let a=eM("iframefcb");return Tr()[a]=()=>{gapi.load?s():t(Xn(n,"network-request-failed"))},z$(`${q$()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Vp=null,e})}var Vp=null;function OH(n){return Vp=Vp||PH(n),Vp}var LH=new fs(5e3,15e3),FH="__/auth/iframe",VH="emulator/auth/iframe",jH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BH(n){let e=n.config;ue(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?JE(e,VH):`https://${n.config.authDomain}/${FH}`,r={apiKey:e.apiKey,appName:n.name,v:Ji},i=UH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${La(r).slice(1)}`}function $H(n){return E(this,null,function*(){let e=yield OH(n),t=Tr().gapi;return ue(t,n,"internal-error"),e.open({where:document.body,url:BH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jH,dontclear:!0},r=>new Promise((i,o)=>E(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Xn(n,"network-request-failed"),a=Tr().setTimeout(()=>{o(s)},LH.get());function u(){Tr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var HH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zH=500,qH=600,GH="_blank",WH="http://localhost",Zp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function KH(n,e,t,r=zH,i=qH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},HH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=St().toLowerCase();t&&(a=W1(l)?GH:t),q1(l)&&(e=e||WH,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(j$(l)&&a!=="_self")return QH(e||"",a),new Zp(null);let p=window.open(e||"",a,h);ue(p,n,"popup-blocked");try{p.focus()}catch{}return new Zp(p)}function QH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var YH="__/auth/handler",ZH="emulator/auth/handler",JH=encodeURIComponent("fac");function O1(n,e,t,r,i,o){return E(this,null,function*(){ue(n.config.authDomain,n,"auth-domain-config-required"),ue(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ji,eventId:i};if(e instanceof El){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",KR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Gp){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${JH}=${encodeURIComponent(u)}`:"";return`${XH(n)}?${La(a).slice(1)}${l}`})}function XH({config:n}){return n.emulator?JE(n,ZH):`https://${n.authDomain}/${YH}`}var OE="webStorageSupport",KE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lI,this._completeRedirectFn=CH,this._overrideRedirectResult=wH}_openPopup(e,t,r,i){return E(this,null,function*(){var o;ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield O1(e,t,r,LE(),i);return KH(e,s,dI())})}_openRedirect(e,t,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield O1(e,t,r,LE(),i);return oH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ii(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return E(this,null,function*(){let t=yield $H(e),r=new WE(e);return t.register("authEvent",i=>(ue(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(OE,{type:OE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[OE];s!==void 0&&t(!!s),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return J1()||G1()||rI()}},lM=KE;var L1="@firebase/auth",F1="1.10.7";var QE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function e6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t6(n){Zn(new Xt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ue(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X1(n)},l=new $E(r,i,o,u);return G$(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Zn(new Xt("auth-internal",e=>{let t=Jp(e.getProvider("auth").getImmediate());return(r=>new QE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(L1,F1,e6(n)),tt(L1,F1,"esm2017")}var n6=5*60,r6=dE("authIdTokenMaxAge")||n6,V1=null,i6=n=>e=>E(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>r6)return;let i=t?.token;V1!==i&&(V1=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function fI(n=us()){let e=Fa(n,"auth");if(e.isInitialized())return e.getImmediate();let t=oI(n,{popupRedirectResolver:lM,persistence:[aM,rM,lI]}),r=dE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=i6(o.toString());cI(t,s,()=>s(t.currentUser)),Tl(t,a=>s(a))}}let i=uE("auth");return i&&sI(t,`http://${i}`),t}function o6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}H$({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Xn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",o6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t6("Browser");function fM(n){return new ie(function(e){var t=Tl(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var pM="auth",ms=class{constructor(e){return e}},bl=class{constructor(){return ja(pM)}};var pI=new H("angularfire2.auth-instances");function K6(n,e){let t=hl(pM,n,e);return t&&new ms(t)}function Q6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ms(r)}}var Y6={provide:bl,deps:[[new sn,pI]]},Z6={provide:ms,useFactory:K6,deps:[[new sn,pI],ti]};function mM(n,...e){return tt("angularfire",Xi.full,"auth"),on([Z6,Y6,{provide:pI,useFactory:Q6(n),multi:!0,deps:[xe,Ze,eo,ds,[new sn,Ua],...e]}])}var gM=nt(fM,!0);var yM=nt(fI,!0);var vM=nt(hI,!0,2);var _M=nt(uI,!0,2);var EM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},IM={};var oi,mI;(function(){var n;function e(C,_){function w(){}w.prototype=_.prototype,C.D=_.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(b,D,x){for(var I=Array(arguments.length-2),Mr=2;Mr<arguments.length;Mr++)I[Mr-2]=arguments[Mr];return _.prototype[D].apply(b,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,w){w||(w=0);var b=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)b[D]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(D=0;16>D;++D)b[D]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=C.g[0],w=C.g[1],D=C.g[2];var x=C.g[3],I=_+(x^w&(D^x))+b[0]+3614090360&4294967295;_=w+(I<<7&4294967295|I>>>25),I=x+(D^_&(w^D))+b[1]+3905402710&4294967295,x=_+(I<<12&4294967295|I>>>20),I=D+(w^x&(_^w))+b[2]+606105819&4294967295,D=x+(I<<17&4294967295|I>>>15),I=w+(_^D&(x^_))+b[3]+3250441966&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(x^w&(D^x))+b[4]+4118548399&4294967295,_=w+(I<<7&4294967295|I>>>25),I=x+(D^_&(w^D))+b[5]+1200080426&4294967295,x=_+(I<<12&4294967295|I>>>20),I=D+(w^x&(_^w))+b[6]+2821735955&4294967295,D=x+(I<<17&4294967295|I>>>15),I=w+(_^D&(x^_))+b[7]+4249261313&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(x^w&(D^x))+b[8]+1770035416&4294967295,_=w+(I<<7&4294967295|I>>>25),I=x+(D^_&(w^D))+b[9]+2336552879&4294967295,x=_+(I<<12&4294967295|I>>>20),I=D+(w^x&(_^w))+b[10]+4294925233&4294967295,D=x+(I<<17&4294967295|I>>>15),I=w+(_^D&(x^_))+b[11]+2304563134&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(x^w&(D^x))+b[12]+1804603682&4294967295,_=w+(I<<7&4294967295|I>>>25),I=x+(D^_&(w^D))+b[13]+4254626195&4294967295,x=_+(I<<12&4294967295|I>>>20),I=D+(w^x&(_^w))+b[14]+2792965006&4294967295,D=x+(I<<17&4294967295|I>>>15),I=w+(_^D&(x^_))+b[15]+1236535329&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(D^x&(w^D))+b[1]+4129170786&4294967295,_=w+(I<<5&4294967295|I>>>27),I=x+(w^D&(_^w))+b[6]+3225465664&4294967295,x=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(x^_))+b[11]+643717713&4294967295,D=x+(I<<14&4294967295|I>>>18),I=w+(x^_&(D^x))+b[0]+3921069994&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(D^x&(w^D))+b[5]+3593408605&4294967295,_=w+(I<<5&4294967295|I>>>27),I=x+(w^D&(_^w))+b[10]+38016083&4294967295,x=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(x^_))+b[15]+3634488961&4294967295,D=x+(I<<14&4294967295|I>>>18),I=w+(x^_&(D^x))+b[4]+3889429448&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(D^x&(w^D))+b[9]+568446438&4294967295,_=w+(I<<5&4294967295|I>>>27),I=x+(w^D&(_^w))+b[14]+3275163606&4294967295,x=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(x^_))+b[3]+4107603335&4294967295,D=x+(I<<14&4294967295|I>>>18),I=w+(x^_&(D^x))+b[8]+1163531501&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(D^x&(w^D))+b[13]+2850285829&4294967295,_=w+(I<<5&4294967295|I>>>27),I=x+(w^D&(_^w))+b[2]+4243563512&4294967295,x=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(x^_))+b[7]+1735328473&4294967295,D=x+(I<<14&4294967295|I>>>18),I=w+(x^_&(D^x))+b[12]+2368359562&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(w^D^x)+b[5]+4294588738&4294967295,_=w+(I<<4&4294967295|I>>>28),I=x+(_^w^D)+b[8]+2272392833&4294967295,x=_+(I<<11&4294967295|I>>>21),I=D+(x^_^w)+b[11]+1839030562&4294967295,D=x+(I<<16&4294967295|I>>>16),I=w+(D^x^_)+b[14]+4259657740&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(w^D^x)+b[1]+2763975236&4294967295,_=w+(I<<4&4294967295|I>>>28),I=x+(_^w^D)+b[4]+1272893353&4294967295,x=_+(I<<11&4294967295|I>>>21),I=D+(x^_^w)+b[7]+4139469664&4294967295,D=x+(I<<16&4294967295|I>>>16),I=w+(D^x^_)+b[10]+3200236656&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(w^D^x)+b[13]+681279174&4294967295,_=w+(I<<4&4294967295|I>>>28),I=x+(_^w^D)+b[0]+3936430074&4294967295,x=_+(I<<11&4294967295|I>>>21),I=D+(x^_^w)+b[3]+3572445317&4294967295,D=x+(I<<16&4294967295|I>>>16),I=w+(D^x^_)+b[6]+76029189&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(w^D^x)+b[9]+3654602809&4294967295,_=w+(I<<4&4294967295|I>>>28),I=x+(_^w^D)+b[12]+3873151461&4294967295,x=_+(I<<11&4294967295|I>>>21),I=D+(x^_^w)+b[15]+530742520&4294967295,D=x+(I<<16&4294967295|I>>>16),I=w+(D^x^_)+b[2]+3299628645&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(D^(w|~x))+b[0]+4096336452&4294967295,_=w+(I<<6&4294967295|I>>>26),I=x+(w^(_|~D))+b[7]+1126891415&4294967295,x=_+(I<<10&4294967295|I>>>22),I=D+(_^(x|~w))+b[14]+2878612391&4294967295,D=x+(I<<15&4294967295|I>>>17),I=w+(x^(D|~_))+b[5]+4237533241&4294967295,w=D+(I<<21&4294967295|I>>>11),I=_+(D^(w|~x))+b[12]+1700485571&4294967295,_=w+(I<<6&4294967295|I>>>26),I=x+(w^(_|~D))+b[3]+2399980690&4294967295,x=_+(I<<10&4294967295|I>>>22),I=D+(_^(x|~w))+b[10]+4293915773&4294967295,D=x+(I<<15&4294967295|I>>>17),I=w+(x^(D|~_))+b[1]+2240044497&4294967295,w=D+(I<<21&4294967295|I>>>11),I=_+(D^(w|~x))+b[8]+1873313359&4294967295,_=w+(I<<6&4294967295|I>>>26),I=x+(w^(_|~D))+b[15]+4264355552&4294967295,x=_+(I<<10&4294967295|I>>>22),I=D+(_^(x|~w))+b[6]+2734768916&4294967295,D=x+(I<<15&4294967295|I>>>17),I=w+(x^(D|~_))+b[13]+1309151649&4294967295,w=D+(I<<21&4294967295|I>>>11),I=_+(D^(w|~x))+b[4]+4149444226&4294967295,_=w+(I<<6&4294967295|I>>>26),I=x+(w^(_|~D))+b[11]+3174756917&4294967295,x=_+(I<<10&4294967295|I>>>22),I=D+(_^(x|~w))+b[2]+718787259&4294967295,D=x+(I<<15&4294967295|I>>>17),I=w+(x^(D|~_))+b[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+x&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var w=_-this.blockSize,b=this.B,D=this.h,x=0;x<_;){if(D==0)for(;x<=w;)i(this,C,x),x+=this.blockSize;if(typeof C=="string"){for(;x<_;)if(b[D++]=C.charCodeAt(x++),D==this.blockSize){i(this,b),D=0;break}}else for(;x<_;)if(b[D++]=C[x++],D==this.blockSize){i(this,b),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var w=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=w&255,w/=256;for(this.u(C),C=Array(16),_=w=0;4>_;++_)for(var b=0;32>b;b+=8)C[w++]=this.g[_]>>>b&255;return C};function o(C,_){var w=a;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=_(C)}function s(C,_){this.h=_;for(var w=[],b=!0,D=C.length-1;0<=D;D--){var x=C[D]|0;b&&x==_||(w[D]=x,b=!1)}this.g=w}var a={};function u(C){return-128<=C&&128>C?o(C,function(_){return new s([_|0],0>_?-1:0)}):new s([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return R(l(-C));for(var _=[],w=1,b=0;C>=w;b++)_[b]=C/w|0,w*=4294967296;return new s(_,0)}function h(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return R(h(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),b=p,D=0;D<C.length;D+=8){var x=Math.min(8,C.length-D),I=parseInt(C.substring(D,D+x),_);8>x?(x=l(Math.pow(_,x)),b=b.j(x).add(l(I))):(b=b.j(w),b=b.add(l(I)))}return b}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(k(this))return-R(this).m();for(var C=0,_=1,w=0;w<this.g.length;w++){var b=this.i(w);C+=(0<=b?b:4294967296+b)*_,_*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(k(this))return"-"+R(this).toString(C);for(var _=l(Math.pow(C,6)),w=this,b="";;){var D=Re(w,_).g;w=j(w,D.j(_));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=D,S(w))return x+b;for(;6>x.length;)x="0"+x;b=x+b}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function k(C){return C.h==-1}n.l=function(C){return C=j(this,C),k(C)?-1:S(C)?0:1};function R(C){for(var _=C.g.length,w=[],b=0;b<_;b++)w[b]=~C.g[b];return new s(w,~C.h).add(m)}n.abs=function(){return k(this)?R(this):this},n.add=function(C){for(var _=Math.max(this.g.length,C.g.length),w=[],b=0,D=0;D<=_;D++){var x=b+(this.i(D)&65535)+(C.i(D)&65535),I=(x>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);b=I>>>16,x&=65535,I&=65535,w[D]=I<<16|x}return new s(w,w[w.length-1]&-2147483648?-1:0)};function j(C,_){return C.add(R(_))}n.j=function(C){if(S(this)||S(C))return p;if(k(this))return k(C)?R(this).j(R(C)):R(R(this).j(C));if(k(C))return R(this.j(R(C)));if(0>this.l(y)&&0>C.l(y))return l(this.m()*C.m());for(var _=this.g.length+C.g.length,w=[],b=0;b<2*_;b++)w[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<C.g.length;D++){var x=this.i(b)>>>16,I=this.i(b)&65535,Mr=C.i(D)>>>16,Ic=C.i(D)&65535;w[2*b+2*D]+=I*Ic,se(w,2*b+2*D),w[2*b+2*D+1]+=x*Ic,se(w,2*b+2*D+1),w[2*b+2*D+1]+=I*Mr,se(w,2*b+2*D+1),w[2*b+2*D+2]+=x*Mr,se(w,2*b+2*D+2)}for(b=0;b<_;b++)w[b]=w[2*b+1]<<16|w[2*b];for(b=_;b<2*_;b++)w[b]=0;return new s(w,0)};function se(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function Y(C,_){this.g=C,this.h=_}function Re(C,_){if(S(_))throw Error("division by zero");if(S(C))return new Y(p,p);if(k(C))return _=Re(R(C),_),new Y(R(_.g),R(_.h));if(k(_))return _=Re(C,R(_)),new Y(R(_.g),_.h);if(30<C.g.length){if(k(C)||k(_))throw Error("slowDivide_ only works with positive integers.");for(var w=m,b=_;0>=b.l(C);)w=Mt(w),b=Mt(b);var D=Me(w,1),x=Me(b,1);for(b=Me(b,2),w=Me(w,2);!S(b);){var I=x.add(b);0>=I.l(C)&&(D=D.add(w),x=I),b=Me(b,1),w=Me(w,1)}return _=j(C,D.j(_)),new Y(D,_)}for(D=p;0<=C.l(_);){for(w=Math.max(1,Math.floor(C.m()/_.m())),b=Math.ceil(Math.log(w)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),x=l(w),I=x.j(_);k(I)||0<I.l(C);)w-=b,x=l(w),I=x.j(_);S(x)&&(x=m),D=D.add(x),C=j(C,I)}return new Y(D,C)}n.A=function(C){return Re(this,C).h},n.and=function(C){for(var _=Math.max(this.g.length,C.g.length),w=[],b=0;b<_;b++)w[b]=this.i(b)&C.i(b);return new s(w,this.h&C.h)},n.or=function(C){for(var _=Math.max(this.g.length,C.g.length),w=[],b=0;b<_;b++)w[b]=this.i(b)|C.i(b);return new s(w,this.h|C.h)},n.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),w=[],b=0;b<_;b++)w[b]=this.i(b)^C.i(b);return new s(w,this.h^C.h)};function Mt(C){for(var _=C.g.length+1,w=[],b=0;b<_;b++)w[b]=C.i(b)<<1|C.i(b-1)>>>31;return new s(w,C.h)}function Me(C,_){var w=_>>5;_%=32;for(var b=C.g.length-w,D=[],x=0;x<b;x++)D[x]=0<_?C.i(x+w)>>>_|C.i(x+w+1)<<32-_:C.i(x+w);return new s(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mI=IM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,oi=IM.Integer=s}).apply(typeof EM<"u"?EM:typeof self<"u"?self:typeof window<"u"?window:{});var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},si={};var gI,X6,Ha,yI,Cl,tm,vI,_I,EI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof em=="object"&&em];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var A=c[g];if(!(A in f))break e;f=f[A]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,A={next:function(){if(!g&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return g=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,g),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,A,M){for(var U=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)U[Le-2]=arguments[Le];return d.prototype[A].apply(g,U)}}function k(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let A=c.length||0,M=g.length||0;c.length=A+M;for(let U=0;U<M;U++)c[A+U]=g[U]}else c.push(g)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function se(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Re(c){return Re[" "](c),c}Re[" "]=function(){};var Mt=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function Me(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function C(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,g;for(let A=1;A<arguments.length;A++){g=arguments[A];for(f in g)c[f]=g[f];for(let M=0;M<w.length;M++)f=w[M],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function x(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Ng;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Mr{constructor(){this.h=this.g=null}add(d,f){let g=Ic.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ic=new j(()=>new OP,c=>c.reset());class OP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let wc,Tc=!1,Ng=new Mr,YT=()=>{let c=a.Promise.resolve(void 0);wc=()=>{c.then(LP)}};var LP=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){x(f)}var d=Ic;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Tc=!1};function fi(){this.s=this.s,this.C=this.C}fi.prototype.s=!1,fi.prototype.ma=function(){this.s||(this.s=!0,this.N())},fi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Lt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var FP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function bc(c,d){if(Lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Mt){e:{try{Re(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:VP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&bc.aa.h.call(this)}}S(bc,Lt);var VP={2:"touch",3:"pen",4:"mouse"};bc.prototype.h=function(){bc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Cc="closure_listenable_"+(1e6*Math.random()|0),jP=0;function UP(c,d,f,g,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=A,this.key=++jP,this.da=this.fa=!1}function od(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function sd(c){this.src=c,this.g={},this.h=0}sd.prototype.add=function(c,d,f,g,A){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var U=Pg(c,d,g,A);return-1<U?(d=c[U],f||(d.fa=!1)):(d=new UP(d,this.src,M,!!g,A),d.fa=f,c.push(d)),d};function kg(c,d){var f=d.type;if(f in c.g){var g=c.g[f],A=Array.prototype.indexOf.call(g,d,void 0),M;(M=0<=A)&&Array.prototype.splice.call(g,A,1),M&&(od(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Pg(c,d,f,g){for(var A=0;A<c.length;++A){var M=c[A];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==g)return A}return-1}var Og="closure_lm_"+(1e6*Math.random()|0),Lg={};function ZT(c,d,f,g,A){if(g&&g.once)return XT(c,d,f,g,A);if(Array.isArray(d)){for(var M=0;M<d.length;M++)ZT(c,d[M],f,g,A);return null}return f=Ug(f),c&&c[Cc]?c.K(d,f,l(g)?!!g.capture:!!g,A):JT(c,d,f,!1,g,A)}function JT(c,d,f,g,A,M){if(!d)throw Error("Invalid event type");var U=l(A)?!!A.capture:!!A,Le=Vg(c);if(Le||(c[Og]=Le=new sd(c)),f=Le.add(d,f,g,U,M),f.proxy)return f;if(g=BP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)FP||(A=U),A===void 0&&(A=!1),c.addEventListener(d.toString(),g,A);else if(c.attachEvent)c.attachEvent(tb(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function BP(){function c(f){return d.call(c.src,c.listener,f)}let d=$P;return c}function XT(c,d,f,g,A){if(Array.isArray(d)){for(var M=0;M<d.length;M++)XT(c,d[M],f,g,A);return null}return f=Ug(f),c&&c[Cc]?c.L(d,f,l(g)?!!g.capture:!!g,A):JT(c,d,f,!0,g,A)}function eb(c,d,f,g,A){if(Array.isArray(d))for(var M=0;M<d.length;M++)eb(c,d[M],f,g,A);else g=l(g)?!!g.capture:!!g,f=Ug(f),c&&c[Cc]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=Pg(M,f,g,A),-1<f&&(od(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=Vg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Pg(d,f,g,A)),(f=-1<c?d[c]:null)&&Fg(f))}function Fg(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Cc])kg(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(tb(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Vg(d))?(kg(f,c),f.h==0&&(f.src=null,d[Og]=null)):od(c)}}}function tb(c){return c in Lg?Lg[c]:Lg[c]="on"+c}function $P(c,d){if(c.da)c=!0;else{d=new bc(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Fg(c),c=f.call(g,d)}return c}function Vg(c){return c=c[Og],c instanceof sd?c:null}var jg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ug(c){return typeof c=="function"?c:(c[jg]||(c[jg]=function(d){return c.handleEvent(d)}),c[jg])}function Ft(){fi.call(this),this.i=new sd(this),this.M=this,this.F=null}S(Ft,fi),Ft.prototype[Cc]=!0,Ft.prototype.removeEventListener=function(c,d,f,g){eb(this,c,d,f,g)};function Gt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Lt(d,c);else if(d instanceof Lt)d.target=d.target||c;else{var A=d;d=new Lt(g,c),b(d,A)}if(A=!0,f)for(var M=f.length-1;0<=M;M--){var U=d.g=f[M];A=ad(U,g,!0,d)&&A}if(U=d.g=c,A=ad(U,g,!0,d)&&A,A=ad(U,g,!1,d)&&A,f)for(M=0;M<f.length;M++)U=d.g=f[M],A=ad(U,g,!1,d)&&A}Ft.prototype.N=function(){if(Ft.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)od(f[g]);delete c.g[d],c.h--}}this.F=null},Ft.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Ft.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function ad(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,M=0;M<d.length;++M){var U=d[M];if(U&&!U.da&&U.capture==f){var Le=U.listener,Nt=U.ha||U.src;U.fa&&kg(c.i,U),A=Le.call(Nt,g)!==!1&&A}}return A&&!g.defaultPrevented}function nb(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function rb(c){c.g=nb(()=>{c.g=null,c.i&&(c.i=!1,rb(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class HP extends fi{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:rb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dc(c){fi.call(this),this.h=c,this.g={}}S(Dc,fi);var ib=[];function ob(c){Me(c.g,function(d,f){this.g.hasOwnProperty(f)&&Fg(d)},c),c.g={}}Dc.prototype.N=function(){Dc.aa.N.call(this),ob(this)},Dc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bg=a.JSON.stringify,zP=a.JSON.parse,qP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function $g(){}$g.prototype.h=null;function sb(c){return c.h||(c.h=c.i())}function ab(){}var Sc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hg(){Lt.call(this,"d")}S(Hg,Lt);function zg(){Lt.call(this,"c")}S(zg,Lt);var po={},cb=null;function cd(){return cb=cb||new Ft}po.La="serverreachability";function ub(c){Lt.call(this,po.La,c)}S(ub,Lt);function Ac(c){let d=cd();Gt(d,new ub(d))}po.STAT_EVENT="statevent";function lb(c,d){Lt.call(this,po.STAT_EVENT,c),this.stat=d}S(lb,Lt);function Wt(c){let d=cd();Gt(d,new lb(d,c))}po.Ma="timingevent";function db(c,d){Lt.call(this,po.Ma,c),this.size=d}S(db,Lt);function xc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Rc(){this.g=!0}Rc.prototype.xa=function(){this.g=!1};function GP(c,d,f,g,A,M){c.info(function(){if(c.g)if(M)for(var U="",Le=M.split("&"),Nt=0;Nt<Le.length;Nt++){var Ae=Le[Nt].split("=");if(1<Ae.length){var Vt=Ae[0];Ae=Ae[1];var jt=Vt.split("_");U=2<=jt.length&&jt[1]=="type"?U+(Vt+"="+Ae+"&"):U+(Vt+"=redacted&")}}else U=null;else U=M;return"XMLHTTP REQ ("+g+") [attempt "+A+"]: "+d+`
`+f+`
`+U})}function WP(c,d,f,g,A,M,U){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+A+"]: "+d+`
`+f+`
`+M+" "+U})}function Ms(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+QP(c,f)+(g?" "+g:"")})}function KP(c,d){c.info(function(){return"TIMEOUT: "+d})}Rc.prototype.info=function(){};function QP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var A=g[1];if(Array.isArray(A)&&!(1>A.length)){var M=A[0];if(M!="noop"&&M!="stop"&&M!="close")for(var U=1;U<A.length;U++)A[U]=""}}}}return Bg(f)}catch{return d}}var ud={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qg;function ld(){}S(ld,$g),ld.prototype.g=function(){return new XMLHttpRequest},ld.prototype.i=function(){return{}},qg=new ld;function pi(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Dc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fb}function fb(){this.i=null,this.g="",this.h=!1}var pb={},Gg={};function Wg(c,d,f){c.L=1,c.v=pd(Nr(d)),c.m=f,c.P=!0,mb(c,null)}function mb(c,d){c.F=Date.now(),dd(c),c.A=Nr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),xb(f.i,"t",g),c.C=0,f=c.j.J,c.h=new fb,c.g=Wb(c.j,f?d:null,!c.m),0<c.O&&(c.M=new HP(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(ib[0]=A.toString()),A=ib);for(var M=0;M<A.length;M++){var U=ZT(f,A[M],g||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ac(),GP(c.i,c.u,c.A,c.l,c.R,c.m)}pi.prototype.ca=function(c){c=c.target;let d=this.M;d&&kr(c)==3?d.j():this.Y(c)},pi.prototype.Y=function(c){try{if(c==this.g)e:{let jt=kr(this.g);var d=this.g.Ba();let Ps=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||Lb(this.g)))){this.J||jt!=4||d==7||(d==8||0>=Ps?Ac(3):Ac(2)),Kg(this);var f=this.g.Z();this.X=f;t:if(gb(this)){var g=Lb(this.g);c="";var A=g.length,M=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mo(this),Mc(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(M&&d==A-1)});g.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,WP(this.i,this.u,this.A,this.l,this.R,jt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Nt=this.g;if((Le=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Le)){var Ae=Le;break t}}Ae=null}if(f=Ae)Ms(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qg(this,f);else{this.o=!1,this.s=3,Wt(12),mo(this),Mc(this);break e}}if(this.P){f=!0;let Ln;for(;!this.J&&this.C<U.length;)if(Ln=YP(this,U),Ln==Gg){jt==4&&(this.s=4,Wt(14),f=!1),Ms(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==pb){this.s=4,Wt(15),Ms(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else Ms(this.i,this.l,Ln,null),Qg(this,Ln);if(gb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||U.length!=0||this.h.h||(this.s=1,Wt(16),f=!1),this.o=this.o&&f,!f)Ms(this.i,this.l,U,"[Invalid Chunked Response]"),mo(this),Mc(this);else if(0<U.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ty(Vt),Vt.M=!0,Wt(11))}}else Ms(this.i,this.l,U,null),Qg(this,U);jt==4&&mo(this),this.o&&!this.J&&(jt==4?Hb(this.j,this):(this.o=!1,dd(this)))}else fO(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),mo(this),Mc(this)}}}catch{}finally{}};function gb(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function YP(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Gg:(f=Number(d.substring(f,g)),isNaN(f)?pb:(g+=1,g+f>d.length?Gg:(d=d.slice(g,g+f),c.C=g+f,d)))}pi.prototype.cancel=function(){this.J=!0,mo(this)};function dd(c){c.S=Date.now()+c.I,yb(c,c.I)}function yb(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xc(m(c.ba,c),d)}function Kg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}pi.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(KP(this.i,this.A),this.L!=2&&(Ac(),Wt(17)),mo(this),this.s=2,Mc(this)):yb(this,this.S-c)};function Mc(c){c.j.G==0||c.J||Hb(c.j,c)}function mo(c){Kg(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,ob(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Qg(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Yg(f.h,c))){if(!c.K&&Yg(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var A=g;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)_d(f),yd(f);else break e;ey(f),Wt(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=xc(m(f.Za,f),6e3));if(1>=Eb(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else yo(f,11)}else if((c.K||f.g==c)&&_d(f),!se(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Ae=A[d];if(f.T=Ae[0],Ae=Ae[1],f.G==2)if(Ae[0]=="c"){f.K=Ae[1],f.ia=Ae[2];let Vt=Ae[3];Vt!=null&&(f.la=Vt,f.j.info("VER="+f.la));let jt=Ae[4];jt!=null&&(f.Aa=jt,f.j.info("SVER="+f.Aa));let Ps=Ae[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(g=1.5*Ps,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Ln=c.g;if(Ln){let Id=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Id){var M=g.h;M.g||Id.indexOf("spdy")==-1&&Id.indexOf("quic")==-1&&Id.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Zg(M,M.h),M.h=null))}if(g.D){let ny=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;ny&&(g.ya=ny,je(g.I,g.D,ny))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var U=c;if(g.qa=Gb(g,g.J?g.ia:null,g.W),U.K){Ib(g.h,U);var Le=U,Nt=g.L;Nt&&(Le.I=Nt),Le.B&&(Kg(Le),dd(Le)),g.g=U}else Bb(g);0<f.i.length&&vd(f)}else Ae[0]!="stop"&&Ae[0]!="close"||yo(f,7);else f.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?yo(f,7):Xg(f):Ae[0]!="noop"&&f.l&&f.l.ta(Ae),f.v=0)}}Ac(4)}catch{}}var ZP=class{constructor(c,d){this.g=c,this.map=d}};function vb(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _b(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Eb(c){return c.h?1:c.g?c.g.size:0}function Yg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Zg(c,d){c.g?c.g.add(d):c.h=d}function Ib(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}vb.prototype.cancel=function(){if(this.i=wb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function wb(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return k(c.i)}function JP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function XP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Tb(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=XP(c),g=JP(c),A=g.length,M=0;M<A;M++)d.call(void 0,g[M],f&&f[M],c)}var bb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eO(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),A=null;if(0<=g){var M=c[f].substring(0,g);A=c[f].substring(g+1)}else M=c[f];d(M,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function go(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof go){this.h=c.h,hd(this,c.j),this.o=c.o,this.g=c.g,fd(this,c.s),this.l=c.l;var d=c.i,f=new Pc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Cb(this,f),this.m=c.m}else c&&(d=String(c).match(bb))?(this.h=!1,hd(this,d[1]||"",!0),this.o=Nc(d[2]||""),this.g=Nc(d[3]||"",!0),fd(this,d[4]),this.l=Nc(d[5]||"",!0),Cb(this,d[6]||"",!0),this.m=Nc(d[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}go.prototype.toString=function(){var c=[],d=this.j;d&&c.push(kc(d,Db,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(kc(d,Db,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(kc(f,f.charAt(0)=="/"?rO:nO,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",kc(f,oO)),c.join("")};function Nr(c){return new go(c)}function hd(c,d,f){c.j=f?Nc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function fd(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Cb(c,d,f){d instanceof Pc?(c.i=d,sO(c.i,c.h)):(f||(d=kc(d,iO)),c.i=new Pc(d,c.h))}function je(c,d,f){c.i.set(d,f)}function pd(c){return je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,tO),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tO(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Db=/[#\/\?@]/g,nO=/[#\?:]/g,rO=/[#\?]/g,iO=/[#\?@]/g,oO=/#/g;function Pc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function mi(c){c.g||(c.g=new Map,c.h=0,c.i&&eO(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Pc.prototype,n.add=function(c,d){mi(this),this.i=null,c=Ns(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Sb(c,d){mi(c),d=Ns(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Ab(c,d){return mi(c),d=Ns(c,d),c.g.has(d)}n.forEach=function(c,d){mi(this),this.g.forEach(function(f,g){f.forEach(function(A){c.call(d,A,g,this)},this)},this)},n.na=function(){mi(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let A=c[g];for(let M=0;M<A.length;M++)f.push(d[g])}return f},n.V=function(c){mi(this);let d=[];if(typeof c=="string")Ab(this,c)&&(d=d.concat(this.g.get(Ns(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return mi(this),this.i=null,c=Ns(this,c),Ab(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function xb(c,d,f){Sb(c,d),0<f.length&&(c.i=null,c.g.set(Ns(c,d),k(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let M=encodeURIComponent(String(g)),U=this.V(g);for(g=0;g<U.length;g++){var A=M;U[g]!==""&&(A+="="+encodeURIComponent(String(U[g]))),c.push(A)}}return this.i=c.join("&")};function Ns(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function sO(c,d){d&&!c.j&&(mi(c),c.i=null,c.g.forEach(function(f,g){var A=g.toLowerCase();g!=A&&(Sb(this,g),xb(this,A,f))},c)),c.j=d}function aO(c,d){let f=new Rc;if(a.Image){let g=new Image;g.onload=y(gi,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(gi,f,"TestLoadImage: error",!1,d,g),g.onabort=y(gi,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(gi,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function cO(c,d){let f=new Rc,g=new AbortController,A=setTimeout(()=>{g.abort(),gi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(M=>{clearTimeout(A),M.ok?gi(f,"TestPingServer: ok",!0,d):gi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),gi(f,"TestPingServer: error",!1,d)})}function gi(c,d,f,g,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),g(f)}catch{}}function uO(){this.g=new qP}function lO(c,d,f){let g=f||"";try{Tb(c,function(A,M){let U=A;l(A)&&(U=Bg(A)),d.push(g+M+"="+encodeURIComponent(U))})}catch(A){throw d.push(g+"type="+encodeURIComponent("_badmap")),A}}function Oc(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Oc,$g),Oc.prototype.g=function(){return new md(this.l,this.j)},Oc.prototype.i=function(c){return function(){return c}}({});function md(c,d){Ft.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(md,Ft),n=md.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Fc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fc(this)),this.g&&(this.readyState=3,Fc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rb(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rb(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Lc(this):Fc(this),this.readyState==3&&Rb(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Lc(this))},n.Qa=function(c){this.g&&(this.response=c,Lc(this))},n.ga=function(){this.g&&Lc(this)};function Lc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Fc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Fc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mb(c){let d="";return Me(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Jg(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Mb(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):je(c,d,f))}function Qe(c){Ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Qe,Ft);var dO=/^https?$/i,hO=["POST","PUT"];n=Qe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qg.g(),this.v=this.o?sb(this.o):sb(qg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){Nb(this,M);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var A in g)f.set(A,g[A]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let M of g.keys())f.set(M,g.get(M));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hO,d,void 0))||g||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,U]of f)this.g.setRequestHeader(M,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ob(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){Nb(this,M)}};function Nb(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,kb(c),gd(c)}function kb(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),gd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gd(this,!0)),Qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pb(this):this.bb())},n.bb=function(){Pb(this)};function Pb(c){if(c.h&&typeof s<"u"&&(!c.v[1]||kr(c)!=4||c.Z()!=2)){if(c.u&&kr(c)==4)nb(c.Ea,0,c);else if(Gt(c,"readystatechange"),kr(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=U===0){var A=String(c.D).match(bb)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),g=!dO.test(A?A.toLowerCase():"")}f=g}if(f)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var M=2<kr(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",kb(c)}}finally{gd(c)}}}}function gd(c,d){if(c.g){Ob(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Gt(c,"ready");try{f.onreadystatechange=g}catch{}}}function Ob(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function kr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),zP(d)}};function Lb(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fO(c){let d={};c=(c.g&&2<=kr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(se(c[g]))continue;var f=D(c[g]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[A]||[];d[A]=M,M.push(f)}C(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Fb(c){this.Aa=0,this.i=[],this.j=new Rc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vc("baseRetryDelayMs",5e3,c),this.cb=Vc("retryDelaySeedMs",1e4,c),this.Wa=Vc("forwardChannelMaxRetries",2,c),this.wa=Vc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vb(c&&c.concurrentRequestLimit),this.Da=new uO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fb.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Wt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Gb(this,null,this.W),vd(this)};function Xg(c){if(Vb(c),c.G==3){var d=c.U++,f=Nr(c.I);if(je(f,"SID",c.K),je(f,"RID",d),je(f,"TYPE","terminate"),jc(c,f),d=new pi(c,c.j,d),d.L=2,d.v=pd(Nr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Wb(d.j,null),d.g.ea(d.v)),d.F=Date.now(),dd(d)}qb(c)}function yd(c){c.g&&(ty(c),c.g.cancel(),c.g=null)}function Vb(c){yd(c),c.u&&(a.clearTimeout(c.u),c.u=null),_d(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function vd(c){if(!_b(c.h)&&!c.s){c.s=!0;var d=c.Ga;wc||YT(),Tc||(wc(),Tc=!0),Ng.add(d,c),c.B=0}}function pO(c,d){return Eb(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xc(m(c.Ga,c,d),zb(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new pi(this,this.j,c),M=this.o;if(this.S&&(M?(M=_(M),b(M,this.S)):M=this.S),this.m!==null||this.O||(A.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Ub(this,A,d),f=Nr(this.I),je(f,"RID",c),je(f,"CVER",22),this.D&&je(f,"X-HTTP-Session-Id",this.D),jc(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(Mb(M)))+"&"+d:this.m&&Jg(f,this.m,M)),Zg(this.h,A),this.Ua&&je(f,"TYPE","init"),this.P?(je(f,"$req",d),je(f,"SID","null"),A.T=!0,Wg(A,f,null)):Wg(A,f,d),this.G=2}}else this.G==3&&(c?jb(this,c):this.i.length==0||_b(this.h)||jb(this))};function jb(c,d){var f;d?f=d.l:f=c.U++;let g=Nr(c.I);je(g,"SID",c.K),je(g,"RID",f),je(g,"AID",c.T),jc(c,g),c.m&&c.o&&Jg(g,c.m,c.o),f=new pi(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Ub(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Zg(c.h,f),Wg(f,g,d)}function jc(c,d){c.H&&Me(c.H,function(f,g){je(d,g,f)}),c.l&&Tb({},function(f,g){je(d,g,f)})}function Ub(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var A=c.i;let M=-1;for(;;){let U=["count="+f];M==-1?0<f?(M=A[0].g,U.push("ofs="+M)):M=0:U.push("ofs="+M);let Le=!0;for(let Nt=0;Nt<f;Nt++){let Ae=A[Nt].g,Vt=A[Nt].map;if(Ae-=M,0>Ae)M=Math.max(0,A[Nt].g-100),Le=!1;else try{lO(Vt,U,"req"+Ae+"_")}catch{g&&g(Vt)}}if(Le){g=U.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Bb(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;wc||YT(),Tc||(wc(),Tc=!0),Ng.add(d,c),c.v=0}}function ey(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xc(m(c.Fa,c),zb(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,$b(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xc(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),yd(this),$b(this))};function ty(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function $b(c){c.g=new pi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Nr(c.qa);je(d,"RID","rpc"),je(d,"SID",c.K),je(d,"AID",c.T),je(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&je(d,"TO",c.ja),je(d,"TYPE","xmlhttp"),jc(c,d),c.m&&c.o&&Jg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=pd(Nr(d)),f.m=null,f.P=!0,mb(f,c)}n.Za=function(){this.C!=null&&(this.C=null,yd(this),ey(this),Wt(19))};function _d(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Hb(c,d){var f=null;if(c.g==d){_d(c),ty(c),c.g=null;var g=2}else if(Yg(c.h,d))f=d.D,Ib(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;g=cd(),Gt(g,new db(g,f)),vd(c)}else Bb(c);else if(A=d.s,A==3||A==0&&0<d.X||!(g==1&&pO(c,d)||g==2&&ey(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:yo(c,5);break;case 4:yo(c,10);break;case 3:yo(c,6);break;default:yo(c,2)}}}function zb(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function yo(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let A=!g;g=new go(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hd(g,"https"),pd(g),A?aO(g.toString(),f):cO(g.toString(),f)}else Wt(2);c.G=0,c.l&&c.l.sa(d),qb(c),Vb(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function qb(c){if(c.G=0,c.ka=[],c.l){let d=wb(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Gb(c,d,f){var g=f instanceof go?Nr(f):new go(f);if(g.g!="")d&&(g.g=d+"."+g.g),fd(g,g.s);else{var A=a.location;g=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var M=new go(null);g&&hd(M,g),d&&(M.g=d),A&&fd(M,A),f&&(M.l=f),g=M}return f=c.D,d=c.ya,f&&d&&je(g,f,d),je(g,"VER",c.la),jc(c,g),g}function Wb(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Qe(new Oc({eb:f})):new Qe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kb(){}n=Kb.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ed(){}Ed.prototype.g=function(c,d){return new un(c,d)};function un(c,d){Ft.call(this),this.g=new Fb(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!se(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!se(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ks(this)}S(un,Ft),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Xg(this.g)},un.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Bg(c),c=f);d.i.push(new ZP(d.Ya++,c)),d.G==3&&vd(d)},un.prototype.N=function(){this.g.l=null,delete this.j,Xg(this.g),delete this.g,un.aa.N.call(this)};function Qb(c){Hg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(Qb,Hg);function Yb(){zg.call(this),this.status=1}S(Yb,zg);function ks(c){this.g=c}S(ks,Kb),ks.prototype.ua=function(){Gt(this.g,"a")},ks.prototype.ta=function(c){Gt(this.g,new Qb(c))},ks.prototype.sa=function(c){Gt(this.g,new Yb)},ks.prototype.ra=function(){Gt(this.g,"b")},Ed.prototype.createWebChannel=Ed.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,EI=si.createWebChannelTransport=function(){return new Ed},_I=si.getStatEventTarget=function(){return cd()},vI=si.Event=po,tm=si.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ud.NO_ERROR=0,ud.TIMEOUT=8,ud.HTTP_ERROR=6,Cl=si.ErrorCode=ud,hb.COMPLETE="complete",yI=si.EventType=hb,ab.EventType=Sc,Sc.OPEN="a",Sc.CLOSE="b",Sc.ERROR="c",Sc.MESSAGE="d",Ft.prototype.listen=Ft.prototype.K,Ha=si.WebChannel=ab,X6=si.FetchXmlHttpFactory=Oc,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,gI=si.XhrIo=Qe}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});var wM="@firebase/firestore",TM="4.7.17";var At=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");var lc="11.9.0";var _s=new Ir("@firebase/firestore");function za(){return _s.logLevel}function W(n,...e){if(_s.logLevel<=Ie.DEBUG){let t=e.map(lT);_s.debug(`Firestore (${lc}): ${n}`,...t)}}function ai(n,...e){if(_s.logLevel<=Ie.ERROR){let t=e.map(lT);_s.error(`Firestore (${lc}): ${n}`,...t)}}function Za(n,...e){if(_s.logLevel<=Ie.WARN){let t=e.map(lT);_s.warn(`Firestore (${lc}): ${n}`,...t)}}function lT(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,mN(n,r,t)}function mN(n,e,t){let r=`FIRESTORE (${lc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ai(r),new Error(r)}function ke(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||mN(e,i,r)}function he(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends vn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var er=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var cm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},DI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(At.UNAUTHENTICATED))}shutdown(){}},SI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},AI=class{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ke(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new er,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>E(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new er)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string",31837,{l:r}),new cm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new At(e)}},xI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},RI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new xI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}},um=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},MI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ke(this.o===void 0,3512);let r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new um(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new um(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function e5(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function gN(){return new TextEncoder}var lm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=e5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function _e(n,e){return n<e?-1:n>e?1:0}function NI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return _e(r,i);{let o=gN(),s=t5(o.encode(bM(n,t)),o.encode(bM(e,t)));return s!==0?s:_e(r,i)}}t+=r>65535?2:1}return _e(n.length,e.length)}function bM(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function t5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return _e(n[t],e[t]);return _e(n.length,e.length)}function Ja(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var CM=-62135596800,DM=1e6,Ot=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*DM);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<CM)throw new z(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DM}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-CM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var pe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ot(0,0))}static max(){return new n(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var SM="__name__",dm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return _e(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):NI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oi.fromString(e.substring(4,e.length-2))}},Ke=class n extends dm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},n5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,In=class n extends dm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return n5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SM}static keyField(){return new n([SM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new z(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var te=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ke.fromString(e))}static fromName(e){return new n(Ke.fromString(e).popFirst(5))}static empty(){return new n(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ke(e.slice()))}};var Ml=-1,kI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};kI.UNKNOWN_ID=-1;function r5(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new Ot(t+1,0):new Ot(t,r));return new Es(i,te.empty(),e)}function i5(n){return new Es(n.readTime,n.key,Ml)}var Es=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(pe.min(),te.empty(),Ml)}static max(){return new n(pe.max(),te.empty(),Ml)}};function o5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=te.comparator(n.documentKey,e.documentKey),t!==0?t:_e(n.largestBatchId,e.largestBatchId))}var s5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",PI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function dc(n){return E(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==s5)throw n;W("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function a5(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hc(n){return n.name==="IndexedDbTransactionError"}var dT=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),hT=-1;function qm(n){return n==null}function Nl(n){return n===0&&1/n==-1/0}function c5(n){return typeof n=="number"&&Number.isInteger(n)&&!Nl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var yN="";function u5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AM(e)),e=l5(n.get(t),e);return AM(e)}function l5(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case yN:t+="";break;default:t+=o}}return t}function AM(n){return n+yN+""}var d5="remoteDocuments",vN="owner";var _N="mutationQueues";var EN="mutations";var IN="documentMutations",h5="remoteDocumentsV14";var wN="remoteDocumentGlobal";var TN="targets";var bN="targetDocuments";var CN="targetGlobal",DN="collectionParents";var SN="clientMetadata";var AN="bundles";var xN="namedQueries";var f5="indexConfiguration";var p5="indexState";var m5="indexEntries";var RN="documentOverlays";var g5="globals";var y5=[_N,EN,IN,d5,TN,vN,CN,bN,SN,wN,DN,AN,xN],pue=[...y5,RN],v5=[_N,EN,IN,h5,TN,vN,CN,bN,SN,wN,DN,AN,xN,RN],_5=v5,E5=[..._5,f5,p5,m5];var mue=[...E5,g5];function xM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var rt=class n{constructor(e,t){this.comparator=e,this.root=t||Cr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ka(this.root,e,this.comparator,!0)}},Ka=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}};Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Cr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var xt=class n{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hm(this.data.getIterator())}getIteratorFrom(e){return new hm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},hm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Pn=class n{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new n([])}unionWith(e){let t=new xt(In.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var fm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fm("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qt.EMPTY_BYTE_STRING=new qt("");var I5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(n){if(ke(!!n,39018),typeof n=="string"){let e=0,t=I5.exec(n);if(ke(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(n.seconds),nanos:qe(n.nanos)}}function qe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ui(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}var NN="server_timestamp",kN="__type__",PN="__previous_value__",ON="__local_write_time__";function fT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kN])===null||t===void 0?void 0:t.stringValue)===NN}function Gm(n){let e=n.mapValue.fields[PN];return fT(e)?Gm(e):e}function kl(n){let e=ci(n.mapValue.fields[ON].timestampValue);return new Ot(e.seconds,e.nanos)}var OI=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},pm="(default)",mm=class n{constructor(e,t){this.projectId=e,this.database=t||pm}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===pm}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var pT="__type__",LN="__max__",nm={mapValue:{fields:{__type__:{stringValue:LN}}}},mT="__vector__",Xa="value";function oo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fT(n)?4:VN(n)?9007199254740991:FN(n)?10:11:oe(28295,{value:n})}function Ar(n,e){if(n===e)return!0;let t=oo(n);if(t!==oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return kl(n).isEqual(kl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ci(i.timestampValue),a=ci(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ui(i.bytesValue).isEqual(ui(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return qe(i.geoPointValue.latitude)===qe(o.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return qe(i.integerValue)===qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=qe(i.doubleValue),a=qe(o.doubleValue);return s===a?Nl(s)===Nl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ja(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(xM(s)!==xM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Ar(s[u],a[u])))return!1;return!0}(n,e);default:return oe(52216,{left:n})}}function Pl(n,e){return(n.values||[]).find(t=>Ar(t,e))!==void 0}function ec(n,e){if(n===e)return 0;let t=oo(n),r=oo(e);if(t!==r)return _e(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _e(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=qe(o.integerValue||o.doubleValue),u=qe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return RM(n.timestampValue,e.timestampValue);case 4:return RM(kl(n),kl(e));case 5:return NI(n.stringValue,e.stringValue);case 6:return function(o,s){let a=ui(o),u=ui(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=_e(a[l],u[l]);if(h!==0)return h}return _e(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=_e(qe(o.latitude),qe(s.latitude));return a!==0?a:_e(qe(o.longitude),qe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return MM(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Xa])===null||a===void 0?void 0:a.arrayValue,S=(u=m[Xa])===null||u===void 0?void 0:u.arrayValue,k=_e(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:MM(y,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===nm.mapValue&&s===nm.mapValue)return 0;if(o===nm.mapValue)return 1;if(s===nm.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=NI(u[p],h[p]);if(m!==0)return m;let y=ec(a[u[p]],l[h[p]]);if(y!==0)return y}return _e(u.length,h.length)}(n.mapValue,e.mapValue);default:throw oe(23264,{Pe:t})}}function RM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _e(n,e);let t=ci(n),r=ci(e),i=_e(t.seconds,r.seconds);return i!==0?i:_e(t.nanos,r.nanos)}function MM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ec(t[i],r[i]);if(o)return o}return _e(t.length,r.length)}function tc(n){return LI(n)}function LI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ci(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ui(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=LI(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${LI(t.fields[s])}`;return i+"}"}(n.mapValue):oe(61005,{value:n})}function om(n){switch(oo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Gm(n);return e?16+om(e):16;case 5:return 2*n.stringValue.length;case 6:return ui(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+om(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return lo(r.fields,(o,s)=>{i+=o.length+om(s)}),i}(n.mapValue);default:throw oe(13486,{value:n})}}function NM(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function FI(n){return!!n&&"integerValue"in n}function gT(n){return!!n&&"arrayValue"in n}function kM(n){return!!n&&"nullValue"in n}function PM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sm(n){return!!n&&"mapValue"in n}function FN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[pT])===null||t===void 0?void 0:t.stringValue)===mT}function Sl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return lo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Sl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function VN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LN}var yue={mapValue:{fields:{[pT]:{stringValue:mT},[Xa]:{arrayValue:{}}}}};var En=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(t)}setAll(e){let t=In.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Sl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());sm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];sm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){lo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Sl(this.value))}};function jN(n){let e=[];return lo(n.fields,(t,r)=>{let i=new In([t]);if(sm(r)){let o=jN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Pn(e)}var tr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,pe.min(),pe.min(),pe.min(),En.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,pe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,pe.min(),pe.min(),En.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,pe.min(),pe.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var nc=class{constructor(e,t){this.position=e,this.inclusive=t}};function OM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(s.referenceValue),t.key):r=ec(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function LM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}var Is=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function w5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var gm=class{},gt=class n extends gm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jI(e,t,r):t==="array-contains"?new $I(e,r):t==="in"?new HI(e,r):t==="not-in"?new zI(e,r):t==="array-contains-any"?new qI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new UI(e,r):new BI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ec(t,this.value)):t!==null&&oo(this.value)===oo(t)&&this.matchesComparison(ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},nr=class n extends gm{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return UN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function UN(n){return n.op==="and"}function BN(n){return T5(n)&&UN(n)}function T5(n){for(let e of n.filters)if(e instanceof nr)return!1;return!0}function VI(n){if(n instanceof gt)return n.field.canonicalString()+n.op.toString()+tc(n.value);if(BN(n))return n.filters.map(e=>VI(e)).join(",");{let e=n.filters.map(t=>VI(t)).join(",");return`${n.op}(${e})`}}function $N(n,e){return n instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&Ar(r.value,i.value)}(n,e):n instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&$N(s,i.filters[a]),!0):!1}(n,e):void oe(19439)}function HN(n){return n instanceof gt?function(t){return`${t.field.canonicalString()} ${t.op} ${tc(t.value)}`}(n):n instanceof nr?function(t){return t.op.toString()+" {"+t.getFilters().map(HN).join(" ,")+"}"}(n):"Filter"}var jI=class extends gt{constructor(e,t,r){super(e,t,r),this.key=te.fromName(r.referenceValue)}matches(e){let t=te.comparator(e.key,this.key);return this.matchesComparison(t)}},UI=class extends gt{constructor(e,t){super(e,"in",t),this.keys=zN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},BI=class extends gt{constructor(e,t){super(e,"not-in",t),this.keys=zN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function zN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>te.fromName(r.referenceValue))}var $I=class extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return gT(t)&&Pl(t.arrayValue,this.value)}},HI=class extends gt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Pl(this.value.arrayValue,t)}},zI=class extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Pl(this.value.arrayValue,t)}},qI=class extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!gT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Pl(this.value.arrayValue,r))}};var GI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function FM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new GI(n,e,t,r,i,o,s)}function yT(n){let e=he(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>VI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),qm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>tc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>tc(r)).join(",")),e.Ie=t}return e.Ie}function vT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!w5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$N(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LM(n.startAt,e.startAt)&&LM(n.endAt,e.endAt)}function WI(n){return te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var so=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function b5(n,e,t,r,i,o,s,a){return new so(n,e,t,r,i,o,s,a)}function Wm(n){return new so(n)}function VM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qN(n){return n.collectionGroup!==null}function Al(n){let e=he(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new xt(In.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Is(o,r))}),t.has(In.keyField().canonicalString())||e.Ee.push(new Is(In.keyField(),r))}return e.Ee}function Dr(n){let e=he(n);return e.de||(e.de=C5(e,Al(n))),e.de}function C5(n,e){if(n.limitType==="F")return FM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Is(i.field,o)});let t=n.endAt?new nc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new nc(n.startAt.position,n.startAt.inclusive):null;return FM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function KI(n,e){let t=n.filters.concat([e]);return new so(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function QI(n,e,t){return new so(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Km(n,e){return vT(Dr(n),Dr(e))&&n.limitType===e.limitType}function GN(n){return`${yT(Dr(n))}|lt:${n.limitType}`}function qa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>HN(i)).join(", ")}]`),qm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>tc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>tc(i)).join(",")),`Target(${r})`}(Dr(n))}; limitType=${n.limitType})`}function Qm(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Al(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=OM(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Al(r),i)||r.endAt&&!function(s,a,u){let l=OM(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Al(r),i))}(n,e)}function D5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WN(n){return(e,t)=>{let r=!1;for(let i of Al(n)){let o=S5(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function S5(n,e,t){let r=n.field.isKeyField()?te.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ec(u,l):oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:n.dir})}}var li=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return MN(this.inner)}size(){return this.innerSize}};var A5=new rt(te.comparator);function di(){return A5}var KN=new rt(te.comparator);function Dl(...n){let e=KN;for(let t of n)e=e.insert(t.key,t);return e}function QN(n){let e=KN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function gs(){return xl()}function YN(){return xl()}function xl(){return new li(n=>n.toString(),(n,e)=>n.isEqual(e))}var x5=new rt(te.comparator),R5=new xt(te.comparator);function be(...n){let e=R5;for(let t of n)e=e.add(t);return e}var M5=new xt(_e);function N5(){return M5}function _T(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nl(e)?"-0":e}}function ZN(n){return{integerValue:""+n}}function k5(n,e){return c5(e)?ZN(e):_T(n,e)}var rc=class{constructor(){this._=void 0}};function P5(n,e,t){return n instanceof ic?function(i,o){let s={fields:{[kN]:{stringValue:NN},[ON]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fT(o)&&(o=Gm(o)),o&&(s.fields[PN]=o),{mapValue:s}}(t,e):n instanceof ws?XN(n,e):n instanceof Ts?ek(n,e):function(i,o){let s=JN(i,o),a=jM(s)+jM(i.Re);return FI(s)&&FI(i.Re)?ZN(a):_T(i.serializer,a)}(n,e)}function O5(n,e,t){return n instanceof ws?XN(n,e):n instanceof Ts?ek(n,e):t}function JN(n,e){return n instanceof oc?function(r){return FI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ic=class extends rc{},ws=class extends rc{constructor(e){super(),this.elements=e}};function XN(n,e){let t=tk(e);for(let r of n.elements)t.some(i=>Ar(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ts=class extends rc{constructor(e){super(),this.elements=e}};function ek(n,e){let t=tk(e);for(let r of n.elements)t=t.filter(i=>!Ar(i,r));return{arrayValue:{values:t}}}var oc=class extends rc{constructor(e,t){super(),this.serializer=e,this.Re=t}};function jM(n){return qe(n.integerValue||n.doubleValue)}function tk(n){return gT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function L5(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ws&&i instanceof ws||r instanceof Ts&&i instanceof Ts?Ja(r.elements,i.elements,Ar):r instanceof oc&&i instanceof oc?Ar(r.Re,i.Re):r instanceof ic&&i instanceof ic}(n.transform,e.transform)}var YI=class{constructor(e,t){this.version=e,this.transformResults=t}},On=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function am(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var sc=class{};function nk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ac(n.key,On.none()):new bs(n.key,n.data,On.none());{let t=n.data,r=En.empty(),i=new xt(In.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new xr(n.key,r,new Pn(i.toArray()),On.none())}}function F5(n,e,t){n instanceof bs?function(i,o,s){let a=i.value.clone(),u=BM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof xr?function(i,o,s){if(!am(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=BM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(rk(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Rl(n,e,t,r){return n instanceof bs?function(o,s,a,u){if(!am(o.precondition,s))return a;let l=o.value.clone(),h=$M(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof xr?function(o,s,a,u){if(!am(o.precondition,s))return a;let l=$M(o.fieldTransforms,u,s),h=s.data;return h.setAll(rk(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return am(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function V5(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=JN(r.transform,i||null);o!=null&&(t===null&&(t=En.empty()),t.set(r.field,o))}return t||null}function UM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ja(r,i,(o,s)=>L5(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var bs=class extends sc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xr=class extends sc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function rk(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function BM(n,e,t){let r=new Map;ke(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,O5(s,a,t[i]))}return r}function $M(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,P5(o,s,e))}return r}var ac=class extends sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ZI=class extends sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var JI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&F5(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=YN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=nk(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),be())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(t,r)=>UM(t,r))&&Ja(this.baseMutations,e.baseMutations,(t,r)=>UM(t,r))}},XI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ke(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return x5}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var ew=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var tw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var pt,Se;function j5(n){switch(n){case O.OK:return oe(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return oe(15467,{code:n})}}function ik(n){if(n===void 0)return ai("GRPC error has no .code"),O.UNKNOWN;switch(n){case pt.OK:return O.OK;case pt.CANCELLED:return O.CANCELLED;case pt.UNKNOWN:return O.UNKNOWN;case pt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case pt.INTERNAL:return O.INTERNAL;case pt.UNAVAILABLE:return O.UNAVAILABLE;case pt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case pt.NOT_FOUND:return O.NOT_FOUND;case pt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case pt.ABORTED:return O.ABORTED;case pt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case pt.DATA_LOSS:return O.DATA_LOSS;default:return oe(39323,{code:n})}}(Se=pt||(pt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var HM=null;var U5=new oi([4294967295,4294967295],0);function zM(n){let e=gN().encode(n),t=new mI;return t.update(e),new Uint8Array(t.digest())}function qM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oi([t,r],0),new oi([i,o],0)]}var nw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ys(`Invalid padding: ${t}`);if(r<0)throw new ys(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ys(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ys(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=oi.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(oi.fromNumber(r)));return i.compare(U5)===1&&(i=new oi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=zM(e),[r,i]=qM(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=zM(e),[r,i]=qM(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ys=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ym=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(pe.min(),i,new rt(_e),di(),be())}},Ol=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,be(),be(),be())}};var Qa=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},vm=class{constructor(e,t){this.targetId=e,this.Ce=t}},_m=class{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Em=class{constructor(){this.Fe=0,this.Me=GM(),this.xe=qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=be(),t=be(),r=be();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:o})}}),new Ol(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=GM()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ke(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},rw=class{constructor(e){this.ze=e,this.je=new Map,this.He=di(),this.Je=rm(),this.Ye=rm(),this.Ze=new rt(_e)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(WI(o))if(r===0){let s=new te(o.path);this.tt(t,s,tr.newNoDocument(s,pe.min()))}else ke(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}HM?.ht(function(h,p,m,y,S){var k,R,j,se,Y,Re;let Mt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Me=p.unchangedNames;return Me&&(Mt.bloomFilter={applied:S===0,hashCount:(k=Me?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(se=(j=(R=Me?.bits)===null||R===void 0?void 0:R.bitmap)===null||j===void 0?void 0:j.length)!==null&&se!==void 0?se:0,padding:(Re=(Y=Me?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&Re!==void 0?Re:0,mightContain:C=>{var _;return(_=y?.mightContain(C))!==null&&_!==void 0&&_}}),Mt}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ui(r).toUint8Array()}catch(u){if(u instanceof fm)return Za("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new nw(s,i,o)}catch(u){return Za(u instanceof ys?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&WI(a.target)){let u=new te(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,tr.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=be();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new ym(e,t,this.Ze,this.He,r);return this.He=di(),this.Je=rm(),this.Ye=rm(),this.Ze=new rt(_e),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Em,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new xt(_e),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new xt(_e),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Em),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function rm(){return new rt(te.comparator)}function GM(){return new rt(te.comparator)}var B5={asc:"ASCENDING",desc:"DESCENDING"},$5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H5={and:"AND",or:"OR"},iw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ow(n,e){return n.useProto3Json||qm(e)?e:{value:e}}function Im(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ok(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function z5(n,e){return Im(n,e.toTimestamp())}function Sr(n){return ke(!!n,49232),pe.fromTimestamp(function(t){let r=ci(t);return new Ot(r.seconds,r.nanos)}(n))}function ET(n,e){return sw(n,e).canonicalString()}function sw(n,e){let t=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function sk(n){let e=Ke.fromString(n);return ke(dk(e),10190,{key:e.toString()}),e}function aw(n,e){return ET(n.databaseId,e.path)}function II(n,e){let t=sk(e);if(t.get(1)!==n.databaseId.projectId)throw new z(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new te(ck(t))}function ak(n,e){return ET(n.databaseId,e)}function q5(n){let e=sk(n);return e.length===4?Ke.emptyPath():ck(e)}function cw(n){return new Ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ck(n){return ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function WM(n,e,t){return{name:aw(n,e),fields:t.value.mapValue.fields}}function G5(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ke(h===void 0||typeof h=="string",58123),qt.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),qt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:ik(l.code);return new z(h,l.message||"")}(s);t=new _m(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=II(n,r.document.name),o=Sr(r.document.updateTime),s=r.document.createTime?Sr(r.document.createTime):pe.min(),a=new En({mapValue:{fields:r.document.fields}}),u=tr.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Qa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=II(n,r.document),o=r.readTime?Sr(r.readTime):pe.min(),s=tr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Qa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=II(n,r.document),o=r.removedTargetIds||[];t=new Qa([],o,i,null)}else{if(!("filter"in e))return oe(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new tw(i,o),a=r.targetId;t=new vm(a,s)}}return t}function W5(n,e){let t;if(e instanceof bs)t={update:WM(n,e.key,e.value)};else if(e instanceof ac)t={delete:aw(n,e.key)};else if(e instanceof xr)t={update:WM(n,e.key,e.data),updateMask:n8(e.fieldMask)};else{if(!(e instanceof ZI))return oe(16599,{ft:e.type});t={verify:aw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ic)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ws)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof oc)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw oe(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:z5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe(27497)}(n,e.precondition)),t}function K5(n,e){return n&&n.length>0?(ke(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Sr(i.updateTime):Sr(o);return s.isEqual(pe.min())&&(s=Sr(o)),new YI(s,i.transformResults||[])}(t,e))):[]}function Q5(n,e){return{documents:[ak(n,e.path)]}}function Y5(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ak(n,i);let o=function(l){if(l.length!==0)return lk(nr.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Ga(m.field),direction:X5(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=ow(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function Z5(n){let e=q5(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ke(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=uk(p);return m instanceof nr&&BN(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(S){return new Is(Wa(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,qm(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new nc(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new nc(y,m)}(t.endAt)),b5(e,i,s,o,a,"F",u,l)}function J5(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Wa(t.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Wa(t.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Wa(t.unaryFilter.field);return gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Wa(t.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return gt.create(Wa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return nr.create(t.compositeFilter.filters.map(r=>uk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(t.compositeFilter.op))}(n):oe(30097,{filter:n})}function X5(n){return B5[n]}function e8(n){return $5[n]}function t8(n){return H5[n]}function Ga(n){return{fieldPath:n.canonicalString()}}function Wa(n){return In.fromServerFormat(n.fieldPath)}function lk(n){return n instanceof gt?function(t){if(t.op==="=="){if(PM(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NAN"}};if(kM(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(PM(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NOT_NAN"}};if(kM(t.value))return{unaryFilter:{field:Ga(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(t.field),op:e8(t.op),value:t.value}}}(n):n instanceof nr?function(t){let r=t.getFilters().map(i=>lk(i));return r.length===1?r[0]:{compositeFilter:{op:t8(t.op),filters:r}}}(n):oe(54877,{filter:n})}function n8(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ll=class n{constructor(e,t,r,i,o=pe.min(),s=pe.min(),a=qt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var uw=class{constructor(e){this.wt=e}};function r8(n){let e=Z5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?QI(e,e.limit,"L"):e}var wm=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(qe(e.integerValue));else if("doubleValue"in e){let r=qe(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Nl(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=ci(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(ui(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?VN(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):FN(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):oe(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Xa,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(qe(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),te.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};wm.Wt=new wm;var lw=class{constructor(){this.Cn=new dw}addToCollectionParentIndex(e,t){return this.Cn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Es.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},dw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new xt(Ke.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Ke.comparator)).toArray()}};var vue=new Uint8Array(0);var KM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hk=41943040,kn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(hk,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);var Fl=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var QM="LruGarbageCollector",i8=1048576;function YM([n,e],[t,r]){let i=_e(n,t);return i===0?_e(e,r):i}var hw=class{constructor(e){this.Er=e,this.buffer=new xt(YM),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();YM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},fw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){W(QM,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>E(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){hc(t)?W(QM,"Ignoring IndexedDB error during garbage collection: ",t):yield dc(t)}yield this.mr(3e5)}))}},pw=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return L.resolve(dT.le);let r=new hw(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(KM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KM):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),za()<=Ie.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function o8(n,e){return new pw(n,e)}var mw=class{constructor(){this.changes=new li(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var gw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var yw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Rl(r.mutation,i,Pn.empty(),Ot.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,t,r=be()){let i=gs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Dl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=gs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,be()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=di(),s=xl(),a=function(){return xl()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof xr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Rl(h.mutation,l,h.mutation.getFieldMask(),Ot.now())):s.set(l.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new gw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=xl(),i=new rt((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Pn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||be()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=YN();h.forEach(m=>{if(!o.has(m)){let y=nk(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(gs()),a=Ml,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,be())).next(h=>({batchId:a,changes:QN(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new te(t)).next(r=>{let i=Dl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Dl();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,m){return new so(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,tr.newInvalidDocument(h)))});let a=Dl();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Rl(h.mutation,l,Pn.empty(),Ot.now()),Qm(t,l)&&(a=a.insert(u,l))}),a})}};var vw=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return L.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Sr(i.createTime)}}(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:r8(i.bundledQuery),readTime:Sr(i.readTime)}}(t)),L.resolve()}};var _w=class{constructor(){this.overlays=new rt(te.comparator),this.Qr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=gs();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=gs(),o=t.length+1,s=new te(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new rt((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=gs(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=gs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ew(t,r));let o=this.Qr.get(t);o===void 0&&(o=be(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var Ew=class{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var Vl=class{constructor(){this.$r=new xt(mt.Ur),this.Kr=new xt(mt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new mt(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new mt(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new te(new Ke([])),r=new mt(t,e),i=new mt(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new te(new Ke([])),r=new mt(t,e),i=new mt(t,e+1),o=be();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new mt(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},mt=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return te.comparator(e.key,t.key)||_e(e.Zr,t.Zr)}static Wr(e,t){return _e(e.Zr,t.Zr)||te.comparator(e.key,t.key)}};var Iw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new xt(mt.Ur)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new JI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?hT:this.nr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new mt(t,0),i=new mt(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xt(_e);return t.forEach(i=>{let o=new mt(i,0),s=new mt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),L.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;te.isDocumentKey(o)||(o=o.child(""));let s=new mt(new te(o),0),a=new xt(_e);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),L.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ke(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return L.forEach(t.mutations,i=>{let o=new mt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new mt(t,0),i=this.Xr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var ww=class{constructor(e){this.ii=e,this.docs=function(){return new rt(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(t))}getEntries(e,t){let r=di();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tr.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=di(),s=t.path,a=new te(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||o5(i5(h),r)<=0||(i.has(h.key)||Qm(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){oe(9500)}si(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Tw(this)}getSize(e){return L.resolve(this.size)}},Tw=class extends mw{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var bw=class{constructor(e){this.persistence=e,this.oi=new li(t=>yT(t),vT),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this._i=0,this.ai=new Vl,this.targetCount=0,this.ui=Fl.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),L.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new Fl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Tr(t),L.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.ai.containsKey(t))}};var Tm=class{constructor(e,t){this.ci={},this.overlays={},this.li=new dT(0),this.hi=!1,this.hi=!0,this.Pi=new Ew,this.referenceDelegate=e(this),this.Ti=new bw(this),this.indexManager=new lw,this.remoteDocumentCache=function(i){return new ww(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new uw(t),this.Ei=new vw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _w,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new Iw(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);let i=new Cw(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return L.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},Cw=class extends PI{constructor(e){super(),this.currentSequenceNumber=e}},Dw=class n{constructor(e){this.persistence=e,this.Vi=new Vl,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw oe(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),L.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.gi,r=>{let i=te.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,pe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return L.or([()=>L.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},bm=class n{constructor(e,t){this.persistence=e,this.yi=new li(r=>u5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=o8(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return L.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?L.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),L.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=om(e.data.value)),t}Dr(e,t,r){return L.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Sw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=be(),i=be();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Aw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var xw=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return GR()?8:a5(St())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Aw;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(za()<=Ie.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",qa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),L.resolve()):(za()<=Ie.DEBUG&&W("QueryEngine","Query:",qa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(za()<=Ie.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",qa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):L.resolve())}ws(e,t){if(VM(t))return L.resolve(null);let r=Dr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=QI(t,null,"F"),r=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=be(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(t,a);return this.Cs(t,l,s,u.readTime)?this.ws(e,QI(t,null,"F")):this.Fs(e,l,t,u)}))})))}bs(e,t,r,i){return VM(t)||i.isEqual(pe.min())?L.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?L.resolve(null):(za()<=Ie.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qa(t)),this.Fs(e,s,t,r5(i,Ml)).next(a=>a))})}vs(e,t){let r=new xt(WN(e));return t.forEach((i,o)=>{Qm(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return za()<=Ie.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",qa(t)),this.ys.getDocumentsMatchingQuery(e,t,Es.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var IT="LocalStore",s8=3e8,Rw=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new rt(_e),this.Os=new li(o=>yT(o),vT),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function a8(n,e,t,r){return new Rw(n,e,t,r)}function fk(n,e){return E(this,null,function*(){let t=he(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=be();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function c8(n,e){let t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=L.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(k=>{let R=l.docVersions.get(S);ke(R!==null,48541),k.version.compareTo(R)<0&&(p.applyToRemoteDocument(k,l),k.isValidDocument()&&(k.setReadTime(l.commitVersion),h.addEntry(k)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=be();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function pk(n){let e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function u8(n,e){let t=he(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(qt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(k,R,j){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=s8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(m,y,h)&&a.push(t.Ti.updateTargetData(o,y))});let u=di(),l=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(l8(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(pe.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.xs=i,o))}function l8(n,e,t){let r=be(),i=be();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=di();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(pe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):W(IT,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function d8(n,e){let t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hT),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function h8(n,e){let t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Ll(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function Mw(n,e,t){return E(this,null,function*(){let r=he(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!hc(s))throw s;W(IT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function ZM(n,e,t){let r=he(n),i=pe.min(),o=be();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=he(u),m=p.Os.get(h);return m!==void 0?L.resolve(p.xs.get(m)):p.Ti.getTargetData(l,h)}(r,s,Dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:pe.min(),t?o:be())).next(a=>(f8(r,D5(e),a),{documents:a,$s:o})))}function f8(n,e,t){let r=n.Ns.get(e)||pe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Cm=class{constructor(){this.activeTargetIds=N5()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Nw=class{constructor(){this.xo=new Cm,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Cm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var kw=class{No(e){}shutdown(){}};var JM="ConnectivityMonitor",Dm=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){W(JM,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){W(JM,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var im=null;function Pw(){return im===null?im=function(){return 268435456+Math.round(2147483648*Math.random())}():im++,"0x"+im.toString(16)}var wI="RestConnection",p8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Ow=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===pm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=Pw(),a=this.jo(e,t.toUriEncodedString());W(wI,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=Yi(l);return this.Jo(e,a,u,r,h).then(p=>(W(wI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Za(wI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=p8[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var Lw=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var zt="WebChannelConnection",Fw=class extends Ow{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=Pw();return new Promise((a,u)=>{let l=new gI;l.setWithCredentials(!0),l.listenOnce(yI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cl.NO_ERROR:let p=l.getResponseJson();W(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Cl.TIMEOUT:W(zt,`RPC '${e}' ${s} timed out`),u(new z(O.DEADLINE_EXCEEDED,"Request time out"));break;case Cl.HTTP_ERROR:let m=l.getStatus();if(W(zt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let k=function(j){let se=j.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(se)>=0?se:O.UNKNOWN}(S.status);u(new z(k,S.message))}else u(new z(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new z(O.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{W(zt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);W(zt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=Pw(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=EI(),a=_I(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");W(zt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let m=!1,y=!1,S=new Lw({Zo:R=>{y?W(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(W(zt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),W(zt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),k=(R,j,se)=>{R.listen(j,Y=>{try{se(Y)}catch(Re){setTimeout(()=>{throw Re},0)}})};return k(p,Ha.EventType.OPEN,()=>{y||(W(zt,`RPC '${e}' stream ${i} transport opened.`),S.__())}),k(p,Ha.EventType.CLOSE,()=>{y||(y=!0,W(zt,`RPC '${e}' stream ${i} transport closed`),S.u_(),this.d_(p))}),k(p,Ha.EventType.ERROR,R=>{y||(y=!0,Za(zt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.u_(new z(O.UNAVAILABLE,"The operation could not be completed")))}),k(p,Ha.EventType.MESSAGE,R=>{var j;if(!y){let se=R.data[0];ke(!!se,16349);let Y=se,Re=Y?.error||((j=Y[0])===null||j===void 0?void 0:j.error);if(Re){W(zt,`RPC '${e}' stream ${i} received error:`,Re);let Mt=Re.status,Me=function(w){let b=pt[w];if(b!==void 0)return ik(b)}(Mt),C=Re.message;Me===void 0&&(Me=O.INTERNAL,C="Unknown error status: "+Mt+" with message "+Re.message),y=!0,S.u_(new z(Me,C)),p.close()}else W(zt,`RPC '${e}' stream ${i} received:`,se),S.c_(se)}}),k(a,vI.STAT_EVENT,R=>{R.stat===tm.PROXY?W(zt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===tm.NOPROXY&&W(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function TI(){return typeof document<"u"?document:null}function Ym(n){return new iw(n,!0)}var Sm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var XM="PersistentStream",Am=class{constructor(e,t,r,i,o,s,a,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Sm(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return E(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return E(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return E(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new z(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>E(this,null,function*(){this.state=0,this.start()}))}j_(e){return W(XM,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(W(XM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Vw=class extends Am{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=G5(this.serializer,e),r=function(o){if(!("targetChange"in o))return pe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?Sr(s.readTime):pe.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=cw(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=WI(u)?{documents:Q5(o,u)}:{query:Y5(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ok(o,s.resumeToken);let l=ow(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(pe.min())>0){a.readTime=Im(o,s.snapshotVersion.toTimestamp());let l=ow(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=J5(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=cw(this.serializer),t.removeTarget=e,this.Q_(t)}},jw=class extends Am{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=K5(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=cw(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>W5(this.serializer,r))};this.Q_(t)}};var Uw=class{},Bw=class extends Uw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new z(O.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,sw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(O.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,sw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(O.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},$w=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ai(t),this.ua=!1):W("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var Cs="RemoteStore",Hw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>E(this,null,function*(){Ss(this)&&(W(Cs,"Restarting streams for network reachability change."),yield function(u){return E(this,null,function*(){let l=he(u);l.da.add(4),yield Wl(l),l.Va.set("Unknown"),l.da.delete(4),yield Zm(l)})}(this))}))}),this.Va=new $w(r,i)}};function Zm(n){return E(this,null,function*(){if(Ss(n))for(let e of n.Aa)yield e(!0)})}function Wl(n){return E(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function mk(n,e){let t=he(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),CT(t)?bT(t):fc(t).N_()&&TT(t,e))}function wT(n,e){let t=he(n),r=fc(t);t.Ea.delete(e),r.N_()&&gk(t,e),t.Ea.size===0&&(r.N_()?r.k_():Ss(t)&&t.Va.set("Unknown"))}function TT(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fc(n).Z_(e)}function gk(n,e){n.ma.Ke(e),fc(n).X_(e)}function bT(n){n.ma=new rw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),fc(n).start(),n.Va.ca()}function CT(n){return Ss(n)&&!fc(n).O_()&&n.Ea.size>0}function Ss(n){return he(n).da.size===0}function yk(n){n.ma=void 0}function m8(n){return E(this,null,function*(){n.Va.set("Online")})}function g8(n){return E(this,null,function*(){n.Ea.forEach((e,t)=>{TT(n,e)})})}function y8(n,e){return E(this,null,function*(){yk(n),CT(n)?(n.Va.Pa(e),bT(n)):n.Va.set("Unknown")})}function v8(n,e,t){return E(this,null,function*(){if(n.Va.set("Online"),e instanceof _m&&e.state===2&&e.cause)try{yield function(i,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){W(Cs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xm(n,r)}else if(e instanceof Qa?n.ma.Xe(e):e instanceof vm?n.ma.ot(e):n.ma.nt(e),!t.isEqual(pe.min()))try{let r=yield pk(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(qt.EMPTY_BYTE_STRING,h.snapshotVersion)),gk(o,u);let p=new Ll(h.target,u,l,h.sequenceNumber);TT(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){W(Cs,"Failed to raise snapshot:",r),yield xm(n,r)}})}function xm(n,e,t){return E(this,null,function*(){if(!hc(e))throw e;n.da.add(1),yield Wl(n),n.Va.set("Offline"),t||(t=()=>pk(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(null,null,function*(){W(Cs,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield Zm(n)}))})}function vk(n,e){return e().catch(t=>xm(n,t,e))}function Jm(n){return E(this,null,function*(){let e=he(n),t=ao(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:hT;for(;_8(e);)try{let i=yield d8(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,E8(e,i)}catch(i){yield xm(e,i)}_k(e)&&Ek(e)})}function _8(n){return Ss(n)&&n.Ia.length<10}function E8(n,e){n.Ia.push(e);let t=ao(n);t.N_()&&t.ea&&t.ta(e.mutations)}function _k(n){return Ss(n)&&!ao(n).O_()&&n.Ia.length>0}function Ek(n){ao(n).start()}function I8(n){return E(this,null,function*(){ao(n).ia()})}function w8(n){return E(this,null,function*(){let e=ao(n);for(let t of n.Ia)e.ta(t.mutations)})}function T8(n,e,t){return E(this,null,function*(){let r=n.Ia.shift(),i=XI.from(r,e,t);yield vk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Jm(n)})}function b8(n,e){return E(this,null,function*(){e&&ao(n).ea&&(yield function(r,i){return E(this,null,function*(){if(function(s){return j5(s)&&s!==O.ABORTED}(i.code)){let o=r.Ia.shift();ao(r).L_(),yield vk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Jm(r)}})}(n,e)),_k(n)&&Ek(n)})}function eN(n,e){return E(this,null,function*(){let t=he(n);t.asyncQueue.verifyOperationInProgress(),W(Cs,"RemoteStore received new credentials");let r=Ss(t);t.da.add(3),yield Wl(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield Zm(t)})}function C8(n,e){return E(this,null,function*(){let t=he(n);e?(t.da.delete(2),yield Zm(t)):e||(t.da.add(2),yield Wl(t),t.Va.set("Unknown"))})}function fc(n){return n.fa||(n.fa=function(t,r,i){let o=he(t);return o.oa(),new Vw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:m8.bind(null,n),n_:g8.bind(null,n),i_:y8.bind(null,n),Y_:v8.bind(null,n)}),n.Aa.push(e=>E(null,null,function*(){e?(n.fa.L_(),CT(n)?bT(n):n.Va.set("Unknown")):(yield n.fa.stop(),yk(n))}))),n.fa}function ao(n){return n.ga||(n.ga=function(t,r,i){let o=he(t);return o.oa(),new jw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:I8.bind(null,n),i_:b8.bind(null,n),na:w8.bind(null,n),ra:T8.bind(null,n)}),n.Aa.push(e=>E(null,null,function*(){e?(n.ga.L_(),yield Jm(n)):(yield n.ga.stop(),n.Ia.length>0&&(W(Cs,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var zw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function DT(n,e){if(ai("AsyncQueue",`${e}: ${n}`),hc(n))return new z(O.UNAVAILABLE,`${e}: ${n}`);throw n}var Rm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||te.comparator(t.key,r.key):(t,r)=>te.comparator(t.key,r.key),this.keyedMap=Dl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Mm=class{constructor(){this.pa=new rt(te.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):oe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},cc=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Rm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var qw=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},Gw=class{constructor(){this.queries=tN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=he(t),o=i.queries;i.queries=tN(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new z(O.ABORTED,"Firestore shutting down"))}};function tN(){return new li(n=>GN(n),Km)}function ST(n,e){return E(this,null,function*(){let t=he(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new qw,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=DT(s,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&xT(t)})}function AT(n,e){return E(this,null,function*(){let t=he(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function D8(n,e){let t=he(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&xT(t)}function S8(n,e,t){let r=he(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function xT(n){n.Ca.forEach(e=>{e.next()})}var Ww,nN;(nN=Ww||(Ww={})).xa="default",nN.Cache="cache";var jl=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ww.Cache}};var Nm=class{constructor(e){this.key=e}},km=class{constructor(e){this.key=e}},Kw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=be(),this.mutatedKeys=be(),this.Za=WN(e),this.Xa=new Rm(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new Mm,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Qm(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),k=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==k&&(r.track({type:3,doc:y}),R=!0):this.ru(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Za(y,u)>0||l&&this.Za(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,S){let k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Vt:R})}};return k(y)-k(S)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new cc(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Mm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=be(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new km(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Nm(r))}),t}au(e){this.Ha=e.$s,this.Ya=be();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return cc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},RT="SyncEngine",Qw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Yw=class{constructor(e){this.key=e,this.cu=!1}},Zw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new li(a=>GN(a),Km),this.Pu=new Map,this.Tu=new Set,this.Iu=new rt(te.comparator),this.Eu=new Map,this.du=new Vl,this.Au={},this.Ru=new Map,this.Vu=Fl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function A8(n,e,t=!0){return E(this,null,function*(){let r=Dk(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield Ik(r,e,t,!0),i})}function x8(n,e){return E(this,null,function*(){let t=Dk(n);yield Ik(t,e,!0,!1)})}function Ik(n,e,t,r){return E(this,null,function*(){let i=yield h8(n.localStore,Dr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield R8(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&mk(n.remoteStore,i),a})}function R8(n,e,t,r,i){return E(this,null,function*(){n.fu=(p,m,y)=>function(k,R,j,se){return E(this,null,function*(){let Y=R.view.tu(j);Y.Cs&&(Y=yield ZM(k.localStore,R.query,!1).then(({documents:C})=>R.view.tu(C,Y)));let Re=se&&se.targetChanges.get(R.targetId),Mt=se&&se.targetMismatches.get(R.targetId)!=null,Me=R.view.applyChanges(Y,k.isPrimaryClient,Re,Mt);return iN(k,R.targetId,Me.ou),Me.snapshot})}(n,p,m,y);let o=yield ZM(n.localStore,e,!0),s=new Kw(e,o.$s),a=s.tu(o.documents),u=Ol.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);iN(n,t,l.ou);let h=new Qw(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function M8(n,e,t){return E(this,null,function*(){let r=he(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Km(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Mw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&wT(r.remoteStore,i.targetId),Jw(r,i.targetId)}).catch(dc))):(Jw(r,i.targetId),yield Mw(r.localStore,i.targetId,!0))})}function N8(n,e){return E(this,null,function*(){let t=he(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),wT(t.remoteStore,r.targetId))})}function k8(n,e,t){return E(this,null,function*(){let r=U8(n);try{let i=yield function(s,a){let u=he(s),l=Ot.now(),h=a.reduce((y,S)=>y.add(S.key),be()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=di(),k=be();return u.Bs.getEntries(y,h).next(R=>{S=R,S.forEach((j,se)=>{se.isValidDocument()||(k=k.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let j=[];for(let se of a){let Y=V5(se,p.get(se.key).overlayedDocument);Y!=null&&j.push(new xr(se.key,Y,jN(Y.value.mapValue),On.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,j,a)}).next(R=>{m=R;let j=R.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(y,R.batchId,j)})}).then(()=>({batchId:m.batchId,changes:QN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Au[s.currentUser.toKey()];l||(l=new rt(_e)),l=l.insert(a,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Kl(r,i.changes),yield Jm(r.remoteStore)}catch(i){let o=DT(i,"Failed to persist write");t.reject(o)}})}function wk(n,e){return E(this,null,function*(){let t=he(n);try{let r=yield u8(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?ke(s.cu,14607):i.removedDocuments.size>0&&(ke(s.cu,42227),s.cu=!1))}),yield Kl(t,r,e)}catch(r){yield dc(r)}})}function rN(n,e,t){let r=he(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=he(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Sa)m.Fa(a)&&(l=!0)}),l&&xT(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function P8(n,e,t){return E(this,null,function*(){let r=he(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new rt(te.comparator);s=s.insert(o,tr.newNoDocument(o,pe.min()));let a=be().add(o),u=new ym(pe.min(),new Map,new rt(_e),s,a);yield wk(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),MT(r)}else yield Mw(r.localStore,e,!1).then(()=>Jw(r,e,t)).catch(dc)})}function O8(n,e){return E(this,null,function*(){let t=he(n),r=e.batch.batchId;try{let i=yield c8(t.localStore,e);bk(t,r,null),Tk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Kl(t,i)}catch(i){yield dc(i)}})}function L8(n,e,t){return E(this,null,function*(){let r=he(n);try{let i=yield function(s,a){let u=he(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ke(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);bk(r,e,t),Tk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Kl(r,i)}catch(i){yield dc(i)}})}function Tk(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function bk(n,e,t){let r=he(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Jw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||Ck(n,r)})}function Ck(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(wT(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),MT(n))}function iN(n,e,t){for(let r of t)r instanceof Nm?(n.du.addReference(r.key,e),F8(n,r)):r instanceof km?(W(RT,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||Ck(n,r.key)):oe(19791,{pu:r})}function F8(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(W(RT,"New document in limbo: "+t),n.Tu.add(r),MT(n))}function MT(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new te(Ke.fromString(e)),r=n.Vu.next();n.Eu.set(r,new Yw(t)),n.Iu=n.Iu.insert(t,r),mk(n.remoteStore,new Ll(Dr(Wm(t.path)),r,"TargetPurposeLimboResolution",dT.le))}}function Kl(n,e,t){return E(this,null,function*(){let r=he(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{s.push(r.fu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Sw.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return E(this,null,function*(){let h=he(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,m=>L.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>L.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!hc(p))throw p;W(IT,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.xs.get(m),S=y.snapshotVersion,k=y.withLastLimboFreeSnapshotVersion(S);h.xs=h.xs.insert(m,k)}}})}(r.localStore,o))})}function V8(n,e){return E(this,null,function*(){let t=he(n);if(!t.currentUser.isEqual(e)){W(RT,"User change. New user:",e.toKey());let r=yield fk(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(u=>{u.reject(new z(O.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Kl(t,r.ks)}})}function j8(n,e){let t=he(n),r=t.Eu.get(e);if(r&&r.cu)return be().add(r.key);{let i=be(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function Dk(n){let e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P8.bind(null,e),e.lu.Y_=D8.bind(null,e.eventManager),e.lu.gu=S8.bind(null,e.eventManager),e}function U8(n){let e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L8.bind(null,e),e}var Sk=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=Ym(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return a8(this.persistence,new xw,t.initialUser,this.serializer)}Su(t){return new Tm(Dw.fi,this.serializer)}bu(t){return new Nw}terminate(){return E(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Xw=class extends Sk{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ke(this.persistence.referenceDelegate instanceof bm,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new fw(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new Tm(r=>bm.fi(r,t),this.serializer)}};var B8=(()=>{class n{initialize(t,r){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=V8.bind(null,this.syncEngine),yield C8(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Gw}()}createDatastore(t){let r=Ym(t.databaseInfo.databaseId),i=function(s){return new Fw(s)}(t.databaseInfo);return function(s,a,u,l){return new Bw(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new Hw(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>rN(this.syncEngine,r,0),function(){return Dm.C()?new Dm:new kw}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let m=new Zw(o,s,a,u,l,h);return p&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var t,r;yield function(o){return E(this,null,function*(){let s=he(o);W(Cs,"RemoteStore shutting down."),s.da.add(5),yield Wl(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Ul=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var co="FirestoreClient",eT=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>E(this,null,function*(){W(co,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W(co,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=DT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function bI(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),W(co,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>E(null,null,function*(){r.isEqual(i)||(yield fk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function oN(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield $8(n);W(co,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>eN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>eN(e.remoteStore,i)),n._onlineComponents=e})}function $8(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W(co,"Using user provided OfflineComponentProvider");try{yield bI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Za("Error using user provided cache. Falling back to memory cache: "+t),yield bI(n,new Sk)}}else W(co,"Using default OfflineComponentProvider"),yield bI(n,new Xw(void 0));return n._offlineComponents})}function Ak(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(W(co,"Using user provided OnlineComponentProvider"),yield oN(n,n._uninitializedComponentsProvider._online)):(W(co,"Using default OnlineComponentProvider"),yield oN(n,new B8))),n._onlineComponents})}function H8(n){return Ak(n).then(e=>e.syncEngine)}function Pm(n){return E(this,null,function*(){let e=yield Ak(n),t=e.eventManager;return t.onListen=A8.bind(null,e.syncEngine),t.onUnlisten=M8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=x8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=N8.bind(null,e.syncEngine),t})}function z8(n,e,t={}){let r=new er;return n.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return function(o,s,a,u,l){let h=new Ul({next:m=>{h.xu(),s.enqueueAndForget(()=>AT(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new z(O.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new z(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new jl(Wm(a.path),h,{includeMetadataChanges:!0,Qa:!0});return ST(o,p)}(yield Pm(n),n.asyncQueue,e,t,r)})),r.promise}function q8(n,e,t={}){let r=new er;return n.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return function(o,s,a,u,l){let h=new Ul({next:m=>{h.xu(),s.enqueueAndForget(()=>AT(o,p)),m.fromCache&&u.source==="server"?l.reject(new z(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new jl(a,h,{includeMetadataChanges:!0,Qa:!0});return ST(o,p)}(yield Pm(n),n.asyncQueue,e,t,r)})),r.promise}function xk(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var sN=new Map;function Rk(n,e,t){if(!t)throw new z(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function G8(n,e,t,r){if(e===!0&&r===!0)throw new z(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aN(n){if(!te.isDocumentKey(n))throw new z(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cN(n){if(te.isDocumentKey(n))throw new z(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":oe(12329,{type:typeof n})}function wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Xm(n);throw new z(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Mk="firestore.googleapis.com",uN=!0,Om=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mk,this.ssl=uN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:uN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i8)throw new z(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},uc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DI;switch(r.type){case"firstParty":return new RI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=sN.get(t);r&&(W("ComponentProvider","Removing Datastore"),sN.delete(t),r.terminate())}(this),Promise.resolve()}};function Nk(n,e,t,r={}){var i;n=wn(n,uc);let o=Yi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Sp(`https://${u}`),Ap("Firestore",!0)),s.host!==Mk&&s.host!==u&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Er(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=At.MOCK_USER;else{h=UR(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new z(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new At(m)}n._authCredentials=new SI(new cm(h,p))}}var uo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},en=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},io=class n extends uo{constructor(e,t,r){super(e,t,Wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new te(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function kk(n,e,...t){if(n=et(n),Rk("collection","path",e),n instanceof uc){let r=Ke.fromString(e,...t);return cN(r),new io(n,null,r)}{if(!(n instanceof en||n instanceof io))throw new z(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ke.fromString(e,...t));return cN(r),new io(n.firestore,null,r)}}function NT(n,e,...t){if(n=et(n),arguments.length===1&&(e=lm.newId()),Rk("doc","path",e),n instanceof uc){let r=Ke.fromString(e,...t);return aN(r),new en(n,null,new te(r))}{if(!(n instanceof en||n instanceof io))throw new z(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ke.fromString(e,...t));return aN(r),new en(n.firestore,n instanceof io?n.converter:null,new te(r))}}var lN="AsyncQueue",Lm=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Sm(this,"async_queue_retry"),this.rc=()=>{let r=TI();r&&W(lN,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=TI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=TI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new er;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return E(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!hc(e))throw e;W(lN,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ai("INTERNAL UNHANDLED ERROR: ",dN(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=zw.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&oe(47125,{cc:dN(this.Xu)})}verifyOperationInProgress(){}lc(){return E(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function dN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function hN(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var rr=class extends uc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Lm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Lm(e),this._firestoreClient=void 0,yield e}})}};function Pk(n,e){let t=typeof n=="object"?n:us(),r=typeof n=="string"?n:e||pm,i=Fa(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=jR("firestore");o&&Nk(i,...o)}return i}function Ql(n){if(n._terminated)throw new z(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||W8(n),n._firestoreClient}function W8(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new OI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new eT(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Bl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(qt.fromBase64String(e))}catch(t){throw new z(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ds=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $l=class{constructor(e){this._methodName=e}};var Hl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var zl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var K8=/^__.*__$/,tT=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,t,this.fieldTransforms):new bs(e,this.data,t,this.fieldTransforms)}},Fm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Ok(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ic:n})}}var nT=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return jm(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Ok(this.Ic)&&K8.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},rT=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ym(e)}bc(e,t,r,i=!1){return new nT({Ic:e,methodName:t,wc:r,path:In.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function eg(n){let e=n._freezeSettings(),t=Ym(n._databaseId);return new rT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Lk(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);kT("Data must be an object, but it was:",s,r);let a=jk(r,s),u,l;if(o.merge)u=new Pn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=iT(e,p,t);if(!s.contains(m))throw new z(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Bk(h,m)||h.push(m)}u=new Pn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new tT(new En(a),u,l)}var Vm=class n extends $l{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Fk(n,e,t,r){let i=n.bc(1,e,t);kT("Data must be an object, but it was:",i,r);let o=[],s=En.empty();lo(r,(u,l)=>{let h=PT(e,u,t);l=et(l);let p=i.mc(h);if(l instanceof Vm)o.push(h);else{let m=Yl(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Pn(o);return new Fm(s,a,i.fieldTransforms)}function Vk(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[iT(e,r,t)],u=[i];if(o.length%2!=0)throw new z(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(iT(e,o[m])),u.push(o[m+1]);let l=[],h=En.empty();for(let m=a.length-1;m>=0;--m)if(!Bk(l,a[m])){let y=a[m],S=u[m];S=et(S);let k=s.mc(y);if(S instanceof Vm)l.push(y);else{let R=Yl(S,k);R!=null&&(l.push(y),h.set(y,R))}}let p=new Pn(l);return new Fm(h,p,s.fieldTransforms)}function Q8(n,e,t,r=!1){return Yl(t,n.bc(r?4:3,e))}function Yl(n,e){if(Uk(n=et(n)))return kT("Unsupported field value:",e,n),jk(n,e);if(n instanceof $l)return function(r,i){if(!Ok(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Yl(a,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return k5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ot.fromDate(r);return{timestampValue:Im(i.serializer,o)}}if(r instanceof Ot){let o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Im(i.serializer,o)}}if(r instanceof Hl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bl)return{bytesValue:ok(i.serializer,r._byteString)};if(r instanceof en){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ET(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zl)return function(s,a){return{mapValue:{fields:{[pT]:{stringValue:mT},[Xa]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return _T(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Xm(r)}`)}(n,e)}function jk(n,e){let t={};return MN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(n,(r,i)=>{let o=Yl(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Uk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ot||n instanceof Hl||n instanceof Bl||n instanceof en||n instanceof $l||n instanceof zl)}function kT(n,e,t){if(!Uk(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Xm(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function iT(n,e,t){if((e=et(e))instanceof Ds)return e._internalPath;if(typeof e=="string")return PT(n,e);throw jm("Field path arguments must be of type string or ",n,!1,void 0,t)}var Y8=new RegExp("[~\\*/\\[\\]]");function PT(n,e,t){if(e.search(Y8)>=0)throw jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ds(...e.split("."))._internalPath}catch{throw jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jm(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(O.INVALID_ARGUMENT,a+n+u)}function Bk(n,e){return n.some(t=>t.isEqual(e))}var Um=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new oT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(tg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},oT=class extends Um{data(){return super.data()}};function tg(n,e){return typeof e=="string"?PT(n,e):e instanceof Ds?e._internalPath:e._delegate._internalPath}function $k(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ql=class{},Bm=class extends ql{};function Hk(n,e,...t){let r=[];e instanceof ql&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof sT).length,a=o.filter(u=>u instanceof $m).length;if(s>1||s>0&&a>0)throw new z(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var $m=class n extends Bm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Gk(e._query,t),new uo(e.firestore,e.converter,KI(e._query,t))}_parse(e){let t=eg(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new z(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){pN(p,h);let S=[];for(let k of p)S.push(fN(u,o,k));m={arrayValue:{values:S}}}else m=fN(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||pN(p,h),m=Q8(a,s,p,h==="in"||h==="not-in");return gt.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function zk(n,e,t){let r=e,i=tg("where",n);return $m._create(i,r,t)}var sT=class n extends ql{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:nr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Gk(s,u),s=KI(s,u)}(e._query,t),new uo(e.firestore,e.converter,KI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var aT=class n extends Bm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new z(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Is(o,s)}(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new so(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function qk(n,e="asc"){let t=e,r=tg("orderBy",n);return aT._create(r,t)}function fN(n,e,t){if(typeof(t=et(t))=="string"){if(t==="")throw new z(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qN(e)&&t.indexOf("/")!==-1)throw new z(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ke.fromString(t));if(!te.isDocumentKey(r))throw new z(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NM(n,new te(r))}if(t instanceof en)return NM(n,t._key);throw new z(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xm(t)}.`)}function pN(n,e){if(!Array.isArray(n)||n.length===0)throw new z(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gk(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new z(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var cT=class{convertValue(e,t="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return lo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Xa].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>qe(s.doubleValue));return new zl(o)}convertGeoPoint(e){return new Hl(qe(e.latitude),qe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Gm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){let t=ci(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ke.fromString(e);ke(dk(r),9688,{name:e});let i=new mm(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(t)||ai(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Wk(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var vs=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Hm=class extends Um{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ya(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(tg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ya=class extends Hm{data(e={}){return super.data(e)}},zm=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new vs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ya(this._firestore,this._userDataWriter,r.key,r,new vs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ya(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ya(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Z8(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Z8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:n})}}function Kk(n){n=wn(n,en);let e=wn(n.firestore,rr);return z8(Ql(e),n._key).then(t=>Xk(e,n,t))}var Gl=class extends cT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,t)}};function Qk(n){n=wn(n,uo);let e=wn(n.firestore,rr),t=Ql(e),r=new Gl(e);return $k(n._query),q8(t,n._query).then(i=>new zm(e,r,n,i))}function Yk(n,e,t,...r){n=wn(n,en);let i=wn(n.firestore,rr),o=eg(i),s;return s=typeof(e=et(e))=="string"||e instanceof Ds?Vk(o,"updateDoc",n._key,e,t,r):Fk(o,"updateDoc",n._key,e),ng(i,[s.toMutation(n._key,On.exists(!0))])}function Zk(n){return ng(wn(n.firestore,rr),[new ac(n._key,On.none())])}function Jk(n,e){let t=wn(n.firestore,rr),r=NT(n),i=Wk(n.converter,e);return ng(t,[Lk(eg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,On.exists(!1))]).then(()=>r)}function OT(n,...e){var t,r,i;n=et(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||hN(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(hN(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof en)l=wn(n.firestore,rr),h=Wm(n._key.path),u={next:p=>{e[s]&&e[s](Xk(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=wn(n,uo);l=wn(p.firestore,rr),h=p._query;let m=new Gl(l);u={next:y=>{e[s]&&e[s](new zm(l,m,p,y))},error:e[s+1],complete:e[s+2]},$k(n._query)}return function(m,y,S,k){let R=new Ul(k),j=new jl(y,R,S);return m.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return ST(yield Pm(m),j)})),()=>{R.xu(),m.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return AT(yield Pm(m),j)}))}}(Ql(l),h,a,u)}function ng(n,e){return function(r,i){let o=new er;return r.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return k8(yield H8(r),i,o)})),o.promise}(Ql(n),e)}function Xk(n,e,t){let r=t.docs.get(e._key),i=new Gl(n);return new Hm(n,i,e._key,r,new vs(t.hasPendingWrites,t.fromCache),e.converter)}var uT=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=eg(e)}set(e,t,r){this._verifyNotCommitted();let i=CI(e,this._firestore),o=Wk(i.converter,t,r),s=Lk(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,On.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let o=CI(e,this._firestore),s;return s=typeof(t=et(t))=="string"||t instanceof Ds?Vk(this._dataReader,"WriteBatch.update",o._key,t,r,i):Fk(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,On.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=CI(e,this._firestore);return this._mutations=this._mutations.concat(new ac(t._key,On.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new z(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function CI(n,e){if((n=et(n)).firestore!==e)throw new z(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function eP(n){return Ql(n=wn(n,rr)),new uT(n,e=>ng(n,e))}(function(e,t=!0){(function(i){lc=i})(Ji),Zn(new Xt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new rr(new AI(r.getProvider("auth-internal")),new MI(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mm(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),tt(wM,TM,e),tt(wM,TM,"esm2017")})();var rg=function(){return rg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},rg.apply(this,arguments)};var e9={includeMetadataChanges:!1};function tP(n,e){return e===void 0&&(e=e9),new ie(function(t){var r=OT(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function nP(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:rg(rg({},r),(t={},t[e.idField]=n.id,t))}function rP(n){return tP(n,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function iP(n,e){return e===void 0&&(e={}),rP(n).pipe(ne(function(t){return t.map(function(r){return nP(r,e)})}))}var hi=class{constructor(e){return e}},oP="firestore",LT=class{constructor(){return ja(oP)}};var FT=new H("angularfire2.firestore-instances");function t9(n,e){let t=hl(oP,n,e);return t&&new hi(t)}function n9(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new hi(r)}}var r9={provide:LT,deps:[[new sn,FT]]},i9={provide:hi,useFactory:t9,deps:[[new sn,FT],ti]};function sP(n,...e){return tt("angularfire",Xi.full,"fst"),on([i9,r9,{provide:FT,useFactory:n9(n),multi:!0,deps:[xe,Ze,eo,ds,[new sn,bl],[new sn,Ua],...e]}])}var aP=nt(iP,!0);var ig=nt(Jk,!0,2);var og=nt(kk,!0,2);var sg=nt(Zk,!0,2);var Rr=nt(NT,!0,2);var ag=nt(Kk,!0);var pc=nt(Qk,!0);var cP=nt(Pk,!0);var VT=nt(qk,!0,2),As=nt(Hk,!0,2);var mc=nt(Yk,!0,2);var xs=nt(zk,!0,2),jT=nt(eP,!0,2);var Rt=class n{constructor(e){this.auth=e;this.user$=gM(this.auth)}user$;signInWithGoogle(){let e=new aI;return vM(this.auth,e)}signOut(){return _M(this.auth)}static \u0275fac=function(t){return new(t||n)(q(ms))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function s9(n,e){if(n&1&&(fa(0),N(1),pa()),n&2){let t=e.ngIf;V(),Et(" Welcome, ",t&&t.displayName?t.displayName.split(" ")[0]||t.displayName:"User","! ")}}function a9(n,e){n&1&&N(0," Welcome! ")}var cg=class n{constructor(e,t){this.authService=e;this.router=t}get user$(){return this.authService.user$}navigateToLists(){this.router.navigate(["/lists"])}navigateToIpLookup(){this.router.navigate(["/ip-lookup"])}showProfile(){this.router.navigate(["/profile"])}static \u0275fac=function(t){return new(t||n)(K(Rt),K(He))};static \u0275cmp=_t({type:n,selectors:[["app-home"]],decls:44,vars:4,consts:[["welcomeGuest",""],[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],[1,"max-w-7xl","mx-auto","px-3","sm:px-4","lg:px-6","py-4","sm:py-6"],[1,"text-center","mb-6","sm:mb-8"],[1,"text-sm","sm:text-base","text-gray-600","dark:text-gray-300","max-w-2xl","mx-auto"],[4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-3","sm:gap-4"],[1,"card","group","cursor-pointer",3,"click"],[1,"flex","items-center","space-x-3","sm:space-x-4"],[1,"flex-shrink-0"],[1,"w-10","h-10","sm:w-12","sm:h-12","bg-primary-100","dark:bg-primary-900","rounded-lg","flex","items-center","justify-center","group-hover:bg-primary-200","dark:group-hover:bg-primary-800","transition-colors","duration-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","text-primary-600","dark:text-primary-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],[1,"flex-1","min-w-0"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900","dark:text-white","group-hover:text-primary-600","dark:group-hover:text-primary-400","transition-colors","duration-200"],[1,"text-xs","sm:text-sm","text-gray-500","dark:text-gray-400"],[1,"w-10","h-10","sm:w-12","sm:h-12","bg-green-100","dark:bg-green-900","rounded-lg","flex","items-center","justify-center","group-hover:bg-green-200","dark:group-hover:bg-green-800","transition-colors","duration-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","text-green-600","dark:text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900","dark:text-white","group-hover:text-green-600","dark:group-hover:text-green-400","transition-colors","duration-200"],[1,"w-10","h-10","sm:w-12","sm:h-12","bg-purple-100","dark:bg-purple-900","rounded-lg","flex","items-center","justify-center","group-hover:bg-purple-200","dark:group-hover:bg-purple-800","transition-colors","duration-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","text-purple-600","dark:text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900","dark:text-white","group-hover:text-purple-600","dark:group-hover:text-purple-400","transition-colors","duration-200"]],template:function(t,r){if(t&1){let i=We();v(0,"div",1)(1,"div",2)(2,"div",3)(3,"p",4),De(4,s9,2,1,"ng-container",5),Be(5,"async"),De(6,a9,1,0,"ng-template",null,0,Z_),N(8," Explore some of my utilities, tools and research items. "),T()(),v(9,"div",6)(10,"div",7),Z("click",function(){return ae(i),ce(r.navigateToLists())}),v(11,"div",8)(12,"div",9)(13,"div",10),J(),v(14,"svg",11),G(15,"path",12),T()()(),le(),v(16,"div",13)(17,"h3",14),N(18," Todo Lists "),T(),v(19,"p",15),N(20," Create and manage your todo lists "),T()()()(),v(21,"div",7),Z("click",function(){return ae(i),ce(r.navigateToIpLookup())}),v(22,"div",8)(23,"div",9)(24,"div",16),J(),v(25,"svg",17),G(26,"path",18)(27,"path",19),T()()(),le(),v(28,"div",13)(29,"h3",20),N(30," IP Lookup "),T(),v(31,"p",15),N(32," Check your IP address and location "),T()()()(),v(33,"div",7),Z("click",function(){return ae(i),ce(r.showProfile())}),v(34,"div",8)(35,"div",9)(36,"div",21),J(),v(37,"svg",22),G(38,"path",23),T()()(),le(),v(39,"div",13)(40,"h3",24),N(41," Profile "),T(),v(42,"p",15),N(43," View your account information "),T()()()()()()()}if(t&2){let i=Y_(7);V(4),X("ngIf",It(5,2,r.user$))("ngIfElse",i)}},dependencies:[Dt,Zt,Zr],encapsulation:2})};var ug=class n{constructor(e){this.http=e}apiUrl="https://api.ipstack.com/check?access_key=c30488184006475d64ed23dfcf4dc153";getLocation(){return this.http.get(this.apiUrl)}static \u0275fac=function(t){return new(t||n)(q(Ia))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function u9(n,e){n&1&&(v(0,"div",8)(1,"div",9),G(2,"div",10),v(3,"span",11),N(4,"Loading IP information..."),T()()())}function l9(n,e){if(n&1&&(v(0,"div",12)(1,"div",13),J(),v(2,"svg",14),G(3,"path",15),T(),le(),v(4,"div")(5,"h3",16),N(6,"Error"),T(),v(7,"p",17),N(8),T()()()()),n&2){let t=ee();V(8),Ue(t.error)}}function d9(n,e){n&1&&(J(),v(0,"svg",49),G(1,"path",50),T())}function h9(n,e){n&1&&(J(),v(0,"svg",51),G(1,"path",50),T())}function f9(n,e){if(n&1){let t=We();v(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21),J(),v(4,"svg",22),G(5,"path",23),T()(),le(),v(6,"div")(7,"h2",24),N(8,"Your IP Address"),T(),v(9,"p",11),N(10,"Current network information"),T()()(),v(11,"div",25)(12,"div",26)(13,"div")(14,"label",27),N(15,"IP Address"),T(),v(16,"div",28)(17,"code",29),N(18),T(),v(19,"button",30),Z("click",function(){ae(t);let i=ee();return ce(i.copyToClipboard(i.ipInfo.ip))}),J(),v(20,"svg",31),G(21,"path",32),T()()()(),le(),v(22,"div")(23,"label",27),N(24,"Type"),T(),v(25,"span",33),N(26),T()()(),v(27,"div",26)(28,"div")(29,"label",27),N(30,"Continent"),T(),v(31,"p",34),N(32),T()(),v(33,"div")(34,"label",27),N(35,"Country"),T(),v(36,"p",34),N(37),T()()()()(),v(38,"div",35)(39,"div",19)(40,"h3",36),J(),v(41,"svg",37),G(42,"path",38)(43,"path",39),T(),N(44," Location Details "),T(),le(),v(45,"div",40)(46,"div",41)(47,"span",42),N(48,"Region:"),T(),v(49,"span",43),N(50),T()(),v(51,"div",41)(52,"span",42),N(53,"City:"),T(),v(54,"span",43),N(55),T()(),v(56,"div",41)(57,"span",42),N(58,"ZIP Code:"),T(),v(59,"span",43),N(60),T()(),v(61,"div",41)(62,"span",42),N(63,"Latitude:"),T(),v(64,"span",43),N(65),T()(),v(66,"div",41)(67,"span",42),N(68,"Longitude:"),T(),v(69,"span",43),N(70),T()()()(),v(71,"div",19)(72,"h3",36),J(),v(73,"svg",37),G(74,"path",44),T(),N(75," Network Information "),T(),le(),v(76,"div",40)(77,"div",41)(78,"span",42),N(79,"ISP:"),T(),v(80,"span",43),N(81),T()(),v(82,"div",41)(83,"span",42),N(84,"Organization:"),T(),v(85,"span",43),N(86),T()(),v(87,"div",41)(88,"span",42),N(89,"ASN:"),T(),v(90,"span",43),N(91),T()()()()(),v(92,"div",45)(93,"button",46),Z("click",function(){ae(t);let i=ee();return ce(i.refreshIpInfo())}),De(94,d9,2,0,"svg",47)(95,h9,2,0,"svg",48),N(96),T()()()}if(n&2){let t=ee();V(18),Ue(t.ipInfo.ip),V(8),Et(" ",t.ipInfo.type||"Unknown"," "),V(6),Ue(t.ipInfo.continent_name||"Unknown"),V(5),Ue(t.ipInfo.country_name||"Unknown"),V(13),Ue(t.ipInfo.region_name||"Unknown"),V(5),Ue(t.ipInfo.city||"Unknown"),V(5),Ue(t.ipInfo.zip||"Unknown"),V(5),Ue(t.ipInfo.latitude||"Unknown"),V(5),Ue(t.ipInfo.longitude||"Unknown"),V(11),Ue((t.ipInfo.connection==null?null:t.ipInfo.connection.isp)||"Unknown"),V(5),Ue((t.ipInfo.connection==null?null:t.ipInfo.connection.organization)||"Unknown"),V(5),Ue((t.ipInfo.connection==null?null:t.ipInfo.connection.asn)||"Unknown"),V(2),X("disabled",t.isLoading),V(),X("ngIf",!t.isLoading),V(),X("ngIf",t.isLoading),V(),Et(" ",t.isLoading?"Refreshing...":"Refresh IP Info"," ")}}var lg=class n{constructor(e){this.locationService=e}ipInfo=null;isLoading=!1;error=null;ngOnInit(){this.refreshIpInfo()}refreshIpInfo(){this.isLoading=!0,this.error=null,this.locationService.getLocation().subscribe({next:e=>{this.ipInfo=e,this.isLoading=!1},error:e=>{this.error="Failed to load IP information. Please try again.",this.isLoading=!1,console.error("IP lookup error:",e)}})}copyToClipboard(e){navigator.clipboard.writeText(e).then(()=>{console.log("IP address copied to clipboard")}).catch(t=>{console.error("Failed to copy text: ",t)})}static \u0275fac=function(t){return new(t||n)(K(ug))};static \u0275cmp=_t({type:n,selectors:[["app-ip-lookup"]],decls:10,vars:3,consts:[[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],[1,"max-w-4xl","mx-auto","px-3","sm:px-4","lg:px-6","py-4","sm:py-6"],[1,"text-center","mb-4","sm:mb-6"],[1,"text-2xl","sm:text-3xl","md:text-4xl","font-bold","text-gray-900","dark:text-white","mb-2","sm:mb-4"],[1,"text-sm","sm:text-base","text-gray-600","dark:text-gray-300"],["class","card text-center",4,"ngIf"],["class","card border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20",4,"ngIf"],["class","space-y-4 sm:space-y-6",4,"ngIf"],[1,"card","text-center"],[1,"flex","items-center","justify-center","space-x-2"],[1,"animate-spin","rounded-full","h-5","w-5","border-b-2","border-primary-600"],[1,"text-sm","text-gray-600","dark:text-gray-300"],[1,"card","border-red-200","dark:border-red-700","bg-red-50","dark:bg-red-900/20"],[1,"flex","items-center","space-x-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-base","sm:text-lg","font-medium","text-red-800","dark:text-red-200"],[1,"text-sm","text-red-600","dark:text-red-300"],[1,"space-y-4","sm:space-y-6"],[1,"card"],[1,"flex","items-center","space-x-3","sm:space-x-4","mb-4","sm:mb-6"],[1,"w-10","h-10","sm:w-12","sm:h-12","bg-primary-100","dark:bg-primary-900","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","text-primary-600","dark:text-primary-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","sm:gap-6"],[1,"space-y-3","sm:space-y-4"],[1,"block","text-xs","sm:text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],[1,"flex","items-center","space-x-2"],[1,"px-2","sm:px-3","py-1.5","sm:py-2","bg-gray-100","dark:bg-gray-700","text-gray-800","dark:text-gray-200","rounded-lg","font-mono","text-sm","sm:text-lg"],[1,"p-1.5","sm:p-2","text-gray-500","hover:text-gray-700","dark:text-gray-400","dark:hover:text-gray-200","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","sm:w-5","sm:h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"inline-flex","items-center","px-2","sm:px-3","py-1","rounded-full","text-xs","sm:text-sm","font-medium","bg-blue-100","text-blue-800","dark:bg-blue-900","dark:text-blue-200"],[1,"text-sm","sm:text-lg","text-gray-900","dark:text-white"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4","sm:gap-6"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900","dark:text-white","mb-3","sm:mb-4","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","sm:w-5","sm:h-5","mr-2","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"space-y-2","sm:space-y-3","text-xs","sm:text-sm"],[1,"flex","justify-between"],[1,"text-gray-600","dark:text-gray-400"],[1,"text-gray-900","dark:text-white","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center"],[1,"btn-primary",3,"click","disabled"],["class","w-4 h-4 mr-1.5 sm:mr-2","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4 mr-1.5 sm:mr-2 animate-spin","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1.5","sm:mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1.5","sm:mr-2","animate-spin"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),N(4," IP Address Lookup "),T(),v(5,"p",4),N(6," Get detailed information about your current IP address and location "),T()(),De(7,u9,5,0,"div",5)(8,l9,9,1,"div",6)(9,f9,97,16,"div",7),T()()),t&2&&(V(7),X("ngIf",r.isLoading),V(),X("ngIf",r.error),V(),X("ngIf",r.ipInfo&&!r.isLoading))},dependencies:[Dt,Zt,ss],encapsulation:2})};var yP=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(K(zr),K(fn))};static \u0275dir=ht({type:n})}return n})(),p9=(()=>{class n extends yP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=qo(n)))(i||n)}})();static \u0275dir=ht({type:n,features:[fr]})}return n})(),vP=new H("");var m9={provide:vP,useExisting:jr(()=>_c),multi:!0};function g9(){let n=Rn()?Rn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var y9=new H(""),_c=(()=>{class n extends yP{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!g9())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(K(zr),K(fn),K(y9,8))};static \u0275dir=ht({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Z("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ma([m9]),fr]})}return n})();function v9(n){return n==null||_9(n)===0}function _9(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var HT=new H(""),_P=new H("");function E9(n){return v9(n.value)?{required:!0}:null}function uP(n){return null}function EP(n){return n!=null}function IP(n){return Gr(n)?Ee(n):n}function wP(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function TP(n,e){return e.map(t=>t(n))}function I9(n){return!n.validate}function bP(n){return n.map(e=>I9(e)?e:t=>e.validate(t))}function w9(n){if(!n)return null;let e=n.filter(EP);return e.length==0?null:function(t){return wP(TP(t,e))}}function zT(n){return n!=null?w9(bP(n)):null}function T9(n){if(!n)return null;let e=n.filter(EP);return e.length==0?null:function(t){let r=TP(t,e).map(IP);return by(r).pipe(ne(wP))}}function qT(n){return n!=null?T9(bP(n)):null}function lP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function b9(n){return n._rawValidators}function C9(n){return n._rawAsyncValidators}function UT(n){return n?Array.isArray(n)?n:[n]:[]}function hg(n,e){return Array.isArray(n)?n.includes(e):n===e}function dP(n,e){let t=UT(e);return UT(n).forEach(i=>{hg(t,i)||t.push(i)}),t}function hP(n,e){return UT(e).filter(t=>!hg(n,t))}var fg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},vc=class extends fg{name;get formDirective(){return null}get path(){return null}},nd=class extends fg{_parent=null;name=null;valueAccessor=null},pg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},D9={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rde=re(F({},D9),{"[class.ng-submitted]":"isSubmitted"}),vg=(()=>{class n extends pg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(K(nd,2))};static \u0275dir=ht({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Qo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[fr]})}return n})(),_g=(()=>{class n extends pg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(K(vc,10))};static \u0275dir=ht({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Qo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[fr]})}return n})();var Zl="VALID",dg="INVALID",gc="PENDING",Jl="DISABLED",ho=class{},mg=class extends ho{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ed=class extends ho{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},td=class extends ho{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},yc=class extends ho{status;source;constructor(e,t){super(),this.status=e,this.source=t}},BT=class extends ho{source;constructor(e){super(),this.source=e}},$T=class extends ho{source;constructor(e){super(),this.source=e}};function CP(n){return(Eg(n)?n.validators:n)||null}function S9(n){return Array.isArray(n)?zT(n):n||null}function DP(n,e){return(Eg(e)?e.asyncValidators:n)||null}function A9(n){return Array.isArray(n)?qT(n):n||null}function Eg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function x9(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[t])throw new B(1001,"")}function R9(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new B(1002,"")})}var gg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return an(this.statusReactive)}set status(e){an(()=>this.statusReactive.set(e))}_status=ga(()=>this.statusReactive());statusReactive=ur(void 0);get valid(){return this.status===Zl}get invalid(){return this.status===dg}get pending(){return this.status==gc}get disabled(){return this.status===Jl}get enabled(){return this.status!==Jl}errors;get pristine(){return an(this.pristineReactive)}set pristine(e){an(()=>this.pristineReactive.set(e))}_pristine=ga(()=>this.pristineReactive());pristineReactive=ur(!0);get dirty(){return!this.pristine}get touched(){return an(this.touchedReactive)}set touched(e){an(()=>this.touchedReactive.set(e))}_touched=ga(()=>this.touchedReactive());touchedReactive=ur(!1);get untouched(){return!this.touched}_events=new it;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hP(e,this._rawAsyncValidators))}hasValidator(e){return hg(this._rawValidators,e)}hasAsyncValidator(e){return hg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new td(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new td(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ed(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ed(!0,r))}markAsPending(e={}){this.status=gc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Jl,this.errors=null,this._forEachChild(i=>{i.disable(re(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mg(this.value,r)),this._events.next(new yc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zl,this._forEachChild(r=>{r.enable(re(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zl||this.status===gc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mg(this.value,t)),this._events.next(new yc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jl:Zl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=gc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=IP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new yc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?Jl:this.errors?dg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gc)?gc:this._anyControlsHaveStatus(dg)?dg:Zl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ed(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new td(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Eg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=S9(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=A9(this._rawAsyncValidators)}},yg=class extends gg{constructor(e,t,r){super(CP(t),DP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){R9(this,!0,e),Object.keys(e).forEach(r=>{x9(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var GT=new H("",{providedIn:"root",factory:()=>WT}),WT="always";function M9(n,e){return[...e.path,n]}function SP(n,e,t=WT){AP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),k9(n,e),O9(n,e),P9(n,e),N9(n,e)}function fP(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function N9(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function AP(n,e){let t=b9(n);e.validator!==null?n.setValidators(lP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=C9(n);e.asyncValidator!==null?n.setAsyncValidators(lP(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();fP(e._rawValidators,i),fP(e._rawAsyncValidators,i)}function k9(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&xP(n,e)})}function P9(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&xP(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function xP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function O9(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function L9(n,e){n==null,AP(n,e)}function F9(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function V9(n){return Object.getPrototypeOf(n.constructor)===p9}function j9(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function U9(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===_c?t=o:V9(o)?r=o:i=o}),i||r||t||null}var B9={provide:vc,useExisting:jr(()=>rd)},Xl=Promise.resolve(),rd=(()=>{class n extends vc{callSetDisabledState;get submitted(){return an(this.submittedReactive)}_submitted=ga(()=>this.submittedReactive());submittedReactive=ur(!1);_directives=new Set;form;ngSubmit=new ct;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new yg({},zT(t),qT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),SP(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xl.then(()=>{let r=this._findContainer(t.path),i=new yg({});L9(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Xl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),j9(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new BT(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new $T(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(K(HT,10),K(_P,10),K(GT,8))};static \u0275dir=ht({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Z("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ma([B9]),fr]})}return n})();function pP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function mP(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var $9=class extends gg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(CP(t),DP(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Eg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(mP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var H9={provide:nd,useExisting:jr(()=>id)},gP=Promise.resolve(),id=(()=>{class n extends nd{_changeDetectorRef;callSetDisabledState;control=new $9;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ct;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=U9(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),F9(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){SP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){gP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Bi(r);gP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?M9(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(K(vc,9),K(HT,10),K(_P,10),K(vP,10),K(Kr,8),K(GT,8))};static \u0275dir=ht({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ma([H9]),fr,hr]})}return n})();var Ig=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ht({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var z9=(()=>{class n{_validator=uP;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):uP,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ht({type:n,features:[hr]})}return n})();var q9={provide:HT,useExisting:jr(()=>KT),multi:!0};var KT=(()=>{class n extends z9{required;inputName="required";normalizeInput=Bi;createValidator=t=>E9;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=qo(n)))(i||n)}})();static \u0275dir=ht({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ha("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ma([q9]),fr]})}return n})();var G9=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=Tn({})}return n})();var wg=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:GT,useValue:t.callSetDisabledState??WT}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=Tn({imports:[G9]})}return n})();var fo=class n{constructor(e,t){this.firestore=e;this.authService=t;this.listsCollection=og(this.firestore,"todoLists")}listsCollection;getLists(){return this.authService.user$.pipe(Fe(e=>{if(!e)return Q([]);let t=As(this.listsCollection,xs("owner","==",e.uid),VT("updatedAt","desc")),r=As(this.listsCollection,xs("sharedWith","array-contains",e.email),VT("updatedAt","desc"));return Ee(Promise.all([pc(t),pc(r)])).pipe(ne(([i,o])=>{let s=i.docs.map(h=>re(F({},h.data()),{id:h.id})),a=o.docs.map(h=>re(F({},h.data()),{id:h.id}));return[...s,...a].filter((h,p,m)=>p===m.findIndex(y=>y.id===h.id)).sort((h,p)=>new Date(p.updatedAt).getTime()-new Date(h.updatedAt).getTime())}))}))}createList(e,t){return this.authService.user$.pipe(at(1),Fe(r=>{if(!r)return Q(Promise.reject("User not logged in"));let i=new Date,o={title:e,owner:r.uid,sharedWith:[],createdAt:i,updatedAt:i,isPublic:!1};return t&&t.trim()&&(o.description=t.trim()),console.log("Creating list with data:",o),Ee(ig(this.listsCollection,o))}))}updateList(e){if(!e.id)return Promise.reject("List ID is missing");let t=Rr(this.firestore,`todoLists/${e.id}`),o=e,{id:r}=o,i=Uc(o,["id"]);return i.updatedAt=new Date,Object.keys(i).forEach(s=>{i[s]===void 0&&delete i[s]}),console.log("Updating list with data:",i),mc(t,i)}deleteList(e){let t=Rr(this.firestore,`todoLists/${e}`);return sg(t)}shareList(e,t){return E(this,null,function*(){let r=Rr(this.firestore,`todoLists/${e}`),i=yield ag(r);if(!i.exists())throw new Error("List not found");let s=[...i.data().sharedWith||[],t];yield mc(r,{sharedWith:s,updatedAt:new Date})})}unshareList(e,t){return E(this,null,function*(){let r=Rr(this.firestore,`todoLists/${e}`),i=yield ag(r);if(!i.exists())throw new Error("List not found");let s=(i.data().sharedWith||[]).filter(a=>a!==t);yield mc(r,{sharedWith:s,updatedAt:new Date})})}hasAccess(e){return E(this,null,function*(){return Ty(this.authService.user$.pipe(at(1),Fe(t=>t?Ee(ag(Rr(this.firestore,`todoLists/${e}`))).pipe(ne(r=>{if(!r.exists())return!1;let i=r.data();return i.owner===t.uid||(i.sharedWith||[]).includes(t.email||"")||i.isPublic||!1})):Q(!1))))})}static \u0275fac=function(t){return new(t||n)(q(hi),q(Rt))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var Tg=class n{constructor(e,t){this.authService=e;this.todoListService=t;this.todosCollection=og(this.firestore,"todos")}firestore=P(hi);todosCollection;getTodosForList(e){return this.authService.user$.pipe(Fe(t=>{if(console.log("TodoService: Current user:",t),!t)return console.log("TodoService: No authenticated user"),Q([]);console.log("TodoService: Creating query for todos in list:",e);let r=As(this.todosCollection,xs("listId","==",e));return console.log("TodoService: Executing todos query"),aP(r,{idField:"id"}).pipe(ne(i=>i),jn(i=>(console.error("TodoService: Error loading todos:",i),Q([]))))}))}addTodo(e,t){return this.authService.user$.pipe(at(1),Fe(r=>r?(console.log("Adding todo for user:",r.uid,"to list:",e),Ee(pc(As(this.todosCollection,xs("listId","==",e)))).pipe(Fe(i=>{let o=i.size,s=new Date,a={title:t,completed:!1,listId:e,position:o,createdBy:r.uid,createdAt:s,updatedAt:s};return console.log("Creating todo with data:",a),Ee(ig(this.todosCollection,a))}))):(console.error("User not logged in"),Q(Promise.reject("User not logged in")))))}updateTodo(e){if(!e.id)return Promise.reject("Todo ID is missing");let t=Rr(this.firestore,`todos/${e.id}`),o=e,{id:r}=o,i=Uc(o,["id"]);return i.updatedAt=new Date,mc(t,i)}deleteTodo(e){let t=Rr(this.firestore,`todos/${e}`);return sg(t)}updateTodoPosition(e){let t=jT(this.firestore);return e.forEach((r,i)=>{if(r.id){let o=Rr(this.firestore,`todos/${r.id}`);t.update(o,{position:i,updatedAt:new Date})}}),t.commit()}deleteTodosInList(e){return Ee(pc(As(this.todosCollection,xs("listId","==",e)))).pipe(Fe(t=>{let r=jT(this.firestore);return t.docs.forEach(i=>{r.delete(i.ref)}),Ee(r.commit())})).toPromise()}static \u0275fac=function(t){return new(t||n)(q(Rt),q(fo))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function K9(n,e){n&1&&(v(0,"div",19)(1,"div",20),G(2,"div",21),v(3,"span",9),N(4,"Loading todo list..."),T()()())}function Q9(n,e){if(n&1&&(v(0,"div",22)(1,"div",23),J(),v(2,"svg",24),G(3,"path",25),T(),le(),v(4,"div")(5,"h3",26),N(6,"Error"),T(),v(7,"p",27),N(8),T()()()()),n&2){let t=ee();V(8),Ue(t.error)}}function Y9(n,e){n&1&&(J(),v(0,"svg",47),G(1,"path",48),T())}function Z9(n,e){n&1&&(J(),v(0,"svg",49),G(1,"path",50),T())}function J9(n,e){n&1&&(v(0,"div",51),J(),v(1,"svg",52),G(2,"path",53),T(),le(),v(3,"h3",54),N(4,"No todos yet"),T(),v(5,"p",55),N(6,"Add your first todo item above to get started."),T()())}function X9(n,e){if(n&1){let t=We();v(0,"div",58)(1,"input",59),Z("change",function(){let i=ae(t).$implicit,o=ee(3);return ce(o.toggleTodo(i))}),T(),v(2,"div",3)(3,"input",60),Z("blur",function(i){let o=ae(t).$implicit,s=ee(3);return ce(s.updateTodoText(o,i))}),T()(),v(4,"button",61),Z("click",function(){let i=ae(t).$implicit,o=ee(3);return ce(o.deleteTodo(i))}),J(),v(5,"svg",12),G(6,"path",62),T()()()}if(n&2){let t=e.$implicit;V(),X("checked",t.completed),V(2),Qo("line-through",t.completed)("text-gray-500",t.completed),X("value",t.title)}}function ez(n,e){if(n&1&&(v(0,"div",56),De(1,X9,7,6,"div",57),T()),n&2){let t=ee(2);V(),X("ngForOf",t.todos)("ngForTrackBy",t.trackByTodo)}}function tz(n,e){if(n&1){let t=We();v(0,"div",28)(1,"div",29)(2,"form",30),Z("ngSubmit",function(){ae(t);let i=ee();return ce(i.addTodo())}),v(3,"input",31),mr("ngModelChange",function(i){ae(t);let o=ee();return Wr(o.newTodoText,i)||(o.newTodoText=i),ce(i)}),T(),v(4,"button",32),De(5,Y9,2,0,"svg",33)(6,Z9,2,0,"svg",34),v(7,"span"),N(8),T()()()(),v(9,"div",29)(10,"div",35)(11,"h2",36),N(12,"Todo Items"),T(),v(13,"div",37)(14,"span"),N(15),T(),v(16,"div",38),G(17,"div",39),T()()(),De(18,J9,7,0,"div",40)(19,ez,2,2,"div",41),T(),v(20,"div",29)(21,"h3",42),N(22,"List Information"),T(),v(23,"div",43)(24,"div",44)(25,"span",45),N(26,"Created:"),T(),v(27,"span",46),N(28),Be(29,"date"),T()(),v(30,"div",44)(31,"span",45),N(32,"Last Updated:"),T(),v(33,"span",46),N(34),Be(35,"date"),T()(),v(36,"div",44)(37,"span",45),N(38,"Owner:"),T(),v(39,"span",46),N(40),T()(),v(41,"div",44)(42,"span",45),N(43,"Shared With:"),T(),v(44,"span",46),N(45),T()()()()()}if(n&2){let t=ee();V(3),pr("ngModel",t.newTodoText),X("disabled",t.isAdding),V(),X("disabled",!t.newTodoText.trim()||t.isAdding),V(),X("ngIf",!t.isAdding),V(),X("ngIf",t.isAdding),V(2),Ue(t.isAdding?"Adding...":"Add"),V(7),Cf("",t.completedCount," of ",t.todos.length||0," completed"),V(2),bf("width",t.completionPercentage,"%"),V(),X("ngIf",!t.todos.length),V(),X("ngIf",t.todos.length>0),V(9),Ue(ji(29,16,t.getDateFromTimestamp(t.todoList.createdAt),"medium")),V(6),Ue(ji(35,19,t.getDateFromTimestamp(t.todoList.updatedAt),"medium")),V(6),Ue(t.todoList.owner),V(5),Et("",t.todoList.sharedWith.length||0," users")}}var bg=class n{constructor(e,t,r,i){this.route=e;this.router=t;this.todoListService=r;this.todoService=i}todoList=null;todos=[];isLoading=!0;error=null;newTodoText="";isAdding=!1;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?(this.isLoading=!0,this.error=null,console.log("Loading todos for list ID:",e),this.todoListService.authService.user$.pipe(at(1)).subscribe(t=>{if(console.log("Current user when loading todos:",t),!t){this.error="Please log in to view todos.",this.isLoading=!1;return}this.todoListService.getLists().subscribe({next:r=>{if(console.log("All lists loaded:",r),this.todoList=r.find(i=>i.id===e)||null,!this.todoList){this.error="Todo list not found or you do not have access to it.",this.isLoading=!1;return}console.log("Found todo list:",this.todoList),this.todoListService.hasAccess(e).then(i=>{if(console.log("User has access to list:",i),!i){this.error="You do not have permission to view this list.",this.isLoading=!1;return}this.todoService.getTodosForList(e).subscribe({next:o=>{console.log("Todos loaded successfully:",o),this.todos=o,this.isLoading=!1},error:o=>{console.error("Error loading todos:",o),console.error("Error details:",{code:o.code,message:o.message,details:o.details});let s="Failed to load todos. ";o.code==="permission-denied"?s+="You may not have permission to view todos in this list.":o.code==="unauthenticated"?s+="Please log in to view todos.":s+="Please try again later.",this.error=s,this.isLoading=!1}})}).catch(i=>{console.error("Error checking access:",i),this.error="Failed to verify access to this list.",this.isLoading=!1})},error:r=>{console.error("Error loading todo list:",r),this.error="Failed to load todo list.",this.isLoading=!1}})})):(this.error="No list ID provided.",this.isLoading=!1)}get completedCount(){return this.todos.filter(e=>e.completed).length}get completionPercentage(){return this.todos.length?Math.round(this.completedCount/this.todos.length*100):0}trackByTodo(e,t){return t.id}addTodo(){!this.newTodoText.trim()||!this.todoList||(this.isAdding=!0,this.todoService.addTodo(this.todoList.id,this.newTodoText.trim()).subscribe({next:()=>{this.newTodoText="",this.isAdding=!1},error:()=>{this.error="Failed to add todo.",this.isAdding=!1}}))}toggleTodo(e){e.id&&this.todoService.updateTodo(re(F({},e),{completed:!e.completed})).catch(()=>{this.error="Failed to update todo."})}updateTodoText(e,t){let r=t.target.value.trim();!e.id||!r||r===e.title||this.todoService.updateTodo(re(F({},e),{title:r})).catch(()=>{this.error="Failed to update todo text."})}deleteTodo(e){e.id&&this.todoService.deleteTodo(e.id).catch(()=>{this.error="Failed to delete todo."})}goBack(){this.router.navigate(["/lists"])}editList(){alert("Edit list feature coming soon!")}shareList(){alert("Share list feature coming soon!")}copyToClipboard(e){navigator.clipboard.writeText(e).then(()=>{console.log("Copied to clipboard:",e)})}getDateFromTimestamp(e){return e?e instanceof Date?e:e&&typeof e.toDate=="function"?e.toDate():typeof e=="number"?new Date(e):typeof e=="string"?new Date(e):null:null}static \u0275fac=function(t){return new(t||n)(K(Nn),K(He),K(fo),K(Tg))};static \u0275cmp=_t({type:n,selectors:[["app-todo"]],decls:26,vars:5,consts:[[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],[1,"max-w-4xl","mx-auto","px-3","sm:px-4","lg:px-6","py-4","sm:py-6"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","mb-4","sm:mb-6"],[1,"flex-1","min-w-0"],[1,"flex","items-center","space-x-2","sm:space-x-4","mb-1","sm:mb-2"],[1,"p-1.5","sm:p-2","text-gray-500","hover:text-gray-700","dark:text-gray-400","dark:hover:text-gray-200","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","sm:w-5","sm:h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-xl","sm:text-2xl","md:text-3xl","font-bold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-600","dark:text-gray-300"],[1,"flex","items-center","space-x-2","mt-3","sm:mt-0"],[1,"btn-secondary","text-sm","flex","items-center","space-x-1.5","sm:space-x-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","sm:w-4","sm:h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"btn-primary","text-sm","flex","items-center","space-x-1.5","sm:space-x-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"],["class","card text-center",4,"ngIf"],["class","card border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20",4,"ngIf"],["class","space-y-4 sm:space-y-6",4,"ngIf"],[1,"card","text-center"],[1,"flex","items-center","justify-center","space-x-2"],[1,"animate-spin","rounded-full","h-5","w-5","border-b-2","border-primary-600"],[1,"card","border-red-200","dark:border-red-700","bg-red-50","dark:bg-red-900/20"],[1,"flex","items-center","space-x-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-base","sm:text-lg","font-medium","text-red-800","dark:text-red-200"],[1,"text-sm","text-red-600","dark:text-red-300"],[1,"space-y-4","sm:space-y-6"],[1,"card"],[1,"flex","space-x-2","sm:space-x-4",3,"ngSubmit"],["type","text","name","newTodoText","placeholder","Add a new todo item...",1,"input-field","flex-1",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"btn-primary","flex","items-center","space-x-1.5","sm:space-x-2",3,"disabled"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4 animate-spin","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"flex","items-center","justify-between","mb-4","sm:mb-6"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"flex","items-center","space-x-2","sm:space-x-4","text-xs","sm:text-sm","text-gray-500","dark:text-gray-400"],[1,"w-16","sm:w-24","bg-gray-200","dark:bg-gray-700","rounded-full","h-1.5","sm:h-2"],[1,"bg-primary-600","h-1.5","sm:h-2","rounded-full","transition-all","duration-300"],["class","text-center py-6 sm:py-8",4,"ngIf"],["class","space-y-2 sm:space-y-3",4,"ngIf"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900","dark:text-white","mb-3","sm:mb-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3","sm:gap-4","text-xs","sm:text-sm"],[1,"flex","justify-between"],[1,"text-gray-600","dark:text-gray-400"],[1,"text-gray-900","dark:text-white"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","animate-spin"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"text-center","py-6","sm:py-8"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-10","w-10","sm:h-12","sm:w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],[1,"mt-3","sm:mt-4","text-base","sm:text-lg","font-medium","text-gray-900","dark:text-white"],[1,"mt-1","sm:mt-2","text-sm","text-gray-600","dark:text-gray-300"],[1,"space-y-2","sm:space-y-3"],["class","flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","space-x-2","sm:space-x-3","p-2","sm:p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors","duration-200"],["type","checkbox",1,"w-4","h-4","sm:w-5","sm:h-5","text-primary-600","bg-gray-100","border-gray-300","rounded","focus:ring-primary-500","dark:focus:ring-primary-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change","checked"],["type","text",1,"w-full","bg-transparent","border-none","focus:outline-none","focus:ring-0","text-sm","sm:text-base","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400",3,"blur","value"],[1,"p-1","text-gray-400","hover:text-red-600","dark:hover:text-red-400","transition-colors","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),Z("click",function(){return r.goBack()}),J(),v(6,"svg",6),G(7,"path",7),T()(),le(),v(8,"h1",8),N(9),T()(),v(10,"p",9),N(11),T()(),v(12,"div",10)(13,"button",11),Z("click",function(){return r.editList()}),J(),v(14,"svg",12),G(15,"path",13),T(),le(),v(16,"span"),N(17,"Edit List"),T()(),v(18,"button",14),Z("click",function(){return r.shareList()}),J(),v(19,"svg",12),G(20,"path",15),T(),le(),v(21,"span"),N(22,"Share"),T()()()(),De(23,K9,5,0,"div",16)(24,Q9,9,1,"div",17)(25,tz,46,22,"div",18),T()()),t&2&&(V(9),Ue((r.todoList==null?null:r.todoList.title)||"Loading..."),V(2),Ue((r.todoList==null?null:r.todoList.description)||"No description"),V(12),X("ngIf",r.isLoading),V(),X("ngIf",r.error),V(),X("ngIf",r.todoList&&!r.isLoading))},dependencies:[Dt,ya,Zt,Zo,wg,Ig,_c,vg,_g,id,rd],encapsulation:2})};var Cg=class n{constructor(e,t){this.authService=e;this.router=t}login(){this.authService.signInWithGoogle().then(()=>{this.router.navigate(["/lists"])}).catch(e=>{console.error("Login failed:",e)})}static \u0275fac=function(t){return new(t||n)(K(Rt),K(He))};static \u0275cmp=_t({type:n,selectors:[["app-login"]],decls:8,vars:0,consts:[[1,"login-container"],[1,"login-btn",3,"click"],["src","/assets/google-logo.svg","alt","Google logo",1,"google-logo"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"h2"),N(2,"Sign in to Todo List"),T(),v(3,"p"),N(4,"Please sign in to access your personal todo list"),T(),v(5,"button",1),Z("click",function(){return r.login()}),G(6,"img",2),N(7," Sign in with Google "),T()())},dependencies:[Dt],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;margin-top:5rem;max-width:400px;margin-left:auto;margin-right:auto;padding:2rem}.login-btn[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#4285f4;color:#fff;padding:10px 24px;border:none;border-radius:4px;font-size:16px;cursor:pointer;box-shadow:0 2px 4px #00000040;transition:box-shadow .3s ease}.login-btn[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000040}.google-logo[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:16px;background-color:#fff;border-radius:50%;padding:2px}"]})};function nz(n,e){n&1&&(v(0,"div",11)(1,"div",12),G(2,"div",13),v(3,"span",14),N(4,"Loading your lists..."),T()()())}function rz(n,e){if(n&1){let t=We();v(0,"div",11)(1,"div",15),J(),v(2,"svg",16),G(3,"path",17),T(),le(),v(4,"h3",18),N(5,"No lists yet"),T(),v(6,"p",4),N(7,"Get started by creating your first todo list."),T(),v(8,"button",19),Z("click",function(){ae(t);let i=ee();return ce(i.openCreateModal())}),J(),v(9,"svg",6),G(10,"path",7),T(),le(),v(11,"span"),N(12,"Create First List"),T()()()()}}function iz(n,e){if(n&1){let t=We();v(0,"div",22),Z("click",function(){let i=ae(t).$implicit,o=ee(2);return ce(o.openList(i))}),v(1,"div",23)(2,"div",24)(3,"h3",25),N(4),T(),v(5,"p",26),N(6),T()(),v(7,"div",27)(8,"button",28),Z("click",function(){let i=ae(t).$implicit,o=ee(2);return ce(o.shareList(i))}),J(),v(9,"svg",29),G(10,"path",30),T()(),le(),v(11,"button",31),Z("click",function(i){let o=ae(t).$implicit,s=ee(2);return ce(s.editList(o,i))}),J(),v(12,"svg",29),G(13,"path",32),T()(),le(),v(14,"button",33),Z("click",function(i){let o=ae(t).$implicit,s=ee(2);return ce(s.deleteList(o,i))}),J(),v(15,"svg",29),G(16,"path",34),T()()()(),le(),v(17,"div",35)(18,"div",36)(19,"span",37),J(),v(20,"svg",38),G(21,"path",17),T(),N(22," View items "),T(),le(),v(23,"span",37),J(),v(24,"svg",38),G(25,"path",39),T(),N(26),Be(27,"date"),T()(),v(28,"svg",40),G(29,"path",41),T()()()}if(n&2){let t=e.$implicit,r=ee(2);V(4),Et(" ",t.title," "),V(2),Et(" ",t.description||"No description"," "),V(20),Et(" ",ji(27,3,r.getDateFromTimestamp(t.updatedAt),"short")," ")}}function oz(n,e){if(n&1&&(v(0,"div",20),De(1,iz,30,6,"div",21),T()),n&2){let t=ee();V(),X("ngForOf",t.todoLists)}}function sz(n,e){if(n&1){let t=We();v(0,"div",42)(1,"div",43)(2,"div",44)(3,"h3",45),N(4,"Create New List"),T(),v(5,"button",46),Z("click",function(){ae(t);let i=ee();return ce(i.closeCreateModal())}),J(),v(6,"svg",47),G(7,"path",48),T()()(),le(),v(8,"form",49),Z("ngSubmit",function(){ae(t);let i=ee();return ce(i.createNewList())}),v(9,"div")(10,"label",50),N(11," Title * "),T(),v(12,"input",51),mr("ngModelChange",function(i){ae(t);let o=ee();return Wr(o.newListTitle,i)||(o.newListTitle=i),ce(i)}),T()(),v(13,"div")(14,"label",52),N(15," Description (optional) "),T(),v(16,"textarea",53),mr("ngModelChange",function(i){ae(t);let o=ee();return Wr(o.newListDescription,i)||(o.newListDescription=i),ce(i)}),T()(),v(17,"div",54)(18,"button",55),Z("click",function(){ae(t);let i=ee();return ce(i.closeCreateModal())}),N(19," Cancel "),T(),v(20,"button",56),J(),v(21,"svg",6),G(22,"path",7),T(),le(),v(23,"span"),N(24,"Create List"),T()()()()()()}if(n&2){let t=ee();V(12),pr("ngModel",t.newListTitle),V(4),pr("ngModel",t.newListDescription),V(4),X("disabled",!t.newListTitle.trim())}}function az(n,e){if(n&1){let t=We();v(0,"div",42)(1,"div",43)(2,"div",44)(3,"h3",45),N(4,"Edit List"),T(),v(5,"button",46),Z("click",function(){ae(t);let i=ee();return ce(i.closeEditModal())}),J(),v(6,"svg",47),G(7,"path",48),T()()(),le(),v(8,"form",49),Z("ngSubmit",function(){ae(t);let i=ee();return ce(i.saveEditList())}),v(9,"div")(10,"label",57),N(11," Title * "),T(),v(12,"input",58),mr("ngModelChange",function(i){ae(t);let o=ee();return Wr(o.editListTitle,i)||(o.editListTitle=i),ce(i)}),T()(),v(13,"div")(14,"label",59),N(15," Description (optional) "),T(),v(16,"textarea",60),mr("ngModelChange",function(i){ae(t);let o=ee();return Wr(o.editListDescription,i)||(o.editListDescription=i),ce(i)}),T()(),v(17,"div",61)(18,"div",62)(19,"div")(20,"h4",63),N(21,"Sharing"),T(),v(22,"p",64),N(23,"Share this list with others"),T()(),v(24,"button",65),Z("click",function(){ae(t);let i=ee();return ce(i.shareList(i.editingList))}),J(),v(25,"svg",6),G(26,"path",30),T(),le(),v(27,"span"),N(28,"Share"),T()()()(),v(29,"div",54)(30,"button",55),Z("click",function(){ae(t);let i=ee();return ce(i.closeEditModal())}),N(31," Cancel "),T(),v(32,"button",56),J(),v(33,"svg",6),G(34,"path",66),T(),le(),v(35,"span"),N(36,"Save Changes"),T()()()()()()}if(n&2){let t=ee();V(12),pr("ngModel",t.editListTitle),V(4),pr("ngModel",t.editListDescription),V(16),X("disabled",!t.editListTitle.trim())}}function cz(n,e){if(n&1){let t=We();v(0,"div",42)(1,"div",43)(2,"div",44)(3,"h3",45),N(4,"Share List"),T(),v(5,"button",46),Z("click",function(){ae(t);let i=ee();return ce(i.cancelShare())}),J(),v(6,"svg",47),G(7,"path",48),T()()(),le(),v(8,"div",67)(9,"div")(10,"label",68),N(11," Email Address "),T(),v(12,"input",69),mr("ngModelChange",function(i){ae(t);let o=ee();return Wr(o.shareEmail,i)||(o.shareEmail=i),ce(i)}),T()(),v(13,"div",54)(14,"button",55),Z("click",function(){ae(t);let i=ee();return ce(i.cancelShare())}),N(15," Cancel "),T(),v(16,"button",70),Z("click",function(){ae(t);let i=ee();return ce(i.confirmShare())}),J(),v(17,"svg",6),G(18,"path",30),T(),le(),v(19,"span"),N(20,"Share"),T()()()()()()}if(n&2){let t=ee();V(12),pr("ngModel",t.shareEmail),V(4),X("disabled",!t.shareEmail.trim())}}var Dg=class n{constructor(e,t,r){this.todoListService=e;this.authService=t;this.router=r}todoLists=[];isLoading=!1;newListTitle="";newListDescription="";sharingList=null;shareEmail="";showShareModal=!1;showCreateModal=!1;showEditModal=!1;editingList=null;editListTitle="";editListDescription="";ngOnInit(){this.loadLists()}loadLists(){this.isLoading=!0,this.todoListService.getLists().subscribe({next:e=>{this.todoLists=e,this.isLoading=!1},error:e=>{console.error("Error loading lists:",e),this.isLoading=!1}})}openCreateModal(){this.newListTitle="",this.newListDescription="",this.showCreateModal=!0}closeCreateModal(){this.showCreateModal=!1,this.newListTitle="",this.newListDescription=""}createNewList(){if(!this.newListTitle.trim())return;let e=this.newListTitle.trim(),t=this.newListDescription.trim()||void 0;this.authService.user$.pipe(at(1)).subscribe(r=>{if(console.log("Current user:",r),!r){console.error("No authenticated user found"),alert("Please log in to create a list");return}}),this.todoListService.createList(e,t).subscribe({next:r=>{console.log("List created successfully:",r),this.todoLists.unshift(r),this.closeCreateModal()},error:r=>{console.error("Error creating list:",r),console.error("Error details:",{code:r.code,message:r.message,details:r.details});let i="Failed to create list. ";r.code==="permission-denied"?i+="You may not have permission to create lists. Please try logging out and back in.":r.code==="unauthenticated"?i+="Please log in to create lists.":i+="Please try again later.",alert(i)}})}openEditModal(e){this.editingList=e,this.editListTitle=e.title,this.editListDescription=e.description||"",this.showEditModal=!0}closeEditModal(){this.showEditModal=!1,this.editingList=null,this.editListTitle="",this.editListDescription=""}saveEditList(){if(!this.editingList||!this.editListTitle.trim())return;let e=re(F({},this.editingList),{title:this.editListTitle.trim(),description:this.editListDescription.trim()||void 0});this.todoListService.updateList(e).then(()=>{let t=this.todoLists.findIndex(r=>r.id===this.editingList.id);t!==-1&&(this.todoLists[t]=e),this.closeEditModal()}).catch(t=>{console.error("Error updating list:",t)})}openList(e){this.router.navigate(["/todo",e.id])}editList(e,t){t.stopPropagation(),this.openEditModal(e)}deleteList(e,t){t.stopPropagation(),confirm(`Are you sure you want to delete "${e.title}"?`)&&this.todoListService.deleteList(e.id).then(()=>{this.todoLists=this.todoLists.filter(r=>r.id!==e.id)}).catch(r=>{console.error("Error deleting list:",r)})}shareList(e){this.sharingList=e,this.showShareModal=!0}confirmShare(){!this.shareEmail.trim()||!this.sharingList||this.todoListService.shareList(this.sharingList.id,this.shareEmail.trim()).then(()=>{this.showShareModal=!1,this.shareEmail="",this.sharingList=null}).catch(e=>{console.error("Error sharing list:",e)})}cancelShare(){this.showShareModal=!1,this.shareEmail="",this.sharingList=null}getDateFromTimestamp(e){return e?e instanceof Date?e:e&&typeof e.toDate=="function"?e.toDate():typeof e=="number"?new Date(e):typeof e=="string"?new Date(e):null:null}static \u0275fac=function(t){return new(t||n)(K(fo),K(Rt),K(He))};static \u0275cmp=_t({type:n,selectors:[["app-lists"]],decls:19,vars:6,consts:[[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],[1,"max-w-7xl","mx-auto","px-3","sm:px-4","lg:px-6","py-4","sm:py-6"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","mb-4","sm:mb-6"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"mt-1","sm:mt-2","text-sm","text-gray-600","dark:text-gray-300"],[1,"btn-primary","mt-3","sm:mt-0","text-sm","flex","items-center","space-x-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["class","card text-center",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",4,"ngIf"],[1,"card","text-center"],[1,"flex","items-center","justify-center","space-x-2"],[1,"animate-spin","rounded-full","h-5","w-5","border-b-2","border-primary-600"],[1,"text-sm","text-gray-600","dark:text-gray-300"],[1,"py-8","sm:py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-10","w-10","sm:h-12","sm:w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],[1,"mt-3","sm:mt-4","text-base","sm:text-lg","font-medium","text-gray-900","dark:text-white"],[1,"btn-primary","mt-3","sm:mt-4","text-sm","flex","items-center","space-x-2",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-3","sm:gap-4"],["class","card group cursor-pointer hover:shadow-lg transition-all duration-200",3,"click",4,"ngFor","ngForOf"],[1,"card","group","cursor-pointer","hover:shadow-lg","transition-all","duration-200",3,"click"],[1,"flex","items-start","justify-between","mb-3","sm:mb-4"],[1,"flex-1","min-w-0"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900","dark:text-white","truncate","group-hover:text-primary-600","dark:group-hover:text-primary-400","transition-colors","duration-200"],[1,"text-xs","sm:text-sm","text-gray-500","dark:text-gray-400","mt-1"],[1,"flex","items-center","space-x-1","sm:space-x-2","ml-3","sm:ml-4"],[1,"p-1","text-gray-400","hover:text-blue-600","dark:hover:text-blue-400","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","sm:w-4","sm:h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"],[1,"p-1","text-gray-400","hover:text-gray-600","dark:hover:text-gray-200","transition-colors","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"p-1","text-gray-400","hover:text-red-600","dark:hover:text-red-400","transition-colors","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"flex","items-center","justify-between","text-xs","sm:text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","space-x-2","sm:space-x-4"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","sm:w-4","sm:h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","sm:w-4","sm:h-4","text-gray-400","group-hover:text-gray-600","dark:group-hover:text-gray-200","transition-colors","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","p-4","z-50"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","max-w-md","w-full","p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-gray-400","hover:text-gray-600","dark:hover:text-gray-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"space-y-4",3,"ngSubmit"],["for","newListTitle",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","newListTitle","name","newListTitle","required","","placeholder","Enter list title",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["for","newListDescription",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","newListDescription","name","newListDescription","rows","3","placeholder","Enter list description",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-end","space-x-3","pt-4"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","bg-gray-100","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-md","hover:bg-gray-200","dark:hover:bg-gray-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500",3,"click"],["type","submit",1,"btn-primary","text-sm","flex","items-center","space-x-2",3,"disabled"],["for","editListTitle",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","editListTitle","name","editListTitle","required","","placeholder","Enter list title",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["for","editListDescription",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","editListDescription","name","editListDescription","rows","3","placeholder","Enter list description",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],[1,"border-t","border-gray-200","dark:border-gray-600","pt-4"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1"],["type","button",1,"btn-secondary","text-sm","flex","items-center","space-x-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"space-y-4"],["for","shareEmail",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","email","id","shareEmail","name","shareEmail","required","","placeholder","Enter email address",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["type","button",1,"btn-primary","text-sm","flex","items-center","space-x-2",3,"click","disabled"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),N(5,"Todo Lists"),T(),v(6,"p",4),N(7,"Create and manage your todo lists"),T()(),v(8,"button",5),Z("click",function(){return r.openCreateModal()}),J(),v(9,"svg",6),G(10,"path",7),T(),le(),v(11,"span"),N(12,"New List"),T()()(),De(13,nz,5,0,"div",8)(14,rz,13,0,"div",8)(15,oz,2,1,"div",9),T(),De(16,sz,25,3,"div",10)(17,az,37,3,"div",10)(18,cz,21,2,"div",10),T()),t&2&&(V(13),X("ngIf",r.isLoading),V(),X("ngIf",!r.isLoading&&r.todoLists.length===0),V(),X("ngIf",!r.isLoading&&r.todoLists.length>0),V(),X("ngIf",r.showCreateModal),V(),X("ngIf",r.showEditModal),V(),X("ngIf",r.showShareModal))},dependencies:[Dt,ya,Zt,Zo,wg,Ig,_c,vg,_g,KT,id,rd,ss],encapsulation:2})};function uz(n,e){if(n&1&&(fa(0),v(1,"div",14)(2,"div")(3,"label",15),N(4,"Display Name"),T(),v(5,"div",16),N(6),T()(),v(7,"div")(8,"label",15),N(9,"Email"),T(),v(10,"div",16),N(11),T()(),v(12,"div")(13,"label",15),N(14,"User ID"),T(),v(15,"div",17),N(16),T()(),v(17,"div")(18,"label",15),N(19,"Account Created"),T(),v(20,"div",16),N(21),Be(22,"date"),T()()(),pa()),n&2){let t=e.ngIf;V(6),Et(" ",(t==null?null:t.displayName)||"Not provided"," "),V(5),Et(" ",(t==null?null:t.email)||"Not provided"," "),V(5),Et(" ",(t==null?null:t.uid)||"Not available"," "),V(5),Et(" ",!(t==null||t.metadata==null)&&t.metadata.creationTime?ji(22,4,t.metadata.creationTime,"medium"):"Not available"," ")}}var Sg=class n{authService=P(Rt);router=P(He);user$=this.authService.user$;logout(){this.authService.signOut(),this.router.navigate(["/"])}goBack(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_t({type:n,selectors:[["app-profile"]],decls:22,vars:3,consts:[[1,"min-h-screen","bg-gray-50","dark:bg-gray-900","py-6","sm:py-8"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-6","sm:mb-8"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"text-sm","sm:text-base","text-gray-600","dark:text-gray-300","mt-2"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","border","border-gray-200","dark:border-gray-700"],[1,"p-4","sm:p-6"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white","mb-4"],[4,"ngIf"],[1,"border-t","border-gray-200","dark:border-gray-700","pt-6"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4"],[1,"flex","flex-col","sm:flex-row","gap-3","sm:gap-4"],[1,"btn-secondary","px-4","py-2","text-sm","sm:text-base",3,"click"],[1,"btn-outline","px-4","py-2","text-sm","sm:text-base",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","sm:gap-6"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],[1,"text-sm","sm:text-base","text-gray-900","dark:text-white","bg-gray-50","dark:bg-gray-700","px-3","py-2","rounded-md"],[1,"text-xs","sm:text-sm","text-gray-500","dark:text-gray-400","bg-gray-50","dark:bg-gray-700","px-3","py-2","rounded-md","font-mono","break-all"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),N(4,"Profile"),T(),v(5,"p",4),N(6,"Manage your account information"),T()(),v(7,"div",5)(8,"div",6)(9,"div",2)(10,"h2",7),N(11,"Account Information"),T(),De(12,uz,23,7,"ng-container",8),Be(13,"async"),T(),v(14,"div",9)(15,"h3",10),N(16,"Account Actions"),T(),v(17,"div",11)(18,"button",12),Z("click",function(){return r.logout()}),N(19," Sign Out "),T(),v(20,"button",13),Z("click",function(){return r.goBack()}),N(21," Back to Home "),T()()()()()()()),t&2&&(V(12),X("ngIf",It(13,1,r.user$)))},dependencies:[Dt,Zt,Zr,Zo],encapsulation:2})};var Ec=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.user$.pipe(at(1),ne(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(q(Rt),q(He))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var MP=[{path:"",component:cg},{path:"ip-lookup",component:lg},{path:"login",component:Cg},{path:"profile",component:Sg,canActivate:[Ec]},{path:"lists",component:Dg,canActivate:[Ec]},{path:"todo/:id",component:bg,canActivate:[Ec]},{path:"todo",redirectTo:"/lists",pathMatch:"full"}];var NP={production:!1,firebaseConfig:{apiKey:"AIzaSyAP6oP_CO8yIvG_d8LxaDCn2R9YXbuehR0",authDomain:"todolist-164b4.firebaseapp.com",projectId:"todolist-164b4",storageBucket:"todolist-164b4.firebasestorage.app",messagingSenderId:"488468917095",appId:"1:488468917095:web:4d467eebe593bff0681dc2",measurementId:"G-LLZ00SYW34"}};var kP={providers:[e0({eventCoalescing:!0}),rE(MP),A0(),f1(()=>p1(NP.firebaseConfig)),sP(()=>cP()),mM(()=>yM())]};var Ag=class n{constructor(e){this.http=e;this.startVersionChecking()}updateAvailable$=new ot(!1);currentVersion="1.0.0";checkInterval=5*60*1e3;get updateAvailable(){return this.updateAvailable$.asObservable()}startVersionChecking(){Cy(this.checkInterval).pipe(Fe(()=>this.checkForUpdates())).subscribe()}checkForUpdates(){return new ie(e=>{let t=document.querySelector('script[src*="main"]');if(t){let r=this.extractTimestampFromUrl(t.src),i=localStorage.getItem("app-version-timestamp");i&&i!==r&&this.updateAvailable$.next(!0),localStorage.setItem("app-version-timestamp",r)}e.next(),e.complete()})}extractTimestampFromUrl(e){let t=e.match(/main-([^.]+)\.js/);return t?t[1]:Date.now().toString()}forceUpdate(){"caches"in window&&caches.keys().then(e=>{e.forEach(t=>{caches.delete(t)})}),localStorage.clear(),window.location.reload()}dismissUpdate(){this.updateAvailable$.next(!1)}static \u0275fac=function(t){return new(t||n)(q(Ia))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function dz(n,e){if(n&1){let t=We();v(0,"div",1)(1,"div",2)(2,"div",3),N(3,"\u{1F504}"),T(),v(4,"div",4)(5,"h4"),N(6,"New version available!"),T(),v(7,"p"),N(8,"A new version of the app is ready. Refresh to get the latest features."),T()(),v(9,"div",5)(10,"button",6),Z("click",function(){ae(t);let i=ee();return ce(i.update())}),N(11,"Update Now"),T(),v(12,"button",7),Z("click",function(){ae(t);let i=ee();return ce(i.dismiss())}),N(13,"Later"),T()()()()}}var xg=class n{constructor(e){this.updateService=e;this.updateAvailable$=this.updateService.updateAvailable}updateAvailable$;update(){this.updateService.forceUpdate()}dismiss(){this.updateService.dismissUpdate()}static \u0275fac=function(t){return new(t||n)(K(Ag))};static \u0275cmp=_t({type:n,selectors:[["app-update-notification"]],decls:2,vars:3,consts:[["class","update-notification",4,"ngIf"],[1,"update-notification"],[1,"update-content"],[1,"update-icon"],[1,"update-text"],[1,"update-actions"],[1,"update-btn",3,"click"],[1,"dismiss-btn",3,"click"]],template:function(t,r){t&1&&(De(0,dz,14,0,"div",0),Be(1,"async")),t&2&&X("ngIf",It(1,1,r.updateAvailable$))},dependencies:[Dt,Zt,Zr],styles:[".update-notification[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;background:#fff;border-radius:8px;box-shadow:0 4px 12px #00000026;border:1px solid #e0e0e0;max-width:400px;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.update-content[_ngcontent-%COMP%]{padding:16px;display:flex;align-items:center;gap:12px}.update-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.update-text[_ngcontent-%COMP%]{flex:1}.update-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#333;font-size:14px;font-weight:600}.update-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;line-height:1.4}.update-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-shrink:0}.update-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:4px;font-size:12px;cursor:pointer;transition:background-color .2s}.update-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff}.update-btn[_ngcontent-%COMP%]:hover{background:#0056b3}.dismiss-btn[_ngcontent-%COMP%]{background:#f8f9fa;color:#666;border:1px solid #dee2e6}.dismiss-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}@media (max-width: 480px){.update-notification[_ngcontent-%COMP%]{top:10px;right:10px;left:10px;max-width:none}.update-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.update-actions[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var Rg=class n{themeSubject=new ot("light");theme$=this.themeSubject.asObservable();constructor(){this.initializeTheme()}initializeTheme(){let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=e||(t?"dark":"light");this.setTheme(r)}setTheme(e){this.themeSubject.next(e),localStorage.setItem("theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}toggleTheme(){let e=this.themeSubject.value;this.setTheme(e==="light"?"dark":"light")}getCurrentTheme(){return this.themeSubject.value}static \u0275fac=function(t){return new(t||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var PP=()=>({exact:!0});function fz(n,e){n&1&&(v(0,"a",22),J(),v(1,"svg",7),G(2,"path",23),T(),le(),v(3,"span"),N(4,"Profile"),T()())}function pz(n,e){n&1&&(J(),v(0,"svg",24),G(1,"path",25),T())}function mz(n,e){n&1&&(J(),v(0,"svg",24),G(1,"path",26),T())}function gz(n,e){if(n&1){let t=We();v(0,"button",27),Z("click",function(){ae(t);let i=ee();return ce(i.login())}),J(),v(1,"svg",7),G(2,"path",28),T(),le(),v(3,"span"),N(4,"Login"),T()()}}function yz(n,e){if(n&1){let t=We();v(0,"button",29),Z("click",function(){ae(t);let i=ee();return ce(i.logout())}),J(),v(1,"svg",7),G(2,"path",30),T(),le(),v(3,"span"),N(4,"Sign Out"),T()()}}function vz(n,e){n&1&&(J(),v(0,"svg",31),G(1,"path",32),T())}function _z(n,e){n&1&&(J(),v(0,"svg",31),G(1,"path",33),T())}function Ez(n,e){if(n&1){let t=We();v(0,"a",44),Z("click",function(){ae(t);let i=ee(2);return ce(i.closeMobileMenu())}),J(),v(1,"svg",7),G(2,"path",23),T(),le(),v(3,"span"),N(4,"Profile"),T()()}}function Iz(n,e){n&1&&(J(),v(0,"svg",45),G(1,"path",25),T())}function wz(n,e){n&1&&(J(),v(0,"svg",45),G(1,"path",26),T())}function Tz(n,e){if(n&1){let t=We();v(0,"button",46),Z("click",function(){ae(t);let i=ee(2);return i.login(),ce(i.closeMobileMenu())}),J(),v(1,"svg",7),G(2,"path",28),T(),le(),v(3,"span"),N(4,"Login"),T()()}}function bz(n,e){if(n&1){let t=We();v(0,"button",47),Z("click",function(){ae(t);let i=ee(2);return i.logout(),ce(i.closeMobileMenu())}),J(),v(1,"svg",7),G(2,"path",30),T(),le(),v(3,"span"),N(4,"Sign Out"),T()()}}function Cz(n,e){if(n&1){let t=We();v(0,"div",34)(1,"nav",35)(2,"a",36),Z("click",function(){ae(t);let i=ee();return ce(i.closeMobileMenu())}),J(),v(3,"svg",7),G(4,"path",8),T(),le(),v(5,"span"),N(6,"Home"),T()(),v(7,"a",37),Z("click",function(){ae(t);let i=ee();return ce(i.closeMobileMenu())}),J(),v(8,"svg",7),G(9,"path",10),T(),le(),v(10,"span"),N(11,"Lists"),T()(),v(12,"a",38),Z("click",function(){ae(t);let i=ee();return ce(i.closeMobileMenu())}),J(),v(13,"svg",7),G(14,"path",12),T(),le(),v(15,"span"),N(16,"IP Lookup"),T()(),De(17,Ez,5,0,"a",39),Be(18,"async"),v(19,"button",40),Z("click",function(){ae(t);let i=ee();return ce(i.toggleTheme())}),De(20,Iz,2,0,"svg",41),Be(21,"async"),De(22,wz,2,0,"svg",41),Be(23,"async"),v(24,"span"),N(25),Be(26,"async"),T()(),De(27,Tz,5,0,"button",42),Be(28,"async"),De(29,bz,5,0,"button",43),Be(30,"async"),T()()}if(n&2){let t=ee();V(2),X("routerLinkActiveOptions",Df(19,PP)),V(15),X("ngIf",It(18,7,t.user$)),V(3),X("ngIf",It(21,9,t.theme$)==="light"),V(2),X("ngIf",It(23,11,t.theme$)==="dark"),V(3),Ue(It(26,13,t.theme$)==="light"?"Dark Mode":"Light Mode"),V(2),X("ngIf",!It(28,15,t.user$)),V(2),X("ngIf",It(30,17,t.user$))}}var Mg=class n{constructor(e,t,r){this.authService=e;this.themeService=t;this.router=r}isMobileMenuOpen=!1;get user$(){return this.authService.user$}get theme$(){return this.themeService.theme$}logout(){this.authService.signOut(),this.router.navigate(["/"])}login(){this.authService.signInWithGoogle()}toggleTheme(){this.themeService.toggleTheme()}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}closeMobileMenu(){this.isMobileMenuOpen=!1}static \u0275fac=function(t){return new(t||n)(K(Rt),K(Rg),K(He))};static \u0275cmp=_t({type:n,selectors:[["app-root"]],decls:40,vars:20,consts:[[1,"bg-white","dark:bg-gray-800","border-b","border-gray-200","dark:border-gray-700","shadow-sm","sticky","top-0","z-50"],[1,"max-w-7xl","mx-auto","px-3","sm:px-4","lg:px-6"],[1,"flex","justify-between","items-center","h-12","sm:h-14"],[1,"flex","items-center","space-x-2","sm:space-x-3"],[1,"text-sm","sm:text-base","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"hidden","sm:flex","items-center","space-x-1","sm:space-x-2"],["routerLink","/","routerLinkActive","text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-1.5","text-gray-700","dark:text-gray-300","hover:text-primary-600","dark:hover:text-primary-400","px-2","sm:px-3","py-1","sm:py-2","rounded","text-xs","sm:text-sm","font-medium","transition-colors","duration-200",3,"routerLinkActiveOptions"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],["routerLink","/lists","routerLinkActive","text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-1.5","text-gray-700","dark:text-gray-300","hover:text-primary-600","dark:hover:text-primary-400","px-2","sm:px-3","py-1","sm:py-2","rounded","text-xs","sm:text-sm","font-medium","transition-colors","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],["routerLink","/ip-lookup","routerLinkActive","text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-1.5","text-gray-700","dark:text-gray-300","hover:text-primary-600","dark:hover:text-primary-400","px-2","sm:px-3","py-1","sm:py-2","rounded","text-xs","sm:text-sm","font-medium","transition-colors","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9m0 9c-5 0-9-4-9-9s4-9 9-9"],["routerLink","/profile","routerLinkActive","text-primary-600 dark:text-primary-400","class","flex items-center space-x-1.5 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 px-2 sm:px-3 py-1 sm:py-2 rounded text-xs sm:text-sm font-medium transition-colors duration-200",4,"ngIf"],[1,"p-1.5","sm:p-2","rounded-lg","bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-600","transition-colors","duration-200",3,"click"],["class","w-4 h-4 sm:w-5 sm:h-5","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],["class","flex items-center space-x-1.5 btn-primary text-xs px-2 sm:px-3 py-1 sm:py-2",3,"click",4,"ngIf"],["class","flex items-center space-x-1.5 btn-secondary text-xs px-2 sm:px-3 py-1 sm:py-2",3,"click",4,"ngIf"],[1,"sm:hidden","p-2","rounded-lg","bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-600","transition-colors","duration-200",3,"click"],["class","w-5 h-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","sm:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",4,"ngIf"],[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],["routerLink","/profile","routerLinkActive","text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-1.5","text-gray-700","dark:text-gray-300","hover:text-primary-600","dark:hover:text-primary-400","px-2","sm:px-3","py-1","sm:py-2","rounded","text-xs","sm:text-sm","font-medium","transition-colors","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","sm:w-5","sm:h-5"],["d","M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"],["fill-rule","evenodd","d","M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","clip-rule","evenodd"],[1,"flex","items-center","space-x-1.5","btn-primary","text-xs","px-2","sm:px-3","py-1","sm:py-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"],[1,"flex","items-center","space-x-1.5","btn-secondary","text-xs","px-2","sm:px-3","py-1","sm:py-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"sm:hidden","border-t","border-gray-200","dark:border-gray-700","bg-white","dark:bg-gray-800"],[1,"py-2","space-y-1"],["routerLink","/","routerLinkActive","bg-primary-50 dark:bg-primary-900 text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-700","rounded-md","transition-colors","duration-200",3,"click","routerLinkActiveOptions"],["routerLink","/lists","routerLinkActive","bg-primary-50 dark:bg-primary-900 text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-700","rounded-md","transition-colors","duration-200",3,"click"],["routerLink","/ip-lookup","routerLinkActive","bg-primary-50 dark:bg-primary-900 text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-700","rounded-md","transition-colors","duration-200",3,"click"],["routerLink","/profile","routerLinkActive","bg-primary-50 dark:bg-primary-900 text-primary-600 dark:text-primary-400","class","flex items-center space-x-3 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md transition-colors duration-200",3,"click",4,"ngIf"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-700","rounded-md","transition-colors","duration-200",3,"click"],["class","w-4 h-4","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],["class","w-full flex items-center space-x-3 px-3 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900 rounded-md transition-colors duration-200",3,"click",4,"ngIf"],["class","w-full flex items-center space-x-3 px-3 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900 rounded-md transition-colors duration-200",3,"click",4,"ngIf"],["routerLink","/profile","routerLinkActive","bg-primary-50 dark:bg-primary-900 text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-700","rounded-md","transition-colors","duration-200",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-primary-600","dark:text-primary-400","hover:bg-primary-50","dark:hover:bg-primary-900","rounded-md","transition-colors","duration-200",3,"click"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-red-600","dark:text-red-400","hover:bg-red-50","dark:hover:bg-red-900","rounded-md","transition-colors","duration-200",3,"click"]],template:function(t,r){t&1&&(v(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),N(5," Manu's Playground "),T()(),v(6,"nav",5)(7,"a",6),J(),v(8,"svg",7),G(9,"path",8),T(),le(),v(10,"span"),N(11,"Home"),T()(),v(12,"a",9),J(),v(13,"svg",7),G(14,"path",10),T(),le(),v(15,"span"),N(16,"Lists"),T()(),v(17,"a",11),J(),v(18,"svg",7),G(19,"path",12),T(),le(),v(20,"span"),N(21,"IP Lookup"),T()(),De(22,fz,5,0,"a",13),Be(23,"async"),v(24,"button",14),Z("click",function(){return r.toggleTheme()}),De(25,pz,2,0,"svg",15),Be(26,"async"),De(27,mz,2,0,"svg",15),Be(28,"async"),T(),De(29,gz,5,0,"button",16),Be(30,"async"),De(31,yz,5,0,"button",17),Be(32,"async"),T(),v(33,"button",18),Z("click",function(){return r.toggleMobileMenu()}),De(34,vz,2,0,"svg",19)(35,_z,2,0,"svg",19),T()(),De(36,Cz,31,20,"div",20),T()(),v(37,"main",21),G(38,"router-outlet"),T(),G(39,"app-update-notification")),t&2&&(V(7),X("routerLinkActiveOptions",Df(19,PP)),V(15),X("ngIf",It(23,9,r.user$)),V(3),X("ngIf",It(26,11,r.theme$)==="light"),V(2),X("ngIf",It(28,13,r.theme$)==="dark"),V(2),X("ngIf",!It(30,15,r.user$)),V(2),X("ngIf",It(32,17,r.user$)),V(3),X("ngIf",!r.isMobileMenuOpen),V(),X("ngIf",r.isMobileMenuOpen),V(),X("ngIf",r.isMobileMenuOpen))},dependencies:[Dt,Zt,Zr,nl,ss,Pa,nE,xg],encapsulation:2})};C0(Mg,kP).catch(n=>console.error(n));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/ngsw-worker.js").then(n=>{console.log("SW registered: ",n)}).catch(n=>{console.log("SW registration failed: ",n)})});
