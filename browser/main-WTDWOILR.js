var rF=Object.defineProperty,iF=Object.defineProperties;var oF=Object.getOwnPropertyDescriptors;var Ad=Object.getOwnPropertySymbols,sF=Object.getPrototypeOf,tC=Object.prototype.hasOwnProperty,nC=Object.prototype.propertyIsEnumerable,aF=Reflect.get;var eC=(n,e,t)=>e in n?rF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})tC.call(e,t)&&eC(n,t,e[t]);if(Ad)for(var t of Ad(e))nC.call(e,t)&&eC(n,t,e[t]);return n},ee=(n,e)=>iF(n,oF(e));var Lc=(n,e)=>{var t={};for(var r in n)tC.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Ad)for(var r of Ad(n))e.indexOf(r)<0&&nC.call(n,r)&&(t[r]=n[r]);return t};var bi=(n,e,t)=>aF(sF(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(u){i(u)}},s=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});var ay;function cy(){return ay}function Ur(n){let e=ay;return ay=n,e}var cF=Symbol("NotFound"),Rd=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function Ls(n){return n===cF||n?.name==="\u0275NotFound"}function kd(n,e){return Object.is(n,e)}var ut=null,Pd=!1,ly=1,lF=null,Rt=Symbol("SIGNAL");function le(n){let e=ut;return ut=n,e}function Od(){return ut}var Do={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Vs(n){if(Pd)throw new Error("");if(ut===null)return;ut.consumerOnSignalRead(n);let e=ut.nextProducerIndex++;if(jd(ut),e<ut.producerNode.length&&ut.producerNode[e]!==n&&jc(ut)){let t=ut.producerNode[e];Vd(t,ut.producerIndexOfThis[e])}ut.producerNode[e]!==n&&(ut.producerNode[e]=n,ut.producerIndexOfThis[e]=jc(ut)?iC(n,ut,e):0),ut.producerLastReadVersion[e]=n.version}function rC(){ly++}function Fd(n){if(!(jc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ly)){if(!n.producerMustRecompute(n)&&!Uc(n)){xd(n);return}n.producerRecomputeValue(n),xd(n)}}function uy(n){if(n.liveConsumerNode===void 0)return;let e=Pd;Pd=!0;try{for(let t of n.liveConsumerNode)t.dirty||uF(t)}finally{Pd=e}}function dy(){return ut?.consumerAllowSignalWrites!==!1}function uF(n){n.dirty=!0,uy(n),n.consumerMarkedDirty?.(n)}function xd(n){n.dirty=!1,n.lastCleanEpoch=ly}function To(n){return n&&(n.nextProducerIndex=0),le(n)}function js(n,e){if(le(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(jc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Vd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Uc(n){jd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Fd(t),r!==t.version))return!0}return!1}function Ld(n){if(jd(n),jc(n))for(let e=0;e<n.producerNode.length;e++)Vd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function iC(n,e,t){if(oC(n),n.liveConsumerNode.length===0&&sC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=iC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Vd(n,e){if(oC(n),n.liveConsumerNode.length===1&&sC(n))for(let r=0;r<n.producerNode.length;r++)Vd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];jd(i),i.producerIndexOfThis[r]=e}}function jc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function jd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function oC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function sC(n){return n.producerNode!==void 0}function Ud(n){lF?.(n)}function Bd(n,e){let t=Object.create(dF);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Fd(t),Vs(t),t.value===Vc)throw t.error;return t.value};return r[Rt]=t,Ud(t),r}var Nd=Symbol("UNSET"),Md=Symbol("COMPUTING"),Vc=Symbol("ERRORED"),dF=ee(k({},Do),{value:Nd,dirty:!0,error:null,equal:kd,kind:"computed",producerMustRecompute(n){return n.value===Nd||n.value===Md},producerRecomputeValue(n){if(n.value===Md)throw new Error("");let e=n.value;n.value=Md;let t=To(n),r,i=!1;try{r=n.computation(),le(null),i=e!==Nd&&e!==Vc&&r!==Vc&&n.equal(e,r)}catch(o){r=Vc,n.error=o}finally{js(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function hF(){throw new Error}var aC=hF;function cC(n){aC(n)}function hy(n){aC=n}var fF=null;function fy(n,e){let t=Object.create($d);t.value=n,e!==void 0&&(t.equal=e);let r=()=>lC(t);return r[Rt]=t,Ud(t),[r,s=>Us(t,s),s=>py(t,s)]}function lC(n){return Vs(n),n.value}function Us(n,e){dy()||cC(n),n.equal(n.value,e)||(n.value=e,pF(n))}function py(n,e){dy()||cC(n),Us(n,e(n.value))}var $d=ee(k({},Do),{equal:kd,value:void 0,kind:"signal"});function pF(n){n.version++,rC(),uy(n),fF?.(n)}function oe(n){return typeof n=="function"}function Bs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Hd=Bs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function bo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Se=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof Hd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{uC(o)}catch(s){e=e??[],s instanceof Hd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)uC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&bo(t,e)}remove(e){let{_finalizers:t}=this;t&&bo(t,e),e instanceof n&&e._removeParent(this)}};Se.EMPTY=(()=>{let n=new Se;return n.closed=!0,n})();var gy=Se.EMPTY;function zd(n){return n instanceof Se||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function uC(n){oe(n)?n():n.unsubscribe()}var Fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $s={setTimeout(n,e,...t){let{delegate:r}=$s;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=$s;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function qd(n){$s.setTimeout(()=>{let{onUnhandledError:e}=Fn;if(e)e(n);else throw n})}function Bc(){}var dC=my("C",void 0,void 0);function hC(n){return my("E",void 0,n)}function fC(n){return my("N",n,void 0)}function my(n,e,t){return{kind:n,value:e,error:t}}var Co=null;function Hs(n){if(Fn.useDeprecatedSynchronousErrorHandling){let e=!Co;if(e&&(Co={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Co;if(Co=null,t)throw r}}else n()}function pC(n){Fn.useDeprecatedSynchronousErrorHandling&&Co&&(Co.errorThrown=!0,Co.error=n)}var So=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zd(e)&&e.add(this)):this.destination=yF}static create(e,t,r){return new Ci(e,t,r)}next(e){this.isStopped?vy(fC(e),this):this._next(e)}error(e){this.isStopped?vy(hC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vy(dC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gF=Function.prototype.bind;function yy(n,e){return gF.call(n,e)}var _y=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Gd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Gd(r)}else Gd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Gd(t)}}},Ci=class extends So{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Fn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yy(e.next,o),error:e.error&&yy(e.error,o),complete:e.complete&&yy(e.complete,o)}):i=e}this.destination=new _y(i)}};function Gd(n){Fn.useDeprecatedSynchronousErrorHandling?pC(n):qd(n)}function mF(n){throw n}function vy(n,e){let{onStoppedNotification:t}=Fn;t&&$s.setTimeout(()=>t(n,e))}var yF={closed:!0,next:Bc,error:mF,complete:Bc};var zs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function an(n){return n}function Wd(...n){return Ey(n)}function Ey(n){return n.length===0?an:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var K=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=_F(t)?t:new Ci(t,r,i);return Hs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=gC(r),new r((i,o)=>{let s=new Ci({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[zs](){return this}pipe(...t){return Ey(t)(this)}toPromise(t){return t=gC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function gC(n){var e;return(e=n??Fn.Promise)!==null&&e!==void 0?e:Promise}function vF(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function _F(n){return n&&n instanceof So||vF(n)&&zd(n)}function wy(n){return oe(n?.lift)}function ye(n){return e=>{if(wy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,e,t,r,i){return new Iy(n,e,t,r,i)}var Iy=class extends So{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qs(){return ye((n,e)=>{let t=null;n._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Gs=class extends K{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,wy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let t=this.getSubject();e.add(this.source.subscribe(de(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return qs()(this)}};var Ws={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=Ws;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=e(o=>{t=void 0,n(o)});return new Se(()=>t?.(i))},requestAnimationFrame(...n){let{delegate:e}=Ws;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=Ws;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var mC=Bs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=(()=>{class n extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Kd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new mC}next(t){Hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?gy:(this.currentObservers=null,o.push(t),new Se(()=>{this.currentObservers=null,bo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new K;return t.source=this,t}}return n.create=(e,t)=>new Kd(e,t),n})(),Kd=class extends ne{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:gy}};var dt=class extends ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Dy={now(){return(Dy.delegate||Date).now()},delegate:void 0};var Qd=class extends Se{constructor(e,t){super()}schedule(e,t=0){return this}};var $c={setInterval(n,e,...t){let{delegate:r}=$c;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=$c;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Si=class extends Qd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return $c.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&$c.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,bo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ks=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ks.now=Dy.now;var Ai=class extends Ks{constructor(e,t=Ks.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ri=new Ai(Si),Ty=Ri;var Yd=class extends Si{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Zd=class extends Ai{};var by=new Zd(Yd);var Jd=class extends Si{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ws.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&t===e._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(Ws.cancelAnimationFrame(t),e._scheduled=void 0)}};var Xd=class extends Ai{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var eh=new Xd(Jd);var Pt=new K(n=>n.complete());function th(n){return n&&oe(n.schedule)}function Cy(n){return n[n.length-1]}function nh(n){return oe(Cy(n))?n.pop():void 0}function or(n){return th(Cy(n))?n.pop():void 0}function yC(n,e){return typeof Cy(n)=="number"?n.pop():e}function rh(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function _C(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function vC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ao(n){return this instanceof Ao?(this.v=n,this):new Ao(n)}function EC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(N){return new Promise(function(R,V){o.push([y,N,R,V])>1||l(y,N)})},T&&(i[y]=T(i[y])))}function l(y,T){try{u(r[y](T))}catch(N){g(o[0][3],N)}}function u(y){y.value instanceof Ao?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){l("next",y)}function p(y){l("throw",y)}function g(y,T){y(T),o.shift(),o.length&&l(o[0][0],o[0][1])}}function wC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vC=="function"?vC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var ih=n=>n&&typeof n.length=="number"&&typeof n!="function";function oh(n){return oe(n?.then)}function sh(n){return oe(n[zs])}function ah(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function ch(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function EF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lh=EF();function uh(n){return oe(n?.[lh])}function dh(n){return EC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ao(t.read());if(i)return yield Ao(void 0);yield yield Ao(r)}}finally{t.releaseLock()}})}function hh(n){return oe(n?.getReader)}function $e(n){if(n instanceof K)return n;if(n!=null){if(sh(n))return wF(n);if(ih(n))return IF(n);if(oh(n))return DF(n);if(ah(n))return IC(n);if(uh(n))return TF(n);if(hh(n))return bF(n)}throw ch(n)}function wF(n){return new K(e=>{let t=n[zs]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function IF(n){return new K(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function DF(n){return new K(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qd)})}function TF(n){return new K(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function IC(n){return new K(e=>{CF(n,e).catch(t=>e.error(t))})}function bF(n){return IC(dh(n))}function CF(n,e){var t,r,i,o;return _C(this,void 0,void 0,function*(){try{for(t=wC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Jt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Pi(n,e=0){return ye((t,r)=>{t.subscribe(de(r,i=>Jt(r,n,()=>r.next(i),e),()=>Jt(r,n,()=>r.complete(),e),i=>Jt(r,n,()=>r.error(i),e)))})}function Ni(n,e=0){return ye((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function DC(n,e){return $e(n).pipe(Ni(e),Pi(e))}function TC(n,e){return $e(n).pipe(Ni(e),Pi(e))}function bC(n,e){return new K(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function CC(n,e){return new K(t=>{let r;return Jt(t,e,()=>{r=n[lh](),Jt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function fh(n,e){if(!n)throw new Error("Iterable cannot be null");return new K(t=>{Jt(t,e,()=>{let r=n[Symbol.asyncIterator]();Jt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function SC(n,e){return fh(dh(n),e)}function AC(n,e){if(n!=null){if(sh(n))return DC(n,e);if(ih(n))return bC(n,e);if(oh(n))return TC(n,e);if(ah(n))return fh(n,e);if(uh(n))return CC(n,e);if(hh(n))return SC(n,e)}throw ch(n)}function ue(n,e){return e?AC(n,e):$e(n)}function W(...n){let e=or(n);return ue(n,e)}function Qs(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new K(e?i=>e.schedule(r,0,i):r)}function ph(n){return!!n&&(n instanceof K||oe(n.lift)&&oe(n.subscribe))}var Ln=Bs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Sy(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new Ci({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Ln)}});n.subscribe(o)})}function RC(n){return n instanceof Date&&!isNaN(n)}function Y(n,e){return ye((t,r)=>{let i=0;t.subscribe(de(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:SF}=Array;function AF(n,e){return SF(e)?n(...e):n(e)}function gh(n){return Y(e=>AF(n,e))}var{isArray:RF}=Array,{getPrototypeOf:PF,prototype:NF,keys:MF}=Object;function mh(n){if(n.length===1){let e=n[0];if(RF(e))return{args:e,keys:null};if(xF(e)){let t=MF(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function xF(n){return n&&typeof n=="object"&&PF(n)===NF}function yh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Hc(...n){let e=or(n),t=nh(n),{args:r,keys:i}=mh(n);if(r.length===0)return ue([],e);let o=new K(kF(r,e,i?s=>yh(i,s):an));return t?o.pipe(gh(t)):o}function kF(n,e,t=an){return r=>{PC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)PC(e,()=>{let u=ue(n[l],e),h=!1;u.subscribe(de(r,p=>{o[l]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function PC(n,e,t){n?Jt(t,n,e):e()}function NC(n,e,t,r,i,o,s,a){let l=[],u=0,h=0,p=!1,g=()=>{p&&!l.length&&!u&&e.complete()},y=N=>u<r?T(N):l.push(N),T=N=>{o&&e.next(N),u++;let R=!1;$e(t(N,h++)).subscribe(de(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(u--;l.length&&u<r;){let V=l.shift();s?Jt(e,s,()=>T(V)):T(V)}g()}catch(V){e.error(V)}}))};return n.subscribe(de(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Je(n,e,t=1/0){return oe(e)?Je((r,i)=>Y((o,s)=>e(r,o,i,s))($e(n(r,i))),t):(typeof e=="number"&&(t=e),ye((r,i)=>NC(r,i,n,t)))}function Mi(n=1/0){return Je(an,n)}function MC(){return Mi(1)}function Ys(...n){return MC()(ue(n,or(n)))}function zc(n){return new K(e=>{$e(n()).subscribe(e)})}function Ay(...n){let e=nh(n),{args:t,keys:r}=mh(n),i=new K(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let p=!1;$e(t[h]).subscribe(de(o,g=>{p||(p=!0,u--),a[h]=g},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?yh(r,a):a),o.complete())}))}});return e?i.pipe(gh(e)):i}function vh(n=0,e,t=Ty){let r=-1;return e!=null&&(th(e)?t=e:r=e),new K(i=>{let o=RC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Ry(n=0,e=Ri){return n<0&&(n=0),vh(n,n,e)}function qc(...n){let e=or(n),t=yC(n,1/0),r=n;return r.length?r.length===1?$e(r[0]):Mi(t)(ue(r,e)):Pt}function ht(n,e){return ye((t,r)=>{let i=0;t.subscribe(de(r,o=>n.call(e,o,i++)&&r.next(o)))})}function xC(n){return ye((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let u=i;i=null,t.next(u)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(de(t,u=>{r=!0,i=u,o||$e(n(u)).subscribe(o=de(t,a,l))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function _h(n,e=Ri){return xC(()=>vh(n,e))}function Br(n){return ye((e,t)=>{let r=null,i=!1,o;r=e.subscribe(de(t,void 0,void 0,s=>{o=$e(n(s,Br(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function kC(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(de(s,h=>{let p=u++;l=a?n(l,h,p):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function sr(n,e){return oe(e)?Je(n,e,1):Je(n,1)}function xi(n){return ye((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function pt(n){return n<=0?()=>Pt:ye((e,t)=>{let r=0;e.subscribe(de(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Eh(n=OF){return ye((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function OF(){return new Ln}function Ro(n){return ye((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function $r(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ht((i,o)=>n(i,o,r)):an,pt(1),t?xi(e):Eh(()=>new Ln))}function Zs(n){return n<=0?()=>Pt:ye((e,t)=>{let r=[];e.subscribe(de(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Py(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ht((i,o)=>n(i,o,r)):an,Zs(1),t?xi(e):Eh(()=>new Ln))}function wh(n,e){return ye(kC(n,e,arguments.length>=2,!0))}function ki(...n){let e=or(n);return ye((t,r)=>{(e?Ys(n,t,e):Ys(n,t)).subscribe(r)})}function Te(n,e){return ye((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(de(r,l=>{i?.unsubscribe();let u=0,h=o++;$e(n(l,h)).subscribe(i=de(r,p=>r.next(e?e(l,p,h,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ar(n){return ye((e,t)=>{$e(n).subscribe(de(t,()=>t.complete(),Bc)),!t.closed&&e.subscribe(t)})}function it(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(de(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):an}function OC(n){let e=le(null);try{return n()}finally{le(e)}}var Ch="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,t){super(Qc(e,t)),this.code=e}};function FF(n){return`NG0${Math.abs(n)}`}function Qc(n,e){return`${FF(n)}${e?": "+e:""}`}var qr=globalThis;function He(n){for(let e in n)if(n[e]===He)return e;throw Error("")}function jC(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Xt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Xt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Hy(n,e){return n?e?`${n} ${e}`:n:e||""}var LF=He({__forward_ref__:He});function cr(n){return n.__forward_ref__=cr,n.toString=function(){return Xt(this())},n}function wt(n){return zy(n)?n():n}function zy(n){return typeof n=="function"&&n.hasOwnProperty(LF)&&n.__forward_ref__===cr}function UC(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function O(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Nt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yc(n){return VF(n,Sh)}function qy(n){return Yc(n)!==null}function VF(n,e){return n.hasOwnProperty(e)&&n[e]||null}function jF(n){let e=n?.[Sh]??null;return e||null}function My(n){return n&&n.hasOwnProperty(Dh)?n[Dh]:null}var Sh=He({\u0275prov:He}),Dh=He({\u0275inj:He}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=O({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Gy(n){return n&&!!n.\u0275providers}var Wy=He({\u0275cmp:He}),Ky=He({\u0275dir:He}),Qy=He({\u0275pipe:He}),Yy=He({\u0275mod:He}),Wc=He({\u0275fac:He}),ko=He({__NG_ELEMENT_ID__:He}),FC=He({__NG_ENV_ID__:He});function Zc(n){return typeof n=="string"?n:n==null?"":String(n)}function BC(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Zc(n)}function Zy(n,e){throw new B(-200,n)}function Ah(n,e){throw new B(-201,!1)}var xy;function $C(){return xy}function Bt(n){let e=xy;return xy=n,e}function Jy(n,e,t){let r=Yc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Ah(n,"Injector")}var UF={},Po=UF,ky="__NG_DI_FLAG__",Oy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=No(t)||0;try{return this.injector.get(e,r&8?null:Po,r)}catch(i){if(Ls(i))return i;throw i}}},Th="ngTempTokenPath",BF="ngTokenPath",$F=/\n/gm,HF="\u0275",LC="__source";function zF(n,e=0){let t=cy();if(t===void 0)throw new B(-203,!1);if(t===null)return Jy(n,void 0,e);{let r=qF(e),i=t.retrieve(n,r);if(Ls(i)){if(r.optional)return null;throw i}return i}}function z(n,e=0){return($C()||zF)(wt(n),e)}function S(n,e){return z(n,No(e))}function No(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qF(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Fy(n){let e=[];for(let t=0;t<n.length;t++){let r=wt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=GF(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function Xy(n,e){return n[ky]=e,n.prototype[ky]=e,n}function GF(n){return n[ky]}function WF(n,e,t,r){let i=n[Th];throw e[LC]&&i.unshift(e[LC]),n.message=KF(`
`+n.message,i,t,r),n[BF]=i,n[Th]=null,n}function KF(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==HF?n.slice(2):n;let i=Xt(e);if(Array.isArray(e))i=e.map(Xt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Xt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace($F,`
  `)}`}function Oi(n,e){let t=n.hasOwnProperty(Wc);return t?n[Wc]:null}function Rh(n,e){n.forEach(t=>Array.isArray(t)?Rh(t,e):e(t))}function ev(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Jc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function HC(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function zC(n,e,t){let r=Xs(n,e);return r>=0?n[r|1]=t:(r=~r,HC(n,r,e,t)),r}function Ph(n,e){let t=Xs(n,e);if(t>=0)return n[t|1]}function Xs(n,e){return QF(n,e,1)}function QF(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Li={},cn=[],Vi=new j(""),tv=new j("",-1),nv=new j(""),Kc=class{get(e,t=Po){if(t===Po)throw new Rd(`NullInjectorError: No provider for ${Xt(e)}!`);return t}};function rv(n){return n[Yy]||null}function lr(n){return n[Wy]||null}function iv(n){return n[Ky]||null}function qC(n){return n[Qy]||null}function en(n){return{\u0275providers:n}}function GC(...n){return{\u0275providers:ov(!0,n),\u0275fromNgModule:!0}}function ov(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Rh(e,s=>{let a=s;bh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&WC(i,o),t}function WC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];sv(i,o=>{e(o,r)})}}function bh(n,e,t,r){if(n=wt(n),!n)return!1;let i=null,o=My(n),s=!o&&lr(n);if(!o&&!s){let l=n.ngModule;if(o=My(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)bh(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Rh(o.imports,h=>{bh(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&WC(u,e)}if(!a){let u=Oi(i)||(()=>new i);e({provide:i,useFactory:u,deps:cn},i),e({provide:nv,useValue:i,multi:!0},i),e({provide:Vi,useValue:()=>z(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;sv(l,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function sv(n,e){for(let t of n)Gy(t)&&(t=t.\u0275providers),Array.isArray(t)?sv(t,e):e(t)}var YF=He({provide:String,useValue:He});function KC(n){return n!==null&&typeof n=="object"&&YF in n}function ZF(n){return!!(n&&n.useExisting)}function JF(n){return!!(n&&n.useFactory)}function Mo(n){return typeof n=="function"}function QC(n){return!!n.useClass}var Xc=new j(""),Ih={},VC={},Ny;function ea(){return Ny===void 0&&(Ny=new Kc),Ny}var Be=class{},xo=class extends Be{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Vy(e,s=>this.processProvider(s)),this.records.set(tv,Js(void 0,this)),i.has("environment")&&this.records.set(Be,Js(void 0,this));let o=this.records.get(Xc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nv,cn,{self:!0}))}retrieve(e,t){let r=No(t)||0;try{return this.get(e,Po,r)}catch(i){if(Ls(i))return i;throw i}}destroy(){Gc(this),this._destroyed=!0;let e=le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(e)}}onDestroy(e){return Gc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Gc(this);let t=Ur(this),r=Bt(void 0),i;try{return e()}finally{Ur(t),Bt(r)}}get(e,t=Po,r){if(Gc(this),e.hasOwnProperty(FC))return e[FC](this);let i=No(r),o,s=Ur(this),a=Bt(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let h=rL(e)&&Yc(e);h&&this.injectableDefInScope(h)?u=Js(Ly(e),Ih):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let l=i&2?ea():this.parent;return t=i&8&&t===Po?null:t,l.get(e,t)}catch(l){if(Ls(l)){if((l[Th]=l[Th]||[]).unshift(Xt(e)),s)throw l;return WF(l,e,"R3InjectorError",this.source)}else throw l}finally{Bt(a),Ur(s)}}resolveInjectorInitializers(){let e=le(null),t=Ur(this),r=Bt(void 0),i;try{let o=this.get(Vi,cn,{self:!0});for(let s of o)s()}finally{Ur(t),Bt(r),le(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Xt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=wt(e);let t=Mo(e)?e:wt(e&&e.provide),r=eL(e);if(!Mo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Js(void 0,Ih,!0),i.factory=()=>Fy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=le(null);try{return t.value===VC?Zy(Xt(e)):t.value===Ih&&(t.value=VC,t.value=t.factory()),typeof t.value=="object"&&t.value&&nL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{le(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=wt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ly(n){let e=Yc(n),t=e!==null?e.factory:Oi(n);if(t!==null)return t;if(n instanceof j)throw new B(204,!1);if(n instanceof Function)return XF(n);throw new B(204,!1)}function XF(n){if(n.length>0)throw new B(204,!1);let t=jF(n);return t!==null?()=>t.factory(n):()=>new n}function eL(n){if(KC(n))return Js(void 0,n.useValue);{let e=av(n);return Js(e,Ih)}}function av(n,e,t){let r;if(Mo(n)){let i=wt(n);return Oi(i)||Ly(i)}else if(KC(n))r=()=>wt(n.useValue);else if(JF(n))r=()=>n.useFactory(...Fy(n.deps||[]));else if(ZF(n))r=()=>z(wt(n.useExisting));else{let i=wt(n&&(n.useClass||n.provide));if(tL(n))r=()=>new i(...Fy(n.deps));else return Oi(i)||Ly(i)}return r}function Gc(n){if(n.destroyed)throw new B(205,!1)}function Js(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function tL(n){return!!n.deps}function nL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function rL(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Vy(n,e){for(let t of n)Array.isArray(t)?Vy(t,e):t&&Gy(t)?Vy(t.\u0275providers,e):e(t)}function ot(n,e){let t;n instanceof xo?(Gc(n),t=n):t=new Oy(n);let r,i=Ur(t),o=Bt(void 0);try{return e()}finally{Ur(i),Bt(o)}}function cv(){return $C()!==void 0||cy()!=null}function lv(n){if(!cv())throw new B(-203,!1)}var jn=0,ge=1,re=2,It=3,_n=4,En=5,el=6,ta=7,Mt=8,Oo=9,ur=10,Xe=11,na=12,uv=13,Fo=14,wn=15,Lo=16,Vo=17,jo=18,tl=19,dv=20,Hr=21,Nh=22,nl=23,ln=24,Uo=25,$t=26,YC=1;var ji=7,rl=8,il=9,tn=10;function dr(n){return Array.isArray(n)&&typeof n[YC]=="object"}function Un(n){return Array.isArray(n)&&n[YC]===!0}function hv(n){return(n.flags&4)!==0}function Ui(n){return n.componentOffset>-1}function Mh(n){return(n.flags&1)===1}function hr(n){return!!n.template}function ra(n){return(n[re]&512)!==0}function Bo(n){return(n[re]&256)===256}var ZC="svg",JC="math";function In(n){for(;Array.isArray(n);)n=n[jn];return n}function fv(n,e){return In(e[n])}function Bn(n,e){return In(e[n.index])}function xh(n,e){return n.data[e]}function kh(n,e){return n[e]}function pv(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Dn(n,e){let t=e[n];return dr(t)?t:t[jn]}function Oh(n){return(n[re]&128)===128}function XC(n){return Un(n[It])}function ol(n,e){return e==null?null:n[e]}function gv(n){n[Vo]=0}function mv(n){n[re]&1024||(n[re]|=1024,Oh(n)&&ia(n))}function e0(n,e){for(;n>0;)e=e[Fo],n--;return e}function sl(n){return!!(n[re]&9216||n[ln]?.dirty)}function Fh(n){n[ur].changeDetectionScheduler?.notify(8),n[re]&64&&(n[re]|=1024),sl(n)&&ia(n)}function ia(n){n[ur].changeDetectionScheduler?.notify(0);let e=Fi(n);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!Oh(e)));)e=Fi(e)}function yv(n,e){if(Bo(n))throw new B(911,!1);n[Hr]===null&&(n[Hr]=[]),n[Hr].push(e)}function t0(n,e){if(n[Hr]===null)return;let t=n[Hr].indexOf(e);t!==-1&&n[Hr].splice(t,1)}function Fi(n){let e=n[It];return Un(e)?e[It]:e}function n0(n){return n[ta]??=[]}function r0(n){return n.cleanup??=[]}var pe={lFrame:E0(null),bindingsEnabled:!0,skipHydrationRootTNode:null},al=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(al||{}),iL=0,jy=!1;function i0(){return pe.lFrame.elementDepthCount}function o0(){pe.lFrame.elementDepthCount++}function s0(){pe.lFrame.elementDepthCount--}function vv(){return pe.bindingsEnabled}function a0(){return pe.skipHydrationRootTNode!==null}function c0(n){return pe.skipHydrationRootTNode===n}function l0(){pe.skipHydrationRootTNode=null}function Re(){return pe.lFrame.lView}function Ht(){return pe.lFrame.tView}function xe(n){return pe.lFrame.contextLView=n,n[Mt]}function ke(n){return pe.lFrame.contextLView=null,n}function xt(){let n=_v();for(;n!==null&&n.type===64;)n=n.parent;return n}function _v(){return pe.lFrame.currentTNode}function u0(){let n=pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function oa(n,e){let t=pe.lFrame;t.currentTNode=n,t.isParent=e}function Ev(){return pe.lFrame.isParent}function d0(){pe.lFrame.isParent=!1}function h0(){return pe.lFrame.contextLView}function wv(n){UC("Must never be called in production mode"),iL=n}function Iv(){return jy}function Dv(n){let e=jy;return jy=n,e}function Tv(){let n=pe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function f0(n){return pe.lFrame.bindingIndex=n}function cl(){return pe.lFrame.bindingIndex++}function p0(n){let e=pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function g0(){return pe.lFrame.inI18n}function m0(n,e){let t=pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Lh(e)}function y0(){return pe.lFrame.currentDirectiveIndex}function Lh(n){pe.lFrame.currentDirectiveIndex=n}function v0(n){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function bv(n){pe.lFrame.currentQueryIndex=n}function oL(n){let e=n[ge];return e.type===2?e.declTNode:e.type===1?n[En]:null}function Cv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=oL(o),i===null||(o=o[Fo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=pe.lFrame=_0();return r.currentTNode=e,r.lView=n,!0}function Vh(n){let e=_0(),t=n[ge];pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function _0(){let n=pe.lFrame,e=n===null?null:n.child;return e===null?E0(n):e}function E0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function w0(){let n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Sv=w0;function jh(){let n=w0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function I0(n){return(pe.lFrame.contextLView=e0(n,pe.lFrame.contextLView))[Mt]}function $o(){return pe.lFrame.selectedIndex}function Bi(n){pe.lFrame.selectedIndex=n}function Uh(){let n=pe.lFrame;return xh(n.tView,n.selectedIndex)}function D0(){return pe.lFrame.currentNamespace}var T0=!0;function Bh(){return T0}function $h(n){T0=n}function Uy(n,e=null,t=null,r){let i=Av(n,e,t,r);return i.resolveInjectorInitializers(),i}function Av(n,e=null,t=null,r,i=new Set){let o=[t||cn,GC(n)];return r=r||(typeof n=="object"?void 0:Xt(n)),new xo(o,e||ea(),r||null,i)}var Le=class n{static THROW_IF_NOT_FOUND=Po;static NULL=new Kc;static create(e,t){if(Array.isArray(e))return Uy({name:""},t,e,"");{let r=e.name??"";return Uy({name:r},e.parent,e.providers,r)}}static \u0275prov=O({token:n,providedIn:"any",factory:()=>z(tv)});static __NG_ELEMENT_ID__=-1},Ne=new j(""),Gr=(()=>{class n{static __NG_ELEMENT_ID__=sL;static __NG_ENV_ID__=t=>t}return n})(),By=class extends Gr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Bo(this._lView)}onDestroy(e){let t=this._lView;return yv(t,e),()=>t0(t,e)}};function sL(){return new By(Re())}var Vn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},zt=new j("",{providedIn:"root",factory:()=>{let n=S(Be),e;return t=>{e??=n.get(Vn),e.handleError(t)}}}),b0={provide:Vi,useValue:()=>void S(Vn),multi:!0};function Rv(n){return typeof n=="function"&&n[Rt]!==void 0}function kt(n,e){let[t,r,i]=fy(n,e?.equal),o=t,s=o[Rt];return o.set=r,o.update=i,o.asReadonly=C0.bind(o),o}function C0(){let n=this[Rt];if(n.readonlyFn===void 0){let e=()=>this();e[Rt]=n,n.readonlyFn=e}return n.readonlyFn}function Pv(n){return Rv(n)&&typeof n.set=="function"}var zr=class{},ll=new j("",{providedIn:"root",factory:()=>!1});var Nv=new j(""),Mv=new j("");var Hh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=aL}return n})();function aL(){return new Hh(Re(),xt())}var Wr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new dt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new K(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),$i=(()=>{class n{internalPendingTasks=S(Wr);scheduler=S(zr);errorHandler=S(zt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})();function ul(...n){}var xv=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>new $y})}return n})(),$y=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function la(n){return{toString:n}.toString()}var zh="__parameters__";function gL(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function iS(n,e,t){return la(()=>{let r=gL(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,h){let p=l.hasOwnProperty(zh)?l[zh]:Object.defineProperty(l,zh,{value:[]})[zh];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var qt=Xy(iS("Optional"),8);var oS=Xy(iS("SkipSelf"),4);function mL(n){return typeof n=="function"}var Yh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function sS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Tn=(()=>{let n=()=>aS;return n.ngInherit=!0,n})();function aS(n){return n.type.prototype.ngOnChanges&&(n.setInput=vL),yL}function yL(){let n=lS(this),e=n?.current;if(e){let t=n.previous;if(t===Li)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function vL(n,e,t,r,i){let o=this.declaredInputs[r],s=lS(n)||_L(n,{previous:Li,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Yh(u&&u.currentValue,t,l===Li),sS(n,e,i,t)}var cS="__ngSimpleChanges__";function lS(n){return n[cS]||null}function _L(n,e){return n[cS]=e}var S0=[];var Me=function(n,e=null,t){for(let r=0;r<S0.length;r++){let i=S0[r];i(n,e,t)}};function EL(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=aS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function uS(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Wh(n,e,t){dS(n,e,3,t)}function Kh(n,e,t,r){(n[re]&3)===t&&dS(n,e,t,r)}function kv(n,e){let t=n[re];(t&3)===e&&(t&=16383,t+=1,n[re]=t)}function dS(n,e,t,r){let i=r!==void 0?n[Vo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Vo]+=65536),(a<o||o==-1)&&(wL(n,t,e,l),n[Vo]=(n[Vo]&4294901760)+l+2),l++}function A0(n,e){Me(4,n,e);let t=le(null);try{e.call(n)}finally{le(t),Me(5,n,e)}}function wL(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[re]>>14<n[Vo]>>16&&(n[re]&3)===e&&(n[re]+=16384,A0(a,o)):A0(a,o)}var aa=-1,qo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function IL(n){return(n.flags&8)!==0}function DL(n){return(n.flags&16)!==0}function TL(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];bL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function hS(n){return n===3||n===4||n===6}function bL(n){return n.charCodeAt(0)===64}function fl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?R0(n,t,i,null,e[++r]):R0(n,t,i,null,null))}}return n}function R0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function fS(n){return n!==aa}function Zh(n){return n&32767}function CL(n){return n>>16}function Jh(n,e){let t=CL(n),r=e;for(;t>0;)r=r[Fo],t--;return r}var qv=!0;function Xh(n){let e=qv;return qv=n,e}var SL=256,pS=SL-1,gS=5,AL=0,fr={};function RL(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ko)&&(r=t[ko]),r==null&&(r=t[ko]=AL++);let i=r&pS,o=1<<i;e.data[n+(i>>gS)]|=o}function ef(n,e){let t=mS(n,e);if(t!==-1)return t;let r=e[ge];r.firstCreatePass&&(n.injectorIndex=e.length,Ov(r.data,n),Ov(e,null),Ov(r.blueprint,null));let i=u_(n,e),o=n.injectorIndex;if(fS(i)){let s=Zh(i),a=Jh(i,e),l=a[ge].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function Ov(n,e){n.push(0,0,0,0,0,0,0,0,e)}function mS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function u_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=wS(i),r===null)return aa;if(t++,i=i[Fo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return aa}function Gv(n,e,t){RL(n,e,t)}function PL(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(hS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function yS(n,e,t){if(t&8||n!==void 0)return n;Ah(e,"NodeInjector")}function vS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Oo],o=Bt(void 0);try{return i?i.get(e,r,t&8):Jy(e,r,t&8)}finally{Bt(o)}}return yS(r,e,t)}function _S(n,e,t,r=0,i){if(n!==null){if(e[re]&2048&&!(r&2)){let s=OL(n,e,t,r,fr);if(s!==fr)return s}let o=ES(n,e,t,r,fr);if(o!==fr)return o}return vS(e,t,r,i)}function ES(n,e,t,r,i){let o=xL(t);if(typeof o=="function"){if(!Cv(e,n,r))return r&1?yS(i,t,r):vS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ah(t);else return s}finally{Sv()}}else if(typeof o=="number"){let s=null,a=mS(n,e),l=aa,u=r&1?e[wn][En]:null;for((a===-1||r&4)&&(l=a===-1?u_(n,e):e[a+8],l===aa||!N0(r,!1)?a=-1:(s=e[ge],a=Zh(l),e=Jh(l,e)));a!==-1;){let h=e[ge];if(P0(o,a,h.data)){let p=NL(a,e,t,s,r,u);if(p!==fr)return p}l=e[a+8],l!==aa&&N0(r,e[ge].data[a+8]===u)&&P0(o,a,e)?(s=h,a=Zh(l),e=Jh(l,e)):a=-1}}return i}function NL(n,e,t,r,i,o){let s=e[ge],a=s.data[n+8],l=r==null?Ui(a)&&qv:r!=s&&(a.type&3)!==0,u=i&1&&o===a,h=ML(a,s,t,l,u);return h!==null?tf(e,s,h,a):fr}function ML(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:u;for(let y=p;y<g;y++){let T=s[y];if(y<l&&t===T||y>=l&&T.type===t)return y}if(i){let y=s[l];if(y&&hr(y)&&y.type===t)return l}return null}function tf(n,e,t,r){let i=n[t],o=e.data;if(i instanceof qo){let s=i;s.resolving&&Zy(BC(o[t]));let a=Xh(s.canSeeViewProviders);s.resolving=!0;let l=o[t].type||o[t],u,h=s.injectImpl?Bt(s.injectImpl):null,p=Cv(n,r,0);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&EL(t,o[t],e)}finally{h!==null&&Bt(h),Xh(a),s.resolving=!1,Sv()}}return i}function xL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ko)?n[ko]:void 0;return typeof e=="number"?e>=0?e&pS:kL:e}function P0(n,e,t){let r=1<<n;return!!(t[e+(n>>gS)]&r)}function N0(n,e){return!(n&2)&&!(n&1&&e)}var zo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return _S(this._tNode,this._lView,e,No(r),t)}};function kL(){return new zo(xt(),Re())}function Ko(n){return la(()=>{let e=n.prototype.constructor,t=e[Wc]||Wv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Wc]||Wv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Wv(n){return zy(n)?()=>{let e=Wv(wt(n));return e&&e()}:Oi(n)}function OL(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!ra(s);){let a=ES(o,s,t,r|2,fr);if(a!==fr)return a;let l=o.parent;if(!l){let u=s[dv];if(u){let h=u.get(t,fr,r);if(h!==fr)return h}l=wS(s),s=s[Fo]}o=l}return i}function wS(n){let e=n[ge],t=e.type;return t===2?e.declTNode:t===1?n[En]:null}function yl(n){return PL(xt(),n)}function FL(){return pf(xt(),Re())}function pf(n,e){return new Gt(Bn(n,e))}var Gt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=FL}return n})();function IS(n){return(n.flags&128)===128}var d_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(d_||{}),DS=new Map,LL=0;function VL(){return LL++}function jL(n){DS.set(n[tl],n)}function Kv(n){DS.delete(n[tl])}var M0="__ngContext__";function vl(n,e){dr(e)?(n[M0]=e[tl],jL(e)):n[M0]=e}function TS(n){return CS(n[na])}function bS(n){return CS(n[_n])}function CS(n){for(;n!==null&&!Un(n);)n=n[_n];return n}var Qv;function h_(n){Qv=n}function SS(){if(Qv!==void 0)return Qv;if(typeof document<"u")return document;throw new B(210,!1)}var ua=new j("",{providedIn:"root",factory:()=>UL}),UL="ng",gf=new j(""),gr=new j("",{providedIn:"platform",factory:()=>"unknown"});var mf=new j("",{providedIn:"root",factory:()=>SS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BL="h",$L="b";var AS=!1,RS=new j("",{providedIn:"root",factory:()=>AS});var HL=(n,e,t,r)=>{};function zL(n,e,t,r){HL(n,e,t,r)}var qL=()=>null;function PS(n,e,t=!1){return qL(n,e,t)}function NS(n,e){let t=n.contentQueries;if(t!==null){let r=le(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];bv(o),a.contentQueries(2,e[s],s)}}}finally{le(r)}}}function Yv(n,e,t){bv(0);let r=le(null);try{e(n,t)}finally{le(r)}}function MS(n,e,t){if(hv(e)){let r=le(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{le(r)}}}var Kr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Kr||{});var qh;function GL(){if(qh===void 0&&(qh=null,qr.trustedTypes))try{qh=qr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return qh}function x0(n){return GL()?.createScriptURL(n)||n}var nf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ch})`}};function _l(n){return n instanceof nf?n.changingThisBreaksApplicationSecurity:n}function f_(n,e){let t=xS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ch})`)}return t===e}function xS(n){return n instanceof nf&&n.getTypeName()||null}var WL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kS(n){return n=String(n),n.match(WL)?n:"unsafe:"+n}var yf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(yf||{});function OS(n){let e=LS();return e?e.sanitize(yf.URL,n)||"":f_(n,"URL")?_l(n):kS(Zc(n))}function FS(n){let e=LS();if(e)return x0(e.sanitize(yf.RESOURCE_URL,n)||"");if(f_(n,"ResourceURL"))return x0(_l(n));throw new B(904,!1)}function KL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?FS:OS}function p_(n,e,t){return KL(e,t)(n)}function LS(){let n=Re();return n&&n[ur].sanitizer}function VS(n){return n instanceof Function?n():n}function QL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var jS="ng-template";function YL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&QL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(g_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function g_(n){return n.type===4&&n.value!==jS}function ZL(n,e,t){let r=n.type===4&&!t?jS:n.value;return e===r}function JL(n,e,t){let r=4,i=n.attrs,o=i!==null?tV(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!$n(r)&&!$n(l))return!1;if(s&&$n(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!ZL(n,l,t)||l===""&&e.length===1){if($n(r))return!1;s=!0}}else if(r&8){if(i===null||!YL(n,i,l,t)){if($n(r))return!1;s=!0}}else{let u=e[++a],h=XL(l,i,g_(n),t);if(h===-1){if($n(r))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&u!==p){if($n(r))return!1;s=!0}}}}return $n(r)||s}function $n(n){return(n&1)===0}function XL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return nV(e,n)}function eV(n,e,t=!1){for(let r=0;r<e.length;r++)if(JL(n,e[r],t))return!0;return!1}function tV(n){for(let e=0;e<n.length;e++){let t=n[e];if(hS(t))return e}return n.length}function nV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function k0(n,e){return n?":not("+e.trim()+")":e}function rV(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$n(s)&&(e+=k0(o,i),i=""),r=s,o=o||!$n(r);t++}return i!==""&&(e+=k0(o,i)),e}function iV(n){return n.map(rV).join(",")}function oV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!$n(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Qr={};function sV(n,e){return n.createText(e)}function aV(n,e,t){n.setValue(e,t)}function US(n,e,t){return n.createElement(e,t)}function rf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function BS(n,e,t){n.appendChild(e,t)}function O0(n,e,t,r,i){r!==null?rf(n,e,t,r,i):BS(n,e,t)}function cV(n,e,t){n.removeChild(null,e,t)}function lV(n,e,t){n.setAttribute(e,"style",t)}function uV(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function $S(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&TL(n,e,r),i!==null&&uV(n,e,i),o!==null&&lV(n,e,o)}function m_(n,e,t,r,i,o,s,a,l,u,h){let p=$t+r,g=p+i,y=dV(p,g),T=typeof u=="function"?u():u;return y[ge]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:T,incompleteFirstPass:!1,ssrId:h}}function dV(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Qr);return t}function hV(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=m_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function y_(n,e,t,r,i,o,s,a,l,u,h){let p=e.blueprint.slice();return p[jn]=i,p[re]=r|4|128|8|64|1024,(u!==null||n&&n[re]&2048)&&(p[re]|=2048),gv(p),p[It]=p[Fo]=n,p[Mt]=t,p[ur]=s||n&&n[ur],p[Xe]=a||n&&n[Xe],p[Oo]=l||n&&n[Oo]||null,p[En]=o,p[tl]=VL(),p[el]=h,p[dv]=u,p[wn]=e.type==2?n[wn]:p,p}function fV(n,e,t){let r=Bn(e,n),i=hV(t),o=n[ur].rendererFactory,s=v_(n,y_(n,i,null,HS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function HS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function zS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function v_(n,e){return n[na]?n[uv][_n]=e:n[na]=e,n[uv]=e,e}function ae(n=1){qS(Ht(),Re(),$o()+n,!1)}function qS(n,e,t,r){if(!r)if((e[re]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Wh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Kh(e,o,0,t)}Bi(t)}var vf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(vf||{});function Zv(n,e,t,r){let i=le(null);try{let[o,s,a]=n.inputs[t],l=null;(s&vf.SignalBased)!==0&&(l=e[o][Rt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):sS(e,l,o,r)}finally{le(i)}}function GS(n,e,t,r,i){let o=$o(),s=r&2;try{Bi(-1),s&&e.length>$t&&qS(n,e,$t,!1),Me(s?2:0,i,t),t(r,i)}finally{Bi(o),Me(s?3:1,i,t)}}function __(n,e,t){EV(n,e,t),(t.flags&64)===64&&wV(n,e,t)}function WS(n,e,t=Bn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function pV(n,e,t,r){let o=r.get(RS,AS)||t===Kr.ShadowDom,s=n.selectRootElement(e,o);return gV(s),s}function gV(n){mV(n)}var mV=()=>null;function yV(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function KS(n,e,t,r,i,o){let s=e[ge];if(E_(n,s,e,t,r)){Ui(n)&&_V(e,n.index);return}vV(n,e,t,r,i,o)}function vV(n,e,t,r,i,o){if(n.type&3){let s=Bn(n,e);t=yV(t),r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function _V(n,e){let t=Dn(e,n);t[re]&16||(t[re]|=64)}function EV(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ui(t)&&fV(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ef(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=tf(e,n,s,t);if(vl(l,e),o!==null&&bV(e,s-r,l,a,t,o),hr(a)){let u=Dn(t.index,e);u[Mt]=tf(e,n,s,t)}}}function wV(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=y0();try{Bi(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];Lh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&IV(l,u)}}finally{Bi(-1),Lh(s)}}function IV(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function QS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];eV(e,o.selectors,!1)&&(r??=[],hr(o)?r.unshift(o):r.push(o))}return r}function DV(n,e,t,r,i,o){let s=Bn(n,e);TV(e[Xe],s,o,n.value,t,r,i)}function TV(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Zc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function bV(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Zv(r,t,l,u)}}function CV(n,e){let t=n[Oo];if(!t)return;t.get(zt,null)?.(e)}function E_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],h=s[l+1],p=e.data[u];Zv(p,t[u],h,i),a=!0}if(o)for(let l of o){let u=t[l],h=e.data[l];Zv(h,u,r,i),a=!0}return a}function SV(n,e){let t=Dn(e,n),r=t[ge];AV(r,t);let i=t[jn];i!==null&&t[el]===null&&(t[el]=PS(i,t[Oo])),Me(18),w_(r,t,t[Mt]),Me(19,t[Mt])}function AV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function w_(n,e,t){Vh(e);try{let r=n.viewQuery;r!==null&&Yv(1,r,t);let i=n.template;i!==null&&GS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[jo]?.finishViewCreation(n),n.staticContentQueries&&NS(n,e),n.staticViewQueries&&Yv(2,n.viewQuery,t);let o=n.components;o!==null&&RV(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[re]&=-5,jh()}}function RV(n,e){for(let t=0;t<e.length;t++)SV(n,e[t])}function PV(n,e,t,r){let i=le(null);try{let o=e.tView,a=n[re]&4096?4096:16,l=y_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[Lo]=u;let h=n[jo];return h!==null&&(l[jo]=h.createEmbeddedView(o)),w_(o,l,t),l}finally{le(i)}}function F0(n,e){return!e||e.firstChild===null||IS(n)}var L0=!1,NV=new j(""),MV;function I_(n,e){return MV(n,e)}var pr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(pr||{});function D_(n){return(n.flags&32)===32}function sa(n,e,t,r,i){if(r!=null){let o,s=!1;Un(r)?o=r:dr(r)&&(s=!0,r=r[jn]);let a=In(r);n===0&&t!==null?i==null?BS(e,t,a):rf(e,t,a,i||null,!0):n===1&&t!==null?rf(e,t,a,i||null,!0):n===2?cV(e,a,s):n===3&&e.destroyNode(a),o!=null&&zV(e,n,o,t,i)}}function xV(n,e){YS(n,e),e[jn]=null,e[En]=null}function kV(n,e,t,r,i,o){r[jn]=i,r[En]=e,_f(n,r,t,1,i,o)}function YS(n,e){e[ur].changeDetectionScheduler?.notify(9),_f(n,e,e[Xe],2,null,null)}function OV(n){let e=n[na];if(!e)return Fv(n[ge],n);for(;e;){let t=null;if(dr(e))t=e[na];else{let r=e[tn];r&&(t=r)}if(!t){for(;e&&!e[_n]&&e!==n;)dr(e)&&Fv(e[ge],e),e=e[It];e===null&&(e=n),dr(e)&&Fv(e[ge],e),t=e&&e[_n]}e=t}}function T_(n,e){let t=n[il],r=t.indexOf(e);t.splice(r,1)}function ZS(n,e){if(Bo(e))return;let t=e[Xe];t.destroyNode&&_f(n,e,t,3,null,null),OV(e)}function Fv(n,e){if(Bo(e))return;let t=le(null);try{e[re]&=-129,e[re]|=256,e[ln]&&Ld(e[ln]),LV(n,e),FV(n,e),e[ge].type===1&&e[Xe].destroy();let r=e[Lo];if(r!==null&&Un(e[It])){r!==e[It]&&T_(r,e);let i=e[jo];i!==null&&i.detachView(n)}Kv(e)}finally{le(t)}}function FV(n,e){let t=n.cleanup,r=e[ta];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ta]=null);let i=e[Hr];if(i!==null){e[Hr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[nl];if(o!==null){e[nl]=null;for(let s of o)s.destroy()}}function LV(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof qo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Me(4,a,l);try{l.call(a)}finally{Me(5,a,l)}}else{Me(4,i,o);try{o.call(i)}finally{Me(5,i,o)}}}}}function VV(n,e,t){return jV(n,e.parent,t)}function jV(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[jn];if(Ui(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Kr.None||i===Kr.Emulated)return null}return Bn(r,t)}function UV(n,e,t){return $V(n,e,t)}function BV(n,e,t){return n.type&40?Bn(n,t):null}var $V=BV,V0;function b_(n,e,t,r){let i=VV(n,r,e),o=e[Xe],s=r.parent||e[En],a=UV(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)O0(o,i,t[l],a,!1);else O0(o,i,t,a,!1);V0!==void 0&&V0(o,r,e,t,i)}function dl(n,e){if(e!==null){let t=e.type;if(t&3)return Bn(e,n);if(t&4)return Jv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return dl(n,r);{let i=n[e.index];return Un(i)?Jv(-1,i):In(i)}}else{if(t&128)return dl(n,e.next);if(t&32)return I_(e,n)()||In(n[e.index]);{let r=JS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Fi(n[wn]);return dl(i,r)}else return dl(n,e.next)}}}return null}function JS(n,e){if(e!==null){let r=n[wn][En],i=e.projection;return r.projection[i]}return null}function Jv(n,e){let t=tn+n+1;if(t<e.length){let r=e[t],i=r[ge].firstChild;if(i!==null)return dl(r,i)}return e[ji]}function C_(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&vl(In(a),r),t.flags|=2),!D_(t))if(l&8)C_(n,e,t.child,r,i,o,!1),sa(e,n,i,a,o);else if(l&32){let u=I_(t,r),h;for(;h=u();)sa(e,n,i,h,o);sa(e,n,i,a,o)}else l&16?HV(n,e,r,t,i,o):sa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function _f(n,e,t,r,i,o){C_(t,r,n.firstChild,e,i,o,!1)}function HV(n,e,t,r,i,o){let s=t[wn],l=s[En].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];sa(e,n,i,h,o)}else{let u=l,h=s[It];IS(r)&&(u.flags|=128),C_(n,e,u,h,i,o,!0)}}function zV(n,e,t,r,i){let o=t[ji],s=In(t);o!==s&&sa(e,n,r,o,i);for(let a=tn;a<t.length;a++){let l=t[a];_f(l[ge],l,n,e,r,o)}}function qV(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:pr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=pr.Important),n.setStyle(t,r,i,o))}}function pl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(In(o)),Un(o)&&XS(o,r);let s=t.type;if(s&8)pl(n,e,t.child,r);else if(s&32){let a=I_(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=JS(e,t);if(Array.isArray(a))r.push(...a);else{let l=Fi(e[wn]);pl(l[ge],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function XS(n,e){for(let t=tn;t<n.length;t++){let r=n[t],i=r[ge].firstChild;i!==null&&pl(r[ge],r,i,e)}n[ji]!==n[jn]&&e.push(n[ji])}function eA(n){if(n[Uo]!==null){for(let e of n[Uo])e.impl.addSequence(e);n[Uo].length=0}}var tA=[];function GV(n){return n[ln]??WV(n)}function WV(n){let e=tA.pop()??Object.create(QV);return e.lView=n,e}function KV(n){n.lView[ln]!==n&&(n.lView=null,tA.push(n))}var QV=ee(k({},Do),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ia(n.lView)},consumerOnSignalRead(){this.lView[ln]=this}});function YV(n){let e=n[ln]??Object.create(ZV);return e.lView=n,e}var ZV=ee(k({},Do),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Fi(n.lView);for(;e&&!nA(e[ge]);)e=Fi(e);e&&mv(e)},consumerOnSignalRead(){this.lView[ln]=this}});function nA(n){return n.type!==2}function rA(n){if(n[nl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[nl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[re]&8192)}}var JV=100;function S_(n,e=0){let r=n[ur].rendererFactory,i=!1;i||r.begin?.();try{XV(n,e)}finally{i||r.end?.()}}function XV(n,e){let t=Iv();try{Dv(!0),Xv(n,e);let r=0;for(;sl(n);){if(r===JV)throw new B(103,!1);r++,Xv(n,1)}}finally{Dv(t)}}function iA(n,e){wv(e?al.Exhaustive:al.OnlyDirtyViews);try{S_(n)}finally{wv(al.Off)}}function e2(n,e,t,r){if(Bo(e))return;let i=e[re],o=!1,s=!1;Vh(e);let a=!0,l=null,u=null;o||(nA(n)?(u=GV(e),l=To(u)):Od()===null?(a=!1,u=YV(e),l=To(u)):e[ln]&&(Ld(e[ln]),e[ln]=null));try{gv(e),f0(n.bindingStartIndex),t!==null&&GS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Wh(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Kh(e,y,0,null),kv(e,0)}if(s||t2(e),rA(e),oA(e,0),n.contentQueries!==null&&NS(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Wh(e,y)}else{let y=n.contentHooks;y!==null&&Kh(e,y,1),kv(e,1)}r2(n,e);let p=n.components;p!==null&&aA(e,p,0);let g=n.viewQuery;if(g!==null&&Yv(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Wh(e,y)}else{let y=n.viewHooks;y!==null&&Kh(e,y,2),kv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Nh]){for(let y of e[Nh])y();e[Nh]=null}o||(eA(e),e[re]&=-73)}catch(h){throw o||ia(e),h}finally{u!==null&&(js(u,l),a&&KV(u)),jh()}}function oA(n,e){for(let t=TS(n);t!==null;t=bS(t))for(let r=tn;r<t.length;r++){let i=t[r];sA(i,e)}}function t2(n){for(let e=TS(n);e!==null;e=bS(e)){if(!(e[re]&2))continue;let t=e[il];for(let r=0;r<t.length;r++){let i=t[r];mv(i)}}}function n2(n,e,t){Me(18);let r=Dn(e,n);sA(r,t),Me(19,r[Mt])}function sA(n,e){Oh(n)&&Xv(n,e)}function Xv(n,e){let r=n[ge],i=n[re],o=n[ln],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Uc(o)),s||=!1,o&&(o.dirty=!1),n[re]&=-9217,s)e2(r,n,r.template,n[Mt]);else if(i&8192){let a=le(null);try{rA(n),oA(n,1);let l=r.components;l!==null&&aA(n,l,1),eA(n)}finally{le(a)}}}function aA(n,e,t){for(let r=0;r<e.length;r++)n2(n,e[r],t)}function r2(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Bi(~i);else{let o=i,s=t[++r],a=t[++r];m0(s,o);let l=e[o];Me(24,l),a(2,l),Me(25,l)}}}finally{Bi(-1)}}function A_(n,e){let t=Iv()?64:1088;for(n[ur].changeDetectionScheduler?.notify(e);n;){n[re]|=t;let r=Fi(n);if(ra(n)&&!r)return n;n=r}return null}function cA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function i2(n,e,t,r=!0){let i=e[ge];if(o2(i,e,n,t),r){let s=Jv(t,n),a=e[Xe],l=a.parentNode(n[ji]);l!==null&&kV(i,n[En],a,e,l,s)}let o=e[el];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function e_(n,e){if(n.length<=tn)return;let t=tn+e,r=n[t];if(r){let i=r[Lo];i!==null&&i!==n&&T_(i,r),e>0&&(n[t-1][_n]=r[_n]);let o=Jc(n,tn+e);xV(r[ge],r);let s=o[jo];s!==null&&s.detachView(o[ge]),r[It]=null,r[_n]=null,r[re]&=-129}return r}function o2(n,e,t,r){let i=tn+r,o=t.length;r>0&&(t[i-1][_n]=e),r<o-tn?(e[_n]=t[i],ev(t,tn+r,e)):(t.push(e),e[_n]=null),e[It]=t;let s=e[Lo];s!==null&&t!==s&&lA(s,e);let a=e[jo];a!==null&&a.insertView(n),Fh(e),e[re]|=128}function lA(n,e){let t=n[il],r=e[It];if(dr(r))n[re]|=2;else{let i=r[It][wn];e[wn]!==i&&(n[re]|=2)}t===null?n[il]=[e]:t.push(e)}var Hi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ge];return pl(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Mt]}set context(e){this._lView[Mt]=e}get destroyed(){return Bo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[It];if(Un(e)){let t=e[rl],r=t?t.indexOf(this):-1;r>-1&&(e_(e,r),Jc(t,r))}this._attachedToViewContainer=!1}ZS(this._lView[ge],this._lView)}onDestroy(e){yv(this._lView,e)}markForCheck(){A_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){Fh(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,S_(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Oo].get(NV,L0)}catch{this.exhaustive=L0}}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ra(this._lView),t=this._lView[Lo];t!==null&&!e&&T_(t,this._lView),YS(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=ra(this._lView),r=this._lView[Lo];r!==null&&!t&&lA(r,this._lView),Fh(this._lView)}};var Qo=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=s2;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=PV(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Hi(o)}}return n})();function s2(){return uA(xt(),Re())}function uA(n,e){return n.type&4?new Qo(e,n,pf(n,e)):null}function R_(n,e,t,r,i){let o=n.data[e];if(o===null)o=a2(n,e,t,r,i),g0()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=u0();o.injectorIndex=s===null?-1:s.injectorIndex}return oa(o,!0),o}function a2(n,e,t,r,i){let o=_v(),s=Ev(),a=s?o:o&&o.parent,l=n.data[e]=l2(n,a,t,e,r,i);return c2(n,l,o,s),l}function c2(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function l2(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return a0()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var MJ=new RegExp(`^(\\d+)*(${$L}|${BL})*(.*)`);var u2=()=>null;function j0(n,e){return u2(n,e)}var dA=class{},Ef=class{},t_=class{resolveComponentFactory(e){throw new B(917,!1)}},El=class{static NULL=new t_},un=class{},Yr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>d2()}return n})();function d2(){let n=Re(),e=xt(),t=Dn(e.index,n);return(dr(t)?t:n)[Xe]}var hA=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>null})}return n})();var Qh={},n_=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Qh,r);return i!==Qh||t===Qh?i:this.parentInjector.get(e,t,r)}};function U0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Hy(i,a);else if(o==2){let l=a,u=e[++s];r=Hy(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Q(n,e=0){let t=Re();if(t===null)return z(n,e);let r=xt();return _S(r,t,wt(n),e)}function P_(){let n="invalid";throw new Error(n)}function fA(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,u=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,l,u]=h.resolveHostDirectives(s);break}p2(n,e,t,a,o,l,u)}o!==null&&r!==null&&h2(t,r,o)}function h2(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function f2(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function p2(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let g=0;g<a;g++){let y=r[g];!l&&hr(y)&&(l=!0,f2(n,t,g)),Gv(ef(t,e),n,y.type)}E2(t,n.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let u=!1,h=!1,p=zS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=fl(t.mergedAttrs,y.hostAttrs),m2(n,t,e,p,y),_2(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);t.directiveToIndex.set(y.type,[p,N+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let T=y.type.prototype;!u&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}g2(n,t,o)}function g2(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))B0(0,e,i,r),B0(1,e,i,r),H0(e,r,!1);else{let o=t.get(i);$0(0,e,o,r),$0(1,e,o,r),H0(e,r,!0)}}}function B0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),pA(e,o)}}function $0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),pA(e,s)}}function pA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function H0(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||g_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let u=i[l];for(let h of u)if(h===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let u=o[l];for(let h=0;h<u.length;h+=2)if(u[h]===e){s??=[],s.push(u[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function m2(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Oi(i.type,!0)),s=new qo(o,hr(i),Q);n.blueprint[r]=s,t[r]=s,y2(n,e,r,zS(n,t,i.hostVars,Qr),i)}function y2(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;v2(s)!=a&&s.push(a),s.push(t,r,o)}}function v2(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function _2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;hr(e)&&(t[""]=n)}}function E2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function gA(n,e,t,r,i,o,s,a){let l=e.consts,u=ol(l,s),h=R_(e,n,2,r,u);return o&&fA(e,t,h,ol(l,a),i),h.mergedAttrs=fl(h.mergedAttrs,h.attrs),h.attrs!==null&&U0(h,h.attrs,!1),h.mergedAttrs!==null&&U0(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function mA(n,e){uS(n,e),hv(e)&&n.queries.elementEnd(e)}function N_(n){return vA(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function yA(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function vA(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function _A(n,e,t){return n[e]=t}function zi(n,e,t){if(t===Qr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function w2(n,e,t,r){let i=zi(n,e,t);return zi(n,e+1,r)||i}function Lv(n,e,t){return function r(i){let o=Ui(n)?Dn(n.index,e):e;A_(o,5);let s=e[Mt],a=z0(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=z0(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function z0(n,e,t,r){let i=le(null);try{return Me(6,e,t),t(r)!==!1}catch(o){return CV(n,o),!1}finally{Me(7,e,t),le(i)}}function I2(n,e,t,r,i,o,s,a){let l=Mh(n),u=!1,h=null;if(!r&&l&&(h=D2(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,u=!0}else{let p=Bn(n,t),g=r?r(p):p;zL(t,g,o,a);let y=i.listen(g,o,a),T=r?N=>r(In(N[n.index])):n.index;EA(T,e,t,o,a,y,!1)}return u}function D2(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ta],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function EA(n,e,t,r,i,o,s){let a=e.firstCreatePass?r0(e):null,l=n0(t),u=l.length;l.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function q0(n,e,t,r,i,o){let s=e[t],a=e[ge],u=a.data[t].outputs[r],p=s[u].subscribe(o);EA(n.index,a,e,i,o,p,!0)}var r_=Symbol("BINDING");var of=class extends El{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=lr(e);return new qi(t,this.ngModule)}};function T2(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&vf.SignalBased)!==0};return i&&(o.transform=i),o})}function b2(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function C2(n,e,t){let r=e instanceof Be?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new n_(t,r):t}function S2(n){let e=n.get(un,null);if(e===null)throw new B(407,!1);let t=n.get(hA,null),r=n.get(zr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function A2(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return US(e,t,t==="svg"?ZC:t==="math"?JC:null)}var qi=class extends Ef{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=T2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=b2(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=iV(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Me(22);let a=le(null);try{let l=this.componentDef,u=R2(r,l,s,o),h=C2(l,i||this.ngModule,e),p=S2(h),g=p.rendererFactory.createRenderer(null,l),y=r?pV(g,r,l.encapsulation,h):A2(l,g),T=s?.some(G0)||o?.some(V=>typeof V!="function"&&V.bindings.some(G0)),N=y_(null,u,null,512|HS(l),null,null,p,g,h,null,PS(y,h,!0));N[$t]=y,Vh(N);let R=null;try{let V=gA($t,u,N,"#host",()=>u.directiveRegistry,!0,0);y&&($S(g,y,V),vl(y,N)),__(u,N,V),MS(u,V,N),mA(u,V),t!==void 0&&N2(V,this.ngContentSelectors,t),R=Dn(V.index,N),N[Mt]=R[Mt],w_(u,N,null)}catch(V){throw R!==null&&Kv(R),Kv(N),V}finally{Me(23),jh()}return new sf(this.componentType,N,!!T)}finally{le(a)}}};function R2(n,e,t,r){let i=n?["ng-version","20.0.4"]:oV(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[r_].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[r_].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let l=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=iv(p);l.push(g)}return m_(0,null,P2(o,s),1,a,l,null,null,null,[i],null)}function P2(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function G0(n){let e=n[r_].kind;return e==="input"||e==="twoWay"}var sf=class extends dA{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=xh(t[ge],$t),this.location=pf(this._tNode,t),this.instance=Dn(this._tNode.index,t)[Mt],this.hostView=this.changeDetectorRef=new Hi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=E_(r,i[ge],i,e,t);this.previousInputValues.set(e,t);let s=Dn(r.index,i);A_(s,1)}get injector(){return new zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function N2(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var mr=(()=>{class n{static __NG_ELEMENT_ID__=M2}return n})();function M2(){let n=xt();return k2(n,Re())}var x2=mr,wA=class extends x2{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return pf(this._hostTNode,this._hostLView)}get injector(){return new zo(this._hostTNode,this._hostLView)}get parentInjector(){let e=u_(this._hostTNode,this._hostLView);if(fS(e)){let t=Jh(e,this._hostLView),r=Zh(e),i=t[ge].data[r+8];return new zo(i,t)}else return new zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=W0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=j0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,F0(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!mL(e),u;if(l)u=t;else{let R=t||{};u=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=l?e:new qi(lr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let V=(l?p:this.parentInjector).get(Be,null);V&&(o=V)}let g=lr(h.componentType??{}),y=j0(this._lContainer,g?.id??null),T=y?.firstChild??null,N=h.create(p,i,T,o,s,a);return this.insertImpl(N.hostView,u,F0(this._hostTNode,y)),N}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(XC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[It],u=new wA(l,l[En],l[It]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return i2(s,i,o,r),e.attachToViewContainerRef(),ev(Vv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=W0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=e_(this._lContainer,t);r&&(Jc(Vv(this._lContainer),t),ZS(r[ge],r))}detach(e){let t=this._adjustIndex(e,-1),r=e_(this._lContainer,t);return r&&Jc(Vv(this._lContainer),t)!=null?new Hi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function W0(n){return n[rl]}function Vv(n){return n[rl]||(n[rl]=[])}function k2(n,e){let t,r=e[n.index];return Un(r)?t=r:(t=cA(r,e,null,n),e[n.index]=t,v_(e,t)),F2(t,e,n,r),new wA(t,n,e)}function O2(n,e){let t=n[Xe],r=t.createComment(""),i=Bn(e,n),o=t.parentNode(i);return rf(t,o,r,t.nextSibling(i),!1),r}var F2=j2,L2=()=>!1;function V2(n,e,t){return L2(n,e,t)}function j2(n,e,t,r){if(n[ji])return;let i;t.type&8?i=In(r):i=O2(e,t),n[ji]=i}var K0=new Set;function Yo(n){K0.has(n)||(K0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Go=class{},wf=class{};var af=class extends Go{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new of(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=rv(e);this._bootstrapComponents=VS(o.bootstrap),this._r3Injector=Av(e,t,[{provide:Go,useValue:this},{provide:El,useValue:this.componentFactoryResolver},...r],Xt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},cf=class extends wf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new af(this.moduleType,e,[])}};var gl=class extends Go{injector;componentFactoryResolver=new of(this);instance=null;constructor(e){super();let t=new xo([...e.providers,{provide:Go,useValue:this},{provide:El,useValue:this.componentFactoryResolver}],e.parent||ea(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function da(n,e,t=null){return new gl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var U2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ov(!1,t.type),i=r.length>0?da([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:n,providedIn:"environment",factory:()=>new n(z(Be))})}return n})();function gt(n){return la(()=>{let e=IA(n),t=ee(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===d_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(U2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Kr.Emulated,styles:n.styles||cn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Yo("NgStandalone"),DA(t);let r=n.dependencies;return t.directiveDefs=Q0(r,!1),t.pipeDefs=Q0(r,!0),t.id=q2(t),t})}function B2(n){return lr(n)||iv(n)}function $2(n){return n!==null}function Wt(n){return la(()=>({type:n.type,bootstrap:n.bootstrap||cn,declarations:n.declarations||cn,imports:n.imports||cn,exports:n.exports||cn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function H2(n,e){if(n==null)return Li;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=vf.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function z2(n){if(n==null)return Li;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function qe(n){return la(()=>{let e=IA(n);return DA(e),e})}function If(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function IA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Li,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||cn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:H2(n.inputs,e),outputs:z2(n.outputs),debugInfo:null}}function DA(n){n.features?.forEach(e=>e(n))}function Q0(n,e){if(!n)return null;let t=e?qC:B2;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter($2)}function q2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function G2(n){return Object.getPrototypeOf(n.prototype).constructor}function Hn(n){let e=G2(n.type),t=!0,r=[n];for(;e;){let i;if(hr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=jv(n.inputs),s.declaredInputs=jv(n.declaredInputs),s.outputs=jv(n.outputs);let a=i.hostBindings;a&&Z2(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&Q2(n,l),u&&Y2(n,u),W2(n,i),jC(n.outputs,i.outputs),hr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Hn&&(t=!1)}}e=Object.getPrototypeOf(e)}K2(r)}function W2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function K2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fl(i.hostAttrs,t=fl(t,i.hostAttrs))}}function jv(n){return n===Li?{}:n===cn?[]:n}function Q2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Y2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Z2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function J2(n,e,t,r,i,o,s,a,l){let u=e.consts,h=R_(e,n,4,s||null,a||null);vv()&&fA(e,t,h,ol(u,l),QS),h.mergedAttrs=fl(h.mergedAttrs,h.attrs),uS(e,h);let p=h.tView=m_(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function X2(n,e,t,r,i,o,s,a,l,u,h){let p=t+$t,g=e.firstCreatePass?J2(p,e,n,r,i,o,s,a,u):e.data[p];l&&(g.flags|=l),oa(g,!1);let y=ej(e,n,g,t);Bh()&&b_(e,n,y,g),vl(y,n);let T=cA(y,n,y,g);return n[p]=T,v_(n,T),V2(T,g,n),Mh(g)&&__(e,n,g),u!=null&&WS(n,g,h),g}function et(n,e,t,r,i,o,s,a){let l=Re(),u=Ht(),h=ol(u.consts,o);return X2(l,u,n,e,t,r,i,h,void 0,s,a),et}var ej=tj;function tj(n,e,t,r){return $h(!0),e[Xe].createComment("")}var Df=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Df||{}),Zo=new j(""),TA=!1,i_=class extends ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,cv()&&(this.destroyRef=S(Gr,{optional:!0})??void 0,this.pendingTasks=S(Wr,{optional:!0})??void 0)}emit(e){let t=le(null);try{super.next(e)}finally{le(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Se&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},we=i_;function bA(n){let e,t;function r(){n=ul;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Y0(n){return queueMicrotask(()=>n()),()=>{n=ul}}var M_="isAngularZone",lf=M_+"_ID",nj=0,he=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new we(!1);onMicrotaskEmpty=new we(!1);onStable=new we(!1);onError=new we(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=TA}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,oj(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(M_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,rj,ul,ul);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},rj={};function x_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ij(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){bA(()=>{n.callbackScheduled=!1,o_(n),n.isCheckStableRunning=!0,x_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),o_(n)}function oj(n){let e=()=>{ij(n)},t=nj++;n._inner=n._inner.fork({name:"angular",properties:{[M_]:!0,[lf]:t,[lf+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(sj(l))return r.invokeTask(o,s,a,l);try{return Z0(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),J0(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return Z0(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!aj(l)&&e(),J0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,o_(n),x_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function o_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Z0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function J0(n){n._nesting--,x_(n)}var uf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new we;onMicrotaskEmpty=new we;onStable=new we;onError=new we;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function sj(n){return CA(n,"__ignore_ng_zone__")}function aj(n){return CA(n,"__scheduler_tick__")}function CA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var k_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),SA=[0,1,2,3],AA=(()=>{class n{ngZone=S(he);scheduler=S(zr);errorHandler=S(Vn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){S(Zo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Me(16),this.executing=!0;for(let r of SA)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Me(17)}register(t){let{view:r}=t;r!==void 0?((r[Uo]??=[]).push(t),ia(r),r[re]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Df.AFTER_NEXT_RENDER,t):t()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),df=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Uo];e&&(this.view[Uo]=e.filter(t=>t!==this))}};function Jo(n,e){!e?.injector&&lv(Jo);let t=e?.injector??S(Le);return Yo("NgAfterNextRender"),lj(n,t,e,!0)}function cj(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function lj(n,e,t,r){let i=e.get(k_);i.impl??=e.get(AA);let o=e.get(Zo,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Gr):null,a=e.get(Hh,null,{optional:!0}),l=new df(i.impl,cj(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var O_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var F_=new j("");function Zr(n){return!!n&&typeof n.then=="function"}function Tf(n){return!!n&&typeof n.subscribe=="function"}var L_=new j("");function bf(n){return en([{provide:L_,multi:!0,useValue:n}])}var V_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=S(L_,{optional:!0})??[];injector=S(Le);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ot(this.injector,i);if(Zr(o))t.push(o);else if(Tf(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wl=new j("");function RA(){hy(()=>{let n="";throw new B(600,n)})}function PA(n){return n.isBoundToModule}var uj=10;var Jr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S(zt);afterRenderManager=S(k_);zonelessEnabled=S(ll);rootEffectScheduler=S(xv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ne;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=S(Wr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Y(t=>!t))}constructor(){S(Zo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=S(Be);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Le.NULL){return this._injector.get(he).run(()=>{Me(10);let s=t instanceof Ef;if(!this._injector.get(V_).done){let T="";throw new B(405,T)}let l;s?l=t:l=this._injector.get(El).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let u=PA(l)?void 0:this._injector.get(Go),h=r||l.selector,p=l.create(i,[],h,u),g=p.location.nativeElement,y=p.injector.get(F_,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),hl(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),Me(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Me(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Df.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let t=le(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,le(t),this.afterTick.next(),Me(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(un,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<uj;)Me(14),this.synchronizeOnce(),Me(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!sl(i))continue;let o=r&&!this.zonelessEnabled?0:1;S_(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>sl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;hl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(wl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>hl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Gi(n,e,t,r){let i=Re(),o=cl();if(zi(i,o,e)){let s=Ht(),a=Uh();DV(a,i,n,e,t,r)}return Gi}function tt(n,e,t){let r=Re(),i=cl();if(zi(r,i,e)){let o=Ht(),s=Uh();KS(s,r,n,e,r[Xe],t)}return tt}function X0(n,e,t,r,i){E_(e,n,t,i?"class":"style",r)}function F(n,e,t,r){let i=Re(),o=Ht(),s=$t+n,a=i[Xe],l=o.firstCreatePass?gA(s,o,i,e,QS,vv(),t,r):o.data[s],u=dj(o,i,l,a,e,n);i[s]=u;let h=Mh(l);return oa(l,!0),$S(a,u,l),!D_(l)&&Bh()&&b_(o,i,u,l),(i0()===0||h)&&vl(u,i),o0(),h&&(__(o,i,l),MS(o,l,i)),r!==null&&WS(i,l),F}function L(){let n=xt();Ev()?d0():(n=n.parent,oa(n,!1));let e=n;c0(e)&&l0(),s0();let t=Ht();return t.firstCreatePass&&mA(t,e),e.classesWithoutHost!=null&&IL(e)&&X0(t,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DL(e)&&X0(t,e,Re(),e.stylesWithoutHost,!1),L}function Xr(n,e,t,r){return F(n,e,t,r),L(),Xr}var dj=(n,e,t,r,i,o)=>($h(!0),US(r,i,D0()));function zn(){return Re()}var Ho=void 0;function hj(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var fj=["en",[["a","p"],["AM","PM"],Ho],[["AM","PM"],Ho,Ho],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ho,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ho,"{1} 'at' {0}",Ho],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",hj],Uv={};function dn(n){let e=pj(n),t=eS(e);if(t)return t;let r=e.split("-")[0];if(t=eS(r),t)return t;if(r==="en")return fj;throw new B(701,!1)}function eS(n){return n in Uv||(Uv[n]=qr.ng&&qr.ng.common&&qr.ng.common.locales&&qr.ng.common.locales[n]),Uv[n]}var nt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(nt||{});function pj(n){return n.toLowerCase().replace(/_/g,"-")}var Il="en-US";var gj=Il;function NA(n){typeof n=="string"&&(gj=n.toLowerCase().replace(/_/g,"-"))}function Ie(n,e,t){let r=Re(),i=Ht(),o=xt();return MA(i,r,r[Xe],o,n,e,t),Ie}function MA(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=Lv(r,e,o),I2(r,n,e,s,t,i,o,l)&&(a=!1)),a){let u=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];l??=Lv(r,e,o),q0(r,e,g,y,i,l)}if(u&&u.length)for(let p of u)l??=Lv(r,e,o),q0(r,e,p,i,i,l)}}function be(n=1){return I0(n)}function ha(n){let e=h0();return kh(e,$t+n)}function Gh(n,e){return n<<17|e<<2}function Wo(n){return n>>17&32767}function mj(n){return(n&2)==2}function yj(n,e){return n&131071|e<<17}function s_(n){return n|2}function ca(n){return(n&131068)>>2}function Bv(n,e){return n&-131069|e<<2}function vj(n){return(n&1)===1}function a_(n){return n|1}function _j(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Wo(s),l=ca(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Xs(p,h)>0)&&(u=!0)}else h=t;if(i)if(l!==0){let g=Wo(n[a+1]);n[r+1]=Gh(g,a),g!==0&&(n[g+1]=Bv(n[g+1],r)),n[a+1]=yj(n[a+1],r)}else n[r+1]=Gh(a,0),a!==0&&(n[a+1]=Bv(n[a+1],r)),a=r;else n[r+1]=Gh(l,0),a===0?a=r:n[l+1]=Bv(n[l+1],r),l=r;u&&(n[r+1]=s_(n[r+1])),tS(n,h,r,!0),tS(n,h,r,!1),Ej(e,h,n,r,o),s=Gh(a,l),o?e.classBindings=s:e.styleBindings=s}function Ej(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Xs(o,e)>=0&&(t[r+1]=a_(t[r+1]))}function tS(n,e,t,r){let i=n[t+1],o=e===null,s=r?Wo(i):ca(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];wj(l,e)&&(a=!0,n[s+1]=r?a_(u):s_(u)),s=r?Wo(u):ca(u)}a&&(n[t+1]=r?s_(i):a_(i))}function wj(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Xs(n,e)>=0:!1}function qn(n,e){return Ij(n,e,null,!0),qn}function Ij(n,e,t,r){let i=Re(),o=Ht(),s=p0(2);if(o.firstUpdatePass&&Tj(o,n,s,r),e!==Qr&&zi(i,s,e)){let a=o.data[$o()];Rj(o,a,i,i[Xe],n,i[s+1]=Pj(e,t),r,s)}}function Dj(n,e){return e>=n.expandoStartIndex}function Tj(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[$o()],s=Dj(n,t);Nj(o,r)&&e===null&&!s&&(e=!1),e=bj(i,o,e,r),_j(i,o,e,t,s,r)}}function bj(n,e,t,r){let i=v0(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=$v(null,n,e,t,r),t=ml(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=$v(i,n,e,t,r),o===null){let l=Cj(n,e,r);l!==void 0&&Array.isArray(l)&&(l=$v(null,n,e,l[1],r),l=ml(l,e.attrs,r),Sj(n,e,r,l))}else o=Aj(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Cj(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ca(r)!==0)return n[Wo(r)]}function Sj(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Wo(i)]=r}function Aj(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ml(r,s,t)}return ml(r,e.attrs,t)}function $v(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=ml(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ml(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),zC(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Rj(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=vj(u)?nS(l,e,t,i,ca(u),s):void 0;if(!hf(h)){hf(o)||mj(u)&&(o=nS(l,null,t,i,a,s));let p=fv($o(),t);qV(r,s,p,i,o)}}function nS(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),h=u?l[1]:l,p=h===null,g=t[i+1];g===Qr&&(g=p?cn:void 0);let y=p?Ph(g,r):h===r?g:void 0;if(u&&!hf(y)&&(y=Ph(l,r)),hf(y)&&(a=y,s))return a;let T=n[i+1];i=s?Wo(T):ca(T)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Ph(l,r))}return a}function hf(n){return n!==void 0}function Pj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Xt(_l(n)))),n}function Nj(n,e){return(n.flags&(e?8:16))!==0}function $(n,e=""){let t=Re(),r=Ht(),i=n+$t,o=r.firstCreatePass?R_(r,i,1,e,null):r.data[i],s=Mj(r,t,o,e,n);t[i]=s,Bh()&&b_(r,t,s,o),oa(o,!1)}var Mj=(n,e,t,r,i)=>($h(!0),sV(e[Xe],r));function xj(n,e,t,r=""){return zi(n,cl(),t)?e+Zc(t)+r:Qr}function Dt(n){return yr("",n),Dt}function yr(n,e,t){let r=Re(),i=xj(r,n,e,t);return i!==Qr&&kj(r,$o(),i),yr}function kj(n,e,t){let r=fv(e,n);aV(n[Xe],r,t)}function ei(n,e,t){Pv(e)&&(e=e());let r=Re(),i=cl();if(zi(r,i,e)){let o=Ht(),s=Uh();KS(s,r,n,e,r[Xe],t)}return ei}function Wi(n,e){let t=Pv(n);return t&&n.set(e),t}function ti(n,e){let t=Re(),r=Ht(),i=xt();return MA(r,t,t[Xe],i,n,e),ti}function Oj(n,e,t){let r=Ht();if(r.firstCreatePass){let i=hr(n);c_(t,r.data,r.blueprint,i,!0),c_(e,r.data,r.blueprint,i,!1)}}function c_(n,e,t,r,i){if(n=wt(n),Array.isArray(n))for(let o=0;o<n.length;o++)c_(n[o],e,t,r,i);else{let o=Ht(),s=Re(),a=xt(),l=Mo(n)?n:wt(n.provide),u=av(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Mo(n)||!n.multi){let y=new qo(u,i,Q),T=zv(l,e,i?h:h+g,p);T===-1?(Gv(ef(a,s),o,l),Hv(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[T]=y,s[T]=y)}else{let y=zv(l,e,h+g,p),T=zv(l,e,h,h+g),N=y>=0&&t[y],R=T>=0&&t[T];if(i&&!R||!i&&!N){Gv(ef(a,s),o,l);let V=Vj(i?Lj:Fj,t.length,i,r,u);!i&&R&&(t[T].providerFactory=V),Hv(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=xA(t[i?T:y],u,!i&&r);Hv(o,n,y>-1?y:T,V)}!i&&r&&R&&t[T].componentProviders++}}}function Hv(n,e,t,r){let i=Mo(e),o=QC(e);if(i||o){let l=(o?wt(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,l]):u[h+1].push(r,l)}else u.push(t,l)}}}function xA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function zv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Fj(n,e,t,r){return l_(this.multi,[])}function Lj(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=tf(t,t[ge],this.providerFactory.index,r);o=a.slice(0,s),l_(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],l_(i,o);return o}function l_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Vj(n,e,t,r,i){let o=new qo(n,t,Q);return o.multi=[],o.index=e,o.componentProviders=0,xA(o,i,r&&!t),o}function vr(n,e=[]){return t=>{t.providersResolver=(r,i)=>Oj(r,i?i(n):n,e)}}function kA(n,e){let t=n[e];return t===Qr?void 0:t}function jj(n,e,t,r,i,o){let s=e+t;return zi(n,s,i)?_A(n,s+1,o?r.call(o,i):r(i)):kA(n,s+1)}function Uj(n,e,t,r,i,o,s){let a=e+t;return w2(n,a,i,o)?_A(n,a+2,s?r.call(s,i,o):r(i,o)):kA(n,a+2)}function _r(n,e){let t=Ht(),r,i=n+$t;t.firstCreatePass?(r=Bj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Oi(r.type,!0)),s,a=Bt(Q);try{let l=Xh(!1),u=o();return Xh(l),pv(t,Re(),i,u),u}finally{Bt(a)}}function Bj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function ni(n,e,t){let r=n+$t,i=Re(),o=kh(i,r);return OA(i,r)?jj(i,Tv(),e,o.transform,t,o):o.transform(t)}function j_(n,e,t,r){let i=n+$t,o=Re(),s=kh(o,i);return OA(o,i)?Uj(o,Tv(),e,s.transform,t,r,s):s.transform(t,r)}function OA(n,e){return n[ge].data[e].pure}function fa(n,e){return uA(n,e)}var ff=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},U_=(()=>{class n{compileModuleSync(t){return new cf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=rv(t),o=VS(i.declarations).reduce((s,a)=>{let l=lr(a);return l&&s.push(new qi(l)),s},[]);return new ff(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $j=(()=>{class n{zone=S(he);changeDetectionScheduler=S(zr);applicationRef=S(Jr);applicationErrorHandler=S(zt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FA=new j("",{factory:()=>!1});function B_({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new he(ee(k({},H_()),{scheduleInRootZone:t})),[{provide:he,useFactory:n},{provide:Vi,multi:!0,useFactory:()=>{let r=S($j,{optional:!0});return()=>r.initialize()}},{provide:Vi,multi:!0,useFactory:()=>{let r=S(Hj);return()=>{r.initialize()}}},e===!0?{provide:Nv,useValue:!0}:[],{provide:Mv,useValue:t??TA},{provide:zt,useFactory:()=>{let r=S(he),i=S(Be),o;return s=>{o??=i.get(Vn),r.runOutsideAngular(()=>o.handleError(s))}}}]}function $_(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=B_({ngZoneFactory:()=>{let i=H_(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Yo("NgZone_CoalesceEvent"),new he(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return en([{provide:FA,useValue:!0},{provide:ll,useValue:!1},r])}function H_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Hj=(()=>{class n{subscription=new Se;initialized=!1;zone=S(he);pendingTasks=S(Wr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LA=(()=>{class n{applicationErrorHandler=S(zt);appRef=S(Jr);taskService=S(Wr);ngZone=S(he);zonelessEnabled=S(ll);tracing=S(Zo,{optional:!0});disableScheduling=S(Nv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Se;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(lf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(Mv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof uf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Y0:bA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(lf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Y0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zj(){return typeof $localize<"u"&&$localize.locale||Il}var Dl=new j("",{providedIn:"root",factory:()=>S(Dl,{optional:!0,skipSelf:!0})||zj()});function nn(n){return OC(n)}function pa(n,e){return Bd(n,e?.equal)}var VA=class{[Rt];constructor(e){this[Rt]=e}destroy(){this[Rt].destroy()}};var qA=Symbol("InputSignalNode#UNSET"),cU=ee(k({},$d),{transformFn:void 0,applyValueToInputSignal(n,e){Us(n,e)}});function GA(n,e){let t=Object.create(cU);t.value=n,t.transformFn=e?.transform;function r(){if(Vs(t),t.value===qA){let i=null;throw new B(-950,i)}return t.value}return r[Rt]=t,r}var Sf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>yl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},lU=new j("");lU.__NG_ELEMENT_ID__=n=>{let e=xt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new B(204,!1)};function jA(n,e){return GA(n,e)}function uU(n){return GA(qA,n)}var WA=(jA.required=uU,jA);var Xo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},KA=new Xo("20.0.4");var z_=new j(""),dU=new j("");function Tl(n){return!n.moduleRef}function hU(n){let e=Tl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(he);return t.run(()=>{Tl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(zt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Tl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(z_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(z_);s.add(o),n.moduleRef.onDestroy(()=>{hl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return pU(r,t,()=>{let o=e.get(V_);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Dl,Il);if(NA(s||Il),!e.get(dU,!0))return Tl(n)?e.get(Jr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Tl(n)){let l=e.get(Jr);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return fU?.(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}var fU;function pU(n,e,t){try{let r=t();return Zr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Cf=null;function gU(n=[],e){return Le.create({name:e,providers:[{provide:Xc,useValue:"platform"},{provide:z_,useValue:new Set([()=>Cf=null])},...n]})}function mU(n=[]){if(Cf)return Cf;let e=gU(n);return Cf=e,RA(),yU(e),e}function yU(n){let e=n.get(gf,null);ot(n,()=>{e?.forEach(t=>t())})}function Q_(){return!1}var bn=(()=>{class n{static __NG_ELEMENT_ID__=vU}return n})();function vU(n){return _U(xt(),Re(),(n&16)===16)}function _U(n,e,t){if(Ui(n)&&!t){let r=Dn(n.index,e);return new Hi(r,r)}else if(n.type&175){let r=e[wn];return new Hi(r,e)}return null}var q_=class{constructor(){}supports(e){return N_(e)}create(e){return new G_(e)}},EU=(n,e)=>e,G_=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||EU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<UA(r,i,o)?t:r,a=UA(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,h=l-i;if(u!=h){for(let g=0;g<u;g++){let y=g<o.length?o[g]:o[g]=0,T=y+g;h<=T&&T<u&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!N_(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,yA(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new W_(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Af),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Af),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},W_=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},K_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Af=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new K_,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function UA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function BA(){return new Rf([new q_])}var Rf=(()=>{class n{factories;static \u0275prov=O({token:n,providedIn:"root",factory:BA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||BA()),deps:[[n,new oS,new qt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new B(901,!1)}}return n})();function QA(n){Me(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=mU(r),o=[B_({}),{provide:zr,useExisting:LA},b0,...t||[]],s=new gl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return hU({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Me(9)}}function rn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Y_(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function YA(n,e){let t=lr(n),r=e.elementInjector||ea();return new qi(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function ZA(n){let e=lr(n);if(!e)return null;let t=new qi(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var eR=null;function Cn(){return eR}function Z_(n){eR??=n}var bl=class{},Cl=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>S(tR),providedIn:"platform"})}return n})(),J_=new j(""),tR=(()=>{class n extends Cl{_location;_history;_doc=S(Ne);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cn().getBaseHref(this._doc)}onPopState(t){let r=Cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Pf(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function JA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Gn(n){return n&&n[0]!=="?"?`?${n}`:n}var Wn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>S(Mf),providedIn:"root"})}return n})(),Nf=new j(""),Mf=(()=>{class n extends Wn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Pf(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Gn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Gn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Gn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Cl),z(Nf,8))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ki=(()=>{class n{_subject=new ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=DU(JA(XA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Gn(r))}normalize(t){return n.stripTrailingSlash(IU(this._basePath,XA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Gn;static joinWithSlash=Pf;static stripTrailingSlash=JA;static \u0275fac=function(r){return new(r||n)(z(Wn))};static \u0275prov=O({token:n,factory:()=>wU(),providedIn:"root"})}return n})();function wU(){return new Ki(z(Wn))}function IU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function XA(n){return n.replace(/\/index.html$/,"")}function DU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var iE=(()=>{class n extends Wn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Pf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Gn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Gn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Cl),z(Nf,8))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var Ot=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ot||{}),Oe=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Oe||{}),on=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(on||{}),ii={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function oR(n){return dn(n)[nt.LocaleId]}function sR(n,e,t){let r=dn(n),i=[r[nt.DayPeriodsFormat],r[nt.DayPeriodsStandalone]],o=Sn(i,e);return Sn(o,t)}function aR(n,e,t){let r=dn(n),i=[r[nt.DaysFormat],r[nt.DaysStandalone]],o=Sn(i,e);return Sn(o,t)}function cR(n,e,t){let r=dn(n),i=[r[nt.MonthsFormat],r[nt.MonthsStandalone]],o=Sn(i,e);return Sn(o,t)}function lR(n,e){let r=dn(n)[nt.Eras];return Sn(r,e)}function Sl(n,e){let t=dn(n);return Sn(t[nt.DateFormat],e)}function Al(n,e){let t=dn(n);return Sn(t[nt.TimeFormat],e)}function Rl(n,e){let r=dn(n)[nt.DateTimeFormat];return Sn(r,e)}function Pl(n,e){let t=dn(n),r=t[nt.NumberSymbols][e];if(typeof r>"u"){if(e===ii.CurrencyDecimal)return t[nt.NumberSymbols][ii.Decimal];if(e===ii.CurrencyGroup)return t[nt.NumberSymbols][ii.Group]}return r}function uR(n){if(!n[nt.ExtraData])throw new B(2303,!1)}function dR(n){let e=dn(n);return uR(e),(e[nt.ExtraData][2]||[]).map(r=>typeof r=="string"?X_(r):[X_(r[0]),X_(r[1])])}function hR(n,e,t){let r=dn(n);uR(r);let i=[r[nt.ExtraData][0],r[nt.ExtraData][1]],o=Sn(i,e)||[];return Sn(o,t)||[]}function Sn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new B(2304,!1)}function X_(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var TU=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xf={},bU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function fR(n,e,t,r){let i=kU(n);e=ri(t,e)||e;let s=[],a;for(;e;)if(a=bU.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=gR(r,l),i=xU(i,r));let u="";return s.forEach(h=>{let p=NU(h);u+=p?p(i,t,l):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Vf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ri(n,e){let t=oR(n);if(xf[t]??={},xf[t][e])return xf[t][e];let r="";switch(e){case"shortDate":r=Sl(n,on.Short);break;case"mediumDate":r=Sl(n,on.Medium);break;case"longDate":r=Sl(n,on.Long);break;case"fullDate":r=Sl(n,on.Full);break;case"shortTime":r=Al(n,on.Short);break;case"mediumTime":r=Al(n,on.Medium);break;case"longTime":r=Al(n,on.Long);break;case"fullTime":r=Al(n,on.Full);break;case"short":let i=ri(n,"shortTime"),o=ri(n,"shortDate");r=kf(Rl(n,on.Short),[i,o]);break;case"medium":let s=ri(n,"mediumTime"),a=ri(n,"mediumDate");r=kf(Rl(n,on.Medium),[s,a]);break;case"long":let l=ri(n,"longTime"),u=ri(n,"longDate");r=kf(Rl(n,on.Long),[l,u]);break;case"full":let h=ri(n,"fullTime"),p=ri(n,"fullDate");r=kf(Rl(n,on.Full),[h,p]);break}return r&&(xf[t][e]=r),r}function kf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Kn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function CU(n,e){return Kn(n,3).substring(0,e)}function st(n,e,t=0,r=!1,i=!1){return function(o,s){let a=SU(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return CU(a,e);let l=Pl(s,ii.MinusSign);return Kn(a,e,l,r,i)}}function SU(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new B(2301,!1)}}function je(n,e,t=Ot.Format,r=!1){return function(i,o){return AU(i,o,n,e,t,r)}}function AU(n,e,t,r,i,o){switch(t){case 2:return cR(e,i,r)[n.getMonth()];case 1:return aR(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=dR(e),h=hR(e,i,r),p=u.findIndex(g=>{if(Array.isArray(g)){let[y,T]=g,N=s>=y.hours&&a>=y.minutes,R=s<T.hours||s===T.hours&&a<T.minutes;if(y.hours<T.hours){if(N&&R)return!0}else if(N||R)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return sR(e,i,r)[s<12?0:1];case 3:return lR(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new B(2302,!1)}}function Of(n){return function(e,t,r){let i=-1*r,o=Pl(t,ii.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Kn(s,2,o)+Kn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Kn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Kn(s,2,o)+":"+Kn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Kn(s,2,o)+":"+Kn(Math.abs(i%60),2,o);default:throw new B(2302,!1)}}}var RU=0,Lf=4;function PU(n){let e=Vf(n,RU,1).getDay();return Vf(n,0,1+(e<=Lf?Lf:Lf+7)-e)}function pR(n){let e=n.getDay(),t=e===0?-3:Lf-e;return Vf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function eE(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=pR(t),s=PU(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Kn(i,n,Pl(r,ii.MinusSign))}}function Ff(n,e=!1){return function(t,r){let o=pR(t).getFullYear();return Kn(o,n,Pl(r,ii.MinusSign),e)}}var tE={};function NU(n){if(tE[n])return tE[n];let e;switch(n){case"G":case"GG":case"GGG":e=je(3,Oe.Abbreviated);break;case"GGGG":e=je(3,Oe.Wide);break;case"GGGGG":e=je(3,Oe.Narrow);break;case"y":e=st(0,1,0,!1,!0);break;case"yy":e=st(0,2,0,!0,!0);break;case"yyy":e=st(0,3,0,!1,!0);break;case"yyyy":e=st(0,4,0,!1,!0);break;case"Y":e=Ff(1);break;case"YY":e=Ff(2,!0);break;case"YYY":e=Ff(3);break;case"YYYY":e=Ff(4);break;case"M":case"L":e=st(1,1,1);break;case"MM":case"LL":e=st(1,2,1);break;case"MMM":e=je(2,Oe.Abbreviated);break;case"MMMM":e=je(2,Oe.Wide);break;case"MMMMM":e=je(2,Oe.Narrow);break;case"LLL":e=je(2,Oe.Abbreviated,Ot.Standalone);break;case"LLLL":e=je(2,Oe.Wide,Ot.Standalone);break;case"LLLLL":e=je(2,Oe.Narrow,Ot.Standalone);break;case"w":e=eE(1);break;case"ww":e=eE(2);break;case"W":e=eE(1,!0);break;case"d":e=st(2,1);break;case"dd":e=st(2,2);break;case"c":case"cc":e=st(7,1);break;case"ccc":e=je(1,Oe.Abbreviated,Ot.Standalone);break;case"cccc":e=je(1,Oe.Wide,Ot.Standalone);break;case"ccccc":e=je(1,Oe.Narrow,Ot.Standalone);break;case"cccccc":e=je(1,Oe.Short,Ot.Standalone);break;case"E":case"EE":case"EEE":e=je(1,Oe.Abbreviated);break;case"EEEE":e=je(1,Oe.Wide);break;case"EEEEE":e=je(1,Oe.Narrow);break;case"EEEEEE":e=je(1,Oe.Short);break;case"a":case"aa":case"aaa":e=je(0,Oe.Abbreviated);break;case"aaaa":e=je(0,Oe.Wide);break;case"aaaaa":e=je(0,Oe.Narrow);break;case"b":case"bb":case"bbb":e=je(0,Oe.Abbreviated,Ot.Standalone,!0);break;case"bbbb":e=je(0,Oe.Wide,Ot.Standalone,!0);break;case"bbbbb":e=je(0,Oe.Narrow,Ot.Standalone,!0);break;case"B":case"BB":case"BBB":e=je(0,Oe.Abbreviated,Ot.Format,!0);break;case"BBBB":e=je(0,Oe.Wide,Ot.Format,!0);break;case"BBBBB":e=je(0,Oe.Narrow,Ot.Format,!0);break;case"h":e=st(3,1,-12);break;case"hh":e=st(3,2,-12);break;case"H":e=st(3,1);break;case"HH":e=st(3,2);break;case"m":e=st(4,1);break;case"mm":e=st(4,2);break;case"s":e=st(5,1);break;case"ss":e=st(5,2);break;case"S":e=st(6,1);break;case"SS":e=st(6,2);break;case"SSS":e=st(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Of(0);break;case"ZZZZZ":e=Of(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Of(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Of(2);break;default:return null}return tE[n]=e,e}function gR(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function MU(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function xU(n,e,t){let i=n.getTimezoneOffset(),o=gR(e,i);return MU(n,-1*(o-i))}function kU(n){if(nR(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Vf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(TU))return OU(r)}let e=new Date(n);if(!nR(e))throw new B(2302,!1);return e}function OU(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,u),e}function nR(n){return n instanceof Date&&!isNaN(n.valueOf())}var jf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ma=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new jf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),rR(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);rR(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Q(mr),Q(Qo),Q(Rf))};static \u0275dir=qe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function rR(n,e){n.context.$implicit=e.item}var oi=(()=>{class n{_viewContainer;_context=new Uf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){iR(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){iR(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Q(mr),Q(Qo))};static \u0275dir=qe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Uf=class{$implicit=null;ngIf=null};function iR(n,e){if(n&&!n.createEmbeddedView)throw new B(2020,!1)}function mR(n,e){return new B(2100,!1)}var nE=class{createSubscription(e,t,r){return nn(()=>e.subscribe({next:t,error:r}))}dispose(e){nn(()=>e.unsubscribe())}},rE=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},FU=new rE,LU=new nE,es=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=S(zt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Zr(t))return FU;if(Tf(t))return LU;throw mR(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Q(bn,16))};static \u0275pipe=If({name:"async",type:n,pure:!1})}return n})();var VU="mediumDate",yR=new j(""),vR=new j(""),oE=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??VU,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return fR(t,s,o||this.locale,a)}catch(s){throw mR(n,s.message)}}static \u0275fac=function(r){return new(r||n)(Q(Dl,16),Q(yR,24),Q(vR,24))};static \u0275pipe=If({name:"date",type:n,pure:!0})}return n})();var An=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Wt({type:n});static \u0275inj=Nt({})}return n})();function Nl(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ts=class{};var aE="browser",jU="server";function _R(n){return n===aE}function ER(n){return n===jU}var wR=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>new sE(S(Ne),window)})}return n})(),sE=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ee(k({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=UU(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ee(k({},t),{left:i-s[0],top:o-s[1]}))}};function UU(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Hf=new j(""),dE=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(z(Hf),z(he))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),xl=class{_doc;constructor(e){this._doc=e}manager},Bf="ng-app-id";function IR(n){for(let e of n)e.remove()}function DR(n,e){let t=e.createElement("style");return t.textContent=n,t}function BU(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Bf}="${e}"],link[${Bf}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Bf),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function lE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var hE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ER(o),BU(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,DR);r?.forEach(i=>this.addUsage(i,this.external,lE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(IR(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])IR(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,DR(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,lE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Bf,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(z(Ne),z(ua),z(mf,8),z(gr))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),cE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fE=/%COMP%/g;var bR="%COMP%",$U=`_nghost-${bR}`,HU=`_ngcontent-${bR}`,zU=!0,qU=new j("",{providedIn:"root",factory:()=>zU});function GU(n){return HU.replace(fE,n)}function WU(n){return $U.replace(fE,n)}function CR(n,e){return e.map(t=>t.replace(fE,n))}var pE=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,u=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new kl(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof $f?i.applyToHost(t):i instanceof Ol&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Kr.Emulated:o=new $f(l,u,r,this.appId,h,s,a,p,g);break;case Kr.ShadowDom:return new uE(l,u,t,r,s,a,this.nonce,p,g);default:o=new Ol(l,u,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(z(dE),z(hE),z(ua),z(qU),z(Ne),z(gr),z(he),z(mf),z(Zo,8))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),kl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(cE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(TR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(TR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=cE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=cE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(pr.DashCase|pr.Important)?e.style.setProperty(t,r,i&pr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&pr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Cn().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function TR(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var uE=class extends kl{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,l,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=CR(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=lE(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ol=class extends kl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?CR(u,h):h,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},$f=class extends Ol{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,u){let h=i+"-"+r.id;super(e,t,r,o,s,a,l,u,h),this.contentAttr=GU(h),this.hostAttr=WU(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var zf=class n extends bl{supportsDOMEvents=!0;static makeCurrent(){Z_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=KU();return t==null?null:QU(t)}resetBaseElement(){Fl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Nl(document.cookie,e)}},Fl=null;function KU(){return Fl=Fl||document.head.querySelector("base"),Fl?Fl.getAttribute("href"):null}function QU(n){return new URL(n,document.baseURI).pathname}var YU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),AR=(()=>{class n extends xl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(z(Ne))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),SR=["alt","control","meta","shift"],ZU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},RR=(()=>{class n extends xl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),SR.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=ZU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),SR.forEach(s=>{if(s!==i){let a=JU[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(z(Ne))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function gE(n,e){return QA(k({rootComponent:n},XU(e)))}function XU(n){return{appProviders:[...iB,...n?.providers??[]],platformProviders:rB}}function eB(){zf.makeCurrent()}function tB(){return new Vn}function nB(){return h_(document),document}var rB=[{provide:gr,useValue:aE},{provide:gf,useValue:eB,multi:!0},{provide:Ne,useFactory:nB}];var iB=[{provide:Xc,useValue:"root"},{provide:Vn,useFactory:tB},{provide:Hf,useClass:AR,multi:!0,deps:[Ne]},{provide:Hf,useClass:RR,multi:!0,deps:[Ne]},pE,hE,dE,{provide:un,useExisting:pE},{provide:ts,useClass:YU},[]];var va=class{},Ll=class{},Qi=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Gf=class{encodeKey(e){return PR(e)}encodeValue(e){return PR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function oB(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var sB=/%(\d[a-f0-9])/gi,aB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PR(n){return encodeURIComponent(n).replace(sB,(e,t)=>aB[t]??e)}function qf(n){return`${n}`}var si=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Gf,e.fromString){if(e.fromObject)throw new B(2805,!1);this.map=oB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(qf):[qf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(qf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(qf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Wf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function cB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function NR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function MR(n){return typeof Blob<"u"&&n instanceof Blob}function xR(n){return typeof FormData<"u"&&n instanceof FormData}function lB(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var kR="Content-Type",OR="Accept",FR="X-Request-URL",LR="text/plain",VR="application/json",uB=`${VR}, ${LR}, */*`,ya=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(cB(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Qi,this.context??=new Wf,!this.params)this.params=new si,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||NR(this.body)||MR(this.body)||xR(this.body)||lB(this.body)?this.body:this.body instanceof si?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||xR(this.body)?null:MR(this.body)?this.body.type||null:NR(this.body)?null:typeof this.body=="string"?LR:this.body instanceof si?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?VR:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,l=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,h=e.headers||this.headers,p=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((y,T)=>y.set(T,e.setHeaders[T]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((y,T)=>y.set(T,e.setParams[T]),p)),new n(t,r,a,{params:p,headers:h,context:g,reportProgress:u,responseType:i,withCredentials:l,transferCache:s,keepalive:o})}},ns=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ns||{}),_a=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Qi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Kf=class n extends _a{constructor(e={}){super(e)}type=ns.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Vl=class n extends _a{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ns.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},jl=class extends _a{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},dB=200,hB=204;function mE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive}}var Yf=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ya)o=t;else{let l;i.headers instanceof Qi?l=i.headers:l=new Qi(i.headers);let u;i.params&&(i.params instanceof si?u=i.params:u=new si({fromObject:i.params})),o=new ya(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let s=W(o).pipe(sr(l=>this.handler.handle(l)));if(t instanceof ya||i.observe==="events")return s;let a=s.pipe(ht(l=>l instanceof Vl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new B(2806,!1);return l.body}));case"blob":return a.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new B(2807,!1);return l.body}));case"text":return a.pipe(Y(l=>{if(l.body!==null&&typeof l.body!="string")throw new B(2808,!1);return l.body}));case"json":default:return a.pipe(Y(l=>l.body))}case"response":return a;default:throw new B(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new si().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,mE(i,r))}post(t,r,i={}){return this.request("POST",t,mE(i,r))}put(t,r,i={}){return this.request("PUT",t,mE(i,r))}static \u0275fac=function(r){return new(r||n)(z(va))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var fB=new j("");function pB(n,e){return e(n)}function gB(n,e,t){return(r,i)=>ot(t,()=>e(r,o=>n(o,i)))}var jR=new j(""),UR=new j(""),BR=new j("",{providedIn:"root",factory:()=>!0});var Qf=(()=>{class n extends va{backend;injector;chain=null;pendingTasks=S($i);contributeToStability=S(BR);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(jR),...this.injector.get(UR,[])]));this.chain=r.reduceRight((i,o)=>gB(i,o,this.injector),pB)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ro(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(z(Ll),z(Be))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var mB=/^\)\]\}',?\n/,yB=RegExp(`^${FR}:`,"m");function vB(n){return"responseURL"in n&&n.responseURL?n.responseURL:yB.test(n.getAllResponseHeaders())?n.getResponseHeader(FR):null}var yE=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new B(-2800,!1);t.keepalive;let r=this.xhrFactory;return(r.\u0275loadImpl?ue(r.\u0275loadImpl()):W(null)).pipe(Te(()=>new K(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,R)=>s.setRequestHeader(N,R.join(","))),t.headers.has(OR)||s.setRequestHeader(OR,uB),!t.headers.has(kR)){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader(kR,N)}if(t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),l=null,u=()=>{if(l!==null)return l;let N=s.statusText||"OK",R=new Qi(s.getAllResponseHeaders()),V=vB(s)||t.url;return l=new Kf({headers:R,status:s.status,statusText:N,url:V}),l},h=()=>{let{headers:N,status:R,statusText:V,url:Z}=u(),G=null;R!==hB&&(G=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=G?dB:0);let _e=R>=200&&R<300;if(t.responseType==="json"&&typeof G=="string"){let rt=G;G=G.replace(mB,"");try{G=G!==""?JSON.parse(G):null}catch(Ce){G=rt,_e&&(_e=!1,G={error:Ce,text:G})}}_e?(o.next(new Vl({body:G,headers:N,status:R,statusText:V,url:Z||void 0})),o.complete()):o.error(new jl({error:G,headers:N,status:R,statusText:V,url:Z||void 0}))},p=N=>{let{url:R}=u(),V=new jl({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(V)},g=!1,y=N=>{g||(o.next(u()),g=!0);let R={type:ns.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},T=N=>{let R={type:ns.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",T)),s.send(a),o.next({type:ns.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(z(ts))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),$R=new j(""),_B="XSRF-TOKEN",EB=new j("",{providedIn:"root",factory:()=>_B}),wB="X-XSRF-TOKEN",IB=new j("",{providedIn:"root",factory:()=>wB}),Ul=class{},DB=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(z(Ne),z(EB))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function TB(n,e){let t=n.url.toLowerCase();if(!S($R)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=S(Ul).getToken(),i=S(IB);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function vE(...n){let e=[Yf,yE,Qf,{provide:va,useExisting:Qf},{provide:Ll,useFactory:()=>S(fB,{optional:!0})??S(yE)},{provide:jR,useValue:TB,multi:!0},{provide:$R,useValue:!0},{provide:Ul,useClass:DB}];for(let t of n)e.push(...t.\u0275providers);return en(e)}var HR=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(z(Ne))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ce="primary",Xl=Symbol("RouteTitle"),DE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function os(n){return new DE(n)}function ZR(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function SB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Er(n[t],e[t]))return!1;return!0}function Er(n,e){let t=n?TE(n):void 0,r=e?TE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!JR(n[i],e[i]))return!1;return!0}function TE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function JR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function XR(n){return n.length>0?n[n.length-1]:null}function ai(n){return ph(n)?n:Zr(n)?ue(Promise.resolve(n)):W(n)}var AB={exact:tP,subset:nP},eP={exact:RB,subset:PB,ignored:()=>!0};function zR(n,e,t){return AB[t.paths](n.root,e.root,t.matrixParams)&&eP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function RB(n,e){return Er(n,e)}function tP(n,e,t){if(!rs(n.segments,e.segments)||!Xf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!tP(n.children[r],e.children[r],t))return!1;return!0}function PB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>JR(n[t],e[t]))}function nP(n,e,t){return rP(n,e,e.segments,t)}function rP(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!rs(i,t)||e.hasChildren()||!Xf(i,t,r))}else if(n.segments.length===t.length){if(!rs(n.segments,t)||!Xf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!nP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!rs(n.segments,i)||!Xf(n.segments,i,r)||!n.children[ce]?!1:rP(n.children[ce],e,o,r)}}function Xf(n,e,t){return e.every((r,i)=>eP[t](n[i].parameters,r.parameters))}var Ir=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ae([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=os(this.queryParams),this._queryParamMap}toString(){return xB.serialize(this)}},Ae=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ep(this)}},Yi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=os(this.parameters),this._parameterMap}toString(){return oP(this)}};function NB(n,e){return rs(n,e)&&n.every((t,r)=>Er(t.parameters,e[r].parameters))}function rs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function MB(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ce&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ce&&(t=t.concat(e(i,r)))}),t}var ss=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new Zi,providedIn:"root"})}return n})(),Zi=class{parse(e){let t=new CE(e);return new Ir(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Bl(e.root,!0)}`,r=FB(e.queryParams),i=typeof e.fragment=="string"?`#${kB(e.fragment)}`:"";return`${t}${r}${i}`}},xB=new Zi;function ep(n){return n.segments.map(e=>oP(e)).join("/")}function Bl(n,e){if(!n.hasChildren())return ep(n);if(e){let t=n.children[ce]?Bl(n.children[ce],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${Bl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=MB(n,(r,i)=>i===ce?[Bl(n.children[ce],!1)]:[`${i}:${Bl(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ce]!=null?`${ep(n)}/${t[0]}`:`${ep(n)}/(${t.join("//")})`}}function iP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zf(n){return iP(n).replace(/%3B/gi,";")}function kB(n){return encodeURI(n)}function bE(n){return iP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tp(n){return decodeURIComponent(n)}function qR(n){return tp(n.replace(/\+/g,"%20"))}function oP(n){return`${bE(n.path)}${OB(n.parameters)}`}function OB(n){return Object.entries(n).map(([e,t])=>`;${bE(e)}=${bE(t)}`).join("")}function FB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Zf(t)}=${Zf(i)}`).join("&"):`${Zf(t)}=${Zf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var LB=/^[^\/()?;#]+/;function _E(n){let e=n.match(LB);return e?e[0]:""}var VB=/^[^\/()?;=#]+/;function jB(n){let e=n.match(VB);return e?e[0]:""}var UB=/^[^=?&#]+/;function BB(n){let e=n.match(UB);return e?e[0]:""}var $B=/^[^&#]+/;function HB(n){let e=n.match($B);return e?e[0]:""}var CE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ce]=new Ae(e,t)),r}parseSegment(){let e=_E(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Yi(tp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=jB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=_E(this.remaining);i&&(r=i,this.capture(r))}e[tp(t)]=tp(r)}parseQueryParam(e){let t=BB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=HB(this.remaining);s&&(r=s,this.capture(r))}let i=qR(t),o=qR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_E(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ce]:new Ae([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function sP(n){return n.segments.length>0?new Ae([],{[ce]:n}):n}function aP(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=aP(i);if(r===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ae(n.segments,e);return zB(t)}function zB(n){if(n.numberOfChildren===1&&n.children[ce]){let e=n.children[ce];return new Ae(n.segments.concat(e.segments),e.children)}return n}function Ji(n){return n instanceof Ir}function cP(n,e,t=null,r=null){let i=lP(n);return uP(i,e,t,r)}function lP(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new Ae(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=sP(r);return e??i}function uP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return EE(i,i,i,t,r);let o=qB(e);if(o.toRoot())return EE(i,i,new Ae([],{}),t,r);let s=GB(o,i,n),a=s.processChildren?Hl(s.segmentGroup,s.index,o.commands):hP(s.segmentGroup,s.index,o.commands);return EE(i,s.segmentGroup,a,t,r)}function np(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ql(n){return typeof n=="object"&&n!=null&&n.outlets}function EE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=dP(n,e,t);let a=sP(aP(s));return new Ir(a,o,i)}function dP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=dP(o,e,t)}),new Ae(n.segments,r)}var rp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&np(r[0]))throw new B(4003,!1);let i=r.find(ql);if(i&&i!==XR(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new rp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new rp(t,e,r)}var Ia=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function GB(n,e,t){if(n.isAbsolute)return new Ia(e,!0,0);if(!t)return new Ia(e,!1,NaN);if(t.parent===null)return new Ia(t,!0,0);let r=np(n.commands[0])?0:1,i=t.segments.length-1+r;return WB(t,i,n.numberOfDoubleDots)}function WB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Ia(r,!1,i-o)}function KB(n){return ql(n[0])?n[0].outlets:{[ce]:n}}function hP(n,e,t){if(n??=new Ae([],{}),n.segments.length===0&&n.hasChildren())return Hl(n,e,t);let r=QB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ae(n.segments.slice(0,r.pathIndex),{});return o.children[ce]=new Ae(n.segments.slice(r.pathIndex),n.children),Hl(o,0,i)}else return r.match&&i.length===0?new Ae(n.segments,{}):r.match&&!n.hasChildren()?SE(n,e,t):r.match?Hl(n,0,i):SE(n,e,t)}function Hl(n,e,t){if(t.length===0)return new Ae(n.segments,{});{let r=KB(t),i={};if(Object.keys(r).some(o=>o!==ce)&&n.children[ce]&&n.numberOfChildren===1&&n.children[ce].segments.length===0){let o=Hl(n.children[ce],e,t);return new Ae(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=hP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ae(n.segments,i)}}function QB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(ql(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!WR(l,u,s))return o;r+=2}else{if(!WR(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function SE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ql(o)){let l=YB(o.outlets);return new Ae(r,l)}if(i===0&&np(t[0])){let l=n.segments[e];r.push(new Yi(l.path,GR(t[0]))),i++;continue}let s=ql(o)?o.outlets[ce]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&np(a)?(r.push(new Yi(s,GR(a))),i+=2):(r.push(new Yi(s,{})),i++)}return new Ae(r,{})}function YB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=SE(new Ae([],{}),0,r))}),e}function GR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function WR(n,e,t){return n==t.path&&Er(e,t.parameters)}var Da="imperative",ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ft||{}),fn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Xi=class extends fn{type=ft.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rn=class extends fn{urlAfterRedirects;type=ft.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(Kt||{}),ba=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ba||{}),wr=class extends fn{reason;code;type=ft.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dr=class extends fn{reason;code;type=ft.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ca=class extends fn{error;target;type=ft.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gl=class extends fn{urlAfterRedirects;state;type=ft.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ip=class extends fn{urlAfterRedirects;state;type=ft.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},op=class extends fn{urlAfterRedirects;state;shouldActivate;type=ft.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sp=class extends fn{urlAfterRedirects;state;type=ft.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class extends fn{urlAfterRedirects;state;type=ft.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cp=class{route;type=ft.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lp=class{route;type=ft.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},up=class{snapshot;type=ft.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dp=class{snapshot;type=ft.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hp=class{snapshot;type=ft.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fp=class{snapshot;type=ft.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sa=class{routerEvent;position;anchor;type=ft.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Wl=class{},Aa=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function ZB(n){return!(n instanceof Wl)&&!(n instanceof Aa)}function JB(n,e){return n.providers&&!n._injector&&(n._injector=da(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Qn(n){return n.outlet||ce}function XB(n,e){let t=n.filter(r=>Qn(r)===e);return t.push(...n.filter(r=>Qn(r)!==e)),t}function eu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var pp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return eu(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new as(this.rootInjector)}},as=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new pp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(z(Be))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=AE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=AE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=RE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return RE(e,this._root).map(t=>t.value)}};function AE(n,e){if(n===e.value)return e;for(let t of e.children){let r=AE(n,t);if(r)return r}return null}function RE(n,e){if(n===e.value)return[e];for(let t of e.children){let r=RE(n,t);if(r.length)return r.unshift(e),r}return[]}var hn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function wa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Kl=class extends gp{snapshot;constructor(e,t){super(e),this.snapshot=t,LE(this,e)}toString(){return this.snapshot.toString()}};function fP(n){let e=e$(n),t=new dt([new Yi("",{})]),r=new dt({}),i=new dt({}),o=new dt({}),s=new dt(""),a=new Pn(t,r,o,s,i,ce,n,e.root);return a.snapshot=e.root,new Kl(new hn(a,[]),e)}function e$(n){let e={},t={},r={},i="",o=new is([],e,r,i,t,ce,n,null,{});return new Ql("",new hn(o,[]))}var Pn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Y(u=>u[Xl]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>os(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>os(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&gP(i)&&(r.resolve[Xl]=i.title),r}var is=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Xl]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=os(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=os(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ql=class extends gp{url;constructor(e,t){super(t),this.url=e,LE(this,t)}toString(){return pP(this._root)}};function LE(n,e){e.value._routerState=n,e.children.forEach(t=>LE(n,t))}function pP(n){let e=n.children.length>0?` { ${n.children.map(pP).join(", ")} } `:"";return`${n.value}${e}`}function wE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Er(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Er(e.params,t.params)||n.paramsSubject.next(t.params),SB(e.url,t.url)||n.urlSubject.next(t.url),Er(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function PE(n,e){let t=Er(n.params,e.params)&&NB(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||PE(n.parent,e.parent))}function gP(n){return typeof n.title=="string"||n.title===null}var mP=new j(""),tu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ce;activateEvents=new we;deactivateEvents=new we;attachEvents=new we;detachEvents=new we;routerOutletData=WA(void 0);parentContexts=S(as);location=S(mr);changeDetector=S(bn);inputBinder=S(nu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new NE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=qe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Tn]})}return n})(),NE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Pn?this.route:e===as?this.childContexts:e===mP?this.outletData:this.parent.get(e,t)}},nu=new j(""),VE=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Hc([r.queryParams,r.params,r.data]).pipe(Te(([o,s,a],l)=>(a=k(k(k({},o),s),a),l===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=ZA(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),jE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=gt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Xr(0,"router-outlet")},dependencies:[tu],encapsulation:2})}return n})();function UE(n){let e=n.children&&n.children.map(UE),t=e?ee(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=jE),t}function t$(n,e,t){let r=Yl(n,e._root,t?t._root:void 0);return new Kl(r,e)}function Yl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=n$(n,e,t);return new hn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Yl(n,a)),s}}let r=r$(e.value),i=e.children.map(o=>Yl(n,o));return new hn(r,i)}}function n$(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Yl(n,r,i);return Yl(n,r)})}function r$(n){return new Pn(new dt(n.url),new dt(n.params),new dt(n.queryParams),new dt(n.fragment),new dt(n.data),n.outlet,n.component,n)}var Ra=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},yP="ngNavigationCancelingError";function yp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ji(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vP(!1,Kt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function vP(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[yP]=!0,t.cancellationCode=e,t}function i$(n){return _P(n)&&Ji(n.url)}function _P(n){return!!n&&n[yP]}var o$=(n,e,t,r)=>Y(i=>(new ME(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ME=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=wa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=wa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new fp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new dp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(wE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},vp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ta=class{component;route;constructor(e,t){this.component=e,this.route=t}};function s$(n,e,t){let r=n._root,i=e?e._root:null;return $l(r,i,t,[r.value])}function a$(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Na(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!qy(n)?n:e.get(n):r}function $l(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=wa(e);return n.children.forEach(s=>{c$(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>zl(a,t.getContext(s),i)),i}function c$(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=l$(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new vp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$l(n,e,a?a.children:null,r,i):$l(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ta(a.outlet.component,s))}else s&&zl(e,a,i),i.canActivateChecks.push(new vp(r)),o.component?$l(n,null,a?a.children:null,r,i):$l(n,null,t,r,i);return i}function l$(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!rs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rs(n.url,e.url)||!Er(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!PE(n,e)||!Er(n.queryParams,e.queryParams);case"paramsChange":default:return!PE(n,e)}}function zl(n,e,t){let r=wa(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?zl(s,e.children.getContext(o),t):zl(s,null,t):zl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ta(e.outlet.component,i)):t.canDeactivateChecks.push(new Ta(null,i)):t.canDeactivateChecks.push(new Ta(null,i))}function ru(n){return typeof n=="function"}function u$(n){return typeof n=="boolean"}function d$(n){return n&&ru(n.canLoad)}function h$(n){return n&&ru(n.canActivate)}function f$(n){return n&&ru(n.canActivateChild)}function p$(n){return n&&ru(n.canDeactivate)}function g$(n){return n&&ru(n.canMatch)}function EP(n){return n instanceof Ln||n?.name==="EmptyError"}var Jf=Symbol("INITIAL_VALUE");function Pa(){return Te(n=>Hc(n.map(e=>e.pipe(pt(1),ki(Jf)))).pipe(Y(e=>{for(let t of e)if(t!==!0){if(t===Jf)return Jf;if(t===!1||m$(t))return t}return!0}),ht(e=>e!==Jf),pt(1)))}function m$(n){return Ji(n)||n instanceof Ra}function y$(n,e){return Je(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(ee(k({},t),{guardsResult:!0})):v$(s,r,i,n).pipe(Je(a=>a&&u$(a)?_$(r,o,n,e):W(a)),Y(a=>ee(k({},t),{guardsResult:a})))})}function v$(n,e,t,r){return ue(n).pipe(Je(i=>T$(i.component,i.route,t,e,r)),$r(i=>i!==!0,!0))}function _$(n,e,t,r){return ue(e).pipe(sr(i=>Ys(w$(i.route.parent,r),E$(i.route,r),D$(n,i.path,t),I$(n,i.route,t))),$r(i=>i!==!0,!0))}function E$(n,e){return n!==null&&e&&e(new hp(n)),W(!0)}function w$(n,e){return n!==null&&e&&e(new up(n)),W(!0)}function I$(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>zc(()=>{let s=eu(e)??t,a=Na(o,s),l=h$(a)?a.canActivate(e,n):ot(s,()=>a(e,n));return ai(l).pipe($r())}));return W(i).pipe(Pa())}function D$(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>a$(s)).filter(s=>s!==null).map(s=>zc(()=>{let a=s.guards.map(l=>{let u=eu(s.node)??t,h=Na(l,u),p=f$(h)?h.canActivateChild(r,n):ot(u,()=>h(r,n));return ai(p).pipe($r())});return W(a).pipe(Pa())}));return W(o).pipe(Pa())}function T$(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let l=eu(e)??i,u=Na(a,l),h=p$(u)?u.canDeactivate(n,e,t,r):ot(l,()=>u(n,e,t,r));return ai(h).pipe($r())});return W(s).pipe(Pa())}function b$(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=Na(s,n),l=d$(a)?a.canLoad(e,t):ot(n,()=>a(e,t));return ai(l)});return W(o).pipe(Pa(),wP(r))}function wP(n){return Wd(it(e=>{if(typeof e!="boolean")throw yp(n,e)}),Y(e=>e===!0))}function C$(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=Na(s,n),l=g$(a)?a.canMatch(e,t):ot(n,()=>a(e,t));return ai(l)});return W(o).pipe(Pa(),wP(r))}var Zl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Jl=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ea(n){return Qs(new Zl(n))}function S$(n){return Qs(new B(4e3,!1))}function A$(n){return Qs(vP(!1,Kt.GuardRejected))}var xE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[ce])return S$(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,t,r,i,o){return R$(t,i,o).pipe(Y(s=>{if(s instanceof Ir)throw new Jl(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Jl(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ir(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Ae(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function R$(n,e,t){if(typeof n=="string")return W(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:u,data:h,title:p}=e;return ai(ot(t,()=>r({params:u,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:p})))}var kE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P$(n,e,t,r,i){let o=IP(n,e,t);return o.matched?(r=JB(e,r),C$(r,e,t,i).pipe(Y(s=>s===!0?o:k({},kE)))):W(o)}function IP(n,e,t){if(e.path==="**")return N$(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},kE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ZR)(t,n,e);if(!i)return k({},kE);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function N$(n){return{matched:!0,parameters:n.length>0?XR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function KR(n,e,t,r){return t.length>0&&k$(n,t,r)?{segmentGroup:new Ae(e,x$(r,new Ae(t,n.children))),slicedSegments:[]}:t.length===0&&O$(n,t,r)?{segmentGroup:new Ae(n.segments,M$(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ae(n.segments,n.children),slicedSegments:t}}function M$(n,e,t,r){let i={};for(let o of t)if(Ep(n,e,o)&&!r[Qn(o)]){let s=new Ae([],{});i[Qn(o)]=s}return k(k({},r),i)}function x$(n,e){let t={};t[ce]=e;for(let r of n)if(r.path===""&&Qn(r)!==ce){let i=new Ae([],{});t[Qn(r)]=i}return t}function k$(n,e,t){return t.some(r=>Ep(n,e,r)&&Qn(r)!==ce)}function O$(n,e,t){return t.some(r=>Ep(n,e,r))}function Ep(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function F$(n,e,t){return e.length===0&&!n.children[t]}var OE=class{};function L$(n,e,t,r,i,o,s="emptyOnly"){return new FE(n,e,t,r,i,s,o).recognize()}var V$=31,FE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new xE(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=KR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:t,rootSnapshot:r})=>{let i=new hn(r,t),o=new Ql("",i),s=cP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new is([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,t).pipe(Y(r=>({children:r,rootSnapshot:t})),Br(r=>{if(r instanceof Jl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Y(s=>s instanceof hn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ue(o).pipe(sr(s=>{let a=r.children[s],l=XB(t,s);return this.processSegmentGroup(e,l,a,s,i)}),wh((s,a)=>(s.push(...a),s)),xi(null),Py(),Je(s=>{if(s===null)return Ea(r);let a=DP(s);return j$(a),W(a)}))}processSegment(e,t,r,i,o,s,a){return ue(t).pipe(sr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(Br(u=>{if(u instanceof Zl)return W(null);throw u}))),$r(l=>!!l),Br(l=>{if(EP(l))return F$(r,i,o)?W(new OE):Ea(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Qn(r)!==s&&(s===ce||!Ep(i,o,r))?Ea(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):Ea(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=IP(t,i,o);if(!l)return Ea(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>V$&&(this.allowRedirects=!1));let y=new is(o,u,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,QR(i),Qn(i),i.component??i._loadedComponent??null,i,YR(i)),T=mp(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Te(R=>this.applyRedirects.lineralizeSegments(i,R)),Je(R=>this.processSegment(e,r,t,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=P$(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Te(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Te(({routes:u})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=l,T=new is(g,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,QR(r),Qn(r),r.component??r._loadedComponent??null,r,YR(r)),N=mp(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(N.params),T.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:V}=KR(t,g,y,u);if(V.length===0&&R.hasChildren())return this.processChildren(h,u,R,T).pipe(Y(G=>new hn(T,G)));if(u.length===0&&V.length===0)return W(new hn(T,[]));let Z=Qn(r)===o;return this.processSegment(h,u,R,V,Z?ce:o,!0,T).pipe(Y(G=>new hn(T,G instanceof hn?[G]:[])))}))):Ea(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):b$(e,t,r,this.urlSerializer).pipe(Je(i=>i?this.configLoader.loadChildren(e,t).pipe(it(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):A$(t))):W({routes:[],injector:e})}};function j$(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}function U$(n){let e=n.value.routeConfig;return e&&e.path===""}function DP(n){let e=[],t=new Set;for(let r of n){if(!U$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=DP(r.children);e.push(new hn(r.value,i))}return e.filter(r=>!t.has(r))}function QR(n){return n.data||{}}function YR(n){return n.resolve||{}}function B$(n,e,t,r,i,o){return Je(s=>L$(n,e,t,r,s.extractedUrl,i,o).pipe(Y(({state:a,tree:l})=>ee(k({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function $$(n,e){return Je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of TP(l))s.add(u);let a=0;return ue(s).pipe(sr(l=>o.has(l)?H$(l,r,n,e):(l.data=mp(l,l.parent,n).resolve,W(void 0))),it(()=>a++),Zs(1),Je(l=>a===s.size?W(t):Pt))})}function TP(n){let e=n.children.map(t=>TP(t)).flat();return[n,...e]}function H$(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!gP(i)&&(o[Xl]=i.title),zc(()=>(n.data=mp(n,n.parent,t).resolve,z$(o,n,e,r).pipe(Y(s=>(n._resolvedData=s,n.data=k(k({},n.data),s),null)))))}function z$(n,e,t,r){let i=TE(n);if(i.length===0)return W({});let o={};return ue(i).pipe(Je(s=>q$(n[s],e,t,r).pipe($r(),it(a=>{if(a instanceof Ra)throw yp(new Zi,a);o[s]=a}))),Zs(1),Y(()=>o),Br(s=>EP(s)?Pt:Qs(s)))}function q$(n,e,t,r){let i=eu(e)??r,o=Na(n,i),s=o.resolve?o.resolve(e,t):ot(i,()=>o(e,t));return ai(s)}function IE(n){return Te(e=>{let t=n(e);return t?ue(t).pipe(Y(()=>e)):W(e)})}var BE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ce);return r}getResolvedTitleForRoute(t){return t.data[Xl]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>S(bP),providedIn:"root"})}return n})(),bP=(()=>{class n extends BE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(z(HR))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eo=new j("",{providedIn:"root",factory:()=>({})}),cs=new j(""),wp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=S(U_);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ai(t.loadComponent()).pipe(Y(SP),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ro(()=>{this.componentLoaders.delete(t)})),i=new Gs(r,()=>new ne).pipe(qs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=CP(r,this.compiler,t,this.onLoadEndListener).pipe(Ro(()=>{this.childrenLoaders.delete(r)})),s=new Gs(o,()=>new ne).pipe(qs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function CP(n,e,t,r){return ai(n.loadChildren()).pipe(Y(SP),Je(i=>i instanceof wf||Array.isArray(i)?W(i):ue(e.compileModuleAsync(i))),Y(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(cs,[],{optional:!0,self:!0}).flat()),{routes:s.map(UE),injector:o}}))}function G$(n){return n&&typeof n=="object"&&"default"in n}function SP(n){return G$(n)?n.default:n}var Ip=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>S(W$),providedIn:"root"})}return n})(),W$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$E=new j(""),HE=new j("");function AP(n,e,t){let r=n.get(HE),i=n.get(Ne);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),K$(n))),{onViewTransitionCreated:l}=r;return l&&ot(n,()=>l({transition:a,from:e,to:t})),s}function K$(n){return new Promise(e=>{Jo({read:()=>setTimeout(e)},{injector:n})})}var zE=new j(""),Dp=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ne;transitionAbortWithErrorSubject=new ne;configLoader=S(wp);environmentInjector=S(Be);destroyRef=S(Gr);urlSerializer=S(ss);rootContexts=S(as);location=S(Ki);inputBindingEnabled=S(nu,{optional:!0})!==null;titleStrategy=S(BE);options=S(eo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=S(Ip);createViewTransition=S($E,{optional:!0});navigationErrorHandler=S(zE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new cp(i)),r=i=>this.events.next(new lp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ee(k({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new dt(null),this.transitions.pipe(ht(r=>r!==null),Te(r=>{let i=!1;return W(r).pipe(Te(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Kt.SupersededByNewNavigation),Pt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ee(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new Dr(o.id,this.urlSerializer.serialize(o.rawUrl),l,ba.IgnoredSameUrlNavigation)),o.resolve(!1),Pt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return W(o).pipe(Te(l=>(this.events.next(new Xi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Pt:Promise.resolve(l))),B$(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),it(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ee(k({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new Gl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:u,source:h,restoredState:p,extras:g}=o,y=new Xi(l,this.urlSerializer.serialize(u),h,p);this.events.next(y);let T=fP(this.rootComponentType).snapshot;return this.currentTransition=r=ee(k({},o),{targetSnapshot:T,urlAfterRedirects:u,extras:ee(k({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,W(r)}else{let l="";return this.events.next(new Dr(o.id,this.urlSerializer.serialize(o.extractedUrl),l,ba.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Pt}}),it(o=>{let s=new ip(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Y(o=>(this.currentTransition=r=ee(k({},o),{guards:s$(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),y$(this.environmentInjector,o=>this.events.next(o)),it(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw yp(this.urlSerializer,o.guardsResult);let s=new op(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),ht(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Kt.GuardRejected),!1)),IE(o=>{if(o.guards.canActivateChecks.length!==0)return W(o).pipe(it(s=>{let a=new sp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Te(s=>{let a=!1;return W(s).pipe($$(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Kt.NoDataFromResolver)}}))}),it(s=>{let a=new ap(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),IE(o=>{let s=a=>{let l=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(a.routeConfig).pipe(it(u=>{a.component=u}),Y(()=>{})));for(let u of a.children)l.push(...s(u));return l};return Hc(s(o.targetSnapshot.root)).pipe(xi(null),pt(1))}),IE(()=>this.afterPreactivation()),Te(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ue(a).pipe(Y(()=>r)):W(r)}),Y(o=>{let s=t$(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ee(k({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),it(()=>{this.events.next(new Wl)}),o$(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),pt(1),ar(new K(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(ht(()=>!i&&!r.targetRouterState),it(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Kt.Aborted)}))),it({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ar(this.transitionAbortWithErrorSubject.pipe(it(o=>{throw o}))),Ro(()=>{i||this.cancelNavigationTransition(r,"",Kt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Br(o=>{if(this.destroyed)return r.resolve(!1),Pt;if(i=!0,_P(o))this.events.next(new wr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),i$(o)?this.events.next(new Aa(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ca(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=ot(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Ra){let{message:l,cancellationCode:u}=yp(this.urlSerializer,a);this.events.next(new wr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Aa(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Pt}))}))}cancelNavigationTransition(t,r,i){let o=new wr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q$(n){return n!==Da}var RP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>S(Y$),providedIn:"root"})}return n})(),_p=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Y$=(()=>{class n extends _p{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ko(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PP=(()=>{class n{urlSerializer=S(ss);options=S(eo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=S(Ki);urlHandlingStrategy=S(Ip);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ir;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Ir?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=fP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>S(Z$),providedIn:"root"})}return n})(),Z$=(()=>{class n extends PP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Xi?this.updateStateMemento():t instanceof Dr?this.commitTransition(r):t instanceof Gl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Wl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof wr&&t.code!==Kt.SupersededByNewNavigation&&t.code!==Kt.Redirect?this.restoreHistory(r):t instanceof Ca?this.restoreHistory(r,!0):t instanceof Rn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ko(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tp(n,e){n.events.pipe(ht(t=>t instanceof Rn||t instanceof wr||t instanceof Ca||t instanceof Dr),Y(t=>t instanceof Rn||t instanceof Dr?0:(t instanceof wr?t.code===Kt.Redirect||t.code===Kt.SupersededByNewNavigation:!1)?2:1),ht(t=>t!==2),pt(1)).subscribe(()=>{e()})}var J$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},X$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=S(O_);stateManager=S(PP);options=S(eo,{optional:!0})||{};pendingTasks=S(Wr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=S(Dp);urlSerializer=S(ss);location=S(Ki);urlHandlingStrategy=S(Ip);injector=S(Be);_events=new ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=S(RP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=S(cs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!S(nu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Se;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof wr&&r.code!==Kt.Redirect&&r.code!==Kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Rn)this.navigated=!0;else if(r instanceof Aa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Q$(i.source)},s);this.scheduleNavigation(a,Da,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ZB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Da,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=k({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.injector.get(zt)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(UE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=lP(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return uP(p,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ji(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Da,null,r)}navigate(t,r={skipLocationChange:!1}){return eH(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},J$):r===!1?i=k({},X$):i=r,Ji(t))return zR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return zR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,g)=>{a=p,l=g});let h=this.pendingTasks.add();return Tp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eH(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}var Tr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=kt(null);get href(){return nn(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ne;applicationErrorHandler=S(zt);options=S(eo,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(S(new Sf("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Rn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ji(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ji(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Q(mt),Q(Pn),yl("tabindex"),Q(Yr),Q(Gt),Q(Wn))};static \u0275dir=qe({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ie("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Gi("href",i.reactiveHref(),p_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",rn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",rn],replaceUrl:[2,"replaceUrl","replaceUrl",rn],routerLink:"routerLink"},features:[Tn]})}return n})();var iu=class{};var NP=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ht(t=>t instanceof Rn),sr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=da(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ue(i).pipe(Mi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=W(null);let o=i.pipe(Je(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ue([o,s]).pipe(Mi())}else return o})}static \u0275fac=function(r){return new(r||n)(z(mt),z(Be),z(iu),z(wp))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MP=new j(""),tH=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Da;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Dr&&t.code===ba.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Sa&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Sa(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){P_()};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function GE(n,...e){return en([{provide:cs,multi:!0,useValue:n},[],{provide:Pn,useFactory:xP,deps:[mt]},{provide:wl,multi:!0,useFactory:kP},e.map(t=>t.\u0275providers)])}function xP(n){return n.routerState.root}function ou(n,e){return{\u0275kind:n,\u0275providers:e}}function kP(){let n=S(Le);return e=>{let t=n.get(Jr);if(e!==t.components[0])return;let r=n.get(mt),i=n.get(OP);n.get(WE)===1&&r.initialNavigation(),n.get(VP,null,{optional:!0})?.setUpPreloading(),n.get(MP,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var OP=new j("",{factory:()=>new ne}),WE=new j("",{providedIn:"root",factory:()=>1});function FP(){let n=[{provide:WE,useValue:0},bf(()=>{let e=S(Le);return e.get(J_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(mt),o=e.get(OP);Tp(i,()=>{r(!0)}),e.get(Dp).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return ou(2,n)}function LP(){let n=[bf(()=>{S(mt).setUpLocationChangeListener()}),{provide:WE,useValue:2}];return ou(3,n)}var VP=new j("");function jP(n){return ou(0,[{provide:VP,useExisting:NP},{provide:iu,useExisting:n}])}function UP(){return ou(8,[VE,{provide:nu,useExisting:VE}])}function BP(n){Yo("NgRouterViewTransitions");let e=[{provide:$E,useValue:AP},{provide:HE,useValue:k({skipNextTransition:!!n?.skipInitialTransition},n)}];return ou(9,e)}var $P=[Ki,{provide:ss,useClass:Zi},mt,as,{provide:Pn,useFactory:xP,deps:[mt]},wp,[]],Yn=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[$P,[],{provide:cs,multi:!0,useValue:t},[],r?.errorHandler?{provide:zE,useValue:r.errorHandler}:[],{provide:eo,useValue:r||{}},r?.useHash?rH():iH(),nH(),r?.preloadingStrategy?jP(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?oH(r):[],r?.bindToComponentInputs?UP().\u0275providers:[],r?.enableViewTransitions?BP().\u0275providers:[],sH()]}}static forChild(t){return{ngModule:n,providers:[{provide:cs,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Wt({type:n});static \u0275inj=Nt({})}return n})();function nH(){return{provide:MP,useFactory:()=>{let n=S(wR),e=S(he),t=S(eo),r=S(Dp),i=S(ss);return t.scrollOffset&&n.setOffset(t.scrollOffset),new tH(i,r,n,e,t)}}}function rH(){return{provide:Wn,useClass:iE}}function iH(){return{provide:Wn,useClass:Mf}}function oH(n){return[n.initialNavigation==="disabled"?LP().\u0275providers:[],n.initialNavigation==="enabledBlocking"?FP().\u0275providers:[]]}var qE=new j("");function sH(){return[{provide:qE,useFactory:kP},{provide:wl,multi:!0,useExisting:qE}]}var HP=()=>{};var GP=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},aH=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},bp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(GP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aH(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new QE;let g=o<<2|a>>4;if(r.push(g),u!==64){let y=a<<4&240|u>>2;if(r.push(y),p!==64){let T=u<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},QE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},cH=function(n){let e=GP(n);return bp.encodeByteArray(e,!0)},au=function(n){return cH(n).replace(/\./g,"")},Cp=function(n){try{return bp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var lH=()=>ZE().__FIREBASE_DEFAULTS__,uH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dH=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Cp(n[1]);return e&&JSON.parse(e)},Sp=()=>{try{return HP()||lH()||uH()||dH()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},JE=n=>{var e,t;return(t=(e=Sp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},WP=n=>{let e=JE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},XE=()=>{var n;return(n=Sp())===null||n===void 0?void 0:n.config},ew=n=>{var e;return(e=Sp())===null||e===void 0?void 0:e[`_${n}`]};var ls=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function to(n){return n.endsWith(".cloudworkstations.dev")}function Ap(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function KP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[au(JSON.stringify(t)),au(JSON.stringify(s)),""].join(".")}var su={};function hH(){let n={prod:[],emulator:[]};for(let e of Object.keys(su))su[e]?n.emulator.push(e):n.prod.push(e);return n}function fH(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var zP=!1;function Rp(n,e){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||su[n]===e||su[n]||zP)return;su[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=hH().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{zP=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=fH(r),y=t("text"),T=document.getElementById(y)||document.createElement("span"),N=t("learnmore"),R=document.getElementById(N)||document.createElement("a"),V=t("preprendIcon"),Z=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let G=g.element;a(G),h(R,N);let _e=u();l(Z,V),G.append(Z,T,R,_e),document.body.appendChild(G)}o?(T.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function pH(){var n;let e=(n=Sp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZP(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function JP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XP(){let n=yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function eN(){return!pH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cu(){try{return typeof indexedDB=="object"}catch{return!1}}function tN(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var gH="FirebaseError",pn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gH,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zn.prototype.create)}},Zn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?mH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new pn(i,a,r)}};function mH(n,e){return n.replace(yH,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yH=/\{\$([^}]+)}/g;function nN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function br(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(qP(o)&&qP(s)){if(!br(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function qP(n){return n!==null&&typeof n=="object"}function xa(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rN(n,e){let t=new YE(n,e);return t.subscribe.bind(t)}var YE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");vH(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=KE),i.error===void 0&&(i.error=KE),i.complete===void 0&&(i.complete=KE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vH(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function KE(){}var Kae=4*60*60*1e3;function Ke(n){return n&&n._delegate?n._delegate:n}var Qt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var us="[DEFAULT]";var tw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ls;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EH(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_H(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _H(n){return n===us?void 0:n}function EH(n){return n.instantiationMode==="EAGER"}var Pp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new tw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var wH=[],me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(me||{}),IH={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},DH=me.INFO,TH={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},bH=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=TH[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cr=class{constructor(e){this.name=e,this._logLevel=DH,this._logHandler=bH,this._userLogHandler=null,wH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var CH=(n,e)=>e.some(t=>n instanceof t),iN,oN;function SH(){return iN||(iN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AH(){return oN||(oN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var sN=new WeakMap,rw=new WeakMap,aN=new WeakMap,nw=new WeakMap,ow=new WeakMap;function RH(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Sr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&sN.set(t,n)}).catch(()=>{}),ow.set(e,n),e}function PH(n){if(rw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});rw.set(n,e)}var iw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return rw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||aN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cN(n){iw=n(iw)}function NH(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Np(this),e,...t);return aN.set(r,e.sort?e.sort():[e]),Sr(r)}:AH().includes(n)?function(...e){return n.apply(Np(this),e),Sr(sN.get(this))}:function(...e){return Sr(n.apply(Np(this),e))}}function MH(n){return typeof n=="function"?NH(n):(n instanceof IDBTransaction&&PH(n),CH(n,SH())?new Proxy(n,iw):n)}function Sr(n){if(n instanceof IDBRequest)return RH(n);if(nw.has(n))return nw.get(n);let e=MH(n);return e!==n&&(nw.set(n,e),ow.set(e,n)),e}var Np=n=>ow.get(n);function uN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Sr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Sr(s.result),l.oldVersion,l.newVersion,Sr(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var xH=["get","getKey","getAll","getAllKeys","count"],kH=["put","add","delete","clear"],sw=new Map;function lN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sw.get(e))return sw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=kH.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xH.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&l.done]))[0]})};return sw.set(e,o),o}cN(n=>ee(k({},n),{get:(e,t,r)=>lN(e,t)||n.get(e,t,r),has:(e,t)=>!!lN(e,t)||n.has(e,t)}));var cw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(OH(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function OH(n){let e=n.getComponent();return e?.type==="VERSION"}var lw="@firebase/app",dN="0.13.1";var ci=new Cr("@firebase/app"),FH="@firebase/app-compat",LH="@firebase/analytics-compat",VH="@firebase/analytics",jH="@firebase/app-check-compat",UH="@firebase/app-check",BH="@firebase/auth",$H="@firebase/auth-compat",HH="@firebase/database",zH="@firebase/data-connect",qH="@firebase/database-compat",GH="@firebase/functions",WH="@firebase/functions-compat",KH="@firebase/installations",QH="@firebase/installations-compat",YH="@firebase/messaging",ZH="@firebase/messaging-compat",JH="@firebase/performance",XH="@firebase/performance-compat",ez="@firebase/remote-config",tz="@firebase/remote-config-compat",nz="@firebase/storage",rz="@firebase/storage-compat",iz="@firebase/firestore",oz="@firebase/ai",sz="@firebase/firestore-compat",az="firebase",cz="11.9.0";var uw="[DEFAULT]",lz={[lw]:"fire-core",[FH]:"fire-core-compat",[VH]:"fire-analytics",[LH]:"fire-analytics-compat",[UH]:"fire-app-check",[jH]:"fire-app-check-compat",[BH]:"fire-auth",[$H]:"fire-auth-compat",[HH]:"fire-rtdb",[zH]:"fire-data-connect",[qH]:"fire-rtdb-compat",[GH]:"fire-fn",[WH]:"fire-fn-compat",[KH]:"fire-iid",[QH]:"fire-iid-compat",[YH]:"fire-fcm",[ZH]:"fire-fcm-compat",[JH]:"fire-perf",[XH]:"fire-perf-compat",[ez]:"fire-rc",[tz]:"fire-rc-compat",[nz]:"fire-gcs",[rz]:"fire-gcs-compat",[iz]:"fire-fst",[sz]:"fire-fst-compat",[oz]:"fire-vertex","fire-js":"fire-js",[az]:"fire-js-all"};var lu=new Map,uz=new Map,dw=new Map;function hN(n,e){try{n.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jn(n){let e=n.name;if(dw.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;dw.set(e,n);for(let t of lu.values())hN(t,n);for(let t of uz.values())hN(t,n);return!0}function ka(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gn(n){return n==null?!1:n.settings!==void 0}var dz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new Zn("app","Firebase",dz);var hw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}};var ro=cz;function gw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:uw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw no.create("bad-app-name",{appName:String(i)});if(t||(t=XE()),!t)throw no.create("no-options");let o=lu.get(i);if(o){if(br(t,o.options)&&br(r,o.config))return o;throw no.create("duplicate-app",{appName:i})}let s=new Pp(i);for(let l of dw.values())s.addComponent(l);let a=new hw(t,r,s);return lu.set(i,a),a}function ds(n=uw){let e=lu.get(n);if(!e&&n===uw&&XE())return gw();if(!e)throw no.create("no-app",{appName:n});return e}function Mp(){return Array.from(lu.values())}function Qe(n,e,t){var r;let i=(r=lz[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(a.join(" "));return}Jn(new Qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var hz="firebase-heartbeat-database",fz=1,uu="firebase-heartbeat-store",aw=null;function mN(){return aw||(aw=uN(hz,fz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw no.create("idb-open",{originalErrorMessage:n.message})})),aw}function pz(n){return _(this,null,function*(){try{let t=(yield mN()).transaction(uu),r=yield t.objectStore(uu).get(yN(n));return yield t.done,r}catch(e){if(e instanceof pn)ci.warn(e.message);else{let t=no.create("idb-get",{originalErrorMessage:e?.message});ci.warn(t.message)}}})}function fN(n,e){return _(this,null,function*(){try{let r=(yield mN()).transaction(uu,"readwrite");yield r.objectStore(uu).put(e,yN(n)),yield r.done}catch(t){if(t instanceof pn)ci.warn(t.message);else{let r=no.create("idb-set",{originalErrorMessage:t?.message});ci.warn(r.message)}}})}function yN(n){return`${n.name}!${n.options.appId}`}var gz=1024,mz=30,fw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new pw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>mz){let s=vz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ci.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=pN(),{heartbeatsToSend:r,unsentEntries:i}=yz(this._heartbeatsCache.heartbeats),o=au(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ci.warn(t),""}})}};function pN(){return new Date().toISOString().substring(0,10)}function yz(n,e=gz){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),gN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),gN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var pw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return cu()?tN().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield pz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function gN(n){return au(JSON.stringify({version:2,heartbeats:n})).length}function vz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function _z(n){Jn(new Qt("platform-logger",e=>new cw(e),"PRIVATE")),Jn(new Qt("heartbeat",e=>new fw(e),"PRIVATE")),Qe(lw,dN,n),Qe(lw,dN,"esm2017"),Qe("fire-js","")}_z("");var Ez="firebase",wz="11.9.1";Qe(Ez,wz,"app");function vN(n){n===void 0&&(n=S(Le));let e=n.get($i);return t=>new K(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var io=new Xo("ANGULARFIRE2_VERSION");function du(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Fa=(n,e)=>{let t=e?[e]:Mp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Oa=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Oa||{}),_N=Q_()&&typeof Zone<"u"?Oa.WARN:Oa.SILENT;var xp=class{zone;delegate;constructor(e,t=by){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},oo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=S(he);this.outsideAngular=t.runOutsideAngular(()=>new xp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new xp(typeof Zone>"u"?void 0:Zone.current,Ri))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EN=!1;function Iz(n,e){!EN&&(_N>Oa.SILENT||Q_())&&(EN=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),_N>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Dz(n){let e=S(he,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function hs(n){let e=S(he,{optional:!0});return e?e.run(()=>n()):n()}var Tz=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ot(t,()=>hs(()=>n.apply(void 0,r)))),Ye=(n,e,t)=>(t||=e?Oa.WARN:Oa.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=S(oo),s=S($i),a=S(Be)}catch{return Iz(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=hs(()=>s.add())),i[u]=Tz(i[u],r,a));let l=Dz(()=>n.apply(this,i));return e?l instanceof K?l.pipe(Ni(o.outsideAngular),Pi(o.insideAngular),vN(a)):l instanceof Promise?hs(()=>{let u=s.add();return new Promise((h,p)=>{l.then(g=>ot(a,()=>hs(()=>h(g))),g=>ot(a,()=>hs(()=>p(g)))).finally(u)})}):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:hs(()=>l):l instanceof K?l.pipe(Ni(o.outsideAngular),Pi(o.insideAngular)):hs(()=>l)});var li=class{constructor(e){return e}},fs=class{constructor(){return Mp()}};function bz(n){return n&&n.length===1?n[0]:new li(ds())}var mw=new j("angularfire2._apps"),Cz={provide:li,useFactory:bz,deps:[[new qt,mw]]},Sz={provide:fs,deps:[[new qt,mw]]};function Az(n){return(e,t)=>{let r=t.get(gr);Qe("angularfire",io.full,"core"),Qe("angularfire",io.full,"app"),Qe("angular",KA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new li(i)}}function wN(n,...e){return en([Cz,Sz,{provide:mw,useFactory:Az(n),multi:!0,deps:[he,Le,oo,...e]}])}var IN=Ye(gw,!0);var Rz=new Map,Pz={activated:!1,tokenObservers:[]},Nz={initialized:!1,enabled:!1};function Xn(n){return Rz.get(n)||Object.assign({},Pz)}function CN(){return Nz}var Mz="https://content-firebaseappcheck.googleapis.com/v1";var xz="exchangeDebugToken",DN={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Zce=24*60*60*1e3;var _w=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new ls,this.pending.promise.catch(t=>{}),yield kz(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ls,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function kz(n){return new Promise(e=>{setTimeout(e,n)})}var Oz={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},so=new Zn("appCheck","AppCheck",Oz);function SN(n){if(!Xn(n).activated)throw so.create("use-before-activation",{appName:n.name})}function AN(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(n,a)}catch(y){throw so.create("fetch-network-error",{originalErrorMessage:y?.message})}if(l.status!==200)throw so.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(y){throw so.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw so.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function RN(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Mz}/projects/${t}/apps/${r}:${xz}?key=${i}`,body:{debug_token:e}}}var Fz="firebase-app-check-database",Lz=1,Ew="firebase-app-check-store";var kp=null;function Vz(){return kp||(kp=new Promise((n,e)=>{try{let t=indexedDB.open(Fz,Lz);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(so.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ew,{keyPath:"compositeKey"})}}}catch(t){e(so.create("storage-open",{originalErrorMessage:t?.message}))}}),kp)}function jz(n,e){return Uz(Bz(n),e)}function Uz(n,e){return _(this,null,function*(){let r=(yield Vz()).transaction(Ew,"readwrite"),o=r.objectStore(Ew).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(so.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function Bz(n){return`${n.options.appId}-${n.name}`}var hu=new Cr("@firebase/app-check");function yw(n,e){return cu()?jz(n,e).catch(t=>{hu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function PN(){return CN().enabled}function NN(){return _(this,null,function*(){let n=CN();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var $z={error:"UNKNOWN_ERROR"};function Hz(n){return bp.encodeString(JSON.stringify(n),!1)}function ww(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;SN(r);let i=Xn(r),o=i.token,s;if(o&&!fu(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(fu(u)?o=u:yield yw(r,void 0))}if(!e&&o&&fu(o))return{token:o.token};let a=!1;if(PN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=AN(RN(r,yield NN()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield yw(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?hu.warn(u.message):t&&hu.error(u),vw(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Xn(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?hu.warn(u.message):t&&hu.error(u),s=u}let l;return o?s?fu(o)?l={token:o.token,internalError:s}:l=vw(s):(l={token:o.token},i.token=o,yield yw(r,o)):l=vw(s),a&&Wz(r,l),l})}function zz(n){return _(this,null,function*(){let e=n.app;SN(e);let{provider:t}=Xn(e);if(PN()){let r=yield NN(),{token:i}=yield AN(RN(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function qz(n,e,t,r){let{app:i}=n,o=Xn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&fu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),TN(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>TN(n))}function MN(n,e){let t=Xn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function TN(n){let{app:e}=n,t=Xn(e),r=t.tokenRefresher;r||(r=Gz(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Gz(n){let{app:e}=n;return new _w(()=>_(null,null,function*(){let t=Xn(e),r;if(t.token?r=yield ww(n,!0):r=yield ww(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Xn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},DN.RETRIAL_MIN_WAIT,DN.RETRIAL_MAX_WAIT)}function Wz(n,e){let t=Xn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function fu(n){return n.expireTimeMillis-Date.now()>0}function vw(n){return{token:Hz($z),error:n}}var Iw=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Xn(this.app);for(let t of e)MN(this.app,t.next);return Promise.resolve()}};function Kz(n,e){return new Iw(n,e)}function Qz(n){return{getToken:e=>ww(n,e),getLimitedUseToken:()=>zz(n),addTokenListener:e=>qz(n,"INTERNAL",e),removeTokenListener:e=>MN(n.app,e)}}var Yz="@firebase/app-check",Zz="0.10.0";var Jz="app-check",bN="app-check-internal";function Xz(){Jn(new Qt(Jz,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Kz(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bN).initialize()})),Jn(new Qt(bN,n=>{let e=n.getProvider("app-check").getImmediate();return Qz(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qe(Yz,Zz)}Xz();var e4="app-check";var La=class{constructor(){return Fa(e4)}};var t4=["localhost","0.0.0.0","127.0.0.1"],ule=typeof window<"u"&&t4.includes(window.location.hostname);function WN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var KN=WN,QN=new Zn("auth","Firebase",WN());var Up=new Cr("@firebase/auth");function n4(n,...e){Up.logLevel<=me.WARN&&Up.warn(`Auth (${ro}): ${n}`,...e)}function Fp(n,...e){Up.logLevel<=me.ERROR&&Up.error(`Auth (${ro}): ${n}`,...e)}function Rr(n,...e){throw Uw(n,...e)}function er(n,...e){return Uw(n,...e)}function jw(n,e,t){let r=Object.assign(Object.assign({},KN()),{[e]:t});return new Zn("auth","Firebase",r).create(e,{appName:n.name})}function ps(n){return jw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r4(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rr(n,"argument-error"),jw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Uw(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return QN.create(n,...e)}function te(n,e,...t){if(!n)throw Uw(e,...t)}function ui(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Fp(e),new Error(e)}function hi(n,e){n||ui(e)}function bw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function i4(){return xN()==="http:"||xN()==="https:"}function xN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function o4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i4()||ZP()||"connection"in navigator)?navigator.onLine:!0}function s4(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var gs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,hi(t>e,"Short delay should be less than long delay!"),this.isMobile=QP()||JP()}get(){return o4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Bw(n,e){hi(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Bp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var a4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var c4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l4=new gs(3e4,6e4);function $w(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ja(o,s,a,l){return _(this,arguments,function*(n,e,t,r,i={}){return YN(n,i,()=>_(null,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let p=xa(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},u);return YP()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&to(n.emulatorConfig.host)&&(y.credentials="include"),Bp.fetch()(yield ZN(n,n.config.apiHost,t,p),y)}))})}function YN(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},a4),e);try{let i=new Cw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Op(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Op(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Op(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Op(n,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jw(n,h,u);Rr(n,h)}}catch(i){if(i instanceof pn)throw i;Rr(n,"network-request-failed",{message:String(i)})}})}function u4(o,s,a,l){return _(this,arguments,function*(n,e,t,r,i={}){let u=yield ja(n,e,t,r,i);return"mfaPendingCredential"in u&&Rr(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function ZN(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Bw(n.config,i):`${n.config.apiScheme}://${i}`;return c4.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Cw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),l4.get())})}};function Op(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=er(n,e,r);return i.customData._tokenResponse=t,i}function d4(n,e){return _(this,null,function*(){return ja(n,"POST","/v1/accounts:delete",e)})}function $p(n,e){return _(this,null,function*(){return ja(n,"POST","/v1/accounts:lookup",e)})}function pu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Hw(n,e=!1){return _(this,null,function*(){let t=Ke(n),r=yield t.getIdToken(e),i=zw(r);te(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:pu(Dw(i.auth_time)),issuedAtTime:pu(Dw(i.iat)),expirationTime:pu(Dw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Dw(n){return Number(n)*1e3}function zw(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fp("JWT malformed, contained fewer than 3 sections"),null;try{let i=Cp(t);return i?JSON.parse(i):(Fp("Failed to decode base64 JWT payload"),null)}catch(i){return Fp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function kN(n){let e=zw(n);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function mu(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof pn&&h4(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function h4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Sw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var yu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Hp(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield mu(n,$p(t,{idToken:r}));te(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JN(o.providerUserInfo):[],a=f4(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=l?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new yu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function qw(n){return _(this,null,function*(){let e=Ke(n);yield Hp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function f4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JN(n){return n.map(e=>{var{providerId:t}=e,r=rh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function p4(n,e){return _(this,null,function*(){let t=yield YN(n,{},()=>_(null,null,function*(){let r=xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield ZN(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return n.emulatorConfig&&to(n.emulatorConfig.host)&&(l.credentials="include"),Bp.fetch()(s,l)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function g4(n,e){return _(this,null,function*(){return ja(n,"POST","/v2/accounts:revokeToken",$w(n,e))})}var gu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){te(e.length!==0,"internal-error");let t=kN(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield p4(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(te(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ui("not implemented")}};function ao(n,e){te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var co=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=rh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield mu(this,this.stsTokenManager.getToken(this.auth,e));return te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Hw(this,e)}reload(){return qw(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Hp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(gn(this.auth.app))return Promise.reject(ps(this.auth));let e=yield this.getIdToken();return yield mu(this,d4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,V=(u=t.createdAt)!==null&&u!==void 0?u:void 0,Z=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:_e,isAnonymous:rt,providerData:Ce,stsTokenManager:D}=t;te(G&&D,e,"internal-error");let v=gu.fromJSON(this.name,D);te(typeof G=="string",e,"internal-error"),ao(p,e.name),ao(g,e.name),te(typeof _e=="boolean",e,"internal-error"),te(typeof rt=="boolean",e,"internal-error"),ao(y,e.name),ao(T,e.name),ao(N,e.name),ao(R,e.name),ao(V,e.name),ao(Z,e.name);let w=new n({uid:G,auth:e,email:g,emailVerified:_e,displayName:p,isAnonymous:rt,photoURL:T,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:V,lastLoginAt:Z});return Ce&&Array.isArray(Ce)&&(w.providerData=Ce.map(I=>Object.assign({},I))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new gu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Hp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];te(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?JN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new gu;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new yu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var ON=new Map;function di(n){hi(n instanceof Function,"Expected a class definition");let e=ON.get(n);return e?(hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ON.set(n,e),e)}var m4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Aw=m4;function Lp(n,e,t){return`firebase:${n}:${e}:${t}`}var zp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Lp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Lp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield $p(this.auth,{idToken:e}).catch(()=>{});return t?co._fromGetAccountInfoResponse(this.auth,t,e):null}return co._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(di(Aw),e,r);let i=(yield Promise.all(t.map(u=>_(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||di(Aw),s=Lp(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let p;if(typeof h=="string"){let g=yield $p(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield co._fromGetAccountInfoResponse(e,g,h)}else p=co._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>_(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function FN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iM(e))return"Blackberry";if(oM(e))return"Webos";if(eM(e))return"Safari";if((e.includes("chrome/")||tM(e))&&!e.includes("edge/"))return"Chrome";if(rM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function XN(n=yt()){return/firefox\//i.test(n)}function eM(n=yt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tM(n=yt()){return/crios\//i.test(n)}function nM(n=yt()){return/iemobile/i.test(n)}function rM(n=yt()){return/android/i.test(n)}function iM(n=yt()){return/blackberry/i.test(n)}function oM(n=yt()){return/webos/i.test(n)}function Gw(n=yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function y4(n=yt()){var e;return Gw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v4(){return XP()&&document.documentMode===10}function sM(n=yt()){return Gw(n)||rM(n)||oM(n)||iM(n)||/windows phone/i.test(n)||nM(n)}function aM(n,e=[]){let t;switch(n){case"Browser":t=FN(yt());break;case"Worker":t=`${FN(yt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ro}/${r}`}var Rw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function _4(t){return _(this,arguments,function*(n,e={}){return ja(n,"GET","/v2/passwordPolicy",$w(n,e))})}var E4=6,Pw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:E4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Nw=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qp(this),this.idTokenSubscription=new qp(this),this.beforeStateQueue=new Rw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=di(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield zp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield $p(this,{idToken:e}),r=yield co._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(gn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Hp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=s4()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(gn(this.app))return Promise.reject(ps(this));let t=e?Ke(e):null;return t&&te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return gn(this.app)?Promise.reject(ps(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return gn(this.app)?Promise.reject(ps(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(di(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield _4(this),t=new Pw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield g4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&di(e)||this._popupRedirectResolver;te(t,this,"argument-error"),this.redirectPersistenceManager=yield zp.create(this,[di(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&n4(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Xp(n){return Ke(n)}var qp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=rN(t=>this.observer=t)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ww={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function w4(n){Ww=n}function I4(n){return Ww.loadJS(n)}function D4(){return Ww.gapiScript}function cM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Kw(n,e){let t=ka(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(br(o,e??{}))return i;Rr(i,"already-initialized")}return t.initialize({options:e})}function T4(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(di);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Qw(n,e,t){let r=Xp(n);te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=lM(e),{host:s,port:a}=b4(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),te(br(u,r.config.emulator)&&br(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,to(s)?(Ap(`${o}//${s}${l}`),Rp("Auth",!0)):i||C4()}function lM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function b4(n){let e=lM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:LN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:LN(s)}}}function LN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function C4(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var vu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,t){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}};function Va(n,e){return _(this,null,function*(){return u4(n,"POST","/v1/accounts:signInWithIdp",$w(n,e))})}var S4="http://localhost",Gp=class n extends vu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=rh(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Va(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Va(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Va(e,t)}buildRequest(){let e={requestUri:S4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xa(t)}return e}};var _u=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Wp=class extends _u{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Yw=(()=>{class n extends Wp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Gp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var Eu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield co._fromIdTokenResponse(e,r,i),s=VN(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=VN(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function VN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Mw=class n extends pn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function uM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mw._fromErrorAndOperation(n,o,e,r):o})}function A4(n,e,t=!1){return _(this,null,function*(){let r=yield mu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Eu._forOperation(n,"link",r)})}function R4(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(gn(r.app))return Promise.reject(ps(r));let i="reauthenticate";try{let o=yield mu(n,uM(r,i,e,n),t);te(o.idToken,r,"internal-error");let s=zw(o.idToken);te(s,r,"internal-error");let{sub:a}=s;return te(n.uid===a,r,"user-mismatch"),Eu._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Rr(r,"user-mismatch"),o}})}function P4(n,e,t=!1){return _(this,null,function*(){if(gn(n.app))return Promise.reject(ps(n));let r="signIn",i=yield uM(n,r,e),o=yield Eu._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Iu(n,e,t,r){return Ke(n).onIdTokenChanged(e,t,r)}function Zw(n,e,t){return Ke(n).beforeAuthStateChanged(e,t)}function Jw(n){return Ke(n).signOut()}var Kp="__sak";var Qp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kp,"1"),this.storage.removeItem(Kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var N4=1e3,M4=10,x4=(()=>{class n extends Qp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);v4()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,M4):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},N4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield bi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield bi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield bi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),dM=x4;var k4=(()=>{class n extends Qp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Xw=k4;function O4(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var F4=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),u=yield O4(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function eI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var xw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let u=eI("",20);i.port1.start();let h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ar(){return window}function L4(n){Ar().location.href=n}function hM(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}function V4(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function j4(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function U4(){return hM()?self:null}var fM="firebaseLocalStorageDb",B4=1,Yp="firebaseLocalStorage",pM="fbase_key",ms=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function eg(n,e){return n.transaction([Yp],e?"readwrite":"readonly").objectStore(Yp)}function $4(){let n=indexedDB.deleteDatabase(fM);return new ms(n).toPromise()}function kw(){let n=indexedDB.open(fM,B4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Yp,{keyPath:pM})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Yp)?e(r):(r.close(),yield $4(),e(yield kw()))}))})}function jN(n,e,t){return _(this,null,function*(){let r=eg(n,!0).put({[pM]:e,value:t});return new ms(r).toPromise()})}function H4(n,e){return _(this,null,function*(){let t=eg(n,!1).get(e),r=yield new ms(t).toPromise();return r===void 0?null:r.value})}function UN(n,e){let t=eg(n,!0).delete(e);return new ms(t).toPromise()}var z4=800,q4=3,G4=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield kw(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>q4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return hM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=F4._getInstance(U4()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield V4(),!this.activeServiceWorker)return;this.sender=new xw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||j4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield kw();return yield jN(t,Kp,"1"),yield UN(t,Kp),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>jN(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>H4(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>UN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=eg(o,!1).getAll();return new ms(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),gM=G4;var Ele=cM("rcb"),wle=new gs(3e4,6e4);function mM(n,e){return e?di(e):(te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var wu=class extends vu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Va(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Va(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Va(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function W4(n){return P4(n.auth,new wu(n),n.bypassAuthState)}function K4(n){let{auth:e,user:t}=n;return te(t,e,"internal-error"),R4(t,new wu(n),n.bypassAuthState)}function Q4(n){return _(this,null,function*(){let{auth:e,user:t}=n;return te(t,e,"internal-error"),A4(t,new wu(n),n.bypassAuthState)})}var Zp=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W4;case"linkViaPopup":case"linkViaRedirect":return Q4;case"reauthViaPopup":case"reauthViaRedirect":return K4;default:Rr(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Y4=new gs(2e3,1e4);function tI(n,e,t){return _(this,null,function*(){if(gn(n.app))return Promise.reject(er(n,"operation-not-supported-in-this-environment"));let r=Xp(n);r4(n,e,_u);let i=mM(r,t);return new Z4(r,"signInViaPopup",e,i).executeNotNull()})}var Z4=(()=>{class n extends Zp{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let t=yield this.execute();return te(t,this.auth,"internal-error"),t})}onExecution(){return _(this,null,function*(){hi(this.filter.length===1,"Popup operations only handle one event");let t=eI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Y4.get())};t()}}n.currentPopupAction=null;return n})(),J4="pendingRedirect",Vp=new Map,Ow=class n extends Zp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Vp.get(this.auth._key());if(!e){try{let r=(yield X4(this.resolver,this.auth))?yield bi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Vp.set(this.auth._key(),e)}return this.bypassAuthState||Vp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return bi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,bi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function X4(n,e){return _(this,null,function*(){let t=n3(e),r=t3(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function e3(n,e){Vp.set(n._key(),e)}function t3(n){return di(n._redirectPersistence)}function n3(n){return Lp(J4,n.config.apiKey,n.name)}function r3(n,e,t=!1){return _(this,null,function*(){if(gn(n.app))return Promise.reject(ps(n));let r=Xp(n),i=mM(r,e),s=yield new Ow(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var i3=10*60*1e3,Fw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!yM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(er(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i3&&this.cachedEventUids.clear(),this.cachedEventUids.has(BN(e))}saveEventToCache(e){this.cachedEventUids.add(BN(e)),this.lastProcessedEventTime=Date.now()}};function BN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function yM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function o3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yM(n);default:return!1}}function s3(t){return _(this,arguments,function*(n,e={}){return ja(n,"GET","/v1/projects",e)})}var a3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c3=/^https?/;function l3(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield s3(n);for(let t of e)try{if(u3(t))return}catch{}Rr(n,"unauthorized-domain")})}function u3(n){let e=bw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!c3.test(t))return!1;if(a3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var d3=new gs(3e4,6e4);function $N(){let n=Ar().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function h3(n){return new Promise((e,t)=>{var r,i,o;function s(){$N(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$N(),t(er(n,"network-request-failed"))},timeout:d3.get()})}if(!((i=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ar().gapi)===null||o===void 0)&&o.load)s();else{let a=cM("iframefcb");return Ar()[a]=()=>{gapi.load?s():t(er(n,"network-request-failed"))},I4(`${D4()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw jp=null,e})}var jp=null;function f3(n){return jp=jp||h3(n),jp}var p3=new gs(5e3,15e3),g3="__/auth/iframe",m3="emulator/auth/iframe",y3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _3(n){let e=n.config;te(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Bw(e,m3):`https://${n.config.authDomain}/${g3}`,r={apiKey:e.apiKey,appName:n.name,v:ro},i=v3.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${xa(r).slice(1)}`}function E3(n){return _(this,null,function*(){let e=yield f3(n),t=Ar().gapi;return te(t,n,"internal-error"),e.open({where:document.body,url:_3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y3,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=er(n,"network-request-failed"),a=Ar().setTimeout(()=>{o(s)},p3.get());function l(){Ar().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}var w3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I3=500,D3=600,T3="_blank",b3="http://localhost",Jp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function C3(n,e,t,r=I3,i=D3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},w3),{width:r.toString(),height:i.toString(),top:o,left:s}),u=yt().toLowerCase();t&&(a=tM(u)?T3:t),XN(u)&&(e=e||b3,l.scrollbars="yes");let h=Object.entries(l).reduce((g,[y,T])=>`${g}${y}=${T},`,"");if(y4(u)&&a!=="_self")return S3(e||"",a),new Jp(null);let p=window.open(e||"",a,h);te(p,n,"popup-blocked");try{p.focus()}catch{}return new Jp(p)}function S3(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var A3="__/auth/handler",R3="emulator/auth/handler",P3=encodeURIComponent("fac");function HN(n,e,t,r,i,o){return _(this,null,function*(){te(n.config.authDomain,n,"auth-domain-config-required"),te(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ro,eventId:i};if(e instanceof _u){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",nN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Wp){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let l=yield n._getAppCheckToken(),u=l?`#${P3}=${encodeURIComponent(l)}`:"";return`${N3(n)}?${xa(a).slice(1)}${u}`})}function N3({config:n}){return n.emulator?Bw(n,R3):`https://${n.authDomain}/${A3}`}var Tw="webStorageSupport",Lw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xw,this._completeRedirectFn=r3,this._overrideRedirectResult=e3}_openPopup(e,t,r,i){return _(this,null,function*(){var o;hi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield HN(e,t,r,bw(),i);return C3(e,s,eI())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield HN(e,t,r,bw(),i);return L4(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(hi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield E3(e),r=new Fw(e);return t.register("authEvent",i=>(te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tw,{type:Tw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Tw];s!==void 0&&t(!!s),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=l3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sM()||eM()||Gw()}},vM=Lw;var zN="@firebase/auth",qN="1.10.7";var Vw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function M3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x3(n){Jn(new Qt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aM(n)},u=new Nw(r,i,o,l);return T4(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jn(new Qt("auth-internal",e=>{let t=Xp(e.getProvider("auth").getImmediate());return(r=>new Vw(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(zN,qN,M3(n)),Qe(zN,qN,"esm2017")}var k3=5*60,O3=ew("authIdTokenMaxAge")||k3,GN=null,F3=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>O3)return;let i=t?.token;GN!==i&&(GN=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function nI(n=ds()){let e=ka(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Kw(n,{popupRedirectResolver:vM,persistence:[gM,dM,Xw]}),r=ew("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=F3(o.toString());Zw(t,s,()=>s(t.currentUser)),Iu(t,a=>s(a))}}let i=JE("auth");return i&&Qw(t,`http://${i}`),t}function L3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}w4({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=er("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",L3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x3("Browser");function wM(n){return new K(function(e){var t=Iu(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var IM="auth",ys=class{constructor(e){return e}},Du=class{constructor(){return Fa(IM)}};var rI=new j("angularfire2.auth-instances");function Cq(n,e){let t=du(IM,n,e);return t&&new ys(t)}function Sq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ys(r)}}var Aq={provide:Du,deps:[[new qt,rI]]},Rq={provide:ys,useFactory:Cq,deps:[[new qt,rI],li]};function DM(n,...e){return Qe("angularfire",io.full,"auth"),en([Rq,Aq,{provide:rI,useFactory:Sq(n),multi:!0,deps:[he,Le,oo,fs,[new qt,La],...e]}])}var TM=Ye(wM,!0);var bM=Ye(nI,!0);var CM=Ye(tI,!0,2);var SM=Ye(Jw,!0,2);var AM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RM={};var fi,iI;(function(){var n;function e(D,v){function w(){}w.prototype=v.prototype,D.D=v.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(I,b,A){for(var E=Array(arguments.length-2),Lr=2;Lr<arguments.length;Lr++)E[Lr-2]=arguments[Lr];return v.prototype[b].apply(I,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,w){w||(w=0);var I=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)I[b]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(b=0;16>b;++b)I[b]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=D.g[0],w=D.g[1],b=D.g[2];var A=D.g[3],E=v+(A^w&(b^A))+I[0]+3614090360&4294967295;v=w+(E<<7&4294967295|E>>>25),E=A+(b^v&(w^b))+I[1]+3905402710&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(w^A&(v^w))+I[2]+606105819&4294967295,b=A+(E<<17&4294967295|E>>>15),E=w+(v^b&(A^v))+I[3]+3250441966&4294967295,w=b+(E<<22&4294967295|E>>>10),E=v+(A^w&(b^A))+I[4]+4118548399&4294967295,v=w+(E<<7&4294967295|E>>>25),E=A+(b^v&(w^b))+I[5]+1200080426&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(w^A&(v^w))+I[6]+2821735955&4294967295,b=A+(E<<17&4294967295|E>>>15),E=w+(v^b&(A^v))+I[7]+4249261313&4294967295,w=b+(E<<22&4294967295|E>>>10),E=v+(A^w&(b^A))+I[8]+1770035416&4294967295,v=w+(E<<7&4294967295|E>>>25),E=A+(b^v&(w^b))+I[9]+2336552879&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(w^A&(v^w))+I[10]+4294925233&4294967295,b=A+(E<<17&4294967295|E>>>15),E=w+(v^b&(A^v))+I[11]+2304563134&4294967295,w=b+(E<<22&4294967295|E>>>10),E=v+(A^w&(b^A))+I[12]+1804603682&4294967295,v=w+(E<<7&4294967295|E>>>25),E=A+(b^v&(w^b))+I[13]+4254626195&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(w^A&(v^w))+I[14]+2792965006&4294967295,b=A+(E<<17&4294967295|E>>>15),E=w+(v^b&(A^v))+I[15]+1236535329&4294967295,w=b+(E<<22&4294967295|E>>>10),E=v+(b^A&(w^b))+I[1]+4129170786&4294967295,v=w+(E<<5&4294967295|E>>>27),E=A+(w^b&(v^w))+I[6]+3225465664&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^w&(A^v))+I[11]+643717713&4294967295,b=A+(E<<14&4294967295|E>>>18),E=w+(A^v&(b^A))+I[0]+3921069994&4294967295,w=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(w^b))+I[5]+3593408605&4294967295,v=w+(E<<5&4294967295|E>>>27),E=A+(w^b&(v^w))+I[10]+38016083&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^w&(A^v))+I[15]+3634488961&4294967295,b=A+(E<<14&4294967295|E>>>18),E=w+(A^v&(b^A))+I[4]+3889429448&4294967295,w=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(w^b))+I[9]+568446438&4294967295,v=w+(E<<5&4294967295|E>>>27),E=A+(w^b&(v^w))+I[14]+3275163606&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^w&(A^v))+I[3]+4107603335&4294967295,b=A+(E<<14&4294967295|E>>>18),E=w+(A^v&(b^A))+I[8]+1163531501&4294967295,w=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(w^b))+I[13]+2850285829&4294967295,v=w+(E<<5&4294967295|E>>>27),E=A+(w^b&(v^w))+I[2]+4243563512&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^w&(A^v))+I[7]+1735328473&4294967295,b=A+(E<<14&4294967295|E>>>18),E=w+(A^v&(b^A))+I[12]+2368359562&4294967295,w=b+(E<<20&4294967295|E>>>12),E=v+(w^b^A)+I[5]+4294588738&4294967295,v=w+(E<<4&4294967295|E>>>28),E=A+(v^w^b)+I[8]+2272392833&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^w)+I[11]+1839030562&4294967295,b=A+(E<<16&4294967295|E>>>16),E=w+(b^A^v)+I[14]+4259657740&4294967295,w=b+(E<<23&4294967295|E>>>9),E=v+(w^b^A)+I[1]+2763975236&4294967295,v=w+(E<<4&4294967295|E>>>28),E=A+(v^w^b)+I[4]+1272893353&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^w)+I[7]+4139469664&4294967295,b=A+(E<<16&4294967295|E>>>16),E=w+(b^A^v)+I[10]+3200236656&4294967295,w=b+(E<<23&4294967295|E>>>9),E=v+(w^b^A)+I[13]+681279174&4294967295,v=w+(E<<4&4294967295|E>>>28),E=A+(v^w^b)+I[0]+3936430074&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^w)+I[3]+3572445317&4294967295,b=A+(E<<16&4294967295|E>>>16),E=w+(b^A^v)+I[6]+76029189&4294967295,w=b+(E<<23&4294967295|E>>>9),E=v+(w^b^A)+I[9]+3654602809&4294967295,v=w+(E<<4&4294967295|E>>>28),E=A+(v^w^b)+I[12]+3873151461&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^w)+I[15]+530742520&4294967295,b=A+(E<<16&4294967295|E>>>16),E=w+(b^A^v)+I[2]+3299628645&4294967295,w=b+(E<<23&4294967295|E>>>9),E=v+(b^(w|~A))+I[0]+4096336452&4294967295,v=w+(E<<6&4294967295|E>>>26),E=A+(w^(v|~b))+I[7]+1126891415&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~w))+I[14]+2878612391&4294967295,b=A+(E<<15&4294967295|E>>>17),E=w+(A^(b|~v))+I[5]+4237533241&4294967295,w=b+(E<<21&4294967295|E>>>11),E=v+(b^(w|~A))+I[12]+1700485571&4294967295,v=w+(E<<6&4294967295|E>>>26),E=A+(w^(v|~b))+I[3]+2399980690&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~w))+I[10]+4293915773&4294967295,b=A+(E<<15&4294967295|E>>>17),E=w+(A^(b|~v))+I[1]+2240044497&4294967295,w=b+(E<<21&4294967295|E>>>11),E=v+(b^(w|~A))+I[8]+1873313359&4294967295,v=w+(E<<6&4294967295|E>>>26),E=A+(w^(v|~b))+I[15]+4264355552&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~w))+I[6]+2734768916&4294967295,b=A+(E<<15&4294967295|E>>>17),E=w+(A^(b|~v))+I[13]+1309151649&4294967295,w=b+(E<<21&4294967295|E>>>11),E=v+(b^(w|~A))+I[4]+4149444226&4294967295,v=w+(E<<6&4294967295|E>>>26),E=A+(w^(v|~b))+I[11]+3174756917&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~w))+I[2]+718787259&4294967295,b=A+(E<<15&4294967295|E>>>17),E=w+(A^(b|~v))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var w=v-this.blockSize,I=this.B,b=this.h,A=0;A<v;){if(b==0)for(;A<=w;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<v;)if(I[b++]=D.charCodeAt(A++),b==this.blockSize){i(this,I),b=0;break}}else for(;A<v;)if(I[b++]=D[A++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var w=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=w&255,w/=256;for(this.u(D),D=Array(16),v=w=0;4>v;++v)for(var I=0;32>I;I+=8)D[w++]=this.g[v]>>>I&255;return D};function o(D,v){var w=a;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=v(D)}function s(D,v){this.h=v;for(var w=[],I=!0,b=D.length-1;0<=b;b--){var A=D[b]|0;I&&A==v||(w[b]=A,I=!1)}this.g=w}var a={};function l(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(u(-D));for(var v=[],w=1,I=0;D>=w;I++)v[I]=D/w|0,w*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(v,8)),I=p,b=0;b<D.length;b+=8){var A=Math.min(8,D.length-b),E=parseInt(D.substring(b,b+A),v);8>A?(A=u(Math.pow(v,A)),I=I.j(A).add(u(E))):(I=I.j(w),I=I.add(u(E)))}return I}var p=l(0),g=l(1),y=l(16777216);n=s.prototype,n.m=function(){if(N(this))return-R(this).m();for(var D=0,v=1,w=0;w<this.g.length;w++){var I=this.i(w);D+=(0<=I?I:4294967296+I)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var v=u(Math.pow(D,6)),w=this,I="";;){var b=_e(w,v).g;w=V(w,b.j(v));var A=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=b,T(w))return A+I;for(;6>A.length;)A="0"+A;I=A+I}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function N(D){return D.h==-1}n.l=function(D){return D=V(this,D),N(D)?-1:T(D)?0:1};function R(D){for(var v=D.g.length,w=[],I=0;I<v;I++)w[I]=~D.g[I];return new s(w,~D.h).add(g)}n.abs=function(){return N(this)?R(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],I=0,b=0;b<=v;b++){var A=I+(this.i(b)&65535)+(D.i(b)&65535),E=(A>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);I=E>>>16,A&=65535,E&=65535,w[b]=E<<16|A}return new s(w,w[w.length-1]&-2147483648?-1:0)};function V(D,v){return D.add(R(v))}n.j=function(D){if(T(this)||T(D))return p;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(y)&&0>D.l(y))return u(this.m()*D.m());for(var v=this.g.length+D.g.length,w=[],I=0;I<2*v;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<D.g.length;b++){var A=this.i(I)>>>16,E=this.i(I)&65535,Lr=D.i(b)>>>16,vc=D.i(b)&65535;w[2*I+2*b]+=E*vc,Z(w,2*I+2*b),w[2*I+2*b+1]+=A*vc,Z(w,2*I+2*b+1),w[2*I+2*b+1]+=E*Lr,Z(w,2*I+2*b+1),w[2*I+2*b+2]+=A*Lr,Z(w,2*I+2*b+2)}for(I=0;I<v;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=v;I<2*v;I++)w[I]=0;return new s(w,0)};function Z(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function G(D,v){this.g=D,this.h=v}function _e(D,v){if(T(v))throw Error("division by zero");if(T(D))return new G(p,p);if(N(D))return v=_e(R(D),v),new G(R(v.g),R(v.h));if(N(v))return v=_e(D,R(v)),new G(R(v.g),v.h);if(30<D.g.length){if(N(D)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var w=g,I=v;0>=I.l(D);)w=rt(w),I=rt(I);var b=Ce(w,1),A=Ce(I,1);for(I=Ce(I,2),w=Ce(w,2);!T(I);){var E=A.add(I);0>=E.l(D)&&(b=b.add(w),A=E),I=Ce(I,1),w=Ce(w,1)}return v=V(D,b.j(v)),new G(b,v)}for(b=p;0<=D.l(v);){for(w=Math.max(1,Math.floor(D.m()/v.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),A=u(w),E=A.j(v);N(E)||0<E.l(D);)w-=I,A=u(w),E=A.j(v);T(A)&&(A=g),b=b.add(A),D=V(D,E)}return new G(b,D)}n.A=function(D){return _e(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],I=0;I<v;I++)w[I]=this.i(I)&D.i(I);return new s(w,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],I=0;I<v;I++)w[I]=this.i(I)|D.i(I);return new s(w,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],I=0;I<v;I++)w[I]=this.i(I)^D.i(I);return new s(w,this.h^D.h)};function rt(D){for(var v=D.g.length+1,w=[],I=0;I<v;I++)w[I]=D.i(I)<<1|D.i(I-1)>>>31;return new s(w,D.h)}function Ce(D,v){var w=v>>5;v%=32;for(var I=D.g.length-w,b=[],A=0;A<I;A++)b[A]=0<v?D.i(A+w)>>>v|D.i(A+w+1)<<32-v:D.i(A+w);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iI=RM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,fi=RM.Integer=s}).apply(typeof AM<"u"?AM:typeof self<"u"?self:typeof window<"u"?window:{});var tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pi={};var oI,Nq,Ua,sI,Tu,ng,aI,cI,lI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof tg=="object"&&tg];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,P){for(var U=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)U[Fe-2]=arguments[Fe];return d.prototype[C].apply(m,U)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(l(m)){let C=c.length||0,P=m.length||0;c.length=C+P;for(let U=0;U<P;U++)c[C+U]=m[U]}else c.push(m)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Z(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function _e(c){return _e[" "](c),c}_e[" "]=function(){};var rt=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function Ce(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let P=0;P<w.length;P++)f=w[P],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Fm;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Lr{constructor(){this.h=this.g=null}add(d,f){let m=vc.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var vc=new V(()=>new D1,c=>c.reset());class D1{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let _c,Ec=!1,Fm=new Lr,XT=()=>{let c=a.Promise.resolve(void 0);_c=()=>{c.then(T1)}};var T1=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){A(f)}var d=vc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ec=!1};function wi(){this.s=this.s,this.C=this.C}wi.prototype.s=!1,wi.prototype.ma=function(){this.s||(this.s=!0,this.N())},wi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function bt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var b1=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function wc(c,d){if(bt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(rt){e:{try{_e(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:C1[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wc.aa.h.call(this)}}T(wc,bt);var C1={2:"touch",3:"pen",4:"mouse"};wc.prototype.h=function(){wc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ic="closure_listenable_"+(1e6*Math.random()|0),S1=0;function A1(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++S1,this.da=this.fa=!1}function dd(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function hd(c){this.src=c,this.g={},this.h=0}hd.prototype.add=function(c,d,f,m,C){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var U=Vm(c,d,m,C);return-1<U?(d=c[U],f||(d.fa=!1)):(d=new A1(d,this.src,P,!!m,C),d.fa=f,c.push(d)),d};function Lm(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),P;(P=0<=C)&&Array.prototype.splice.call(m,C,1),P&&(dd(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Vm(c,d,f,m){for(var C=0;C<c.length;++C){var P=c[C];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==m)return C}return-1}var jm="closure_lm_"+(1e6*Math.random()|0),Um={};function eb(c,d,f,m,C){if(m&&m.once)return nb(c,d,f,m,C);if(Array.isArray(d)){for(var P=0;P<d.length;P++)eb(c,d[P],f,m,C);return null}return f=zm(f),c&&c[Ic]?c.K(d,f,u(m)?!!m.capture:!!m,C):tb(c,d,f,!1,m,C)}function tb(c,d,f,m,C,P){if(!d)throw Error("Invalid event type");var U=u(C)?!!C.capture:!!C,Fe=$m(c);if(Fe||(c[jm]=Fe=new hd(c)),f=Fe.add(d,f,m,U,P),f.proxy)return f;if(m=R1(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)b1||(C=U),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(ib(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function R1(){function c(f){return d.call(c.src,c.listener,f)}let d=P1;return c}function nb(c,d,f,m,C){if(Array.isArray(d)){for(var P=0;P<d.length;P++)nb(c,d[P],f,m,C);return null}return f=zm(f),c&&c[Ic]?c.L(d,f,u(m)?!!m.capture:!!m,C):tb(c,d,f,!0,m,C)}function rb(c,d,f,m,C){if(Array.isArray(d))for(var P=0;P<d.length;P++)rb(c,d[P],f,m,C);else m=u(m)?!!m.capture:!!m,f=zm(f),c&&c[Ic]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=Vm(P,f,m,C),-1<f&&(dd(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=$m(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Vm(d,f,m,C)),(f=-1<c?d[c]:null)&&Bm(f))}function Bm(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ic])Lm(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(ib(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=$m(d))?(Lm(f,c),f.h==0&&(f.src=null,d[jm]=null)):dd(c)}}}function ib(c){return c in Um?Um[c]:Um[c]="on"+c}function P1(c,d){if(c.da)c=!0;else{d=new wc(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Bm(c),c=f.call(m,d)}return c}function $m(c){return c=c[jm],c instanceof hd?c:null}var Hm="__closure_events_fn_"+(1e9*Math.random()>>>0);function zm(c){return typeof c=="function"?c:(c[Hm]||(c[Hm]=function(d){return c.handleEvent(d)}),c[Hm])}function Ct(){wi.call(this),this.i=new hd(this),this.M=this,this.F=null}T(Ct,wi),Ct.prototype[Ic]=!0,Ct.prototype.removeEventListener=function(c,d,f,m){rb(this,c,d,f,m)};function jt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new bt(d,c);else if(d instanceof bt)d.target=d.target||c;else{var C=d;d=new bt(m,c),I(d,C)}if(C=!0,f)for(var P=f.length-1;0<=P;P--){var U=d.g=f[P];C=fd(U,m,!0,d)&&C}if(U=d.g=c,C=fd(U,m,!0,d)&&C,C=fd(U,m,!1,d)&&C,f)for(P=0;P<f.length;P++)U=d.g=f[P],C=fd(U,m,!1,d)&&C}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)dd(f[m]);delete c.g[d],c.h--}}this.F=null},Ct.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Ct.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function fd(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,P=0;P<d.length;++P){var U=d[P];if(U&&!U.da&&U.capture==f){var Fe=U.listener,Et=U.ha||U.src;U.fa&&Lm(c.i,U),C=Fe.call(Et,m)!==!1&&C}}return C&&!m.defaultPrevented}function ob(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function sb(c){c.g=ob(()=>{c.g=null,c.i&&(c.i=!1,sb(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class N1 extends wi{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:sb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dc(c){wi.call(this),this.h=c,this.g={}}T(Dc,wi);var ab=[];function cb(c){Ce(c.g,function(d,f){this.g.hasOwnProperty(f)&&Bm(d)},c),c.g={}}Dc.prototype.N=function(){Dc.aa.N.call(this),cb(this)},Dc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qm=a.JSON.stringify,M1=a.JSON.parse,x1=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Gm(){}Gm.prototype.h=null;function lb(c){return c.h||(c.h=c.i())}function ub(){}var Tc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wm(){bt.call(this,"d")}T(Wm,bt);function Km(){bt.call(this,"c")}T(Km,bt);var _o={},db=null;function pd(){return db=db||new Ct}_o.La="serverreachability";function hb(c){bt.call(this,_o.La,c)}T(hb,bt);function bc(c){let d=pd();jt(d,new hb(d))}_o.STAT_EVENT="statevent";function fb(c,d){bt.call(this,_o.STAT_EVENT,c),this.stat=d}T(fb,bt);function Ut(c){let d=pd();jt(d,new fb(d,c))}_o.Ma="timingevent";function pb(c,d){bt.call(this,_o.Ma,c),this.size=d}T(pb,bt);function Cc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Sc(){this.g=!0}Sc.prototype.xa=function(){this.g=!1};function k1(c,d,f,m,C,P){c.info(function(){if(c.g)if(P)for(var U="",Fe=P.split("&"),Et=0;Et<Fe.length;Et++){var De=Fe[Et].split("=");if(1<De.length){var St=De[0];De=De[1];var At=St.split("_");U=2<=At.length&&At[1]=="type"?U+(St+"="+De+"&"):U+(St+"=redacted&")}}else U=null;else U=P;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+U})}function O1(c,d,f,m,C,P,U){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+P+" "+U})}function xs(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+L1(c,f)+(m?" "+m:"")})}function F1(c,d){c.info(function(){return"TIMEOUT: "+d})}Sc.prototype.info=function(){};function L1(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var P=C[0];if(P!="noop"&&P!="stop"&&P!="close")for(var U=1;U<C.length;U++)C[U]=""}}}}return qm(f)}catch{return d}}var gd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qm;function md(){}T(md,Gm),md.prototype.g=function(){return new XMLHttpRequest},md.prototype.i=function(){return{}},Qm=new md;function Ii(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Dc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mb}function mb(){this.i=null,this.g="",this.h=!1}var yb={},Ym={};function Zm(c,d,f){c.L=1,c.v=Ed(Vr(d)),c.m=f,c.P=!0,vb(c,null)}function vb(c,d){c.F=Date.now(),yd(c),c.A=Vr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),Mb(f.i,"t",m),c.C=0,f=c.j.J,c.h=new mb,c.g=Yb(c.j,f?d:null,!c.m),0<c.O&&(c.M=new N1(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(ab[0]=C.toString()),C=ab);for(var P=0;P<C.length;P++){var U=eb(f,C[P],m||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),bc(),k1(c.i,c.u,c.A,c.l,c.R,c.m)}Ii.prototype.ca=function(c){c=c.target;let d=this.M;d&&jr(c)==3?d.j():this.Y(c)},Ii.prototype.Y=function(c){try{if(c==this.g)e:{let At=jr(this.g);var d=this.g.Ba();let Fs=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||jb(this.g)))){this.J||At!=4||d==7||(d==8||0>=Fs?bc(3):bc(2)),Jm(this);var f=this.g.Z();this.X=f;t:if(_b(this)){var m=jb(this.g);c="";var C=m.length,P=jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Eo(this),Ac(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(P&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,O1(this.i,this.u,this.A,this.l,this.R,At,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Et=this.g;if((Fe=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Fe)){var De=Fe;break t}}De=null}if(f=De)xs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xm(this,f);else{this.o=!1,this.s=3,Ut(12),Eo(this),Ac(this);break e}}if(this.P){f=!0;let On;for(;!this.J&&this.C<U.length;)if(On=V1(this,U),On==Ym){At==4&&(this.s=4,Ut(14),f=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(On==yb){this.s=4,Ut(15),xs(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else xs(this.i,this.l,On,null),Xm(this,On);if(_b(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||U.length!=0||this.h.h||(this.s=1,Ut(16),f=!1),this.o=this.o&&f,!f)xs(this.i,this.l,U,"[Invalid Chunked Response]"),Eo(this),Ac(this);else if(0<U.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),oy(St),St.M=!0,Ut(11))}}else xs(this.i,this.l,U,null),Xm(this,U);At==4&&Eo(this),this.o&&!this.J&&(At==4?Gb(this.j,this):(this.o=!1,yd(this)))}else tF(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Eo(this),Ac(this)}}}catch{}finally{}};function _b(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function V1(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Ym:(f=Number(d.substring(f,m)),isNaN(f)?yb:(m+=1,m+f>d.length?Ym:(d=d.slice(m,m+f),c.C=m+f,d)))}Ii.prototype.cancel=function(){this.J=!0,Eo(this)};function yd(c){c.S=Date.now()+c.I,Eb(c,c.I)}function Eb(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Cc(g(c.ba,c),d)}function Jm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ii.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(F1(this.i,this.A),this.L!=2&&(bc(),Ut(17)),Eo(this),this.s=2,Ac(this)):Eb(this,this.S-c)};function Ac(c){c.j.G==0||c.J||Gb(c.j,c)}function Eo(c){Jm(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,cb(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Xm(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||ey(f.h,c))){if(!c.K&&ey(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)bd(f),Dd(f);else break e;iy(f),Ut(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Cc(g(f.Za,f),6e3));if(1>=Db(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Io(f,11)}else if((c.K||f.g==c)&&bd(f),!Z(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let De=C[d];if(f.T=De[0],De=De[1],f.G==2)if(De[0]=="c"){f.K=De[1],f.ia=De[2];let St=De[3];St!=null&&(f.la=St,f.j.info("VER="+f.la));let At=De[4];At!=null&&(f.Aa=At,f.j.info("SVER="+f.Aa));let Fs=De[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(m=1.5*Fs,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let On=c.g;if(On){let Sd=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sd){var P=m.h;P.g||Sd.indexOf("spdy")==-1&&Sd.indexOf("quic")==-1&&Sd.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(ty(P,P.h),P.h=null))}if(m.D){let sy=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;sy&&(m.ya=sy,Ue(m.I,m.D,sy))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var U=c;if(m.qa=Qb(m,m.J?m.ia:null,m.W),U.K){Tb(m.h,U);var Fe=U,Et=m.L;Et&&(Fe.I=Et),Fe.B&&(Jm(Fe),yd(Fe)),m.g=U}else zb(m);0<f.i.length&&Td(f)}else De[0]!="stop"&&De[0]!="close"||Io(f,7);else f.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Io(f,7):ry(f):De[0]!="noop"&&f.l&&f.l.ta(De),f.v=0)}}bc(4)}catch{}}var j1=class{constructor(c,d){this.g=c,this.map=d}};function wb(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ib(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Db(c){return c.h?1:c.g?c.g.size:0}function ey(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function ty(c,d){c.g?c.g.add(d):c.h=d}function Tb(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}wb.prototype.cancel=function(){if(this.i=bb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function bb(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function U1(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function B1(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function Cb(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=B1(c),m=U1(c),C=m.length,P=0;P<C;P++)d.call(void 0,m[P],f&&f[P],c)}var Sb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $1(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var P=c[f].substring(0,m);C=c[f].substring(m+1)}else P=c[f];d(P,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function wo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wo){this.h=c.h,vd(this,c.j),this.o=c.o,this.g=c.g,_d(this,c.s),this.l=c.l;var d=c.i,f=new Nc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Ab(this,f),this.m=c.m}else c&&(d=String(c).match(Sb))?(this.h=!1,vd(this,d[1]||"",!0),this.o=Rc(d[2]||""),this.g=Rc(d[3]||"",!0),_d(this,d[4]),this.l=Rc(d[5]||"",!0),Ab(this,d[6]||"",!0),this.m=Rc(d[7]||"")):(this.h=!1,this.i=new Nc(null,this.h))}wo.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Pc(d,Rb,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Pc(d,Rb,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Pc(f,f.charAt(0)=="/"?q1:z1,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Pc(f,W1)),c.join("")};function Vr(c){return new wo(c)}function vd(c,d,f){c.j=f?Rc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function _d(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Ab(c,d,f){d instanceof Nc?(c.i=d,K1(c.i,c.h)):(f||(d=Pc(d,G1)),c.i=new Nc(d,c.h))}function Ue(c,d,f){c.i.set(d,f)}function Ed(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Pc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,H1),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function H1(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Rb=/[#\/\?@]/g,z1=/[#\?:]/g,q1=/[#\?]/g,G1=/[#\?@]/g,W1=/#/g;function Nc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Di(c){c.g||(c.g=new Map,c.h=0,c.i&&$1(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Nc.prototype,n.add=function(c,d){Di(this),this.i=null,c=ks(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Pb(c,d){Di(c),d=ks(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Nb(c,d){return Di(c),d=ks(c,d),c.g.has(d)}n.forEach=function(c,d){Di(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},n.na=function(){Di(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let P=0;P<C.length;P++)f.push(d[m])}return f},n.V=function(c){Di(this);let d=[];if(typeof c=="string")Nb(this,c)&&(d=d.concat(this.g.get(ks(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Di(this),this.i=null,c=ks(this,c),Nb(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Mb(c,d,f){Pb(c,d),0<f.length&&(c.i=null,c.g.set(ks(c,d),N(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let P=encodeURIComponent(String(m)),U=this.V(m);for(m=0;m<U.length;m++){var C=P;U[m]!==""&&(C+="="+encodeURIComponent(String(U[m]))),c.push(C)}}return this.i=c.join("&")};function ks(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function K1(c,d){d&&!c.j&&(Di(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(Pb(this,m),Mb(this,C,f))},c)),c.j=d}function Q1(c,d){let f=new Sc;if(a.Image){let m=new Image;m.onload=y(Ti,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Ti,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Ti,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Ti,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function Y1(c,d){let f=new Sc,m=new AbortController,C=setTimeout(()=>{m.abort(),Ti(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(P=>{clearTimeout(C),P.ok?Ti(f,"TestPingServer: ok",!0,d):Ti(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Ti(f,"TestPingServer: error",!1,d)})}function Ti(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function Z1(){this.g=new x1}function J1(c,d,f){let m=f||"";try{Cb(c,function(C,P){let U=C;u(C)&&(U=qm(C)),d.push(m+P+"="+encodeURIComponent(U))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function Mc(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Mc,Gm),Mc.prototype.g=function(){return new wd(this.l,this.j)},Mc.prototype.i=function(c){return function(){return c}}({});function wd(c,d){Ct.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(wd,Ct),n=wd.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,kc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,kc(this)),this.g&&(this.readyState=3,kc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xb(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xb(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?xc(this):kc(this),this.readyState==3&&xb(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,xc(this))},n.Qa=function(c){this.g&&(this.response=c,xc(this))},n.ga=function(){this.g&&xc(this)};function xc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,kc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function kc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kb(c){let d="";return Ce(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function ny(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=kb(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ue(c,d,f))}function We(c){Ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(We,Ct);var X1=/^https?$/i,eF=["POST","PUT"];n=We.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qm.g(),this.v=this.o?lb(this.o):lb(Qm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){Ob(this,P);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let P of m.keys())f.set(P,m.get(P));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eF,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,U]of f)this.g.setRequestHeader(P,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vb(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){Ob(this,P)}};function Ob(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Fb(c),Id(c)}function Fb(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),Id(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Id(this,!0)),We.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Lb(this):this.bb())},n.bb=function(){Lb(this)};function Lb(c){if(c.h&&typeof s<"u"&&(!c.v[1]||jr(c)!=4||c.Z()!=2)){if(c.u&&jr(c)==4)ob(c.Ea,0,c);else if(jt(c,"readystatechange"),jr(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=U===0){var C=String(c.D).match(Sb)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!X1.test(C?C.toLowerCase():"")}f=m}if(f)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var P=2<jr(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",Fb(c)}}finally{Id(c)}}}}function Id(c,d){if(c.g){Vb(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||jt(c,"ready");try{f.onreadystatechange=m}catch{}}}function Vb(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function jr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<jr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),M1(d)}};function jb(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tF(c){let d={};c=(c.g&&2<=jr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(Z(c[m]))continue;var f=b(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[C]||[];d[C]=P,P.push(f)}D(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Ub(c){this.Aa=0,this.i=[],this.j=new Sc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oc("baseRetryDelayMs",5e3,c),this.cb=Oc("retryDelaySeedMs",1e4,c),this.Wa=Oc("forwardChannelMaxRetries",2,c),this.wa=Oc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wb(c&&c.concurrentRequestLimit),this.Da=new Z1,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ub.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Ut(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Qb(this,null,this.W),Td(this)};function ry(c){if(Bb(c),c.G==3){var d=c.U++,f=Vr(c.I);if(Ue(f,"SID",c.K),Ue(f,"RID",d),Ue(f,"TYPE","terminate"),Fc(c,f),d=new Ii(c,c.j,d),d.L=2,d.v=Ed(Vr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Yb(d.j,null),d.g.ea(d.v)),d.F=Date.now(),yd(d)}Kb(c)}function Dd(c){c.g&&(oy(c),c.g.cancel(),c.g=null)}function Bb(c){Dd(c),c.u&&(a.clearTimeout(c.u),c.u=null),bd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Td(c){if(!Ib(c.h)&&!c.s){c.s=!0;var d=c.Ga;_c||XT(),Ec||(_c(),Ec=!0),Fm.add(d,c),c.B=0}}function nF(c,d){return Db(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Cc(g(c.Ga,c,d),Wb(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Ii(this,this.j,c),P=this.o;if(this.S&&(P?(P=v(P),I(P,this.S)):P=this.S),this.m!==null||this.O||(C.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Hb(this,C,d),f=Vr(this.I),Ue(f,"RID",c),Ue(f,"CVER",22),this.D&&Ue(f,"X-HTTP-Session-Id",this.D),Fc(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(kb(P)))+"&"+d:this.m&&ny(f,this.m,P)),ty(this.h,C),this.Ua&&Ue(f,"TYPE","init"),this.P?(Ue(f,"$req",d),Ue(f,"SID","null"),C.T=!0,Zm(C,f,null)):Zm(C,f,d),this.G=2}}else this.G==3&&(c?$b(this,c):this.i.length==0||Ib(this.h)||$b(this))};function $b(c,d){var f;d?f=d.l:f=c.U++;let m=Vr(c.I);Ue(m,"SID",c.K),Ue(m,"RID",f),Ue(m,"AID",c.T),Fc(c,m),c.m&&c.o&&ny(m,c.m,c.o),f=new Ii(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Hb(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ty(c.h,f),Zm(f,m,d)}function Fc(c,d){c.H&&Ce(c.H,function(f,m){Ue(d,m,f)}),c.l&&Cb({},function(f,m){Ue(d,m,f)})}function Hb(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let P=-1;for(;;){let U=["count="+f];P==-1?0<f?(P=C[0].g,U.push("ofs="+P)):P=0:U.push("ofs="+P);let Fe=!0;for(let Et=0;Et<f;Et++){let De=C[Et].g,St=C[Et].map;if(De-=P,0>De)P=Math.max(0,C[Et].g-100),Fe=!1;else try{J1(St,U,"req"+De+"_")}catch{m&&m(St)}}if(Fe){m=U.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function zb(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;_c||XT(),Ec||(_c(),Ec=!0),Fm.add(d,c),c.v=0}}function iy(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Cc(g(c.Fa,c),Wb(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,qb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Cc(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Dd(this),qb(this))};function oy(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function qb(c){c.g=new Ii(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Vr(c.qa);Ue(d,"RID","rpc"),Ue(d,"SID",c.K),Ue(d,"AID",c.T),Ue(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(d,"TO",c.ja),Ue(d,"TYPE","xmlhttp"),Fc(c,d),c.m&&c.o&&ny(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Ed(Vr(d)),f.m=null,f.P=!0,vb(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Dd(this),iy(this),Ut(19))};function bd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Gb(c,d){var f=null;if(c.g==d){bd(c),oy(c),c.g=null;var m=2}else if(ey(c.h,d))f=d.D,Tb(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=pd(),jt(m,new pb(m,f)),Td(c)}else zb(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&nF(c,d)||m==2&&iy(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Io(c,5);break;case 4:Io(c,10);break;case 3:Io(c,6);break;default:Io(c,2)}}}function Wb(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Io(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let C=!m;m=new wo(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vd(m,"https"),Ed(m),C?Q1(m.toString(),f):Y1(m.toString(),f)}else Ut(2);c.G=0,c.l&&c.l.sa(d),Kb(c),Bb(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Kb(c){if(c.G=0,c.ka=[],c.l){let d=bb(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Qb(c,d,f){var m=f instanceof wo?Vr(f):new wo(f);if(m.g!="")d&&(m.g=d+"."+m.g),_d(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var P=new wo(null);m&&vd(P,m),d&&(P.g=d),C&&_d(P,C),f&&(P.l=f),m=P}return f=c.D,d=c.ya,f&&d&&Ue(m,f,d),Ue(m,"VER",c.la),Fc(c,m),m}function Yb(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new We(new Mc({eb:f})):new We(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zb(){}n=Zb.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Cd(){}Cd.prototype.g=function(c,d){return new sn(c,d)};function sn(c,d){Ct.call(this),this.g=new Ub(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Os(this)}T(sn,Ct),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){ry(this.g)},sn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=qm(c),c=f);d.i.push(new j1(d.Ya++,c)),d.G==3&&Td(d)},sn.prototype.N=function(){this.g.l=null,delete this.j,ry(this.g),delete this.g,sn.aa.N.call(this)};function Jb(c){Wm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(Jb,Wm);function Xb(){Km.call(this),this.status=1}T(Xb,Km);function Os(c){this.g=c}T(Os,Zb),Os.prototype.ua=function(){jt(this.g,"a")},Os.prototype.ta=function(c){jt(this.g,new Jb(c))},Os.prototype.sa=function(c){jt(this.g,new Xb)},Os.prototype.ra=function(){jt(this.g,"b")},Cd.prototype.createWebChannel=Cd.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,lI=pi.createWebChannelTransport=function(){return new Cd},cI=pi.getStatEventTarget=function(){return pd()},aI=pi.Event=_o,ng=pi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gd.NO_ERROR=0,gd.TIMEOUT=8,gd.HTTP_ERROR=6,Tu=pi.ErrorCode=gd,gb.COMPLETE="complete",sI=pi.EventType=gb,ub.EventType=Tc,Tc.OPEN="a",Tc.CLOSE="b",Tc.ERROR="c",Tc.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Ua=pi.WebChannel=ub,Nq=pi.FetchXmlHttpFactory=Mc,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,oI=pi.XhrIo=We}).apply(typeof tg<"u"?tg:typeof self<"u"?self:typeof window<"u"?window:{});var PM="@firebase/firestore",NM="4.7.17";var vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");var ac="11.9.0";var ws=new Cr("@firebase/firestore");function Ba(){return ws.logLevel}function q(n,...e){if(ws.logLevel<=me.DEBUG){let t=e.map(XD);ws.debug(`Firestore (${ac}): ${n}`,...t)}}function gi(n,...e){if(ws.logLevel<=me.ERROR){let t=e.map(XD);ws.error(`Firestore (${ac}): ${n}`,...t)}}function Ka(n,...e){if(ws.logLevel<=me.WARN){let t=e.map(XD);ws.warn(`Firestore (${ac}): ${n}`,...t)}}function XD(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function X(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Dx(n,r,t)}function Dx(n,e,t){let r=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw gi(r),new Error(r)}function Pe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Dx(e,i,r)}function ie(n,e){return n}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends pn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var tr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var lg=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},gI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vt.UNAUTHENTICATED))}shutdown(){}},mI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},yI=class{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pe(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>_(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new lg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string",2055,{h:e}),new vt(e)}},vI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},_I=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new vI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ug=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},EI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Pe(this.o===void 0,3512);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ug(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ug(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Mq(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function Tx(){return new TextEncoder}var dg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Mq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function fe(n,e){return n<e?-1:n>e?1:0}function wI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return fe(r,i);{let o=Tx(),s=xq(o.encode(MM(n,t)),o.encode(MM(e,t)));return s!==0?s:fe(r,i)}}t+=r>65535?2:1}return fe(n.length,e.length)}function MM(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function xq(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return fe(n[t],e[t]);return fe(n.length,e.length)}function Qa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var xM=-62135596800,kM=1e6,Tt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*kM);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xM)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kM}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-xM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Tt(0,0))}static max(){return new n(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var OM="__name__",hg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&X(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&X(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return fe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):wI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fi.fromString(e.substring(4,e.length-2))}},Ge=class n extends hg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},kq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yn=class n extends hg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return kq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OM}static keyField(){return new n([OM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ge.fromString(e))}static fromName(e){return new n(Ge.fromString(e).popFirst(5))}static empty(){return new n(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ge(e.slice()))}};var Pu=-1,II=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};II.UNKNOWN_ID=-1;function Oq(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new Tt(t+1,0):new Tt(t,r));return new Is(i,J.empty(),e)}function Fq(n){return new Is(n.readTime,n.key,Pu)}var Is=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),J.empty(),Pu)}static max(){return new n(se.max(),J.empty(),Pu)}};function Lq(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:fe(n.largestBatchId,e.largestBatchId))}var Vq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",DI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function cc(n){return _(this,null,function*(){if(n.code!==M.FAILED_PRECONDITION||n.message!==Vq)throw n;q("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function jq(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function lc(n){return n.name==="IndexedDbTransactionError"}var eT=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),tT=-1;function Gg(n){return n==null}function Nu(n){return n===0&&1/n==-1/0}function Uq(n){return typeof n=="number"&&Number.isInteger(n)&&!Nu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var bx="";function Bq(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=FM(e)),e=$q(n.get(t),e);return FM(e)}function $q(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case bx:t+="";break;default:t+=o}}return t}function FM(n){return n+bx+""}var Hq="remoteDocuments",Cx="owner";var Sx="mutationQueues";var Ax="mutations";var Rx="documentMutations",zq="remoteDocumentsV14";var Px="remoteDocumentGlobal";var Nx="targets";var Mx="targetDocuments";var xx="targetGlobal",kx="collectionParents";var Ox="clientMetadata";var Fx="bundles";var Lx="namedQueries";var qq="indexConfiguration";var Gq="indexState";var Wq="indexEntries";var Vx="documentOverlays";var Kq="globals";var Qq=[Sx,Ax,Rx,Hq,Nx,Cx,xx,Mx,Ox,Px,kx,Fx,Lx],Sue=[...Qq,Vx],Yq=[Sx,Ax,Rx,zq,Nx,Cx,xx,Mx,Ox,Px,kx,Fx,Lx,Vx],Zq=Yq,Jq=[...Zq,qq,Gq,Wq];var Aue=[...Jq,Kq];function LM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ze=class n{constructor(e,t){this.comparator=e,this.root=t||Pr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qa(this.root,e,this.comparator,!0)}},qa=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}};Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1;Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Pr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var _t=class n{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fg(this.data.getIterator())}getIteratorFrom(e){return new fg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},fg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Mn=class n{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new n([])}unionWith(e){let t=new _t(yn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var pg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pg("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var Xq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(n){if(Pe(!!n,39018),typeof n=="string"){let e=0,t=Xq.exec(n);if(Pe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(n.seconds),nanos:ze(n.nanos)}}function ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yi(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}var Ux="server_timestamp",Bx="__type__",$x="__previous_value__",Hx="__local_write_time__";function nT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bx])===null||t===void 0?void 0:t.stringValue)===Ux}function Wg(n){let e=n.mapValue.fields[$x];return nT(e)?Wg(e):e}function Mu(n){let e=mi(n.mapValue.fields[Hx].timestampValue);return new Tt(e.seconds,e.nanos)}var TI=class{constructor(e,t,r,i,o,s,a,l,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}},gg="(default)",mg=class n{constructor(e,t){this.projectId=e,this.database=t||gg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===gg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var rT="__type__",zx="__max__",rg={mapValue:{fields:{__type__:{stringValue:zx}}}},iT="__vector__",Ya="value";function uo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nT(n)?4:Gx(n)?9007199254740991:qx(n)?10:11:X(28295,{value:n})}function xr(n,e){if(n===e)return!0;let t=uo(n);if(t!==uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mu(n).isEqual(Mu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=mi(i.timestampValue),a=mi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return yi(i.bytesValue).isEqual(yi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ze(i.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ze(i.integerValue)===ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ze(i.doubleValue),a=ze(o.doubleValue);return s===a?Nu(s)===Nu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Qa(n.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(LM(s)!==LM(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!xr(s[l],a[l])))return!1;return!0}(n,e);default:return X(52216,{left:n})}}function xu(n,e){return(n.values||[]).find(t=>xr(t,e))!==void 0}function Za(n,e){if(n===e)return 0;let t=uo(n),r=uo(e);if(t!==r)return fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ze(o.integerValue||o.doubleValue),l=ze(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return VM(n.timestampValue,e.timestampValue);case 4:return VM(Mu(n),Mu(e));case 5:return wI(n.stringValue,e.stringValue);case 6:return function(o,s){let a=yi(o),l=yi(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=fe(a[u],l[u]);if(h!==0)return h}return fe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=fe(ze(o.latitude),ze(s.latitude));return a!==0?a:fe(ze(o.longitude),ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jM(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;let p=o.fields||{},g=s.fields||{},y=(a=p[Ya])===null||a===void 0?void 0:a.arrayValue,T=(l=g[Ya])===null||l===void 0?void 0:l.arrayValue,N=fe(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:jM(y,T)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===rg.mapValue&&s===rg.mapValue)return 0;if(o===rg.mapValue)return 1;if(s===rg.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let g=wI(l[p],h[p]);if(g!==0)return g;let y=Za(a[l[p]],u[h[p]]);if(y!==0)return y}return fe(l.length,h.length)}(n.mapValue,e.mapValue);default:throw X(23264,{Pe:t})}}function VM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return fe(n,e);let t=mi(n),r=mi(e),i=fe(t.seconds,r.seconds);return i!==0?i:fe(t.nanos,r.nanos)}function jM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Za(t[i],r[i]);if(o)return o}return fe(t.length,r.length)}function Ja(n){return bI(n)}function bI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=mi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return yi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return J.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=bI(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${bI(t.fields[s])}`;return i+"}"}(n.mapValue):X(61005,{value:n})}function sg(n){switch(uo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Wg(n);return e?16+sg(e):16;case 5:return 2*n.stringValue.length;case 6:return yi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+sg(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return mo(r.fields,(o,s)=>{i+=o.length+sg(s)}),i}(n.mapValue);default:throw X(13486,{value:n})}}function UM(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function CI(n){return!!n&&"integerValue"in n}function oT(n){return!!n&&"arrayValue"in n}function BM(n){return!!n&&"nullValue"in n}function $M(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ag(n){return!!n&&"mapValue"in n}function qx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rT])===null||t===void 0?void 0:t.stringValue)===iT}function Cu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return mo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Cu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Gx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zx}var Pue={mapValue:{fields:{[rT]:{stringValue:iT},[Ya]:{arrayValue:{}}}}};var mn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ag(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(t)}setAll(e){let t=yn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Cu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());ag(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ag(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){mo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Cu(this.value))}};function Wx(n){let e=[];return mo(n.fields,(t,r)=>{let i=new yn([t]);if(ag(r)){let o=Wx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Mn(e)}var nr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),mn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xa=class{constructor(e,t){this.position=e,this.inclusive=t}};function HM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),t.key):r=Za(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xr(n.position[t],e.position[t]))return!1;return!0}var Ds=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function eG(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var yg=class{},lt=class n extends yg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new AI(e,t,r):t==="array-contains"?new NI(e,r):t==="in"?new MI(e,r):t==="not-in"?new xI(e,r):t==="array-contains-any"?new kI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new RI(e,r):new PI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Za(t,this.value)):t!==null&&uo(this.value)===uo(t)&&this.matchesComparison(Za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},rr=class n extends yg{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return Kx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function Kx(n){return n.op==="and"}function Qx(n){return tG(n)&&Kx(n)}function tG(n){for(let e of n.filters)if(e instanceof rr)return!1;return!0}function SI(n){if(n instanceof lt)return n.field.canonicalString()+n.op.toString()+Ja(n.value);if(Qx(n))return n.filters.map(e=>SI(e)).join(",");{let e=n.filters.map(t=>SI(t)).join(",");return`${n.op}(${e})`}}function Yx(n,e){return n instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&xr(r.value,i.value)}(n,e):n instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Yx(s,i.filters[a]),!0):!1}(n,e):void X(19439)}function Zx(n){return n instanceof lt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ja(t.value)}`}(n):n instanceof rr?function(t){return t.op.toString()+" {"+t.getFilters().map(Zx).join(" ,")+"}"}(n):"Filter"}var AI=class extends lt{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},RI=class extends lt{constructor(e,t){super(e,"in",t),this.keys=Jx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},PI=class extends lt{constructor(e,t){super(e,"not-in",t),this.keys=Jx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Jx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>J.fromName(r.referenceValue))}var NI=class extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return oT(t)&&xu(t.arrayValue,this.value)}},MI=class extends lt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&xu(this.value.arrayValue,t)}},xI=class extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xu(this.value.arrayValue,t)}},kI=class extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!oT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xu(this.value.arrayValue,r))}};var OI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function qM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new OI(n,e,t,r,i,o,s)}function sT(n){let e=ie(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>SI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Gg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ja(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ja(r)).join(",")),e.Ie=t}return e.Ie}function aT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eG(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Yx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zM(n.startAt,e.startAt)&&zM(n.endAt,e.endAt)}function FI(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ho=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function nG(n,e,t,r,i,o,s,a){return new ho(n,e,t,r,i,o,s,a)}function Kg(n){return new ho(n)}function GM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Xx(n){return n.collectionGroup!==null}function Su(n){let e=ie(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new _t(yn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Ds(o,r))}),t.has(yn.keyField().canonicalString())||e.Ee.push(new Ds(yn.keyField(),r))}return e.Ee}function Nr(n){let e=ie(n);return e.de||(e.de=rG(e,Su(n))),e.de}function rG(n,e){if(n.limitType==="F")return qM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ds(i.field,o)});let t=n.endAt?new Xa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xa(n.startAt.position,n.startAt.inclusive):null;return qM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function LI(n,e){let t=n.filters.concat([e]);return new ho(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function VI(n,e,t){return new ho(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qg(n,e){return aT(Nr(n),Nr(e))&&n.limitType===e.limitType}function ek(n){return`${sT(Nr(n))}|lt:${n.limitType}`}function $a(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Zx(i)).join(", ")}]`),Gg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ja(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ja(i)).join(",")),`Target(${r})`}(Nr(n))}; limitType=${n.limitType})`}function Yg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Su(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let u=HM(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Su(r),i)||r.endAt&&!function(s,a,l){let u=HM(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Su(r),i))}(n,e)}function iG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tk(n){return(e,t)=>{let r=!1;for(let i of Su(n)){let o=oG(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function oG(n,e,t){let r=n.field.isKeyField()?J.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Za(l,u):X(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:n.dir})}}var vi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return jx(this.inner)}size(){return this.innerSize}};var sG=new Ze(J.comparator);function _i(){return sG}var nk=new Ze(J.comparator);function bu(...n){let e=nk;for(let t of n)e=e.insert(t.key,t);return e}function rk(n){let e=nk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vs(){return Au()}function ik(){return Au()}function Au(){return new vi(n=>n.toString(),(n,e)=>n.isEqual(e))}var aG=new Ze(J.comparator),cG=new _t(J.comparator);function ve(...n){let e=cG;for(let t of n)e=e.add(t);return e}var lG=new _t(fe);function uG(){return lG}function cT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nu(e)?"-0":e}}function ok(n){return{integerValue:""+n}}function dG(n,e){return Uq(e)?ok(e):cT(n,e)}var ec=class{constructor(){this._=void 0}};function hG(n,e,t){return n instanceof tc?function(i,o){let s={fields:{[Bx]:{stringValue:Ux},[Hx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&nT(o)&&(o=Wg(o)),o&&(s.fields[$x]=o),{mapValue:s}}(t,e):n instanceof Ts?ak(n,e):n instanceof bs?ck(n,e):function(i,o){let s=sk(i,o),a=WM(s)+WM(i.Re);return CI(s)&&CI(i.Re)?ok(a):cT(i.serializer,a)}(n,e)}function fG(n,e,t){return n instanceof Ts?ak(n,e):n instanceof bs?ck(n,e):t}function sk(n,e){return n instanceof nc?function(r){return CI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var tc=class extends ec{},Ts=class extends ec{constructor(e){super(),this.elements=e}};function ak(n,e){let t=lk(e);for(let r of n.elements)t.some(i=>xr(i,r))||t.push(r);return{arrayValue:{values:t}}}var bs=class extends ec{constructor(e){super(),this.elements=e}};function ck(n,e){let t=lk(e);for(let r of n.elements)t=t.filter(i=>!xr(i,r));return{arrayValue:{values:t}}}var nc=class extends ec{constructor(e,t){super(),this.serializer=e,this.Re=t}};function WM(n){return ze(n.integerValue||n.doubleValue)}function lk(n){return oT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function pG(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ts&&i instanceof Ts||r instanceof bs&&i instanceof bs?Qa(r.elements,i.elements,xr):r instanceof nc&&i instanceof nc?xr(r.Re,i.Re):r instanceof tc&&i instanceof tc}(n.transform,e.transform)}var jI=class{constructor(e,t){this.version=e,this.transformResults=t}},xn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function cg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var rc=class{};function uk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ic(n.key,xn.none()):new Cs(n.key,n.data,xn.none());{let t=n.data,r=mn.empty(),i=new _t(yn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new kr(n.key,r,new Mn(i.toArray()),xn.none())}}function gG(n,e,t){n instanceof Cs?function(i,o,s){let a=i.value.clone(),l=QM(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof kr?function(i,o,s){if(!cg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=QM(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(dk(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Ru(n,e,t,r){return n instanceof Cs?function(o,s,a,l){if(!cg(o.precondition,s))return a;let u=o.value.clone(),h=YM(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof kr?function(o,s,a,l){if(!cg(o.precondition,s))return a;let u=YM(o.fieldTransforms,l,s),h=s.data;return h.setAll(dk(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return cg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function mG(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=sk(r.transform,i||null);o!=null&&(t===null&&(t=mn.empty()),t.set(r.field,o))}return t||null}function KM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qa(r,i,(o,s)=>pG(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Cs=class extends rc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},kr=class extends rc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function dk(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function QM(n,e,t){let r=new Map;Pe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fG(s,a,t[i]))}return r}function YM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,hG(o,s,e))}return r}var ic=class extends rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},UI=class extends rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var BI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&gG(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ru(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Ru(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=ik();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=uk(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(t,r)=>KM(t,r))&&Qa(this.baseMutations,e.baseMutations,(t,r)=>KM(t,r))}},$I=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Pe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return aG}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var HI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var zI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var at,Ee;function yG(n){switch(n){case M.OK:return X(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return X(15467,{code:n})}}function hk(n){if(n===void 0)return gi("GRPC error has no .code"),M.UNKNOWN;switch(n){case at.OK:return M.OK;case at.CANCELLED:return M.CANCELLED;case at.UNKNOWN:return M.UNKNOWN;case at.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case at.INTERNAL:return M.INTERNAL;case at.UNAVAILABLE:return M.UNAVAILABLE;case at.UNAUTHENTICATED:return M.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case at.NOT_FOUND:return M.NOT_FOUND;case at.ALREADY_EXISTS:return M.ALREADY_EXISTS;case at.PERMISSION_DENIED:return M.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case at.ABORTED:return M.ABORTED;case at.OUT_OF_RANGE:return M.OUT_OF_RANGE;case at.UNIMPLEMENTED:return M.UNIMPLEMENTED;case at.DATA_LOSS:return M.DATA_LOSS;default:return X(39323,{code:n})}}(Ee=at||(at={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";var ZM=null;var vG=new fi([4294967295,4294967295],0);function JM(n){let e=Tx().encode(n),t=new iI;return t.update(e),new Uint8Array(t.digest())}function XM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fi([t,r],0),new fi([i,o],0)]}var qI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _s(`Invalid padding: ${t}`);if(r<0)throw new _s(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _s(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _s(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=fi.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(fi.fromNumber(r)));return i.compare(vG)===1&&(i=new fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=JM(e),[r,i]=XM(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=JM(e),[r,i]=XM(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},_s=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var vg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new Ze(fe),_i(),ve())}},ku=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ve(),ve(),ve())}};var Ga=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},_g=class{constructor(e,t){this.targetId=e,this.Ce=t}},Eg=class{constructor(e,t,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},wg=class{constructor(){this.Fe=0,this.Me=ex(),this.xe=Lt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ve(),t=ve(),r=ve();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:X(38017,{changeType:o})}}),new ku(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=ex()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Pe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},GI=class{constructor(e){this.ze=e,this.je=new Map,this.He=_i(),this.Je=ig(),this.Ye=ig(),this.Ze=new Ze(fe)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(FI(o))if(r===0){let s=new J(o.path);this.tt(t,s,nr.newNoDocument(s,se.min()))}else Pe(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),l=a?this.lt(a,e,s):1;if(l!==0){this.st(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,u)}ZM?.ht(function(h,p,g,y,T){var N,R,V,Z,G,_e;let rt={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Ce=p.unchangedNames;return Ce&&(rt.bloomFilter={applied:T===0,hashCount:(N=Ce?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(Z=(V=(R=Ce?.bits)===null||R===void 0?void 0:R.bitmap)===null||V===void 0?void 0:V.length)!==null&&Z!==void 0?Z:0,padding:(_e=(G=Ce?.bits)===null||G===void 0?void 0:G.padding)!==null&&_e!==void 0?_e:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),rt}(s,e.Ce,this.ze.Pt(),a,l))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=yi(r).toUint8Array()}catch(l){if(l instanceof pg)return Ka("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new qI(s,i,o)}catch(l){return Ka(l instanceof _s?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&FI(a.target)){let l=new J(a.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,nr.newNoDocument(l,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=ve();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new vg(e,t,this.Ze,this.He,r);return this.He=_i(),this.Je=ig(),this.Ye=ig(),this.Ze=new Ze(fe),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new wg,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new _t(fe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new _t(fe),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||q("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new wg),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function ig(){return new Ze(J.comparator)}function ex(){return new Ze(J.comparator)}var _G={asc:"ASCENDING",desc:"DESCENDING"},EG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wG={and:"AND",or:"OR"},WI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function KI(n,e){return n.useProto3Json||Gg(e)?e:{value:e}}function Ig(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function IG(n,e){return Ig(n,e.toTimestamp())}function Mr(n){return Pe(!!n,49232),se.fromTimestamp(function(t){let r=mi(t);return new Tt(r.seconds,r.nanos)}(n))}function lT(n,e){return QI(n,e).canonicalString()}function QI(n,e){let t=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function pk(n){let e=Ge.fromString(n);return Pe(_k(e),10190,{key:e.toString()}),e}function YI(n,e){return lT(n.databaseId,e.path)}function uI(n,e){let t=pk(e);if(t.get(1)!==n.databaseId.projectId)throw new H(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(mk(t))}function gk(n,e){return lT(n.databaseId,e)}function DG(n){let e=pk(n);return e.length===4?Ge.emptyPath():mk(e)}function ZI(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mk(n){return Pe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function tx(n,e,t){return{name:YI(n,e),fields:t.value.mapValue.fields}}function TG(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Pe(h===void 0||typeof h=="string",58123),Lt.fromBase64String(h||"")):(Pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Lt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?M.UNKNOWN:hk(u.code);return new H(h,u.message||"")}(s);t=new Eg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=uI(n,r.document.name),o=Mr(r.document.updateTime),s=r.document.createTime?Mr(r.document.createTime):se.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=nr.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new Ga(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=uI(n,r.document),o=r.readTime?Mr(r.readTime):se.min(),s=nr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ga([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=uI(n,r.document),o=r.removedTargetIds||[];t=new Ga([],o,i,null)}else{if(!("filter"in e))return X(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new zI(i,o),a=r.targetId;t=new _g(a,s)}}return t}function bG(n,e){let t;if(e instanceof Cs)t={update:tx(n,e.key,e.value)};else if(e instanceof ic)t={delete:YI(n,e.key)};else if(e instanceof kr)t={update:tx(n,e.key,e.data),updateMask:kG(e.fieldMask)};else{if(!(e instanceof UI))return X(16599,{ft:e.type});t={verify:YI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof tc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nc)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw X(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:IG(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X(27497)}(n,e.precondition)),t}function CG(n,e){return n&&n.length>0?(Pe(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Mr(i.updateTime):Mr(o);return s.isEqual(se.min())&&(s=Mr(o)),new jI(s,i.transformResults||[])}(t,e))):[]}function SG(n,e){return{documents:[gk(n,e.path)]}}function AG(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=gk(n,i);let o=function(u){if(u.length!==0)return vk(rr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:Ha(g.field),direction:NG(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=KI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:t,parent:i}}function RG(n){let e=DG(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Pe(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=yk(p);return g instanceof rr&&Qx(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(T){return new Ds(za(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Gg(g)?null:g}(t.limit));let l=null;t.startAt&&(l=function(p){let g=!!p.before,y=p.values||[];return new Xa(y,g)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let g=!p.before,y=p.values||[];return new Xa(y,g)}(t.endAt)),nG(e,i,s,o,a,"F",l,u)}function PG(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=za(t.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=za(t.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=za(t.unaryFilter.field);return lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=za(t.unaryFilter.field);return lt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(n):n.fieldFilter!==void 0?function(t){return lt.create(za(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return rr.create(t.compositeFilter.filters.map(r=>yk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(t.compositeFilter.op))}(n):X(30097,{filter:n})}function NG(n){return _G[n]}function MG(n){return EG[n]}function xG(n){return wG[n]}function Ha(n){return{fieldPath:n.canonicalString()}}function za(n){return yn.fromServerFormat(n.fieldPath)}function vk(n){return n instanceof lt?function(t){if(t.op==="=="){if($M(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NAN"}};if(BM(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($M(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NOT_NAN"}};if(BM(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(t.field),op:MG(t.op),value:t.value}}}(n):n instanceof rr?function(t){let r=t.getFilters().map(i=>vk(i));return r.length===1?r[0]:{compositeFilter:{op:xG(t.op),filters:r}}}(n):X(54877,{filter:n})}function kG(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _k(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ou=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=Lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var JI=class{constructor(e){this.wt=e}};function OG(n){let e=RG({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?VI(e,e.limit,"L"):e}var Dg=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ze(e.integerValue));else if("doubleValue"in e){let r=ze(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Nu(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=mi(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(yi(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?Gx(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):qx(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):X(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Ya,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(ze(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),J.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Dg.Wt=new Dg;var XI=class{constructor(){this.Cn=new eD}addToCollectionParentIndex(e,t){return this.Cn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Is.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},eD=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new _t(Ge.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(Ge.comparator)).toArray()}};var Nue=new Uint8Array(0);var nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ek=41943040,Nn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(Ek,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);var Fu=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var rx="LruGarbageCollector",FG=1048576;function ix([n,e],[t,r]){let i=fe(n,t);return i===0?fe(e,r):i}var tD=class{constructor(e){this.Er=e,this.buffer=new _t(ix),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();ix(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},nD=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){q(rx,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){lc(t)?q(rx,"Ignoring IndexedDB error during garbage collection: ",t):yield cc(t)}yield this.mr(3e5)}))}},rD=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(eT.le);let r=new tD(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(nx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nx):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,l,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Ba()<=me.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function LG(n,e){return new rD(n,e)}var iD=class{constructor(){this.changes=new vi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var oD=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var sD=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ru(r.mutation,i,Mn.empty(),Tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ve()){let i=vs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=bu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=vs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ve()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=_i(),s=Au(),a=function(){return Au()}();return t.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof kr)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Ru(h.mutation,u,h.mutation.getFieldMask(),Tt.now())):s.set(u.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new oD(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Au(),i=new Ze((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let h=r.get(l)||Mn.empty();h=a.applyToLocalView(u,h),r.set(l,h);let p=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,p=ik();h.forEach(g=>{if(!o.has(g)){let y=uk(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(vs()),a=Pu,l=o;return s.next(u=>x.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ve())).next(h=>({batchId:a,changes:rk(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=bu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=bu();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,l=>{let u=function(p,g){return new ho(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,nr.newInvalidDocument(h)))});let a=bu();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&Ru(h.mutation,u,Mn.empty(),Tt.now()),Yg(t,u)&&(a=a.insert(l,u))}),a})}};var aD=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return x.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Mr(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:OG(i.bundledQuery),readTime:Mr(i.readTime)}}(t)),x.resolve()}};var cD=class{constructor(){this.overlays=new Ze(J.comparator),this.Qr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=vs();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=vs(),o=t.length+1,s=new J(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ze((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=vs(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=vs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return x.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new HI(t,r));let o=this.Qr.get(t);o===void 0&&(o=ve(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var lD=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Lu=class{constructor(){this.$r=new _t(ct.Ur),this.Kr=new _t(ct.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new ct(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new ct(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new J(new Ge([])),r=new ct(t,e),i=new ct(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new J(new Ge([])),r=new ct(t,e),i=new ct(t,e+1),o=ve();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ct(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ct=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return J.comparator(e.key,t.key)||fe(e.Zr,t.Zr)}static Wr(e,t){return fe(e.Zr,t.Zr)||J.comparator(e.key,t.key)}};var uD=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new _t(ct.Ur)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new BI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?tT:this.nr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ct(t,0),i=new ct(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _t(fe);return t.forEach(i=>{let o=new ct(i,0),s=new ct(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),x.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new ct(new J(o),0),a=new _t(fe);return this.Xr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},s),x.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Pe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return x.forEach(t.mutations,i=>{let o=new ct(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new ct(t,0),i=this.Xr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var dD=class{constructor(e){this.ii=e,this.docs=function(){return new Ze(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let r=_i();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nr.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=_i(),s=t.path,a=new J(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Lq(Fq(h),r)<=0||(i.has(h.key)||Yg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){X(9500)}si(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hD(this)}getSize(e){return x.resolve(this.size)}},hD=class extends iD{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var fD=class{constructor(e){this.persistence=e,this.oi=new vi(t=>sT(t),aT),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this._i=0,this.ai=new Lu,this.targetCount=0,this.ui=Fu.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),x.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new Fu(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Tr(t),x.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.ai.containsKey(t))}};var Tg=class{constructor(e,t){this.ci={},this.overlays={},this.li=new eT(0),this.hi=!1,this.hi=!0,this.Pi=new lD,this.referenceDelegate=e(this),this.Ti=new fD(this),this.indexManager=new XI,this.remoteDocumentCache=function(i){return new dD(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new JI(t),this.Ei=new aD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new uD(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){q("MemoryPersistence","Starting transaction:",e);let i=new pD(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return x.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},pD=class extends DI{constructor(e){super(),this.currentSequenceNumber=e}},gD=class n{constructor(e){this.persistence=e,this.Vi=new Lu,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw X(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.gi,r=>{let i=J.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return x.or([()=>x.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},bg=class n{constructor(e,t){this.persistence=e,this.yi=new vi(r=>Bq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=LG(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return x.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,se.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sg(e.data.value)),t}Dr(e,t,r){return x.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var mD=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=ve(),i=ve();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var yD=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var vD=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return eN()?8:jq(yt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new yD;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Ba()<=me.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",$a(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),x.resolve()):(Ba()<=me.DEBUG&&q("QueryEngine","Query:",$a(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Ba()<=me.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",$a(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(t))):x.resolve())}ws(e,t){if(GM(t))return x.resolve(null);let r=Nr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=VI(t,null,"F"),r=Nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ve(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.vs(t,a);return this.Cs(t,u,s,l.readTime)?this.ws(e,VI(t,null,"F")):this.Fs(e,u,t,l)}))})))}bs(e,t,r,i){return GM(t)||i.isEqual(se.min())?x.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?x.resolve(null):(Ba()<=me.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$a(t)),this.Fs(e,s,t,Oq(i,Pu)).next(a=>a))})}vs(e,t){let r=new _t(tk(e));return t.forEach((i,o)=>{Yg(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Ba()<=me.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",$a(t)),this.ys.getDocumentsMatchingQuery(e,t,Is.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var uT="LocalStore",VG=3e8,_D=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Ze(fe),this.Os=new vi(o=>sT(o),aT),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function jG(n,e,t,r){return new _D(n,e,t,r)}function wk(n,e){return _(this,null,function*(){let t=ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=ve();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})})}function UG(n,e){let t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){let p=u.batch,g=p.keys(),y=x.resolve();return g.forEach(T=>{y=y.next(()=>h.getEntry(l,T)).next(N=>{let R=u.docVersions.get(T);Pe(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,u),N.isValidDocument()&&(N.setReadTime(u.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Ik(n){let e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function BG(n,e){let t=ie(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Lt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,V){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=VG?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,y,h)&&a.push(t.Ti.updateTargetData(o,y))});let l=_i(),u=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push($G(o,s,e.documentUpdates).next(h=>{l=h.qs,u=h.Qs})),!r.isEqual(se.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.xs=i,o))}function $G(n,e,t){let r=ve(),i=ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=_i();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):q(uT,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:s,Qs:i}})}function HG(n,e){let t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tT),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zG(n,e){let t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Ou(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function ED(n,e,t){return _(this,null,function*(){let r=ie(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!lc(s))throw s;q(uT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function ox(n,e,t){let r=ie(n),i=se.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){let p=ie(l),g=p.Os.get(h);return g!==void 0?x.resolve(p.xs.get(g)):p.Ti.getTargetData(u,h)}(r,s,Nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:ve())).next(a=>(qG(r,iG(e),a),{documents:a,$s:o})))}function qG(n,e,t){let r=n.Ns.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Cg=class{constructor(){this.activeTargetIds=uG()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var wD=class{constructor(){this.xo=new Cg,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Cg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ID=class{No(e){}shutdown(){}};var sx="ConnectivityMonitor",Sg=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){q(sx,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){q(sx,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var og=null;function DD(){return og===null?og=function(){return 268435456+Math.round(2147483648*Math.random())}():og++,"0x"+og.toString(16)}var dI="RestConnection",GG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},TD=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===gg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=DD(),a=this.jo(e,t.toUriEncodedString());q(dI,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,o);let{host:u}=new URL(a),h=to(u);return this.Jo(e,a,l,r,h).then(p=>(q(dI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ka(dI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=GG[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var bD=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var Ft="WebChannelConnection",CD=class extends TD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=DD();return new Promise((a,l)=>{let u=new oI;u.setWithCredentials(!0),u.listenOnce(sI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Tu.NO_ERROR:let p=u.getResponseJson();q(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Tu.TIMEOUT:q(Ft,`RPC '${e}' ${s} timed out`),l(new H(M.DEADLINE_EXCEEDED,"Request time out"));break;case Tu.HTTP_ERROR:let g=u.getStatus();if(q(Ft,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let N=function(V){let Z=V.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(Z)>=0?Z:M.UNKNOWN}(T.status);l(new H(N,T.message))}else l(new H(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new H(M.UNAVAILABLE,"Connection failed."));break;default:X(9055,{h_:e,streamId:s,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{q(Ft,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);q(Ft,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",h,r,15)})}I_(e,t,r){let i=DD(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lI(),a=cI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let h=o.join("");q(Ft,`Creating RPC '${e}' stream ${i}: ${h}`,l);let p=s.createWebChannel(h,l);this.E_(p);let g=!1,y=!1,T=new bD({Zo:R=>{y?q(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(q(Ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),q(Ft,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),N=(R,V,Z)=>{R.listen(V,G=>{try{Z(G)}catch(_e){setTimeout(()=>{throw _e},0)}})};return N(p,Ua.EventType.OPEN,()=>{y||(q(Ft,`RPC '${e}' stream ${i} transport opened.`),T.__())}),N(p,Ua.EventType.CLOSE,()=>{y||(y=!0,q(Ft,`RPC '${e}' stream ${i} transport closed`),T.u_(),this.d_(p))}),N(p,Ua.EventType.ERROR,R=>{y||(y=!0,Ka(Ft,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),T.u_(new H(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,Ua.EventType.MESSAGE,R=>{var V;if(!y){let Z=R.data[0];Pe(!!Z,16349);let G=Z,_e=G?.error||((V=G[0])===null||V===void 0?void 0:V.error);if(_e){q(Ft,`RPC '${e}' stream ${i} received error:`,_e);let rt=_e.status,Ce=function(w){let I=at[w];if(I!==void 0)return hk(I)}(rt),D=_e.message;Ce===void 0&&(Ce=M.INTERNAL,D="Unknown error status: "+rt+" with message "+_e.message),y=!0,T.u_(new H(Ce,D)),p.close()}else q(Ft,`RPC '${e}' stream ${i} received:`,Z),T.c_(Z)}}),N(a,aI.STAT_EVENT,R=>{R.stat===ng.PROXY?q(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===ng.NOPROXY&&q(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function hI(){return typeof document<"u"?document:null}function Zg(n){return new WI(n,!0)}var Ag=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var ax="PersistentStream",Rg=class{constructor(e,t,r,i,o,s,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Ag(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return _(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return _(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return _(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new H(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>_(this,null,function*(){this.state=0,this.start()}))}j_(e){return q(ax,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(q(ax,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},SD=class extends Rg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=TG(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Mr(s.readTime):se.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=ZI(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=FI(l)?{documents:SG(o,l)}:{query:AG(o,l).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=fk(o,s.resumeToken);let u=KI(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=Ig(o,s.snapshotVersion.toTimestamp());let u=KI(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=PG(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=ZI(this.serializer),t.removeTarget=e,this.Q_(t)}},AD=class extends Rg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=CG(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=ZI(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>bG(this.serializer,r))};this.Q_(t)}};var RD=class{},PD=class extends RD{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,QI(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(M.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,QI(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(M.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},ND=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(gi(t),this.ua=!1):q("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var Ss="RemoteStore",MD=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Rs(this)&&(q(Ss,"Restarting streams for network reachability change."),yield function(l){return _(this,null,function*(){let u=ie(l);u.da.add(4),yield Gu(u),u.Va.set("Unknown"),u.da.delete(4),yield Jg(u)})}(this))}))}),this.Va=new ND(r,i)}};function Jg(n){return _(this,null,function*(){if(Rs(n))for(let e of n.Aa)yield e(!0)})}function Gu(n){return _(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function Dk(n,e){let t=ie(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),pT(t)?fT(t):uc(t).N_()&&hT(t,e))}function dT(n,e){let t=ie(n),r=uc(t);t.Ea.delete(e),r.N_()&&Tk(t,e),t.Ea.size===0&&(r.N_()?r.k_():Rs(t)&&t.Va.set("Unknown"))}function hT(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}uc(n).Z_(e)}function Tk(n,e){n.ma.Ke(e),uc(n).X_(e)}function fT(n){n.ma=new GI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),uc(n).start(),n.Va.ca()}function pT(n){return Rs(n)&&!uc(n).O_()&&n.Ea.size>0}function Rs(n){return ie(n).da.size===0}function bk(n){n.ma=void 0}function WG(n){return _(this,null,function*(){n.Va.set("Online")})}function KG(n){return _(this,null,function*(){n.Ea.forEach((e,t)=>{hT(n,e)})})}function QG(n,e){return _(this,null,function*(){bk(n),pT(n)?(n.Va.Pa(e),fT(n)):n.Va.set("Unknown")})}function YG(n,e,t){return _(this,null,function*(){if(n.Va.set("Online"),e instanceof Eg&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){q(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pg(n,r)}else if(e instanceof Ga?n.ma.Xe(e):e instanceof _g?n.ma.ot(e):n.ma.nt(e),!t.isEqual(se.min()))try{let r=yield Ik(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.Ea.get(u);h&&o.Ea.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o.Ea.get(l);if(!h)return;o.Ea.set(l,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),Tk(o,l);let p=new Ou(h.target,l,u,h.sequenceNumber);hT(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){q(Ss,"Failed to raise snapshot:",r),yield Pg(n,r)}})}function Pg(n,e,t){return _(this,null,function*(){if(!lc(e))throw e;n.da.add(1),yield Gu(n),n.Va.set("Offline"),t||(t=()=>Ik(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){q(Ss,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield Jg(n)}))})}function Ck(n,e){return e().catch(t=>Pg(n,t,e))}function Xg(n){return _(this,null,function*(){let e=ie(n),t=fo(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:tT;for(;ZG(e);)try{let i=yield HG(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,JG(e,i)}catch(i){yield Pg(e,i)}Sk(e)&&Ak(e)})}function ZG(n){return Rs(n)&&n.Ia.length<10}function JG(n,e){n.Ia.push(e);let t=fo(n);t.N_()&&t.ea&&t.ta(e.mutations)}function Sk(n){return Rs(n)&&!fo(n).O_()&&n.Ia.length>0}function Ak(n){fo(n).start()}function XG(n){return _(this,null,function*(){fo(n).ia()})}function e6(n){return _(this,null,function*(){let e=fo(n);for(let t of n.Ia)e.ta(t.mutations)})}function t6(n,e,t){return _(this,null,function*(){let r=n.Ia.shift(),i=$I.from(r,e,t);yield Ck(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Xg(n)})}function n6(n,e){return _(this,null,function*(){e&&fo(n).ea&&(yield function(r,i){return _(this,null,function*(){if(function(s){return yG(s)&&s!==M.ABORTED}(i.code)){let o=r.Ia.shift();fo(r).L_(),yield Ck(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Xg(r)}})}(n,e)),Sk(n)&&Ak(n)})}function cx(n,e){return _(this,null,function*(){let t=ie(n);t.asyncQueue.verifyOperationInProgress(),q(Ss,"RemoteStore received new credentials");let r=Rs(t);t.da.add(3),yield Gu(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield Jg(t)})}function r6(n,e){return _(this,null,function*(){let t=ie(n);e?(t.da.delete(2),yield Jg(t)):e||(t.da.add(2),yield Gu(t),t.Va.set("Unknown"))})}function uc(n){return n.fa||(n.fa=function(t,r,i){let o=ie(t);return o.oa(),new SD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:WG.bind(null,n),n_:KG.bind(null,n),i_:QG.bind(null,n),Y_:YG.bind(null,n)}),n.Aa.push(e=>_(null,null,function*(){e?(n.fa.L_(),pT(n)?fT(n):n.Va.set("Unknown")):(yield n.fa.stop(),bk(n))}))),n.fa}function fo(n){return n.ga||(n.ga=function(t,r,i){let o=ie(t);return o.oa(),new AD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:XG.bind(null,n),i_:n6.bind(null,n),na:e6.bind(null,n),ra:t6.bind(null,n)}),n.Aa.push(e=>_(null,null,function*(){e?(n.ga.L_(),yield Xg(n)):(yield n.ga.stop(),n.Ia.length>0&&(q(Ss,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var xD=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gT(n,e){if(gi("AsyncQueue",`${e}: ${n}`),lc(n))return new H(M.UNAVAILABLE,`${e}: ${n}`);throw n}var Ng=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||J.comparator(t.key,r.key):(t,r)=>J.comparator(t.key,r.key),this.keyedMap=bu(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Mg=class{constructor(){this.pa=new Ze(J.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):X(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},oc=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Ng.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var kD=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},OD=class{constructor(){this.queries=lx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=ie(t),o=i.queries;i.queries=lx(),o.forEach((s,a)=>{for(let l of a.Sa)l.onError(r)})})(this,new H(M.ABORTED,"Firestore shutting down"))}};function lx(){return new vi(n=>ek(n),Qg)}function mT(n,e){return _(this,null,function*(){let t=ie(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new kD,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=gT(s,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&vT(t)})}function yT(n,e){return _(this,null,function*(){let t=ie(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function i6(n,e){let t=ie(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&vT(t)}function o6(n,e,t){let r=ie(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function vT(n){n.Ca.forEach(e=>{e.next()})}var FD,ux;(ux=FD||(FD={})).xa="default",ux.Cache="cache";var Vu=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==FD.Cache}};var xg=class{constructor(e){this.key=e}},kg=class{constructor(e){this.key=e}},LD=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ve(),this.mutatedKeys=ve(),this.Za=tk(e),this.Xa=new Ng(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new Mg,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Yg(this.query,p)?p:null,T=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?T!==N&&(r.track({type:3,doc:y}),R=!0):this.ru(g,y)||(r.track({type:2,doc:y}),R=!0,(l&&this.Za(y,l)>0||u&&this.Za(y,u)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(l||u)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,T){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Vt:R})}};return N(y)-N(T)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Ja;return this.Ja=l,s.length!==0||u?{snapshot:new oc(this.query,e.Xa,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Mg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=ve(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new kg(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new xg(r))}),t}au(e){this.Ha=e.$s,this.Ya=ve();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return oc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},_T="SyncEngine",VD=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},jD=class{constructor(e){this.key=e,this.cu=!1}},UD=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new vi(a=>ek(a),Qg),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ze(J.comparator),this.Eu=new Map,this.du=new Lu,this.Au={},this.Ru=new Map,this.Vu=Fu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function s6(n,e,t=!0){return _(this,null,function*(){let r=kk(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield Rk(r,e,t,!0),i})}function a6(n,e){return _(this,null,function*(){let t=kk(n);yield Rk(t,e,!0,!1)})}function Rk(n,e,t,r){return _(this,null,function*(){let i=yield zG(n.localStore,Nr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield c6(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Dk(n.remoteStore,i),a})}function c6(n,e,t,r,i){return _(this,null,function*(){n.fu=(p,g,y)=>function(N,R,V,Z){return _(this,null,function*(){let G=R.view.tu(V);G.Cs&&(G=yield ox(N.localStore,R.query,!1).then(({documents:D})=>R.view.tu(D,G)));let _e=Z&&Z.targetChanges.get(R.targetId),rt=Z&&Z.targetMismatches.get(R.targetId)!=null,Ce=R.view.applyChanges(G,N.isPrimaryClient,_e,rt);return hx(N,R.targetId,Ce.ou),Ce.snapshot})}(n,p,g,y);let o=yield ox(n.localStore,e,!0),s=new LD(e,o.$s),a=s.tu(o.documents),l=ku.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);hx(n,t,u.ou);let h=new VD(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),u.snapshot})}function l6(n,e,t){return _(this,null,function*(){let r=ie(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Qg(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ED(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&dT(r.remoteStore,i.targetId),BD(r,i.targetId)}).catch(cc))):(BD(r,i.targetId),yield ED(r.localStore,i.targetId,!0))})}function u6(n,e){return _(this,null,function*(){let t=ie(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dT(t.remoteStore,r.targetId))})}function d6(n,e,t){return _(this,null,function*(){let r=v6(n);try{let i=yield function(s,a){let l=ie(s),u=Tt.now(),h=a.reduce((y,T)=>y.add(T.key),ve()),p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=_i(),N=ve();return l.Bs.getEntries(y,h).next(R=>{T=R,T.forEach((V,Z)=>{Z.isValidDocument()||(N=N.add(V))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,T)).next(R=>{p=R;let V=[];for(let Z of a){let G=mG(Z,p.get(Z.key).overlayedDocument);G!=null&&V.push(new kr(Z.key,G,Wx(G.value.mapValue),xn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,V,a)}).next(R=>{g=R;let V=R.applyToLocalDocumentSet(p,N);return l.documentOverlayCache.saveOverlays(y,R.batchId,V)})}).then(()=>({batchId:g.batchId,changes:rk(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Au[s.currentUser.toKey()];u||(u=new Ze(fe)),u=u.insert(a,l),s.Au[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Wu(r,i.changes),yield Xg(r.remoteStore)}catch(i){let o=gT(i,"Failed to persist write");t.reject(o)}})}function Pk(n,e){return _(this,null,function*(){let t=ie(n);try{let r=yield BG(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?Pe(s.cu,14607):i.removedDocuments.size>0&&(Pe(s.cu,42227),s.cu=!1))}),yield Wu(t,r,e)}catch(r){yield cc(r)}})}function dx(n,e,t){let r=ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=ie(s);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(let g of p.Sa)g.Fa(a)&&(u=!0)}),u&&vT(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function h6(n,e,t){return _(this,null,function*(){let r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ze(J.comparator);s=s.insert(o,nr.newNoDocument(o,se.min()));let a=ve().add(o),l=new vg(se.min(),new Map,new Ze(fe),s,a);yield Pk(r,l),r.Iu=r.Iu.remove(o),r.Eu.delete(e),ET(r)}else yield ED(r.localStore,e,!1).then(()=>BD(r,e,t)).catch(cc)})}function f6(n,e){return _(this,null,function*(){let t=ie(n),r=e.batch.batchId;try{let i=yield UG(t.localStore,e);Mk(t,r,null),Nk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Wu(t,i)}catch(i){yield cc(i)}})}function p6(n,e,t){return _(this,null,function*(){let r=ie(n);try{let i=yield function(s,a){let l=ie(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(Pe(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);Mk(r,e,t),Nk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Wu(r,i)}catch(i){yield cc(i)}})}function Nk(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function Mk(n,e,t){let r=ie(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function BD(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||xk(n,r)})}function xk(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(dT(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),ET(n))}function hx(n,e,t){for(let r of t)r instanceof xg?(n.du.addReference(r.key,e),g6(n,r)):r instanceof kg?(q(_T,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||xk(n,r.key)):X(19791,{pu:r})}function g6(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(q(_T,"New document in limbo: "+t),n.Tu.add(r),ET(n))}function ET(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new J(Ge.fromString(e)),r=n.Vu.next();n.Eu.set(r,new jD(t)),n.Iu=n.Iu.insert(t,r),Dk(n.remoteStore,new Ou(Nr(Kg(t.path)),r,"TargetPurposeLimboResolution",eT.le))}}function Wu(n,e,t){return _(this,null,function*(){let r=ie(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{s.push(r.fu(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);let p=mD.Rs(l.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(l,u){return _(this,null,function*(){let h=ie(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(u,g=>x.forEach(g.ds,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>x.forEach(g.As,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!lc(p))throw p;q(uT,"Failed to update sequence numbers: "+p)}for(let p of u){let g=p.targetId;if(!p.fromCache){let y=h.xs.get(g),T=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(T);h.xs=h.xs.insert(g,N)}}})}(r.localStore,o))})}function m6(n,e){return _(this,null,function*(){let t=ie(n);if(!t.currentUser.isEqual(e)){q(_T,"User change. New user:",e.toKey());let r=yield wk(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(l=>{l.reject(new H(M.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wu(t,r.ks)}})}function y6(n,e){let t=ie(n),r=t.Eu.get(e);if(r&&r.cu)return ve().add(r.key);{let i=ve(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function kk(n){let e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h6.bind(null,e),e.lu.Y_=i6.bind(null,e.eventManager),e.lu.gu=o6.bind(null,e.eventManager),e}function v6(n){let e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p6.bind(null,e),e}var Ok=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Zg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return jG(this.persistence,new vD,t.initialUser,this.serializer)}Su(t){return new Tg(gD.fi,this.serializer)}bu(t){return new wD}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),$D=class extends Ok{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Pe(this.persistence.referenceDelegate instanceof bg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new nD(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new Tg(r=>bg.fi(r,t),this.serializer)}};var _6=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=m6.bind(null,this.syncEngine),yield r6(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new OD}()}createDatastore(t){let r=Zg(t.databaseInfo.databaseId),i=function(s){return new CD(s)}(t.databaseInfo);return function(s,a,l,u){return new PD(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,l){return new MD(i,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>dx(this.syncEngine,r,0),function(){return Sg.C()?new Sg:new ID}())}createSyncEngine(t,r){return function(o,s,a,l,u,h,p){let g=new UD(o,s,a,l,u,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=ie(o);q(Ss,"RemoteStore shutting down."),s.da.add(5),yield Gu(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var ju=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var po="FirestoreClient",HD=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){q(po,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q(po,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=gT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function fI(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),q(po,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield wk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function fx(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield E6(n);q(po,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>cx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>cx(e.remoteStore,i)),n._onlineComponents=e})}function E6(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){q(po,"Using user provided OfflineComponentProvider");try{yield fI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ka("Error using user provided cache. Falling back to memory cache: "+t),yield fI(n,new Ok)}}else q(po,"Using default OfflineComponentProvider"),yield fI(n,new $D(void 0));return n._offlineComponents})}function Fk(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(q(po,"Using user provided OnlineComponentProvider"),yield fx(n,n._uninitializedComponentsProvider._online)):(q(po,"Using default OnlineComponentProvider"),yield fx(n,new _6))),n._onlineComponents})}function w6(n){return Fk(n).then(e=>e.syncEngine)}function Og(n){return _(this,null,function*(){let e=yield Fk(n),t=e.eventManager;return t.onListen=s6.bind(null,e.syncEngine),t.onUnlisten=l6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=a6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=u6.bind(null,e.syncEngine),t})}function I6(n,e,t={}){let r=new tr;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,l,u){let h=new ju({next:g=>{h.xu(),s.enqueueAndForget(()=>yT(o,p));let y=g.docs.has(a);!y&&g.fromCache?u.reject(new H(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&l.source==="server"?u.reject(new H(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new Vu(Kg(a.path),h,{includeMetadataChanges:!0,Qa:!0});return mT(o,p)}(yield Og(n),n.asyncQueue,e,t,r)})),r.promise}function D6(n,e,t={}){let r=new tr;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,l,u){let h=new ju({next:g=>{h.xu(),s.enqueueAndForget(()=>yT(o,p)),g.fromCache&&l.source==="server"?u.reject(new H(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new Vu(a,h,{includeMetadataChanges:!0,Qa:!0});return mT(o,p)}(yield Og(n),n.asyncQueue,e,t,r)})),r.promise}function Lk(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var px=new Map;function Vk(n,e,t){if(!t)throw new H(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function T6(n,e,t,r){if(e===!0&&r===!0)throw new H(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gx(n){if(!J.isDocumentKey(n))throw new H(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mx(n){if(J.isDocumentKey(n))throw new H(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function em(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":X(12329,{type:typeof n})}function vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=em(n);throw new H(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var jk="firestore.googleapis.com",yx=!0,Fg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jk,this.ssl=yx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:yx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ek;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FG)throw new H(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},sc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gI;switch(r.type){case"firstParty":return new _I(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=px.get(t);r&&(q("ComponentProvider","Removing Datastore"),px.delete(t),r.terminate())}(this),Promise.resolve()}};function Uk(n,e,t,r={}){var i;n=vn(n,sc);let o=to(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o&&(Ap(`https://${l}`),Rp("Firestore",!0)),s.host!==jk&&s.host!==l&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!br(u,a)&&(n._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=vt.MOCK_USER;else{h=KP(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new H(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new vt(g)}n._authCredentials=new mI(new lg(h,p))}}var go=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Yt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},lo=class n extends go{constructor(e,t,r){super(e,t,Kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Bk(n,e,...t){if(n=Ke(n),Vk("collection","path",e),n instanceof sc){let r=Ge.fromString(e,...t);return mx(r),new lo(n,null,r)}{if(!(n instanceof Yt||n instanceof lo))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ge.fromString(e,...t));return mx(r),new lo(n.firestore,null,r)}}function wT(n,e,...t){if(n=Ke(n),arguments.length===1&&(e=dg.newId()),Vk("doc","path",e),n instanceof sc){let r=Ge.fromString(e,...t);return gx(r),new Yt(n,null,new J(r))}{if(!(n instanceof Yt||n instanceof lo))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ge.fromString(e,...t));return gx(r),new Yt(n.firestore,n instanceof lo?n.converter:null,new J(r))}}var vx="AsyncQueue",Lg=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Ag(this,"async_queue_retry"),this.rc=()=>{let r=hI();r&&q(vx,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=hI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=hI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new tr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return _(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!lc(e))throw e;q(vx,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,gi("INTERNAL UNHANDLED ERROR: ",_x(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=xD.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&X(47125,{cc:_x(this.Xu)})}verifyOperationInProgress(){}lc(){return _(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function _x(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Ex(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ir=class extends sc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Lg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Lg(e),this._firestoreClient=void 0,yield e}})}};function $k(n,e){let t=typeof n=="object"?n:ds(),r=typeof n=="string"?n:e||gg,i=ka(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=WP("firestore");o&&Uk(i,...o)}return i}function Ku(n){if(n._terminated)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||b6(n),n._firestoreClient}function b6(n){var e,t,r;let i=n._freezeSettings(),o=function(a,l,u,h){return new TI(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Lk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new HD(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var Uu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Lt.fromBase64String(e))}catch(t){throw new H(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var As=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Bu=class{constructor(e){this._methodName=e}};var $u=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}};var Hu=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var C6=/^__.*__$/,zD=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new kr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cs(e,this.data,t,this.fieldTransforms)}},Vg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new kr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Hk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ic:n})}}var qD=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ug(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Hk(this.Ic)&&C6.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},GD=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zg(e)}bc(e,t,r,i=!1){return new qD({Ic:e,methodName:t,wc:r,path:yn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function tm(n){let e=n._freezeSettings(),t=Zg(n._databaseId);return new GD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zk(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);IT("Data must be an object, but it was:",s,r);let a=Wk(r,s),l,u;if(o.merge)l=new Mn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=WD(e,p,t);if(!s.contains(g))throw new H(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Qk(h,g)||h.push(g)}l=new Mn(h),u=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=s.fieldTransforms;return new zD(new mn(a),l,u)}var jg=class n extends Bu{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function qk(n,e,t,r){let i=n.bc(1,e,t);IT("Data must be an object, but it was:",i,r);let o=[],s=mn.empty();mo(r,(l,u)=>{let h=DT(e,l,t);u=Ke(u);let p=i.mc(h);if(u instanceof jg)o.push(h);else{let g=Qu(u,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new Mn(o);return new Vg(s,a,i.fieldTransforms)}function Gk(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[WD(e,r,t)],l=[i];if(o.length%2!=0)throw new H(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(WD(e,o[g])),l.push(o[g+1]);let u=[],h=mn.empty();for(let g=a.length-1;g>=0;--g)if(!Qk(u,a[g])){let y=a[g],T=l[g];T=Ke(T);let N=s.mc(y);if(T instanceof jg)u.push(y);else{let R=Qu(T,N);R!=null&&(u.push(y),h.set(y,R))}}let p=new Mn(u);return new Vg(h,p,s.fieldTransforms)}function S6(n,e,t,r=!1){return Qu(t,n.bc(r?4:3,e))}function Qu(n,e){if(Kk(n=Ke(n)))return IT("Unsupported field value:",e,n),Wk(n,e);if(n instanceof Bu)return function(r,i){if(!Hk(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=Qu(a,i.fc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Tt.fromDate(r);return{timestampValue:Ig(i.serializer,o)}}if(r instanceof Tt){let o=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ig(i.serializer,o)}}if(r instanceof $u)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uu)return{bytesValue:fk(i.serializer,r._byteString)};if(r instanceof Yt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hu)return function(s,a){return{mapValue:{fields:{[rT]:{stringValue:iT},[Ya]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return cT(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${em(r)}`)}(n,e)}function Wk(n,e){let t={};return jx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(n,(r,i)=>{let o=Qu(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Kk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof $u||n instanceof Uu||n instanceof Yt||n instanceof Bu||n instanceof Hu)}function IT(n,e,t){if(!Kk(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=em(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function WD(n,e,t){if((e=Ke(e))instanceof As)return e._internalPath;if(typeof e=="string")return DT(n,e);throw Ug("Field path arguments must be of type string or ",n,!1,void 0,t)}var A6=new RegExp("[~\\*/\\[\\]]");function DT(n,e,t){if(e.search(A6)>=0)throw Ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new As(...e.split("."))._internalPath}catch{throw Ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ug(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new H(M.INVALID_ARGUMENT,a+n+l)}function Qk(n,e){return n.some(t=>t.isEqual(e))}var Bg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new KD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(nm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},KD=class extends Bg{data(){return super.data()}};function nm(n,e){return typeof e=="string"?DT(n,e):e instanceof As?e._internalPath:e._delegate._internalPath}function Yk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zu=class{},$g=class extends zu{};function Zk(n,e,...t){let r=[];e instanceof zu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(l=>l instanceof QD).length,a=o.filter(l=>l instanceof Hg).length;if(s>1||s>0&&a>0)throw new H(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Hg=class n extends $g{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return eO(e._query,t),new go(e.firestore,e.converter,LI(e._query,t))}_parse(e){let t=tm(e.firestore);return function(o,s,a,l,u,h,p){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ix(p,h);let T=[];for(let N of p)T.push(wx(l,o,N));g={arrayValue:{values:T}}}else g=wx(l,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ix(p,h),g=S6(a,s,p,h==="in"||h==="not-in");return lt.create(u,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Jk(n,e,t){let r=e,i=nm("where",n);return Hg._create(i,r,t)}var QD=class n extends zu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:rr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)eO(s,l),s=LI(s,l)}(e._query,t),new go(e.firestore,e.converter,LI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var YD=class n extends $g{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new H(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ds(o,s)}(e._query,this._field,this._direction);return new go(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new ho(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function Xk(n,e="asc"){let t=e,r=nm("orderBy",n);return YD._create(r,t)}function wx(n,e,t){if(typeof(t=Ke(t))=="string"){if(t==="")throw new H(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xx(e)&&t.indexOf("/")!==-1)throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ge.fromString(t));if(!J.isDocumentKey(r))throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UM(n,new J(r))}if(t instanceof Yt)return UM(n,t._key);throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${em(t)}.`)}function Ix(n,e){if(!Array.isArray(n)||n.length===0)throw new H(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eO(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new H(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var ZD=class{convertValue(e,t="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return mo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ya].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ze(s.doubleValue));return new Hu(o)}convertGeoPoint(e){return new $u(ze(e.latitude),ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Wg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){let t=mi(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ge.fromString(e);Pe(_k(r),9688,{name:e});let i=new mg(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(t)||gi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function tO(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Es=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},zg=class extends Bg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Wa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(nm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Wa=class extends zg{data(e={}){return super.data(e)}},qg=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Es(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wa(this._firestore,this._userDataWriter,r.key,r,new Es(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new Wa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new Wa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:R6(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function R6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:n})}}function nO(n){n=vn(n,Yt);let e=vn(n.firestore,ir);return I6(Ku(e),n._key).then(t=>aO(e,n,t))}var qu=class extends ZD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}};function rO(n){n=vn(n,go);let e=vn(n.firestore,ir),t=Ku(e),r=new qu(e);return Yk(n._query),D6(t,n._query).then(i=>new qg(e,r,n,i))}function iO(n,e,t,...r){n=vn(n,Yt);let i=vn(n.firestore,ir),o=tm(i),s;return s=typeof(e=Ke(e))=="string"||e instanceof As?Gk(o,"updateDoc",n._key,e,t,r):qk(o,"updateDoc",n._key,e),rm(i,[s.toMutation(n._key,xn.exists(!0))])}function oO(n){return rm(vn(n.firestore,ir),[new ic(n._key,xn.none())])}function sO(n,e){let t=vn(n.firestore,ir),r=wT(n),i=tO(n.converter,e);return rm(t,[zk(tm(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,xn.exists(!1))]).then(()=>r)}function TT(n,...e){var t,r,i;n=Ke(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Ex(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Ex(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,h;if(n instanceof Yt)u=vn(n.firestore,ir),h=Kg(n._key.path),l={next:p=>{e[s]&&e[s](aO(u,n,p))},error:e[s+1],complete:e[s+2]};else{let p=vn(n,go);u=vn(p.firestore,ir),h=p._query;let g=new qu(u);l={next:y=>{e[s]&&e[s](new qg(u,g,p,y))},error:e[s+1],complete:e[s+2]},Yk(n._query)}return function(g,y,T,N){let R=new ju(N),V=new Vu(y,R,T);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return mT(yield Og(g),V)})),()=>{R.xu(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return yT(yield Og(g),V)}))}}(Ku(u),h,a,l)}function rm(n,e){return function(r,i){let o=new tr;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return d6(yield w6(r),i,o)})),o.promise}(Ku(n),e)}function aO(n,e,t){let r=t.docs.get(e._key),i=new qu(n);return new zg(n,i,e._key,r,new Es(t.hasPendingWrites,t.fromCache),e.converter)}var JD=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=tm(e)}set(e,t,r){this._verifyNotCommitted();let i=pI(e,this._firestore),o=tO(i.converter,t,r),s=zk(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,xn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let o=pI(e,this._firestore),s;return s=typeof(t=Ke(t))=="string"||t instanceof As?Gk(this._dataReader,"WriteBatch.update",o._key,t,r,i):qk(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,xn.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=pI(e,this._firestore);return this._mutations=this._mutations.concat(new ic(t._key,xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new H(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function pI(n,e){if((n=Ke(n)).firestore!==e)throw new H(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function cO(n){return Ku(n=vn(n,ir)),new JD(n,e=>rm(n,e))}(function(e,t=!0){(function(i){ac=i})(ro),Jn(new Qt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ir(new yI(r.getProvider("auth-internal")),new EI(s,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mg(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qe(PM,NM,e),Qe(PM,NM,"esm2017")})();var im=function(){return im=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},im.apply(this,arguments)};var k6={includeMetadataChanges:!1};function lO(n,e){return e===void 0&&(e=k6),new K(function(t){var r=TT(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function uO(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:im(im({},r),(t={},t[e.idField]=n.id,t))}function dO(n){return lO(n,{includeMetadataChanges:!0}).pipe(Y(function(e){return e.docs}))}function hO(n,e){return e===void 0&&(e={}),dO(n).pipe(Y(function(t){return t.map(function(r){return uO(r,e)})}))}var Ei=class{constructor(e){return e}},fO="firestore",bT=class{constructor(){return Fa(fO)}};var CT=new j("angularfire2.firestore-instances");function O6(n,e){let t=du(fO,n,e);return t&&new Ei(t)}function F6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ei(r)}}var L6={provide:bT,deps:[[new qt,CT]]},V6={provide:Ei,useFactory:O6,deps:[[new qt,CT],li]};function pO(n,...e){return Qe("angularfire",io.full,"fst"),en([V6,L6,{provide:CT,useFactory:F6(n),multi:!0,deps:[he,Le,oo,fs,[new qt,Du],[new qt,La],...e]}])}var gO=Ye(hO,!0);var om=Ye(sO,!0,2);var sm=Ye(Bk,!0,2);var am=Ye(oO,!0,2);var Or=Ye(wT,!0,2);var cm=Ye(nO,!0);var dc=Ye(rO,!0);var mO=Ye($k,!0);var Yu=Ye(Xk,!0,2),Ps=Ye(Zk,!0,2);var hc=Ye(iO,!0,2);var Ns=Ye(Jk,!0,2),ST=Ye(cO,!0,2);var Vt=class n{constructor(e){this.auth=e;this.user$=TM(this.auth)}user$;signInWithGoogle(){let e=new Yw;return CM(this.auth,e)}signOut(){return SM(this.auth)}static \u0275fac=function(t){return new(t||n)(z(ys))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function j6(n,e){n&1&&(F(0,"a",8),$(1,"Get started"),L())}function U6(n,e){n&1&&(F(0,"a",9),$(1,"Sign in to start"),L())}var lm=class n{constructor(e){this.authService=e;this.user$=this.authService.user$}user$;static \u0275fac=function(t){return new(t||n)(Q(Vt))};static \u0275cmp=gt({type:n,selectors:[["app-home"]],decls:27,vars:4,consts:[["loginLink",""],[1,"home-container"],[1,"hero"],[1,"apps-grid"],[1,"app-card"],[1,"app-icon"],["routerLink","/ip-lookup",1,"app-link"],["routerLink","/lists","class","app-link",4,"ngIf","ngIfElse"],["routerLink","/lists",1,"app-link"],["routerLink","/login",1,"app-link"]],template:function(t,r){if(t&1&&(F(0,"div",1)(1,"header",2)(2,"h1"),$(3,"Manu's App Library"),L(),F(4,"p"),$(5,"A collection of useful web applications"),L()(),F(6,"div",3)(7,"div",4)(8,"div",5),$(9,"\u{1F310}"),L(),F(10,"h3"),$(11,"IP Lookup"),L(),F(12,"p"),$(13,"Get detailed information about your current IP address and location"),L(),F(14,"a",6),$(15,"Try it out"),L()(),F(16,"div",4)(17,"div",5),$(18,"\u2705"),L(),F(19,"h3"),$(20,"Todo Lists"),L(),F(21,"p"),$(22,"Manage your tasks with drag-and-drop reordering, cloud sync, and sharing"),L(),et(23,j6,2,0,"a",7),_r(24,"async"),et(25,U6,2,0,"ng-template",null,0,fa),L()()()),t&2){let i=ha(26);ae(23),tt("ngIf",ni(24,2,r.user$))("ngIfElse",i)}},dependencies:[An,oi,es,Yn,Tr],styles:[".home-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.hero[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:.5rem}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.apps-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem}.app-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 4px 6px #0000001a;text-align:center;transition:transform .2s ease,box-shadow .2s ease}.app-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026}.app-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.app-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:1rem}.app-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:1.5rem;line-height:1.6}.app-link[_ngcontent-%COMP%]{display:inline-block;background:#007bff;color:#fff;padding:.75rem 1.5rem;border-radius:6px;text-decoration:none;font-weight:500;transition:background-color .2s ease}.app-link[_ngcontent-%COMP%]:hover{background:#0056b3}"]})};var um=class n{constructor(e){this.http=e}apiUrl="https://api.ipstack.com/check?access_key=c30488184006475d64ed23dfcf4dc153";getLocation(){return this.http.get(this.apiUrl)}static \u0275fac=function(t){return new(t||n)(z(Yf))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function $6(n,e){if(n&1&&(F(0,"div",6)(1,"h2"),$(2,"Your Location Information"),L(),F(3,"div",7)(4,"div",8)(5,"span",9),$(6,"IP Address:"),L(),F(7,"span",10),$(8),L()(),F(9,"div",8)(10,"span",9),$(11,"Country:"),L(),F(12,"span",10),$(13),L()(),F(14,"div",8)(15,"span",9),$(16,"Region:"),L(),F(17,"span",10),$(18),L()(),F(19,"div",8)(20,"span",9),$(21,"City:"),L(),F(22,"span",10),$(23),L()(),F(24,"div",8)(25,"span",9),$(26,"ZIP Code:"),L(),F(27,"span",10),$(28),L()(),F(29,"div",8)(30,"span",9),$(31,"Latitude:"),L(),F(32,"span",10),$(33),L()(),F(34,"div",8)(35,"span",9),$(36,"Longitude:"),L(),F(37,"span",10),$(38),L()()()()),n&2){let t=be();ae(8),Dt(t.locationData.ip),ae(5),Dt(t.locationData.country_name),ae(5),Dt(t.locationData.region_name),ae(5),Dt(t.locationData.city),ae(5),Dt(t.locationData.zip),ae(5),Dt(t.locationData.latitude),ae(5),Dt(t.locationData.longitude)}}function H6(n,e){n&1&&(F(0,"div",11)(1,"p"),$(2,"Loading location data..."),L()())}function z6(n,e){if(n&1){let t=zn();F(0,"div",12)(1,"p"),$(2),L(),F(3,"button",13),Ie("click",function(){xe(t);let i=be();return ke(i.loadLocation())}),$(4,"Try Again"),L()()}if(n&2){let t=be();ae(2),yr("Error: ",t.error)}}var dm=class n{constructor(e){this.locationService=e}locationData=null;loading=!1;error=null;ngOnInit(){this.loadLocation()}loadLocation(){this.loading=!0,this.error=null,this.locationService.getLocation().subscribe({next:e=>{this.locationData=e,this.loading=!1},error:e=>{this.error="Failed to load location data. Please try again.",this.loading=!1,console.error("Location error:",e)}})}static \u0275fac=function(t){return new(t||n)(Q(um))};static \u0275cmp=gt({type:n,selectors:[["app-ip-lookup"]],decls:11,vars:3,consts:[[1,"ip-lookup-container"],[1,"app-header"],["routerLink","/",1,"back-link"],["class","location-card",4,"ngIf"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],[1,"location-card"],[1,"location-grid"],[1,"location-item"],[1,"label"],[1,"value"],[1,"loading"],[1,"error"],[1,"retry-btn",3,"click"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"header",1)(2,"a",2),$(3,"\u2190 Back to Apps"),L(),F(4,"h1"),$(5,"IP Lookup"),L(),F(6,"p"),$(7,"Get detailed information about your current location"),L()(),et(8,$6,39,7,"div",3)(9,H6,3,0,"div",4)(10,z6,5,1,"div",5),L()),t&2&&(ae(8),tt("ngIf",r.locationData),ae(),tt("ngIf",r.loading),ae(),tt("ngIf",r.error))},dependencies:[An,oi,Yn,Tr],styles:[".ip-lookup-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem}.app-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.back-link[_ngcontent-%COMP%]{display:inline-block;color:#007bff;text-decoration:none;margin-bottom:1rem;font-weight:500}.back-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:.5rem}.app-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1.1rem}.location-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 4px 6px #0000001a}.location-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:2rem}.location-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.location-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.75rem;background:#f8f9fa;border-radius:6px}.label[_ngcontent-%COMP%]{font-weight:600;color:#555}.value[_ngcontent-%COMP%]{color:#333}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{text-align:center;padding:2rem}.retry-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;font-size:1rem;margin-top:1rem}.retry-btn[_ngcontent-%COMP%]:hover{background:#0056b3}"]})};var CO=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Q(Yr),Q(Gt))};static \u0275dir=qe({type:n})}return n})(),q6=(()=>{class n extends CO{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ko(n)))(i||n)}})();static \u0275dir=qe({type:n,features:[Hn]})}return n})(),SO=new j("");var G6={provide:SO,useExisting:cr(()=>mc),multi:!0};function W6(){let n=Cn()?Cn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var K6=new j(""),mc=(()=>{class n extends CO{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!W6())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Q(Yr),Q(Gt),Q(K6,8))};static \u0275dir=qe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[vr([G6]),Hn]})}return n})();function Q6(n){return n==null||Y6(n)===0}function Y6(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var NT=new j(""),AO=new j("");function Z6(n){return Q6(n.value)?{required:!0}:null}function vO(n){return null}function RO(n){return n!=null}function PO(n){return Zr(n)?ue(n):n}function NO(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function MO(n,e){return e.map(t=>t(n))}function J6(n){return!n.validate}function xO(n){return n.map(e=>J6(e)?e:t=>e.validate(t))}function X6(n){if(!n)return null;let e=n.filter(RO);return e.length==0?null:function(t){return NO(MO(t,e))}}function MT(n){return n!=null?X6(xO(n)):null}function eW(n){if(!n)return null;let e=n.filter(RO);return e.length==0?null:function(t){let r=MO(t,e).map(PO);return Ay(r).pipe(Y(NO))}}function xT(n){return n!=null?eW(xO(n)):null}function _O(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function tW(n){return n._rawValidators}function nW(n){return n._rawAsyncValidators}function AT(n){return n?Array.isArray(n)?n:[n]:[]}function fm(n,e){return Array.isArray(n)?n.includes(e):n===e}function EO(n,e){let t=AT(e);return AT(n).forEach(i=>{fm(t,i)||t.push(i)}),t}function wO(n,e){return AT(e).filter(t=>!fm(n,t))}var pm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},gc=class extends pm{name;get formDirective(){return null}get path(){return null}},nd=class extends pm{_parent=null;name=null;valueAccessor=null},gm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},rW={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ghe=ee(k({},rW),{"[class.ng-submitted]":"isSubmitted"}),_m=(()=>{class n extends gm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Q(nd,2))};static \u0275dir=qe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Hn]})}return n})(),Em=(()=>{class n extends gm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Q(gc,10))};static \u0275dir=qe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&qn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Hn]})}return n})();var Zu="VALID",hm="INVALID",fc="PENDING",Ju="DISABLED",yo=class{},mm=class extends yo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ed=class extends yo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},td=class extends yo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},pc=class extends yo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},RT=class extends yo{source;constructor(e){super(),this.source=e}},PT=class extends yo{source;constructor(e){super(),this.source=e}};function kO(n){return(wm(n)?n.validators:n)||null}function iW(n){return Array.isArray(n)?MT(n):n||null}function OO(n,e){return(wm(e)?e.asyncValidators:n)||null}function oW(n){return Array.isArray(n)?xT(n):n||null}function wm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function sW(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[t])throw new B(1001,"")}function aW(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new B(1002,"")})}var ym=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return nn(this.statusReactive)}set status(e){nn(()=>this.statusReactive.set(e))}_status=pa(()=>this.statusReactive());statusReactive=kt(void 0);get valid(){return this.status===Zu}get invalid(){return this.status===hm}get pending(){return this.status==fc}get disabled(){return this.status===Ju}get enabled(){return this.status!==Ju}errors;get pristine(){return nn(this.pristineReactive)}set pristine(e){nn(()=>this.pristineReactive.set(e))}_pristine=pa(()=>this.pristineReactive());pristineReactive=kt(!0);get dirty(){return!this.pristine}get touched(){return nn(this.touchedReactive)}set touched(e){nn(()=>this.touchedReactive.set(e))}_touched=pa(()=>this.touchedReactive());touchedReactive=kt(!1);get untouched(){return!this.touched}_events=new ne;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(EO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(EO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wO(e,this._rawAsyncValidators))}hasValidator(e){return fm(this._rawValidators,e)}hasAsyncValidator(e){return fm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new td(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new td(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ed(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ed(!0,r))}markAsPending(e={}){this.status=fc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new pc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ju,this.errors=null,this._forEachChild(i=>{i.disable(ee(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mm(this.value,r)),this._events.next(new pc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zu,this._forEachChild(r=>{r.enable(ee(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zu||this.status===fc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mm(this.value,t)),this._events.next(new pc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ju:Zu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=fc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=PO(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new pc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?Ju:this.errors?hm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fc)?fc:this._anyControlsHaveStatus(hm)?hm:Zu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ed(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new td(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=iW(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=oW(this._rawAsyncValidators)}},vm=class extends ym{constructor(e,t,r){super(kO(t),OO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){aW(this,!0,e),Object.keys(e).forEach(r=>{sW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var kT=new j("",{providedIn:"root",factory:()=>OT}),OT="always";function cW(n,e){return[...e.path,n]}function FO(n,e,t=OT){LO(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),uW(n,e),hW(n,e),dW(n,e),lW(n,e)}function IO(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lW(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function LO(n,e){let t=tW(n);e.validator!==null?n.setValidators(_O(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=nW(n);e.asyncValidator!==null?n.setAsyncValidators(_O(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();IO(e._rawValidators,i),IO(e._rawAsyncValidators,i)}function uW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&VO(n,e)})}function dW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&VO(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function VO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hW(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function fW(n,e){n==null,LO(n,e)}function pW(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function gW(n){return Object.getPrototypeOf(n.constructor)===q6}function mW(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function yW(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===mc?t=o:gW(o)?r=o:i=o}),i||r||t||null}var vW={provide:gc,useExisting:cr(()=>rd)},Xu=Promise.resolve(),rd=(()=>{class n extends gc{callSetDisabledState;get submitted(){return nn(this.submittedReactive)}_submitted=pa(()=>this.submittedReactive());submittedReactive=kt(!1);_directives=new Set;form;ngSubmit=new we;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new vm({},MT(t),xT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),FO(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xu.then(()=>{let r=this._findContainer(t.path),i=new vm({});fW(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Xu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),mW(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new RT(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new PT(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Q(NT,10),Q(AO,10),Q(kT,8))};static \u0275dir=qe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[vr([vW]),Hn]})}return n})();function DO(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function TO(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var _W=class extends ym{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(kO(t),OO(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(TO(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){DO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){DO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){TO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var EW={provide:nd,useExisting:cr(()=>id)},bO=Promise.resolve(),id=(()=>{class n extends nd{_changeDetectorRef;callSetDisabledState;control=new _W;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new we;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=yW(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),pW(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){FO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){bO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&rn(r);bO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?cW(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(Q(gc,9),Q(NT,10),Q(AO,10),Q(SO,10),Q(bn,8),Q(kT,8))};static \u0275dir=qe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[vr([EW]),Hn,Tn]})}return n})();var Im=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=qe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var wW=(()=>{class n{_validator=vO;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):vO,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=qe({type:n,features:[Tn]})}return n})();var IW={provide:NT,useExisting:cr(()=>FT),multi:!0};var FT=(()=>{class n extends wW{required;inputName="required";normalizeInput=rn;createValidator=t=>Z6;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ko(n)))(i||n)}})();static \u0275dir=qe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Gi("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[vr([IW]),Hn]})}return n})();var DW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Wt({type:n});static \u0275inj=Nt({})}return n})();var Dm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kT,useValue:t.callSetDisabledState??OT}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Wt({type:n});static \u0275inj=Nt({imports:[DW]})}return n})();var LT;function TW(){if(LT==null){let n=typeof document<"u"?document.head:null;LT=!!(n&&(n.createShadowRoot||n.attachShadow))}return LT}function Tm(n){if(TW()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function od(n){return n.composedPath?n.composedPath()[0]:n.target}function UO(n){return n.buttons===0||n.detail===0}function BO(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function bm(n,e=0){return bW(n)?Number(n):arguments.length===2?e:0}function bW(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Fr(n){return n instanceof Gt?n.nativeElement:n}var Cm=new WeakMap,$O=(()=>{class n{_appRef;_injector=S(Le);_environmentInjector=S(Be);load(t){let r=this._appRef=this._appRef||this._injector.get(Jr),i=Cm.get(r);i||(i={loaders:new Set,refs:[]},Cm.set(r,i),r.onDestroy(()=>{Cm.get(r)?.refs.forEach(o=>o.destroy()),Cm.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(YA(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var VT;try{VT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{VT=!1}var jT=(()=>{class n{_platformId=S(gr);isBrowser=this._platformId?_R(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||VT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var CW=new j("cdk-dir-doc",{providedIn:"root",factory:SW});function SW(){return S(Ne)}var AW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function RW(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?AW.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var UT=(()=>{class n{get value(){return this.valueSignal()}valueSignal=kt("ltr");change=new we;constructor(){let t=S(CW,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(RW(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var PW=20,HO=(()=>{class n{_ngZone=S(he);_platform=S(jT);_renderer=S(un).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ne;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=PW){return this._platform.isBrowser?new K(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(_h(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):W()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(ht(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=Fr(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var NW=20,zO=(()=>{class n{_platform=S(jT);_listeners;_viewportSize;_change=new ne;_document=S(Ne,{optional:!0});constructor(){let t=S(he),r=S(un).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=NW){return t>0?this._change.pipe(_h(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Wt({type:n});static \u0275inj=Nt({})}return n})();var BT={},GO=(()=>{class n{_appId=S(ua);getId(t){return this._appId!=="ng"&&(t+=this._appId),BT.hasOwnProperty(t)||(BT[t]=0),`${t}${BT[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WO(n){return Array.isArray(n)?n:[n]}function l1(n){let e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return r==="canvas"?YO(n,e):(r==="input"||r==="select"||r==="textarea")&&QO(n,e),KO("canvas",n,e,YO),KO("input, textarea, select",n,e,QO),e}function KO(n,e,t,r){let i=e.querySelectorAll(n);if(i.length){let o=t.querySelectorAll(n);for(let s=0;s<i.length;s++)r(i[s],o[s])}}var MW=0;function QO(n,e){e.type!=="file"&&(e.value=n.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${MW++}`)}function YO(n,e){let t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function QT(n){let e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function zT(n,e,t){let{top:r,bottom:i,left:o,right:s}=n;return t>=r&&t<=i&&e>=o&&e<=s}function xW(n,e){let t=e.left<n.left,r=e.left+e.width>n.right,i=e.top<n.top,o=e.top+e.height>n.bottom;return t||r||i||o}function cd(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function ZO(n,e,t,r){let{top:i,right:o,bottom:s,left:a,width:l,height:u}=n,h=l*e,p=u*e;return r>i-p&&r<s+p&&t>a-h&&t<o+h}var Sm=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:QT(t)})})}handleScroll(e){let t=od(e),r=this.positions.get(t);if(!r)return null;let i=r.scrollPosition,o,s;if(t===this._document){let u=this.getViewportScrollPosition();o=u.top,s=u.left}else o=t.scrollTop,s=t.scrollLeft;let a=i.top-o,l=i.left-s;return this.positions.forEach((u,h)=>{u.clientRect&&t!==h&&t.contains(h)&&cd(u.clientRect,a,l)}),i.top=o,i.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function u1(n,e){let t=n.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function YT(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];i?n.setProperty(r,i,t?.has(r)?"important":""):n.removeProperty(r)}return n}function yc(n,e){let t=e?"":"none";YT(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function JO(n,e,t){YT(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Am(n,e){return e&&e!="none"?n+" "+e:n}function XO(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=ld(e.left,e.top)}function ld(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function e1(n){let e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function kW(n){let e=getComputedStyle(n),t=$T(e,"transition-property"),r=t.find(a=>a==="transform"||a==="all");if(!r)return 0;let i=t.indexOf(r),o=$T(e,"transition-duration"),s=$T(e,"transition-delay");return e1(o[i])+e1(s[i])}function $T(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}var OW=new Set(["position"]),qT=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,t,r,i,o,s,a,l,u,h){this._document=e,this._rootElement=t,this._direction=r,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=u,this._renderer=h}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),t1(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return kW(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,r=e?e.template:null,i;if(r&&e){let o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(r,e.context);s.detectChanges(),i=u1(s,this._document),this._previewEmbeddedView=s,e.matchSize?XO(i,o):i.style.transform=ld(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=l1(this._rootElement),XO(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return YT(i.style,{"pointer-events":"none",margin:t1(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},OW),yc(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>i.classList.add(o)):i.classList.add(t)),i}};function t1(n){return"showPopover"in n}var FW={passive:!0},n1={passive:!1},LW={passive:!1,capture:!0},VW=800,r1=new Set(["position"]),GT=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=kt(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new ne;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Se.EMPTY;_pointerUpSubscription=Se.EMPTY;_scrollSubscription=Se.EMPTY;_resizeSubscription=Se.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>yc(t,e)))}_disabled=!1;beforeStarted=new ne;started=new ne;released=new ne;ended=new ne;entered=new ne;exited=new ne;dropped=new ne;moved=this._moveEvents;data;constrainPosition;constructor(e,t,r,i,o,s,a){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new Sm(r),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>Fr(r)),this._handles.forEach(r=>yc(r,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=Fr(e);if(t!==this._rootElement){this._removeRootElementListeners();let r=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[r.listen(t,"mousedown",this._pointerDown,n1),r.listen(t,"touchstart",this._pointerDown,FW),r.listen(t,"dragstart",this._nativeDragStart,n1)]),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Fr(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&xW(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let e=this._boundaryElement.getBoundingClientRect(),t=this._rootElement.getBoundingClientRect(),r=0,i=0;t.left<e.left?r=e.left-t.left:t.right>e.right&&(r=e.right-t.right),t.top<e.top?i=e.top-t.top:t.bottom>e.bottom&&(i=e.bottom-t.bottom);let o=this._activeTransform.x,s=this._activeTransform.y,a=o+r,l=s+i;this._rootElement.style.transform=ld(a,l),this._activeTransform={x:a,y:l},this._passiveTransform={x:a,y:l}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),yc(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),yc(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let i=Math.abs(t.x-this._pickupPositionOnPage.x),o=Math.abs(t.y-this._pickupPositionOnPage.y);if(i+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),l=this._dropContainer;if(!a){this._endDragSequence(e);return}(!l||!l.isDragging()&&!l.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let r=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,t);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=r.x-i.x+this._passiveTransform.x,o.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:e,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){sd(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),r=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(t,"selectstart",jW,LW)}),r){let i=this._rootElement,o=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=new qT(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,t)),JO(i,!1,r1),this._document.body.appendChild(o.replaceChild(s,i)),this.started.next({source:this,event:e}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let r=this.isDragging(),i=sd(t),o=!i&&t.button!==0,s=this._rootElement,a=od(t),l=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+VW>Date.now(),u=i?BO(t):UO(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),r||o||l||u)return;if(this._handles.length){let g=s.style;this._rootElementTapHighlight=g.webkitTapHighlightColor||"",g.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(g=>this._updateOnScroll(g)),this._boundaryElement&&(this._boundaryRect=QT(this._boundaryElement));let h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){JO(this._rootElement,!0,r1),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),s=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:i,event:e}),t.drop(this,r,this._initialIndex,this._initialContainer,s,o,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=a=>{(!a||this._preview&&od(a)===this._preview.element&&a.propertyName==="transform")&&(s(),r(),clearTimeout(o))},o=setTimeout(i,t*1.5),s=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=u1(this._placeholderRef,this._document)):r=l1(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t,r){let i=t===this._rootElement?null:t,o=i?i.getBoundingClientRect():e,s=sd(r)?r.targetTouches[0]:r,a=this._getViewportScrollPosition(),l=s.pageX-o.left-a.left,u=s.pageY-o.top-a.top;return{x:o.left-e.left+l,y:o.top-e.top+u}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),r=sd(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,o=r.pageY-t.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=o,a.matrixTransform(s.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:u}=this._getPreviewRect(),h=a.top+s,p=a.bottom-(u-s),g=a.left+o,y=a.right-(l-o);r=i1(r,g,y),i=i1(i,h,p)}return{x:r,y:i}}_updatePointerDirectionDelta(e){let{x:t,y:r}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),a=Math.abs(r-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=t>o.x?1:-1,o.x=t),a>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,yc(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){let r=1/this.scale,i=ld(e*r,t*r),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Am(i,this._initialTransform)}_applyPreviewTransform(e,t){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=ld(e,t);this._preview.setTransform(Am(i,r))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||r.width===0&&r.height===0)return;let o=i.left-r.left,s=r.right-i.right,a=i.top-r.top,l=r.bottom-i.bottom;i.width>r.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,i.height>r.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:sd(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let r=od(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&cd(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Tm(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let r=this._previewContainer||"global";if(r==="parent")return e;if(r==="global"){let i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Fr(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}};function i1(n,e,t){return Math.max(e,Math.min(t,n))}function sd(n){return n.type[0]==="t"}function jW(n){n.preventDefault()}function Pm(n,e,t){let r=o1(e,n.length-1),i=o1(t,n.length-1);if(r===i)return;let o=n[r],s=i<r?-1:1;for(let a=r;a!==i;a+=s)n[a]=n[a+s];n[i]=o}function o1(n,e){return Math.max(0,Math.min(e,n))}var Rm=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,r,i){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,r,i);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",l=o.findIndex(R=>R.drag===e),u=o[s],h=o[l].clientRect,p=u.clientRect,g=l>s?1:-1,y=this._getItemOffsetPx(h,p,g),T=this._getSiblingOffsetPx(l,o,g),N=o.slice();return Pm(o,l,s),o.forEach((R,V)=>{if(N[V]===R)return;let Z=R.drag===e,G=Z?y:T,_e=Z?e.getPlaceholderElement():R.drag.getRootElement();R.offset+=G;let rt=Math.round(R.offset*(1/R.drag.scale));a?(_e.style.transform=Am(`translate3d(${rt}px, 0, 0)`,R.initialTransform),cd(R.clientRect,0,G)):(_e.style.transform=Am(`translate3d(0, ${rt}px, 0)`,R.initialTransform),cd(R.clientRect,G,0))}),this._previousSwap.overlaps=zT(p,t,r),this._previousSwap.drag=u.drag,this._previousSwap.delta=a?i.x:i.y,{previousIndex:l,currentIndex:s}}enter(e,t,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,t,r):i,s=this._activeDraggables,a=s.indexOf(e),l=e.getPlaceholderElement(),u=s[o];if(u===e&&(u=s[o+1]),!u&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(u=s[0]),a>-1&&s.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){let h=u.getRootElement();h.parentElement.insertBefore(l,h),s.splice(o,0,e)}else this._element.appendChild(l),s.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let r=this._itemPositions.find(i=>i.drag===e)?.initialTransform;t.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:r})=>{cd(r,e,t)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:QT(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_getItemOffsetPx(e,t,r){let i=this.orientation==="horizontal",o=i?t.left-e.left:t.top-e.top;return r===-1&&(o+=i?t.width-e.width:t.height-e.height),o}_getSiblingOffsetPx(e,t,r){let i=this.orientation==="horizontal",o=t[e].clientRect,s=t[e+r*-1],a=o[i?"width":"height"]*r;if(s){let l=i?"left":"top",u=i?"right":"bottom";r===-1?a-=s.clientRect[l]-o[u]:a+=o[l]-s.clientRect[u]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let s=r[r.length-1].clientRect;return i?e>=s.right:t>=s.bottom}else{let s=r[0].clientRect;return i?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,r,i){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===e)return!1;if(i){let u=o?i.x:i.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&u===this._previousSwap.delta)return!1}return o?t>=Math.floor(l.left)&&t<Math.floor(l.right):r>=Math.floor(l.top)&&r<Math.floor(l.bottom)});return s===-1||!this._sortPredicate(s,e)?-1:s}},WT=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<t.length;r++){let i=t[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(e)}sort(e,t,r,i){let o=this._getItemIndexFromPointerPosition(e,t,r),s=this._previousSwap;if(o===-1||this._activeItems[o]===e)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===i.x&&s.deltaY===i.y)return null;let l=this.getItemIndex(e),u=e.getPlaceholderElement(),h=a.getRootElement();o>l?h.after(u):h.before(u),Pm(this._activeItems,l,o);let p=this._getRootNode().elementFromPoint(t,r);return s.deltaX=i.x,s.deltaY=i.y,s.drag=a,s.overlaps=h===p||h.contains(p),{previousIndex:l,currentIndex:o}}enter(e,t,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,t,r):i;o===-1&&(o=this._getClosestItemIndexToPointer(e,t,r));let s=this._activeItems[o],a=this._activeItems.indexOf(e);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,e),s.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[i,o]=this._relatedNodes[r];i.parentNode===e&&i.nextSibling!==o&&(o===null?e.appendChild(i):o.parentNode===e&&e.insertBefore(i,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,r){let i=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(r)),o=i?this._activeItems.findIndex(s=>{let a=s.getRootElement();return i===a||a.contains(i)}):-1;return o===-1||!this._sortPredicate(o,e)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=Tm(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==e){let{x:l,y:u}=a.getRootElement().getBoundingClientRect(),h=Math.hypot(t-l,r-u);h<i&&(i=h,o=s)}}return o}},s1=.05,d1=.05,kn=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(kn||{}),Zt=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(Zt||{}),KT=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new ne;entered=new ne;exited=new ne;dropped=new ne;sorted=new ne;receivingStarted=new ne;receivingStopped=new ne;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Se.EMPTY;_verticalScrollDirection=kn.NONE;_horizontalScrollDirection=Zt.NONE;_scrollNode;_stopScrollTimers=new ne;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,r,i,o){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=o;let s=this.element=Fr(e);this._document=r,this.withOrientation("vertical").withElementContainer(s),t.registerDropContainer(this),this._parentPositions=new Sm(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,o,s,a,l={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof Rm&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new WT(this._document,this._dragDropRegistry);else{let t=new Rm(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,r)=>this.sortPredicate(t,r,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=Fr(this.element),r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(e);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._domRect||!ZO(this._domRect,s1,t,r))return;let o=this._sortStrategy.sort(e,t,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=kn.NONE,o=Zt.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||r||ZO(s.clientRect,s1,e,t)&&([i,o]=UW(a,s.clientRect,this._direction,e,t),(i||o)&&(r=a))}),!i&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};i=h1(l,t),o=f1(l,e),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Ry(0,eh).pipe(ar(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===kn.UP?e.scrollBy(0,-t):this._verticalScrollDirection===kn.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===Zt.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===Zt.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return this._domRect!=null&&zT(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._domRect||!zT(this._domRect,t,r)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(t,r);return i?i===this._container||this._container.contains(i):!1}_startReceiving(e,t){let r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=Tm(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function h1(n,e){let{top:t,bottom:r,height:i}=n,o=i*d1;return e>=t-o&&e<=t+o?kn.UP:e>=r-o&&e<=r+o?kn.DOWN:kn.NONE}function f1(n,e){let{left:t,right:r,width:i}=n,o=i*d1;return e>=t-o&&e<=t+o?Zt.LEFT:e>=r-o&&e<=r+o?Zt.RIGHT:Zt.NONE}function UW(n,e,t,r,i){let o=h1(e,i),s=f1(e,r),a=kn.NONE,l=Zt.NONE;if(o){let u=n.scrollTop;o===kn.UP?u>0&&(a=kn.UP):n.scrollHeight-u>n.clientHeight&&(a=kn.DOWN)}if(s){let u=n.scrollLeft;t==="rtl"?s===Zt.RIGHT?u<0&&(l=Zt.RIGHT):n.scrollWidth+u>n.clientWidth&&(l=Zt.LEFT):s===Zt.LEFT?u>0&&(l=Zt.LEFT):n.scrollWidth-u>n.clientWidth&&(l=Zt.RIGHT)}return[a,l]}var ad={capture:!0},HT={passive:!1,capture:!0},BW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=gt({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return n})(),p1=(()=>{class n{_ngZone=S(he);_document=S(Ne);_styleLoader=S($O);_renderer=S(un).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new ne;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=kt([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new ne;pointerUp=new ne;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,HT)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,r){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(BW),this._activeDragInstances.update(i=>[...i,t]),this._activeDragInstances().length===1)){let i=r.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this._scroll.next(a),ad],["selectstart",this._preventDefaultWhileDragging,HT]];i?s.push(["touchend",o,ad],["touchcancel",o,ad]):s.push(["mouseup",o,ad]),i||s.push(["mousemove",a=>this.pointerMove.next(a),HT]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,l,u])=>this._renderer.listen(this._document,a,l,u))})}}stopDragging(t){this._activeDragInstances.update(r=>{let i=r.indexOf(t);return i>-1?(r.splice(i,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let r=[this._scroll];return t&&t!==this._document&&r.push(new K(i=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(t,"scroll",s=>{this._activeDragInstances().length&&i.next(s)},ad);return()=>{o()}}))),qc(...r)}registerDirectiveNode(t,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,r)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$W={dragStartThreshold:5,pointerDirectionChangeThreshold:5},ZT=(()=>{class n{_document=S(Ne);_ngZone=S(he);_viewportRuler=S(zO);_dragDropRegistry=S(p1);_renderer=S(un).createRenderer(null,null);constructor(){}createDrag(t,r=$W){return new GT(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new KT(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),a1=new j("CDK_DRAG_PARENT");var HW=new j("CdkDragHandle");var g1=new j("CDK_DRAG_CONFIG"),m1=new j("CdkDropList"),y1=(()=>{class n{element=S(Gt);dropContainer=S(m1,{optional:!0,skipSelf:!0});_ngZone=S(he);_viewContainerRef=S(mr);_dir=S(UT,{optional:!0});_changeDetectorRef=S(bn);_selfHandle=S(HW,{optional:!0,self:!0});_parentDrag=S(a1,{optional:!0,skipSelf:!0});_dragDropRegistry=S(p1);_destroyed=new ne;_handles=new dt([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new we;released=new we;ended=new we;entered=new we;exited=new we;dropped=new we;moved=new K(t=>{let r=this._dragRef.moved.pipe(Y(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(t);return()=>{r.unsubscribe()}});_injector=S(Le);constructor(){let t=this.dropContainer,r=S(g1,{optional:!0}),i=S(ZT);this._dragRef=i.createDrag(this.element,{dragStartThreshold:r&&r.dragStartThreshold!=null?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&r.pointerDirectionChangeThreshold!=null?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe(ar(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){Jo(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let r=this._handles.getValue();r.push(t),this._handles.next(r)}_removeHandle(t){let r=this._handles.getValue(),i=r.indexOf(t);i>-1&&(r.splice(i,1),this._handles.next(r))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,r=t;this.rootElementSelector&&(r=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):Fr(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof i=="object"&&i?i:bm(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(pt(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){let i=this._dragDropRegistry.getDragDirectiveForNode(r);if(i){t.withParent(i._dragRef);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(t){let{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:u,previewContainer:h}=t;this.disabled=l??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),u&&(this.rootElementSelector=u),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.pipe(it(t=>{let r=t.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Te(t=>qc(...t.map(r=>r._stateChanges.pipe(ki(r))))),ar(this._destroyed)).subscribe(t=>{let r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=qe({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){r&2&&qn("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",rn],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Y_]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[vr([{provide:a1,useExisting:n}]),Tn]})}return n})(),c1=new j("CdkDropListGroup");var v1=(()=>{class n{element=S(Gt);_changeDetectorRef=S(bn);_scrollDispatcher=S(HO);_dir=S(UT,{optional:!0});_group=S(c1,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new ne;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=S(GO).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new we;entered=new we;exited=new we;sorted=new we;_unsortedItems=new Set;constructor(){let t=S(ZT),r=S(g1,{optional:!0});this._dropListRef=t.createDropList(this.element),this._dropListRef.data=this,r&&this._assignDefaults(r),this._dropListRef.enterPredicate=(i,o)=>this.enterPredicate(i.data,o.data),this._dropListRef.sortPredicate=(i,o,s)=>this.sortPredicate(i,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef))}removeItem(t){if(this._unsortedItems.delete(t),this._latestSortedRefs){let r=this._latestSortedRefs.indexOf(t._dragRef);r>-1&&(this._latestSortedRefs.splice(r,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((t,r)=>t._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(ki(this._dir.value),ar(this._destroyed)).subscribe(r=>t.withDirection(r)),t.beforeStarted.subscribe(()=>{let r=WO(this.connectedTo).map(i=>{if(typeof i=="string"){let o=n._dropLists.find(s=>s.id===i);return o}return i});if(this._group&&this._group._items.forEach(i=>{r.indexOf(i)===-1&&r.push(i)}),!this._scrollableParentsResolved){let i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let i=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(i)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=bm(this.autoScrollStep,2),t.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef)),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),qc(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){let{lockAxis:r,draggingDisabled:i,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=t;this.disabled=i??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(t){this._latestSortedRefs=t,this._dropListRef.withItems(t)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=qe({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,i){r&2&&(Gi("id",i.id),qn("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",rn],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",rn],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",rn],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[vr([{provide:c1,useValue:void 0},{provide:m1,useExisting:n}])]})}return n})();var _1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Wt({type:n});static \u0275inj=Nt({providers:[ZT],imports:[qO]})}return n})();var vo=class n{constructor(e,t){this.firestore=e;this.authService=t;this.listsCollection=sm(this.firestore,"todoLists")}listsCollection;getLists(){return this.authService.user$.pipe(Te(e=>{if(!e)return W([]);let t=Ps(this.listsCollection,Ns("owner","==",e.uid),Yu("updatedAt","desc")),r=Ps(this.listsCollection,Ns("sharedWith","array-contains",e.uid),Yu("updatedAt","desc"));return ue(Promise.all([dc(t),dc(r)])).pipe(Y(([i,o])=>{let s=i.docs.map(h=>ee(k({},h.data()),{id:h.id})),a=o.docs.map(h=>ee(k({},h.data()),{id:h.id}));return[...s,...a].filter((h,p,g)=>p===g.findIndex(y=>y.id===h.id)).sort((h,p)=>new Date(p.updatedAt).getTime()-new Date(h.updatedAt).getTime())}))}))}createList(e,t){return this.authService.user$.pipe(pt(1),Te(r=>{if(!r)return W(Promise.reject("User not logged in"));let i=new Date,o={title:e,description:t,owner:r.uid,sharedWith:[],createdAt:i,updatedAt:i,isPublic:!1};return ue(om(this.listsCollection,o))}))}updateList(e){if(!e.id)return Promise.reject("List ID is missing");let t=Or(this.firestore,`todoLists/${e.id}`),o=e,{id:r}=o,i=Lc(o,["id"]);return i.updatedAt=new Date,hc(t,i)}deleteList(e){let t=Or(this.firestore,`todoLists/${e}`);return am(t)}shareList(e,t){return _(this,null,function*(){let r=Or(this.firestore,`todoLists/${e}`),i=yield cm(r);if(!i.exists())throw new Error("List not found");let s=[...i.data().sharedWith||[],t];yield hc(r,{sharedWith:s,updatedAt:new Date})})}unshareList(e,t){return _(this,null,function*(){let r=Or(this.firestore,`todoLists/${e}`),i=yield cm(r);if(!i.exists())throw new Error("List not found");let s=(i.data().sharedWith||[]).filter(a=>a!==t);yield hc(r,{sharedWith:s,updatedAt:new Date})})}hasAccess(e){return _(this,null,function*(){return Sy(this.authService.user$.pipe(pt(1),Te(t=>t?ue(cm(Or(this.firestore,`todoLists/${e}`))).pipe(Y(r=>{if(!r.exists())return!1;let i=r.data();return i.owner===t.uid||(i.sharedWith||[]).includes(t.email||"")||i.isPublic||!1})):W(!1))))})}static \u0275fac=function(t){return new(t||n)(z(Ei),z(Vt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var Nm=class n{constructor(e,t,r){this.firestore=e;this.authService=t;this.todoListService=r;this.todosCollection=sm(this.firestore,"todos")}todosCollection;getTodosForList(e){return this.authService.user$.pipe(Te(t=>t?ue(this.todoListService.hasAccess(e)).pipe(Te(r=>{if(!r)return W([]);let i=Ps(this.todosCollection,Ns("listId","==",e),Yu("position"));return gO(i,{idField:"id"})})):W([])))}addTodo(e,t){return this.authService.user$.pipe(pt(1),Te(r=>r?ue(this.todoListService.hasAccess(e)).pipe(Te(i=>i?ue(dc(Ps(this.todosCollection,Ns("listId","==",e)))).pipe(Te(o=>{let s=o.size,a=new Date,l={title:t,completed:!1,listId:e,position:s,createdBy:r.uid,createdAt:a,updatedAt:a};return ue(om(this.todosCollection,l))})):W(Promise.reject("Access denied")))):W(Promise.reject("User not logged in"))))}updateTodo(e){if(!e.id)return Promise.reject("Todo ID is missing");let t=Or(this.firestore,`todos/${e.id}`),o=e,{id:r}=o,i=Lc(o,["id"]);return i.updatedAt=new Date,hc(t,i)}deleteTodo(e){let t=Or(this.firestore,`todos/${e}`);return am(t)}updateTodoPosition(e){let t=ST(this.firestore);return e.forEach((r,i)=>{if(r.id){let o=Or(this.firestore,`todos/${r.id}`);t.update(o,{position:i,updatedAt:new Date})}}),t.commit()}deleteTodosInList(e){return ue(dc(Ps(this.todosCollection,Ns("listId","==",e)))).pipe(Te(t=>{let r=ST(this.firestore);return t.docs.forEach(i=>{r.delete(i.ref)}),ue(r.commit())})).toPromise()}static \u0275fac=function(t){return new(t||n)(z(Ei),z(Vt),z(vo))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function GW(n,e){if(n&1&&(F(0,"p"),$(1),L()),n&2){let t=be().ngIf;ae(),Dt(t.description)}}function WW(n,e){if(n&1&&(F(0,"div")(1,"h2"),$(2),L(),et(3,GW,2,1,"p",13),L()),n&2){let t=e.ngIf;ae(2),Dt(t.title),ae(),tt("ngIf",t.description)}}function KW(n,e){n&1&&(F(0,"h2"),$(1,"Todo List"),L(),F(2,"p"),$(3,"Loading list details..."),L())}function QW(n,e){if(n&1){let t=zn();F(0,"div",21),Ie("dblclick",function(){xe(t);let i=be().$implicit,o=be();return ke(o.editTodo(i))}),$(1),L()}if(n&2){let t=be().$implicit;ae(),yr(" ",t.title," ")}}function YW(n,e){if(n&1){let t=zn();F(0,"div",14)(1,"div",15)(2,"input",16),Ie("change",function(){let i=xe(t).$implicit,o=be();return ke(o.toggleCompletion(i))}),L(),et(3,QW,2,1,"div",17),F(4,"div",18)(5,"button",19),Ie("click",function(){let i=xe(t).$implicit,o=be();return ke(o.editTodo(i))}),$(6,"Edit"),L(),F(7,"button",20),Ie("click",function(){let i=xe(t).$implicit,o=be();return ke(o.deleteTodo(i.id))}),$(8,"Delete"),L()()()()}if(n&2){let t=e.$implicit,r=be(),i=ha(18);qn("completed",t.completed),ae(2),tt("checked",t.completed),ae(),tt("ngIf",(r.editingTodo==null?null:r.editingTodo.id)!==t.id)("ngIfElse",i)}}function ZW(n,e){if(n&1){let t=zn();F(0,"div",22)(1,"input",23),ti("ngModelChange",function(i){xe(t);let o=be();return Wi(o.editingTodo.title,i)||(o.editingTodo.title=i),ke(i)}),Ie("keyup.enter",function(){xe(t);let i=be();return ke(i.saveTodo())})("keyup.escape",function(){xe(t);let i=be();return ke(i.cancelEdit())}),L(),F(2,"button",24),Ie("click",function(){xe(t);let i=be();return ke(i.saveTodo())}),$(3,"Save"),L(),F(4,"button",25),Ie("click",function(){xe(t);let i=be();return ke(i.cancelEdit())}),$(5,"Cancel"),L()()}if(n&2){let t=be();ae(),ei("ngModel",t.editingTodo.title)}}var Mm=class n{constructor(e,t,r,i,o){this.todoService=e;this.todoListService=t;this.authService=r;this.route=i;this.router=o;this.todos$=new K,this.currentList$=new K}todos$;todos=[];newTodoTitle="";editingTodo=null;originalTitle="";currentList$;listId=null;ngOnInit(){this.route.params.subscribe(e=>{this.listId=e.id,this.listId&&(this.todos$=this.todoService.getTodosForList(this.listId),this.todos$.subscribe(t=>this.todos=t),this.currentList$=this.todoListService.getLists().pipe(Te(t=>{let r=t.find(i=>i.id===this.listId);return new K(i=>{i.next(r||null),i.complete()})})))})}drop(e){Pm(this.todos,e.previousIndex,e.currentIndex),this.todoService.updateTodoPosition(this.todos)}addTodo(){this.newTodoTitle.trim()&&this.listId&&this.todoService.addTodo(this.listId,this.newTodoTitle.trim()).subscribe({next:()=>{this.newTodoTitle=""},error:e=>{console.error("Error adding todo:",e)}})}toggleCompletion(e){this.todoService.updateTodo(ee(k({},e),{completed:!e.completed}))}editTodo(e){this.editingTodo=k({},e),this.originalTitle=e.title}saveTodo(){this.editingTodo&&this.editingTodo.title.trim()&&(this.todoService.updateTodo(this.editingTodo),this.editingTodo=null)}cancelEdit(){this.editingTodo=null}deleteTodo(e){e&&this.todoService.deleteTodo(e)}logout(){this.authService.signOut()}backToLists(){this.router.navigate(["/lists"])}static \u0275fac=function(t){return new(t||n)(Q(Nm),Q(vo),Q(Vt),Q(Pn),Q(mt))};static \u0275cmp=gt({type:n,selectors:[["app-todo"]],decls:19,vars:6,consts:[["loadingList",""],["editTpl",""],[1,"todo-container"],[1,"app-header"],[1,"back-link",3,"click"],[4,"ngIf","ngIfElse"],[1,"logout-btn",3,"click"],[1,"add-todo-form",3,"ngSubmit"],["type","text","name","newTodoTitle","placeholder","Add a new todo...",1,"todo-input",3,"ngModelChange","ngModel"],["type","submit",1,"btn","add-btn"],[1,"todo-list"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","","class","todo-item",3,"completed",4,"ngFor","ngForOf"],[4,"ngIf"],["cdkDrag","",1,"todo-item"],[1,"todo-item-details"],["type","checkbox",3,"change","checked"],["class","todo-title",3,"dblclick",4,"ngIf","ngIfElse"],[1,"actions"],[1,"btn","edit-btn",3,"click"],[1,"btn","delete-btn",3,"click"],[1,"todo-title",3,"dblclick"],[1,"edit-mode"],["type","text","name","editTitle","autofocus","",1,"edit-input",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],[1,"btn","save-btn",3,"click"],[1,"btn","cancel-btn",3,"click"]],template:function(t,r){if(t&1){let i=zn();F(0,"div",2)(1,"header",3)(2,"a",4),Ie("click",function(){return xe(i),ke(r.backToLists())}),$(3,"\u2190 Back to Lists"),L(),et(4,WW,4,2,"div",5),_r(5,"async"),et(6,KW,4,0,"ng-template",null,0,fa),F(8,"button",6),Ie("click",function(){return xe(i),ke(r.logout())}),$(9,"Sign Out"),L()(),F(10,"form",7),Ie("ngSubmit",function(){return xe(i),ke(r.addTodo())}),F(11,"input",8),ti("ngModelChange",function(s){return xe(i),Wi(r.newTodoTitle,s)||(r.newTodoTitle=s),ke(s)}),L(),F(12,"button",9),$(13,"Add"),L()(),F(14,"div",10)(15,"div",11),Ie("cdkDropListDropped",function(s){return xe(i),ke(r.drop(s))}),et(16,YW,9,5,"div",12),L()(),et(17,ZW,6,1,"ng-template",null,1,fa),L()}if(t&2){let i=ha(7);ae(4),tt("ngIf",ni(5,4,r.currentList$))("ngIfElse",i),ae(7),ei("ngModel",r.newTodoTitle),ae(5),tt("ngForOf",r.todos)}},dependencies:[An,ma,oi,es,Dm,Im,mc,_m,Em,id,rd,Yn,_1,v1,y1],styles:[".todo-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:2rem;border-radius:8px;box-shadow:0 4px 8px #0000001a;background-color:#fff}.app-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.back-link[_ngcontent-%COMP%]{display:inline-block;color:#007bff;text-decoration:none;margin-bottom:1rem;font-weight:500}.back-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.app-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:.5rem}.app-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1.1rem}.logout-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer;font-size:.9rem;margin-top:1rem}.logout-btn[_ngcontent-%COMP%]:hover{background:#c82333}.add-todo-form[_ngcontent-%COMP%]{display:flex;margin-bottom:1.5rem}.todo-input[_ngcontent-%COMP%]{flex-grow:1;padding:.75rem;font-size:1rem;border:1px solid #ccc;border-radius:4px}.btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem;border:none;border-radius:4px;cursor:pointer;margin-left:.5rem;color:#fff}.add-btn[_ngcontent-%COMP%]{background-color:#28a745}.edit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#333}.delete-btn[_ngcontent-%COMP%]{background-color:#dc3545}.save-btn[_ngcontent-%COMP%]{background-color:#007bff}.cancel-btn[_ngcontent-%COMP%]{background-color:#6c757d}.todo-list[_ngcontent-%COMP%]{padding:0}.todo-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;border-bottom:1px solid #eee;background-color:#fff}.todo-item.completed[_ngcontent-%COMP%]   .todo-title[_ngcontent-%COMP%]{text-decoration:line-through;color:#888}.todo-item-details[_ngcontent-%COMP%], .edit-mode[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}input[type=checkbox][_ngcontent-%COMP%]{margin-right:1rem}.todo-title[_ngcontent-%COMP%]{flex-grow:1;cursor:pointer}.edit-mode[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:1;padding:.5rem;font-size:1rem;border:1px solid #ddd;border-radius:4px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .todo-item.cdk-drop-list-dragging[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}"]})};var xm=class n{constructor(e,t){this.authService=e;this.router=t}login(){this.authService.signInWithGoogle().then(()=>{this.router.navigate(["/lists"])}).catch(e=>{console.error("Login failed:",e)})}static \u0275fac=function(t){return new(t||n)(Q(Vt),Q(mt))};static \u0275cmp=gt({type:n,selectors:[["app-login"]],decls:10,vars:0,consts:[[1,"login-container"],["routerLink","/",1,"back-link"],[1,"login-btn",3,"click"],["src","/assets/google-logo.svg","alt","Google logo",1,"google-logo"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"a",1),$(2,"\u2190 Back to Apps"),L(),F(3,"h2"),$(4,"Sign in to Todo List"),L(),F(5,"p"),$(6,"Please sign in to access your personal todo list"),L(),F(7,"button",2),Ie("click",function(){return r.login()}),Xr(8,"img",3),$(9," Sign in with Google "),L()())},dependencies:[An,Yn,Tr],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;margin-top:5rem;max-width:400px;margin-left:auto;margin-right:auto;padding:2rem}.back-link[_ngcontent-%COMP%]{display:inline-block;color:#007bff;text-decoration:none;margin-bottom:2rem;font-weight:500}.back-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-btn[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#4285f4;color:#fff;padding:10px 24px;border:none;border-radius:4px;font-size:16px;cursor:pointer;box-shadow:0 2px 4px #00000040;transition:box-shadow .3s ease}.login-btn[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000040}.google-logo[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:16px;background-color:#fff;border-radius:50%;padding:2px}"]})};function JW(n,e){if(n&1&&(F(0,"p",24),$(1),L()),n&2){let t=be().$implicit;ae(),Dt(t.description)}}function XW(n,e){n&1&&(F(0,"span",25),$(1,"Owner"),L())}function e5(n,e){n&1&&(F(0,"span",26),$(1,"Shared with you"),L())}function t5(n,e){if(n&1&&(F(0,"div",27)(1,"small"),$(2),L()()),n&2){let t=be().$implicit;ae(2),yr("Shared with: ",t.sharedWith.join(", "))}}function n5(n,e){if(n&1){let t=zn();F(0,"div",12)(1,"div",13)(2,"h3"),$(3),L(),F(4,"div",14)(5,"button",15),Ie("click",function(){let i=xe(t).$implicit,o=be();return ke(o.openList(i))}),$(6,"Open"),L(),F(7,"button",16),Ie("click",function(){let i=xe(t).$implicit,o=be();return ke(o.shareList(i))}),$(8,"Share"),L(),F(9,"button",17),Ie("click",function(){let i=xe(t).$implicit,o=be();return ke(o.deleteList(i.id))}),$(10,"Delete"),L()()(),et(11,JW,2,1,"p",18),F(12,"div",19),et(13,XW,2,0,"span",20),_r(14,"async"),et(15,e5,2,0,"span",21),_r(16,"async"),F(17,"span",22),$(18),_r(19,"date"),L()(),et(20,t5,3,1,"div",23),L()}if(n&2){let t=e.$implicit,r=be();ae(3),Dt(t.title),ae(8),tt("ngIf",t.description),ae(2),tt("ngIf",ni(14,6,r.isOwner(t))),ae(2),tt("ngIf",!ni(16,8,r.isOwner(t))),ae(3),Dt(j_(19,10,t.updatedAt,"short")),ae(2),tt("ngIf",t.sharedWith&&t.sharedWith.length>0)}}function r5(n,e){if(n&1){let t=zn();F(0,"div",28),Ie("click",function(){xe(t);let i=be();return ke(i.closeShareModal())}),F(1,"div",29),Ie("click",function(i){return xe(t),ke(i.stopPropagation())}),F(2,"h3"),$(3),L(),F(4,"form",30),Ie("ngSubmit",function(){xe(t);let i=be();return ke(i.confirmShare())}),F(5,"input",31),ti("ngModelChange",function(i){xe(t);let o=be();return Wi(o.shareEmail,i)||(o.shareEmail=i),ke(i)}),L(),F(6,"div",32)(7,"button",33),$(8,"Share"),L(),F(9,"button",34),Ie("click",function(){xe(t);let i=be();return ke(i.closeShareModal())}),$(10,"Cancel"),L()()()()()}if(n&2){let t=be();ae(3),yr('Share "',t.sharingList.title,'"'),ae(2),ei("ngModel",t.shareEmail)}}var km=class n{constructor(e,t,r){this.todoListService=e;this.authService=t;this.router=r;this.lists$=this.todoListService.getLists()}lists$;newListTitle="";newListDescription="";sharingList=null;shareEmail="";ngOnInit(){}createList(){this.newListTitle.trim()&&this.todoListService.createList(this.newListTitle.trim(),this.newListDescription.trim()).subscribe({next:e=>{this.newListTitle="",this.newListDescription="",console.log("List created:",e)},error:e=>{console.error("Error creating list:",e)}})}openList(e){this.router.navigate(["/todo",e.id])}shareList(e){this.sharingList=e,this.shareEmail=""}closeShareModal(){this.sharingList=null,this.shareEmail=""}confirmShare(){this.sharingList&&this.shareEmail.trim()&&this.todoListService.shareList(this.sharingList.id,this.shareEmail.trim()).then(()=>{this.closeShareModal(),console.log("List shared successfully")}).catch(e=>{console.error("Error sharing list:",e)})}deleteList(e){confirm("Are you sure you want to delete this list? This action cannot be undone.")&&this.todoListService.deleteList(e).then(()=>{console.log("List deleted successfully")}).catch(t=>{console.error("Error deleting list:",t)})}isOwner(e){return this.authService.user$.pipe(Y(t=>t?.uid===e.owner))}logout(){this.authService.signOut()}static \u0275fac=function(t){return new(t||n)(Q(vo),Q(Vt),Q(mt))};static \u0275cmp=gt({type:n,selectors:[["app-lists"]],decls:22,vars:6,consts:[[1,"lists-container"],[1,"app-header"],["routerLink","/",1,"back-link"],[1,"logout-btn",3,"click"],[1,"create-list-section"],[1,"create-list-form",3,"ngSubmit"],["type","text","name","newListTitle","placeholder","List title...","required","",1,"list-input",3,"ngModelChange","ngModel"],["type","text","name","newListDescription","placeholder","Description (optional)...",1,"list-input",3,"ngModelChange","ngModel"],["type","submit",1,"btn","create-btn"],[1,"lists-grid"],["class","list-card",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"list-card"],[1,"list-header"],[1,"list-actions"],[1,"btn","open-btn",3,"click"],[1,"btn","share-btn",3,"click"],[1,"btn","delete-btn",3,"click"],["class","list-description",4,"ngIf"],[1,"list-meta"],["class","list-owner",4,"ngIf"],["class","list-shared",4,"ngIf"],[1,"list-date"],["class","shared-with",4,"ngIf"],[1,"list-description"],[1,"list-owner"],[1,"list-shared"],[1,"shared-with"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[3,"ngSubmit"],["type","email","name","shareEmail","placeholder","Enter email address...","required","",1,"share-input",3,"ngModelChange","ngModel"],[1,"modal-actions"],["type","submit",1,"btn","share-btn"],["type","button",1,"btn","cancel-btn",3,"click"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"header",1)(2,"a",2),$(3,"\u2190 Back to Apps"),L(),F(4,"h2"),$(5,"My Todo Lists"),L(),F(6,"p"),$(7,"Create and manage your todo lists"),L(),F(8,"button",3),Ie("click",function(){return r.logout()}),$(9,"Sign Out"),L()(),F(10,"div",4)(11,"h3"),$(12,"Create New List"),L(),F(13,"form",5),Ie("ngSubmit",function(){return r.createList()}),F(14,"input",6),ti("ngModelChange",function(o){return Wi(r.newListTitle,o)||(r.newListTitle=o),o}),L(),F(15,"input",7),ti("ngModelChange",function(o){return Wi(r.newListDescription,o)||(r.newListDescription=o),o}),L(),F(16,"button",8),$(17,"Create List"),L()()(),F(18,"div",9),et(19,n5,21,13,"div",10),_r(20,"async"),L(),et(21,r5,11,2,"div",11),L()),t&2&&(ae(14),ei("ngModel",r.newListTitle),ae(),ei("ngModel",r.newListDescription),ae(4),tt("ngForOf",ni(20,4,r.lists$)),ae(2),tt("ngIf",r.sharingList))},dependencies:[An,ma,oi,es,oE,Dm,Im,mc,_m,Em,FT,id,rd,Yn,Tr],styles:[".lists-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.app-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.back-link[_ngcontent-%COMP%]{display:inline-block;color:#007bff;text-decoration:none;margin-bottom:1rem;font-weight:500}.back-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.app-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:.5rem}.app-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1.1rem}.logout-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer;font-size:.9rem;margin-top:1rem}.logout-btn[_ngcontent-%COMP%]:hover{background:#c82333}.create-list-section[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;box-shadow:0 2px 4px #0000001a;margin-bottom:2rem}.create-list-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#333}.create-list-form[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-end}.list-input[_ngcontent-%COMP%]{flex:1;padding:.75rem;font-size:1rem;border:1px solid #ccc;border-radius:4px}.lists-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem}.list-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a;transition:transform .2s ease,box-shadow .2s ease}.list-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.list-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.2rem}.list-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.list-description[_ngcontent-%COMP%]{color:#666;margin-bottom:1rem;font-style:italic}.list-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.list-owner[_ngcontent-%COMP%]{background:#28a745;color:#fff;padding:.2rem .5rem;border-radius:12px;font-size:.8rem}.list-shared[_ngcontent-%COMP%]{background:#ffc107;color:#333;padding:.2rem .5rem;border-radius:12px;font-size:.8rem}.list-date[_ngcontent-%COMP%]{color:#999;font-size:.9rem}.shared-with[_ngcontent-%COMP%]{margin-top:.5rem;color:#666;font-size:.9rem}.btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.9rem;border:none;border-radius:4px;cursor:pointer;color:#fff}.create-btn[_ngcontent-%COMP%]{background-color:#28a745}.open-btn[_ngcontent-%COMP%]{background-color:#007bff}.share-btn[_ngcontent-%COMP%]{background-color:#17a2b8}.delete-btn[_ngcontent-%COMP%]{background-color:#dc3545}.cancel-btn[_ngcontent-%COMP%]{background-color:#6c757d}.btn[_ngcontent-%COMP%]:hover{opacity:.9}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;min-width:400px}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#333}.share-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;font-size:1rem;border:1px solid #ccc;border-radius:4px;margin-bottom:1rem}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}"]})};var ud=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.user$.pipe(pt(1),Y(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(z(Vt),z(mt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var E1=[{path:"",component:lm},{path:"ip-lookup",component:dm},{path:"login",component:xm},{path:"lists",component:km,canActivate:[ud]},{path:"todo/:id",component:Mm,canActivate:[ud]},{path:"todo",redirectTo:"/lists",pathMatch:"full"}];var w1={production:!1,firebaseConfig:{apiKey:"AIzaSyAP6oP_CO8yIvG_d8LxaDCn2R9YXbuehR0",authDomain:"todolist-164b4.firebaseapp.com",projectId:"todolist-164b4",storageBucket:"todolist-164b4.firebasestorage.app",messagingSenderId:"488468917095",appId:"1:488468917095:web:4d467eebe593bff0681dc2",measurementId:"G-LLZ00SYW34"}};var I1={providers:[$_({eventCoalescing:!0}),GE(E1),vE(),wN(()=>IN(w1.firebaseConfig)),pO(()=>mO()),DM(()=>bM())]};var Om=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=gt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Xr(0,"router-outlet")},dependencies:[tu],encapsulation:2})};gE(Om,I1).catch(n=>console.error(n));
