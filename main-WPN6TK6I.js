var fO=Object.defineProperty,pO=Object.defineProperties;var gO=Object.getOwnPropertyDescriptors;var yd=Object.getOwnPropertySymbols,mO=Object.getPrototypeOf,Wb=Object.prototype.hasOwnProperty,Kb=Object.prototype.propertyIsEnumerable,yO=Reflect.get;var Gb=(n,e,t)=>e in n?fO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})Wb.call(e,t)&&Gb(n,t,e[t]);if(yd)for(var t of yd(e))Kb.call(e,t)&&Gb(n,t,e[t]);return n},ie=(n,e)=>pO(n,gO(e));var Pc=(n,e)=>{var t={};for(var r in n)Wb.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&yd)for(var r of yd(n))e.indexOf(r)<0&&Kb.call(n,r)&&(t[r]=n[r]);return t};var fi=(n,e,t)=>yO(mO(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var Jm;function Xm(){return Jm}function Rr(n){let e=Jm;return Jm=n,e}var vO=Symbol("NotFound"),vd=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function Ns(n){return n===vO||n?.name==="\u0275NotFound"}function Td(n,e){return Object.is(n,e)}var gt=null,_d=!1,ey=1,_O=null,jt=Symbol("SIGNAL");function pe(n){let e=gt;return gt=n,e}function bd(){return gt}var po={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ms(n){if(_d)throw new Error("");if(gt===null)return;gt.consumerOnSignalRead(n);let e=gt.nextProducerIndex++;if(Ad(gt),e<gt.producerNode.length&&gt.producerNode[e]!==n&&Lc(gt)){let t=gt.producerNode[e];Sd(t,gt.producerIndexOfThis[e])}gt.producerNode[e]!==n&&(gt.producerNode[e]=n,gt.producerIndexOfThis[e]=Lc(gt)?Yb(n,gt,e):0),gt.producerLastReadVersion[e]=n.version}function Qb(){ey++}function Dd(n){if(!(Lc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ey)){if(!n.producerMustRecompute(n)&&!Fc(n)){wd(n);return}n.producerRecomputeValue(n),wd(n)}}function ty(n){if(n.liveConsumerNode===void 0)return;let e=_d;_d=!0;try{for(let t of n.liveConsumerNode)t.dirty||EO(t)}finally{_d=e}}function ny(){return gt?.consumerAllowSignalWrites!==!1}function EO(n){n.dirty=!0,ty(n),n.consumerMarkedDirty?.(n)}function wd(n){n.dirty=!1,n.lastCleanEpoch=ey}function go(n){return n&&(n.nextProducerIndex=0),pe(n)}function ks(n,e){if(pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Lc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Sd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Fc(n){Ad(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Dd(t),r!==t.version))return!0}return!1}function Cd(n){if(Ad(n),Lc(n))for(let e=0;e<n.producerNode.length;e++)Sd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Yb(n,e,t){if(Zb(n),n.liveConsumerNode.length===0&&Jb(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Yb(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Sd(n,e){if(Zb(n),n.liveConsumerNode.length===1&&Jb(n))for(let r=0;r<n.producerNode.length;r++)Sd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ad(i),i.producerIndexOfThis[r]=e}}function Lc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ad(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Zb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Jb(n){return n.producerNode!==void 0}function Rd(n){_O?.(n)}function xd(n,e){let t=Object.create(IO);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Dd(t),Ms(t),t.value===Oc)throw t.error;return t.value};return r[jt]=t,Rd(t),r}var Ed=Symbol("UNSET"),Id=Symbol("COMPUTING"),Oc=Symbol("ERRORED"),IO=ie(F({},po),{value:Ed,dirty:!0,error:null,equal:Td,kind:"computed",producerMustRecompute(n){return n.value===Ed||n.value===Id},producerRecomputeValue(n){if(n.value===Id)throw new Error("");let e=n.value;n.value=Id;let t=go(n),r,i=!1;try{r=n.computation(),pe(null),i=e!==Ed&&e!==Oc&&r!==Oc&&n.equal(e,r)}catch(o){r=Oc,n.error=o}finally{ks(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function wO(){throw new Error}var Xb=wO;function eD(n){Xb(n)}function ry(n){Xb=n}var TO=null;function iy(n,e){let t=Object.create(Nd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>tD(t);return r[jt]=t,Rd(t),[r,s=>Ps(t,s),s=>oy(t,s)]}function tD(n){return Ms(n),n.value}function Ps(n,e){ny()||eD(n),n.equal(n.value,e)||(n.value=e,bO(n))}function oy(n,e){ny()||eD(n),Ps(n,e(n.value))}var Nd=ie(F({},po),{equal:Td,value:void 0,kind:"signal"});function bO(n){n.version++,Qb(),ty(n),TO?.(n)}function ue(n){return typeof n=="function"}function Os(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Md=Os(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function mo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Qe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ue(r))try{r()}catch(o){e=o instanceof Md?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{nD(o)}catch(s){e=e??[],s instanceof Md?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Md(e)}}add(e){var t;if(e&&e!==this)if(this.closed)nD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&mo(t,e)}remove(e){let{_finalizers:t}=this;t&&mo(t,e),e instanceof n&&e._removeParent(this)}};Qe.EMPTY=(()=>{let n=new Qe;return n.closed=!0,n})();var sy=Qe.EMPTY;function kd(n){return n instanceof Qe||n&&"closed"in n&&ue(n.remove)&&ue(n.add)&&ue(n.unsubscribe)}function nD(n){ue(n)?n():n.unsubscribe()}var Fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ls={setTimeout(n,e,...t){let{delegate:r}=Ls;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ls;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Pd(n){Ls.setTimeout(()=>{let{onUnhandledError:e}=Fn;if(e)e(n);else throw n})}function Vc(){}var rD=ay("C",void 0,void 0);function iD(n){return ay("E",void 0,n)}function oD(n){return ay("N",n,void 0)}function ay(n,e,t){return{kind:n,value:e,error:t}}var yo=null;function Fs(n){if(Fn.useDeprecatedSynchronousErrorHandling){let e=!yo;if(e&&(yo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=yo;if(yo=null,t)throw r}}else n()}function sD(n){Fn.useDeprecatedSynchronousErrorHandling&&yo&&(yo.errorThrown=!0,yo.error=n)}var vo=class extends Qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kd(e)&&e.add(this)):this.destination=SO}static create(e,t,r){return new pi(e,t,r)}next(e){this.isStopped?uy(oD(e),this):this._next(e)}error(e){this.isStopped?uy(iD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?uy(rD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},DO=Function.prototype.bind;function cy(n,e){return DO.call(n,e)}var ly=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Od(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Od(r)}else Od(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Od(t)}}},pi=class extends vo{constructor(e,t,r){super();let i;if(ue(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Fn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&cy(e.next,o),error:e.error&&cy(e.error,o),complete:e.complete&&cy(e.complete,o)}):i=e}this.destination=new ly(i)}};function Od(n){Fn.useDeprecatedSynchronousErrorHandling?sD(n):Pd(n)}function CO(n){throw n}function uy(n,e){let{onStoppedNotification:t}=Fn;t&&Ls.setTimeout(()=>t(n,e))}var SO={closed:!0,next:Vc,error:CO,complete:Vc};var Vs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ln(n){return n}function Ld(...n){return dy(n)}function dy(n){return n.length===0?ln:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=RO(t)?t:new pi(t,r,i);return Fs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=aD(r),new r((i,o)=>{let s=new pi({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Vs](){return this}pipe(...t){return dy(t)(this)}toPromise(t){return t=aD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function aD(n){var e;return(e=n??Fn.Promise)!==null&&e!==void 0?e:Promise}function AO(n){return n&&ue(n.next)&&ue(n.error)&&ue(n.complete)}function RO(n){return n&&n instanceof vo||AO(n)&&kd(n)}function hy(n){return ue(n?.lift)}function Te(n){return e=>{if(hy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(n,e,t,r,i){return new fy(n,e,t,r,i)}var fy=class extends vo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function js(){return Te((n,e)=>{let t=null;n._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Us=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,hy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qe;let t=this.getSubject();e.add(this.source.subscribe(_e(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qe.EMPTY)}return e}refCount(){return js()(this)}};var cD=Os(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Fd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new cD}next(t){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?sy:(this.currentObservers=null,o.push(t),new Qe(()=>{this.currentObservers=null,mo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new Fd(e,t),n})(),Fd=class extends rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:sy}};var it=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var py={now(){return(py.delegate||Date).now()},delegate:void 0};var Vd=class extends Qe{constructor(e,t){super()}schedule(e,t=0){return this}};var jc={setInterval(n,e,...t){let{delegate:r}=jc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=jc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Bs=class extends Vd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return jc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&jc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,mo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var $s=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};$s.now=py.now;var Hs=class extends $s{constructor(e,t=$s.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var zs=new Hs(Bs),gy=zs;var jd=class extends Bs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ud=class extends Hs{};var my=new Ud(jd);var tn=new J(n=>n.complete());function Bd(n){return n&&ue(n.schedule)}function uD(n){return n[n.length-1]}function $d(n){return ue(uD(n))?n.pop():void 0}function gi(n){return Bd(uD(n))?n.pop():void 0}function Hd(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function dD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function lD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _o(n){return this instanceof _o?(this.v=n,this):new _o(n)}function hD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(M){return new Promise(function(x,V){o.push([y,M,x,V])>1||u(y,M)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(M){g(o[0][3],M)}}function l(y){y.value instanceof _o?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function fD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof lD=="function"?lD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var zd=n=>n&&typeof n.length=="number"&&typeof n!="function";function qd(n){return ue(n?.then)}function Gd(n){return ue(n[Vs])}function Wd(n){return Symbol.asyncIterator&&ue(n?.[Symbol.asyncIterator])}function Kd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qd=xO();function Yd(n){return ue(n?.[Qd])}function Zd(n){return hD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield _o(t.read());if(i)return yield _o(void 0);yield yield _o(r)}}finally{t.releaseLock()}})}function Jd(n){return ue(n?.getReader)}function ct(n){if(n instanceof J)return n;if(n!=null){if(Gd(n))return NO(n);if(zd(n))return MO(n);if(qd(n))return kO(n);if(Wd(n))return pD(n);if(Yd(n))return PO(n);if(Jd(n))return OO(n)}throw Kd(n)}function NO(n){return new J(e=>{let t=n[Vs]();if(ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MO(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function kO(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Pd)})}function PO(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function pD(n){return new J(e=>{LO(n,e).catch(t=>e.error(t))})}function OO(n){return pD(Zd(n))}function LO(n,e){var t,r,i,o;return dD(this,void 0,void 0,function*(){try{for(t=fD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function nn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function mi(n,e=0){return Te((t,r)=>{t.subscribe(_e(r,i=>nn(r,n,()=>r.next(i),e),()=>nn(r,n,()=>r.complete(),e),i=>nn(r,n,()=>r.error(i),e)))})}function yi(n,e=0){return Te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function gD(n,e){return ct(n).pipe(yi(e),mi(e))}function mD(n,e){return ct(n).pipe(yi(e),mi(e))}function yD(n,e){return new J(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function vD(n,e){return new J(t=>{let r;return nn(t,e,()=>{r=n[Qd](),nn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ue(r?.return)&&r.return()})}function Xd(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{nn(t,e,()=>{let r=n[Symbol.asyncIterator]();nn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function _D(n,e){return Xd(Zd(n),e)}function ED(n,e){if(n!=null){if(Gd(n))return gD(n,e);if(zd(n))return yD(n,e);if(qd(n))return mD(n,e);if(Wd(n))return Xd(n,e);if(Yd(n))return vD(n,e);if(Jd(n))return _D(n,e)}throw Kd(n)}function ge(n,e){return e?ED(n,e):ct(n)}function K(...n){let e=gi(n);return ge(n,e)}function qs(n,e){let t=ue(n)?n:()=>n,r=i=>i.error(t());return new J(e?i=>e.schedule(r,0,i):r)}function yy(n){return!!n&&(n instanceof J||ue(n.lift)&&ue(n.subscribe))}var Vn=Os(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function vy(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new pi({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Vn)}});n.subscribe(o)})}function ID(n){return n instanceof Date&&!isNaN(n)}function ne(n,e){return Te((t,r)=>{let i=0;t.subscribe(_e(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:FO}=Array;function VO(n,e){return FO(e)?n(...e):n(e)}function eh(n){return ne(e=>VO(n,e))}var{isArray:jO}=Array,{getPrototypeOf:UO,prototype:BO,keys:$O}=Object;function th(n){if(n.length===1){let e=n[0];if(jO(e))return{args:e,keys:null};if(HO(e)){let t=$O(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function HO(n){return n&&typeof n=="object"&&UO(n)===BO}function nh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Uc(...n){let e=gi(n),t=$d(n),{args:r,keys:i}=th(n);if(r.length===0)return ge([],e);let o=new J(zO(r,e,i?s=>nh(i,s):ln));return t?o.pipe(eh(t)):o}function zO(n,e,t=ln){return r=>{wD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)wD(e,()=>{let l=ge(n[u],e),h=!1;l.subscribe(_e(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function wD(n,e,t){n?nn(t,n,e):e()}function TD(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?S(M):u.push(M),S=M=>{o&&e.next(M),l++;let x=!1;ct(t(M,h++)).subscribe(_e(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let V=u.shift();s?nn(e,s,()=>S(V)):S(V)}g()}catch(V){e.error(V)}}))};return n.subscribe(_e(e,y,()=>{p=!0,g()})),()=>{a?.()}}function ot(n,e,t=1/0){return ue(e)?ot((r,i)=>ne((o,s)=>e(r,o,i,s))(ct(n(r,i))),t):(typeof e=="number"&&(t=e),Te((r,i)=>TD(r,i,n,t)))}function vi(n=1/0){return ot(ln,n)}function bD(){return vi(1)}function Gs(...n){return bD()(ge(n,gi(n)))}function Bc(n){return new J(e=>{ct(n()).subscribe(e)})}function _y(...n){let e=$d(n),{args:t,keys:r}=th(n),i=new J(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ct(t[h]).subscribe(_e(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?nh(r,a):a),o.complete())}))}});return e?i.pipe(eh(e)):i}function DD(n=0,e,t=gy){let r=-1;return e!=null&&(Bd(e)?t=e:r=e),new J(i=>{let o=ID(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Ey(n=0,e=zs){return n<0&&(n=0),DD(n,n,e)}function Mt(n,e){return Te((t,r)=>{let i=0;t.subscribe(_e(r,o=>n.call(e,o,i++)&&r.next(o)))})}function xr(n){return Te((e,t)=>{let r=null,i=!1,o;r=e.subscribe(_e(t,void 0,void 0,s=>{o=ct(n(s,xr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function CD(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(_e(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function rr(n,e){return ue(e)?ot(n,e,1):ot(n,1)}function _i(n){return Te((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ut(n){return n<=0?()=>tn:Te((e,t)=>{let r=0;e.subscribe(_e(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function rh(n=qO){return Te((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function qO(){return new Vn}function Eo(n){return Te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Nr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):ln,Ut(1),t?_i(e):rh(()=>new Vn))}function Ws(n){return n<=0?()=>tn:Te((e,t)=>{let r=[];e.subscribe(_e(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Iy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):ln,Ws(1),t?_i(e):rh(()=>new Vn))}function ih(n,e){return Te(CD(n,e,arguments.length>=2,!0))}function oh(...n){let e=gi(n);return Te((t,r)=>{(e?Gs(n,t,e):Gs(n,t)).subscribe(r)})}function Oe(n,e){return Te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(_e(r,u=>{i?.unsubscribe();let l=0,h=o++;ct(n(u,h)).subscribe(i=_e(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function sh(n){return Te((e,t)=>{ct(n).subscribe(_e(t,()=>t.complete(),Vc)),!t.closed&&e.subscribe(t)})}function It(n,e,t){let r=ue(n)||e||t?{next:n,error:e,complete:t}:n;return r?Te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(_e(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ln}function SD(n){let e=pe(null);try{return n()}finally{pe(e)}}var dh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,t){super(qc(e,t)),this.code=e}};function GO(n){return`NG0${Math.abs(n)}`}function qc(n,e){return`${GO(n)}${e?": "+e:""}`}var Pr=globalThis;function ze(n){for(let e in n)if(n[e]===ze)return e;throw Error("")}function ND(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function rn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(rn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Py(n,e){return n?e?`${n} ${e}`:n:e||""}var WO=ze({__forward_ref__:ze});function wi(n){return n.__forward_ref__=wi,n.toString=function(){return rn(this())},n}function kt(n){return Oy(n)?n():n}function Oy(n){return typeof n=="function"&&n.hasOwnProperty(WO)&&n.__forward_ref__===wi}function MD(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gc(n){return KO(n,hh)}function Ly(n){return Gc(n)!==null}function KO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function QO(n){let e=n?.[hh]??null;return e||null}function Ty(n){return n&&n.hasOwnProperty(ch)?n[ch]:null}var hh=ze({\u0275prov:ze}),ch=ze({\u0275inj:ze}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Fy(n){return n&&!!n.\u0275providers}var Vy=ze({\u0275cmp:ze}),jy=ze({\u0275dir:ze}),Uy=ze({\u0275pipe:ze}),By=ze({\u0275mod:ze}),Hc=ze({\u0275fac:ze}),Do=ze({__NG_ELEMENT_ID__:ze}),AD=ze({__NG_ENV_ID__:ze});function Co(n){return typeof n=="string"?n:n==null?"":String(n)}function kD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Co(n)}function $y(n,e){throw new U(-200,n)}function fh(n,e){throw new U(-201,!1)}var by;function PD(){return by}function Kt(n){let e=by;return by=n,e}function Hy(n,e,t){let r=Gc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;fh(n,"Injector")}var YO={},Io=YO,Dy="__NG_DI_FLAG__",Cy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=wo(t)||0;try{return this.injector.get(e,r&8?null:Io,r)}catch(i){if(Ns(i))return i;throw i}}},uh="ngTempTokenPath",ZO="ngTokenPath",JO=/\n/gm,XO="\u0275",RD="__source";function eL(n,e=0){let t=Xm();if(t===void 0)throw new U(-203,!1);if(t===null)return Hy(n,void 0,e);{let r=tL(e),i=t.retrieve(n,r);if(Ns(i)){if(r.optional)return null;throw i}return i}}function q(n,e=0){return(PD()||eL)(kt(n),e)}function k(n,e){return q(n,wo(e))}function wo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function tL(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Sy(n){let e=[];for(let t=0;t<n.length;t++){let r=kt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=nL(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(q(i,o))}else e.push(q(r))}return e}function zy(n,e){return n[Dy]=e,n.prototype[Dy]=e,n}function nL(n){return n[Dy]}function rL(n,e,t,r){let i=n[uh];throw e[RD]&&i.unshift(e[RD]),n.message=iL(`
`+n.message,i,t,r),n[ZO]=i,n[uh]=null,n}function iL(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==XO?n.slice(2):n;let i=rn(e);if(Array.isArray(e))i=e.map(rn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):rn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(JO,`
  `)}`}function Ei(n,e){let t=n.hasOwnProperty(Hc);return t?n[Hc]:null}function OD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function LD(n){return n.flat(Number.POSITIVE_INFINITY)}function ph(n,e){n.forEach(t=>Array.isArray(t)?ph(t,e):e(t))}function qy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Wc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function FD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function VD(n,e,t){let r=Qs(n,e);return r>=0?n[r|1]=t:(r=~r,FD(n,r,e,t)),r}function gh(n,e){let t=Qs(n,e);if(t>=0)return n[t|1]}function Qs(n,e){return oL(n,e,1)}function oL(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ti={},dn=[],bi=new H(""),Gy=new H("",-1),Wy=new H(""),zc=class{get(e,t=Io){if(t===Io)throw new vd(`NullInjectorError: No provider for ${rn(e)}!`);return t}};function Ky(n){return n[By]||null}function Or(n){return n[Vy]||null}function Qy(n){return n[jy]||null}function jD(n){return n[Uy]||null}function on(n){return{\u0275providers:n}}function UD(...n){return{\u0275providers:Yy(!0,n),\u0275fromNgModule:!0}}function Yy(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ph(e,s=>{let a=s;lh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&BD(i,o),t}function BD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Zy(i,o=>{e(o,r)})}}function lh(n,e,t,r){if(n=kt(n),!n)return!1;let i=null,o=Ty(n),s=!o&&Or(n);if(!o&&!s){let u=n.ngModule;if(o=Ty(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)lh(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ph(o.imports,h=>{lh(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&BD(l,e)}if(!a){let l=Ei(i)||(()=>new i);e({provide:i,useFactory:l,deps:dn},i),e({provide:Wy,useValue:i,multi:!0},i),e({provide:bi,useValue:()=>q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Zy(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Zy(n,e){for(let t of n)Fy(t)&&(t=t.\u0275providers),Array.isArray(t)?Zy(t,e):e(t)}var sL=ze({provide:String,useValue:ze});function $D(n){return n!==null&&typeof n=="object"&&sL in n}function aL(n){return!!(n&&n.useExisting)}function cL(n){return!!(n&&n.useFactory)}function To(n){return typeof n=="function"}function HD(n){return!!n.useClass}var Kc=new H(""),ah={},xD={},wy;function Qc(){return wy===void 0&&(wy=new zc),wy}var Ge=class{},bo=class extends Ge{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ry(e,s=>this.processProvider(s)),this.records.set(Gy,Ks(void 0,this)),i.has("environment")&&this.records.set(Ge,Ks(void 0,this));let o=this.records.get(Kc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Wy,dn,{self:!0}))}retrieve(e,t){let r=wo(t)||0;try{return this.get(e,Io,r)}catch(i){if(Ns(i))return i;throw i}}destroy(){$c(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return $c(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){$c(this);let t=Rr(this),r=Kt(void 0),i;try{return e()}finally{Rr(t),Kt(r)}}get(e,t=Io,r){if($c(this),e.hasOwnProperty(AD))return e[AD](this);let i=wo(r),o,s=Rr(this),a=Kt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=fL(e)&&Gc(e);h&&this.injectableDefInScope(h)?l=Ks(Ay(e),ah):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let u=i&2?Qc():this.parent;return t=i&8&&t===Io?null:t,u.get(e,t)}catch(u){if(Ns(u)){if((u[uh]=u[uh]||[]).unshift(rn(e)),s)throw u;return rL(u,e,"R3InjectorError",this.source)}else throw u}finally{Kt(a),Rr(s)}}resolveInjectorInitializers(){let e=pe(null),t=Rr(this),r=Kt(void 0),i;try{let o=this.get(bi,dn,{self:!0});for(let s of o)s()}finally{Rr(t),Kt(r),pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(rn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=kt(e);let t=To(e)?e:kt(e&&e.provide),r=lL(e);if(!To(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ks(void 0,ah,!0),i.factory=()=>Sy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=pe(null);try{return t.value===xD?$y(rn(e)):t.value===ah&&(t.value=xD,t.value=t.factory()),typeof t.value=="object"&&t.value&&hL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=kt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ay(n){let e=Gc(n),t=e!==null?e.factory:Ei(n);if(t!==null)return t;if(n instanceof H)throw new U(204,!1);if(n instanceof Function)return uL(n);throw new U(204,!1)}function uL(n){if(n.length>0)throw new U(204,!1);let t=QO(n);return t!==null?()=>t.factory(n):()=>new n}function lL(n){if($D(n))return Ks(void 0,n.useValue);{let e=Jy(n);return Ks(e,ah)}}function Jy(n,e,t){let r;if(To(n)){let i=kt(n);return Ei(i)||Ay(i)}else if($D(n))r=()=>kt(n.useValue);else if(cL(n))r=()=>n.useFactory(...Sy(n.deps||[]));else if(aL(n))r=()=>q(kt(n.useExisting));else{let i=kt(n&&(n.useClass||n.provide));if(dL(n))r=()=>new i(...Sy(n.deps));else return Ei(i)||Ay(i)}return r}function $c(n){if(n.destroyed)throw new U(205,!1)}function Ks(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function dL(n){return!!n.deps}function hL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function fL(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Ry(n,e){for(let t of n)Array.isArray(t)?Ry(t,e):t&&Fy(t)?Ry(t.\u0275providers,e):e(t)}function ut(n,e){let t;n instanceof bo?($c(n),t=n):t=new Cy(n);let r,i=Rr(t),o=Kt(void 0);try{return e()}finally{Rr(i),Kt(o)}}function Xy(){return PD()!==void 0||Xm()!=null}function ev(n){if(!Xy())throw new U(-203,!1)}var Un=0,he=1,ae=2,wt=3,bn=4,Dn=5,Yc=6,Ys=7,Bt=8,So=9,ir=10,Ze=11,Zs=12,tv=13,Ao=14,Cn=15,Di=16,Ro=17,or=18,Zc=19,nv=20,Mr=21,mh=22,Jc=23,hn=24,xo=25,$t=26,zD=1;var Ci=7,Xc=8,No=9,Qt=10;function sr(n){return Array.isArray(n)&&typeof n[zD]=="object"}function Bn(n){return Array.isArray(n)&&n[zD]===!0}function yh(n){return(n.flags&4)!==0}function Si(n){return n.componentOffset>-1}function eu(n){return(n.flags&1)===1}function ar(n){return!!n.template}function Js(n){return(n[ae]&512)!==0}function Mo(n){return(n[ae]&256)===256}var rv="svg",qD="math";function Sn(n){for(;Array.isArray(n);)n=n[Un];return n}function iv(n,e){return Sn(e[n])}function $n(n,e){return Sn(e[n.index])}function vh(n,e){return n.data[e]}function _h(n,e){return n[e]}function ov(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function An(n,e){let t=e[n];return sr(t)?t:t[Un]}function GD(n){return(n[ae]&4)===4}function Eh(n){return(n[ae]&128)===128}function WD(n){return Bn(n[wt])}function ko(n,e){return e==null?null:n[e]}function sv(n){n[Ro]=0}function av(n){n[ae]&1024||(n[ae]|=1024,Eh(n)&&Xs(n))}function KD(n,e){for(;n>0;)e=e[Ao],n--;return e}function tu(n){return!!(n[ae]&9216||n[hn]?.dirty)}function Ih(n){n[ir].changeDetectionScheduler?.notify(8),n[ae]&64&&(n[ae]|=1024),tu(n)&&Xs(n)}function Xs(n){n[ir].changeDetectionScheduler?.notify(0);let e=Ii(n);for(;e!==null&&!(e[ae]&8192||(e[ae]|=8192,!Eh(e)));)e=Ii(e)}function cv(n,e){if(Mo(n))throw new U(911,!1);n[Mr]===null&&(n[Mr]=[]),n[Mr].push(e)}function QD(n,e){if(n[Mr]===null)return;let t=n[Mr].indexOf(e);t!==-1&&n[Mr].splice(t,1)}function Ii(n){let e=n[wt];return Bn(e)?e[wt]:e}function uv(n){return n[Ys]??=[]}function lv(n){return n.cleanup??=[]}function YD(n,e,t,r){let i=uv(e);i.push(t),n.firstCreatePass&&lv(n).push(r,i.length-1)}var de={lFrame:hC(null),bindingsEnabled:!0,skipHydrationRootTNode:null},nu=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(nu||{}),pL=0,xy=!1;function ZD(){return de.lFrame.elementDepthCount}function JD(){de.lFrame.elementDepthCount++}function XD(){de.lFrame.elementDepthCount--}function wh(){return de.bindingsEnabled}function eC(){return de.skipHydrationRootTNode!==null}function tC(n){return de.skipHydrationRootTNode===n}function nC(){de.skipHydrationRootTNode=null}function Ee(){return de.lFrame.lView}function mt(){return de.lFrame.tView}function De(n){return de.lFrame.contextLView=n,n[Bt]}function Ce(n){return de.lFrame.contextLView=null,n}function Tt(){let n=dv();for(;n!==null&&n.type===64;)n=n.parent;return n}function dv(){return de.lFrame.currentTNode}function rC(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ai(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function Th(){return de.lFrame.isParent}function hv(){de.lFrame.isParent=!1}function iC(){return de.lFrame.contextLView}function fv(n){MD("Must never be called in production mode"),pL=n}function pv(){return xy}function gv(n){let e=xy;return xy=n,e}function bh(){let n=de.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function oC(){return de.lFrame.bindingIndex}function sC(n){return de.lFrame.bindingIndex=n}function ru(){return de.lFrame.bindingIndex++}function mv(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function aC(){return de.lFrame.inI18n}function cC(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Dh(e)}function uC(){return de.lFrame.currentDirectiveIndex}function Dh(n){de.lFrame.currentDirectiveIndex=n}function lC(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function yv(){return de.lFrame.currentQueryIndex}function Ch(n){de.lFrame.currentQueryIndex=n}function gL(n){let e=n[he];return e.type===2?e.declTNode:e.type===1?n[Dn]:null}function vv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=gL(o),i===null||(o=o[Ao],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=dC();return r.currentTNode=e,r.lView=n,!0}function Sh(n){let e=dC(),t=n[he];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function dC(){let n=de.lFrame,e=n===null?null:n.child;return e===null?hC(n):e}function hC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function fC(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var _v=fC;function Ah(){let n=fC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function pC(n){return(de.lFrame.contextLView=KD(n,de.lFrame.contextLView))[Bt]}function Ri(){return de.lFrame.selectedIndex}function xi(n){de.lFrame.selectedIndex=n}function Rh(){let n=de.lFrame;return vh(n.tView,n.selectedIndex)}function X(){de.lFrame.currentNamespace=rv}function ye(){mL()}function mL(){de.lFrame.currentNamespace=null}function gC(){return de.lFrame.currentNamespace}var mC=!0;function iu(){return mC}function ou(n){mC=n}function Ny(n,e=null,t=null,r){let i=Ev(n,e,t,r);return i.resolveInjectorInitializers(),i}function Ev(n,e=null,t=null,r,i=new Set){let o=[t||dn,UD(n)];return r=r||(typeof n=="object"?void 0:rn(n)),new bo(o,e||Qc(),r||null,i)}var Ye=class n{static THROW_IF_NOT_FOUND=Io;static NULL=new zc;static create(e,t){if(Array.isArray(e))return Ny({name:""},t,e,"");{let r=e.name??"";return Ny({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>q(Gy)});static __NG_ELEMENT_ID__=-1},Je=new H(""),Lr=(()=>{class n{static __NG_ELEMENT_ID__=yL;static __NG_ENV_ID__=t=>t}return n})(),My=class extends Lr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Mo(this._lView)}onDestroy(e){let t=this._lView;return cv(t,e),()=>QD(t,e)}};function yL(){return new My(Ee())}var jn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Yt=new H("",{providedIn:"root",factory:()=>{let n=k(Ge),e;return t=>{e??=n.get(jn),e.handleError(t)}}}),yC={provide:bi,useValue:()=>void k(jn),multi:!0};function Iv(n){return typeof n=="function"&&n[jt]!==void 0}function cr(n,e){let[t,r,i]=iy(n,e?.equal),o=t,s=o[jt];return o.set=r,o.update=i,o.asReadonly=vC.bind(o),o}function vC(){let n=this[jt];if(n.readonlyFn===void 0){let e=()=>this();e[jt]=n,n.readonlyFn=e}return n.readonlyFn}function wv(n){return Iv(n)&&typeof n.set=="function"}var kr=class{},su=new H("",{providedIn:"root",factory:()=>!1});var Tv=new H(""),bv=new H("");var xh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=vL}return n})();function vL(){return new xh(Ee(),Tt())}var Fr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new it(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new J(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ni=(()=>{class n{internalPendingTasks=k(Fr);scheduler=k(kr);errorHandler=k(Yt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();function au(...n){}var Dv=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new ky})}return n})(),ky=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function ia(n){return{toString:n}.toString()}var Nh="__parameters__";function bL(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function QC(n,e,t){return ia(()=>{let r=bL(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Nh)?u[Nh]:Object.defineProperty(u,Nh,{value:[]})[Nh];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var sn=zy(QC("Optional"),8);var YC=zy(QC("SkipSelf"),4);function DL(n){return typeof n=="function"}var Vh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function ZC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var jr=(()=>{let n=()=>JC;return n.ngInherit=!0,n})();function JC(n){return n.type.prototype.ngOnChanges&&(n.setInput=SL),CL}function CL(){let n=eS(this),e=n?.current;if(e){let t=n.previous;if(t===Ti)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function SL(n,e,t,r,i){let o=this.declaredInputs[r],s=eS(n)||AL(n,{previous:Ti,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Vh(l&&l.currentValue,t,u===Ti),ZC(n,e,i,t)}var XC="__ngSimpleChanges__";function eS(n){return n[XC]||null}function AL(n,e){return n[XC]=e}var _C=[];var Pe=function(n,e=null,t){for(let r=0;r<_C.length;r++){let i=_C[r];i(n,e,t)}};function RL(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=JC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function u_(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ph(n,e,t){tS(n,e,3,t)}function Oh(n,e,t,r){(n[ae]&3)===t&&tS(n,e,t,r)}function Cv(n,e){let t=n[ae];(t&3)===e&&(t&=16383,t+=1,n[ae]=t)}function tS(n,e,t,r){let i=r!==void 0?n[Ro]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Ro]+=65536),(a<o||o==-1)&&(xL(n,t,e,u),n[Ro]=(n[Ro]&4294901760)+u+2),u++}function EC(n,e){Pe(4,n,e);let t=pe(null);try{e.call(n)}finally{pe(t),Pe(5,n,e)}}function xL(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ae]>>14<n[Ro]>>16&&(n[ae]&3)===e&&(n[ae]+=16384,EC(a,o)):EC(a,o)}var ta=-1,Lo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function NL(n){return(n.flags&8)!==0}function ML(n){return(n.flags&16)!==0}function kL(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];PL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function nS(n){return n===3||n===4||n===6}function PL(n){return n.charCodeAt(0)===64}function na(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?IC(n,t,i,null,e[++r]):IC(n,t,i,null,null))}}return n}function IC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function rS(n){return n!==ta}function jh(n){return n&32767}function OL(n){return n>>16}function Uh(n,e){let t=OL(n),r=e;for(;t>0;)r=r[Ao],t--;return r}var Fv=!0;function Bh(n){let e=Fv;return Fv=n,e}var LL=256,iS=LL-1,oS=5,FL=0,ur={};function VL(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Do)&&(r=t[Do]),r==null&&(r=t[Do]=FL++);let i=r&iS,o=1<<i;e.data[n+(i>>oS)]|=o}function $h(n,e){let t=sS(n,e);if(t!==-1)return t;let r=e[he];r.firstCreatePass&&(n.injectorIndex=e.length,Sv(r.data,n),Sv(e,null),Sv(r.blueprint,null));let i=l_(n,e),o=n.injectorIndex;if(rS(i)){let s=jh(i),a=Uh(i,e),u=a[he].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Sv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function sS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function l_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=dS(i),r===null)return ta;if(t++,i=i[Ao],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ta}function Vv(n,e,t){VL(n,e,t)}function jL(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(nS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function aS(n,e,t){if(t&8||n!==void 0)return n;fh(e,"NodeInjector")}function cS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[So],o=Kt(void 0);try{return i?i.get(e,r,t&8):Hy(e,r,t&8)}finally{Kt(o)}}return aS(r,e,t)}function uS(n,e,t,r=0,i){if(n!==null){if(e[ae]&2048&&!(r&2)){let s=HL(n,e,t,r,ur);if(s!==ur)return s}let o=lS(n,e,t,r,ur);if(o!==ur)return o}return cS(e,t,r,i)}function lS(n,e,t,r,i){let o=BL(t);if(typeof o=="function"){if(!vv(e,n,r))return r&1?aS(i,t,r):cS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))fh(t);else return s}finally{_v()}}else if(typeof o=="number"){let s=null,a=sS(n,e),u=ta,l=r&1?e[Cn][Dn]:null;for((a===-1||r&4)&&(u=a===-1?l_(n,e):e[a+8],u===ta||!TC(r,!1)?a=-1:(s=e[he],a=jh(u),e=Uh(u,e)));a!==-1;){let h=e[he];if(wC(o,a,h.data)){let p=UL(a,e,t,s,r,l);if(p!==ur)return p}u=e[a+8],u!==ta&&TC(r,e[he].data[a+8]===l)&&wC(o,a,e)?(s=h,a=jh(u),e=Uh(u,e)):a=-1}}return i}function UL(n,e,t,r,i,o){let s=e[he],a=s.data[n+8],u=r==null?Si(a)&&Fv:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=Lh(a,s,t,u,l);return h!==null?lu(e,s,h,a):ur}function Lh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&ar(y)&&y.type===t)return u}return null}function lu(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Lo){let s=i;s.resolving&&$y(kD(o[t]));let a=Bh(s.canSeeViewProviders);s.resolving=!0;let u=o[t].type||o[t],l,h=s.injectImpl?Kt(s.injectImpl):null,p=vv(n,r,0);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&RL(t,o[t],e)}finally{h!==null&&Kt(h),Bh(a),s.resolving=!1,_v()}}return i}function BL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Do)?n[Do]:void 0;return typeof e=="number"?e>=0?e&iS:$L:e}function wC(n,e,t){let r=1<<n;return!!(t[e+(n>>oS)]&r)}function TC(n,e){return!(n&2)&&!(n&1&&e)}var Oo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return uS(this._tNode,this._lView,e,wo(r),t)}};function $L(){return new Oo(Tt(),Ee())}function oa(n){return ia(()=>{let e=n.prototype.constructor,t=e[Hc]||jv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Hc]||jv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function jv(n){return Oy(n)?()=>{let e=jv(kt(n));return e&&e()}:Ei(n)}function HL(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ae]&2048&&!Js(s);){let a=lS(o,s,t,r|2,ur);if(a!==ur)return a;let u=o.parent;if(!u){let l=s[nv];if(l){let h=l.get(t,ur,r);if(h!==ur)return h}u=dS(s),s=s[Ao]}o=u}return i}function dS(n){let e=n[he],t=e.type;return t===2?e.declTNode:t===1?n[Dn]:null}function pu(n){return jL(Tt(),n)}function zL(){return sa(Tt(),Ee())}function sa(n,e){return new fn($n(n,e))}var fn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=zL}return n})();function qL(n){return n instanceof fn?n.nativeElement:n}function GL(){return this._results[Symbol.iterator]()}var Hh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new rt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=LD(e);(this._changesDetected=!OD(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=GL};function hS(n){return(n.flags&128)===128}var d_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(d_||{}),fS=new Map,WL=0;function KL(){return WL++}function QL(n){fS.set(n[Zc],n)}function Uv(n){fS.delete(n[Zc])}var bC="__ngContext__";function aa(n,e){sr(e)?(n[bC]=e[Zc],QL(e)):n[bC]=e}function pS(n){return mS(n[Zs])}function gS(n){return mS(n[bn])}function mS(n){for(;n!==null&&!Bn(n);)n=n[bn];return n}var Bv;function h_(n){Bv=n}function yS(){if(Bv!==void 0)return Bv;if(typeof document<"u")return document;throw new U(210,!1)}var tf=new H("",{providedIn:"root",factory:()=>YL}),YL="ng",nf=new H(""),Oi=new H("",{providedIn:"platform",factory:()=>"unknown"});var rf=new H("",{providedIn:"root",factory:()=>yS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZL="h",JL="b";var vS=!1,_S=new H("",{providedIn:"root",factory:()=>vS});var XL=(n,e,t,r)=>{};function eF(n,e,t,r){XL(n,e,t,r)}var tF=()=>null;function ES(n,e,t=!1){return tF(n,e,t)}function IS(n,e){let t=n.contentQueries;if(t!==null){let r=pe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Ch(o),a.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function $v(n,e,t){Ch(0);let r=pe(null);try{e(n,t)}finally{pe(r)}}function f_(n,e,t){if(yh(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{pe(r)}}}var Vr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Vr||{});var Mh;function nF(){if(Mh===void 0&&(Mh=null,Pr.trustedTypes))try{Mh=Pr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Mh}function DC(n){return nF()?.createScriptURL(n)||n}var zh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dh})`}};function gu(n){return n instanceof zh?n.changingThisBreaksApplicationSecurity:n}function p_(n,e){let t=wS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${dh})`)}return t===e}function wS(n){return n instanceof zh&&n.getTypeName()||null}var rF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function TS(n){return n=String(n),n.match(rF)?n:"unsafe:"+n}var of=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(of||{});function bS(n){let e=CS();return e?e.sanitize(of.URL,n)||"":p_(n,"URL")?gu(n):TS(Co(n))}function DS(n){let e=CS();if(e)return DC(e.sanitize(of.RESOURCE_URL,n)||"");if(p_(n,"ResourceURL"))return DC(gu(n));throw new U(904,!1)}function iF(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?DS:bS}function g_(n,e,t){return iF(e,t)(n)}function CS(){let n=Ee();return n&&n[ir].sanitizer}var oF=/^>|^->|<!--|-->|--!>|<!-$/g,sF=/(<|>)/g,aF="\u200B$1\u200B";function cF(n){return n.replace(oF,e=>e.replace(sF,aF))}function SS(n){return n instanceof Function?n():n}function uF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var AS="ng-template";function lF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&uF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(m_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function m_(n){return n.type===4&&n.value!==AS}function dF(n,e,t){let r=n.type===4&&!t?AS:n.value;return e===r}function hF(n,e,t){let r=4,i=n.attrs,o=i!==null?gF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Hn(r)&&!Hn(u))return!1;if(s&&Hn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!dF(n,u,t)||u===""&&e.length===1){if(Hn(r))return!1;s=!0}}else if(r&8){if(i===null||!lF(n,i,u,t)){if(Hn(r))return!1;s=!0}}else{let l=e[++a],h=fF(u,i,m_(n),t);if(h===-1){if(Hn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Hn(r))return!1;s=!0}}}}return Hn(r)||s}function Hn(n){return(n&1)===0}function fF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return mF(e,n)}function pF(n,e,t=!1){for(let r=0;r<e.length;r++)if(hF(n,e[r],t))return!0;return!1}function gF(n){for(let e=0;e<n.length;e++){let t=n[e];if(nS(t))return e}return n.length}function mF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function CC(n,e){return n?":not("+e.trim()+")":e}function yF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Hn(s)&&(e+=CC(o,i),i=""),r=s,o=o||!Hn(r);t++}return i!==""&&(e+=CC(o,i)),e}function vF(n){return n.map(yF).join(",")}function _F(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Hn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Rn={};function EF(n,e){return n.createText(e)}function IF(n,e,t){n.setValue(e,t)}function wF(n,e){return n.createComment(cF(e))}function RS(n,e,t){return n.createElement(e,t)}function qh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function xS(n,e,t){n.appendChild(e,t)}function SC(n,e,t,r,i){r!==null?qh(n,e,t,r,i):xS(n,e,t)}function TF(n,e,t){n.removeChild(null,e,t)}function bF(n,e,t){n.setAttribute(e,"style",t)}function DF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function NS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&kL(n,e,r),i!==null&&DF(n,e,i),o!==null&&bF(n,e,o)}function y_(n,e,t,r,i,o,s,a,u,l,h){let p=$t+r,g=p+i,y=CF(p,g),S=typeof l=="function"?l():l;return y[he]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function CF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Rn);return t}function SF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=y_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function v_(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Un]=i,p[ae]=r|4|128|8|64|1024,(l!==null||n&&n[ae]&2048)&&(p[ae]|=2048),sv(p),p[wt]=p[Ao]=n,p[Bt]=t,p[ir]=s||n&&n[ir],p[Ze]=a||n&&n[Ze],p[So]=u||n&&n[So]||null,p[Dn]=o,p[Zc]=KL(),p[Yc]=h,p[nv]=l,p[Cn]=e.type==2?n[Cn]:p,p}function AF(n,e,t){let r=$n(e,n),i=SF(t),o=n[ir].rendererFactory,s=__(n,v_(n,i,null,MS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function MS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function kS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function __(n,e){return n[Zs]?n[tv][bn]=e:n[Zs]=e,n[tv]=e,e}function $(n=1){PS(mt(),Ee(),Ri()+n,!1)}function PS(n,e,t,r){if(!r)if((e[ae]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ph(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Oh(e,o,0,t)}xi(t)}var sf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(sf||{});function Hv(n,e,t,r){let i=pe(null);try{let[o,s,a]=n.inputs[t],u=null;(s&sf.SignalBased)!==0&&(u=e[o][jt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):ZC(e,u,o,r)}finally{pe(i)}}function OS(n,e,t,r,i){let o=Ri(),s=r&2;try{xi(-1),s&&e.length>$t&&PS(n,e,$t,!1),Pe(s?2:0,i,t),t(r,i)}finally{xi(o),Pe(s?3:1,i,t)}}function af(n,e,t){OF(n,e,t),(t.flags&64)===64&&LF(n,e,t)}function E_(n,e,t=$n){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function RF(n,e,t,r){let o=r.get(_S,vS)||t===Vr.ShadowDom,s=n.selectRootElement(e,o);return xF(s),s}function xF(n){NF(n)}var NF=()=>null;function MF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function LS(n,e,t,r,i,o){let s=e[he];if(w_(n,s,e,t,r)){Si(n)&&PF(e,n.index);return}kF(n,e,t,r,i,o)}function kF(n,e,t,r,i,o){if(n.type&3){let s=$n(n,e);t=MF(t),r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function PF(n,e){let t=An(e,n);t[ae]&16||(t[ae]|=64)}function OF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Si(t)&&AF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||$h(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=lu(e,n,s,t);if(aa(u,e),o!==null&&UF(e,s-r,u,a,t,o),ar(a)){let l=An(t.index,e);l[Bt]=lu(e,n,s,t)}}}function LF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=uC();try{xi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Dh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&FF(u,l)}}finally{xi(-1),Dh(s)}}function FF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function I_(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];pF(e,o.selectors,!1)&&(r??=[],ar(o)?r.unshift(o):r.push(o))}return r}function VF(n,e,t,r,i,o){let s=$n(n,e);jF(e[Ze],s,o,n.value,t,r,i)}function jF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Co(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function UF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Hv(r,t,u,l)}}function BF(n,e){let t=n[So];if(!t)return;t.get(Yt,null)?.(e)}function w_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Hv(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Hv(h,l,r,i),a=!0}return a}function $F(n,e){let t=An(e,n),r=t[he];HF(r,t);let i=t[Un];i!==null&&t[Yc]===null&&(t[Yc]=ES(i,t[So])),Pe(18),T_(r,t,t[Bt]),Pe(19,t[Bt])}function HF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function T_(n,e,t){Sh(e);try{let r=n.viewQuery;r!==null&&$v(1,r,t);let i=n.template;i!==null&&OS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[or]?.finishViewCreation(n),n.staticContentQueries&&IS(n,e),n.staticViewQueries&&$v(2,n.viewQuery,t);let o=n.components;o!==null&&zF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ae]&=-5,Ah()}}function zF(n,e){for(let t=0;t<e.length;t++)$F(n,e[t])}function qF(n,e,t,r){let i=pe(null);try{let o=e.tView,a=n[ae]&4096?4096:16,u=v_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Di]=l;let h=n[or];return h!==null&&(u[or]=h.createEmbeddedView(o)),T_(o,u,t),u}finally{pe(i)}}function AC(n,e){return!e||e.firstChild===null||hS(n)}var RC=!1,GF=new H(""),WF;function b_(n,e){return WF(n,e)}var lr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(lr||{});function D_(n){return(n.flags&32)===32}function ea(n,e,t,r,i){if(r!=null){let o,s=!1;Bn(r)?o=r:sr(r)&&(s=!0,r=r[Un]);let a=Sn(r);n===0&&t!==null?i==null?xS(e,t,a):qh(e,t,a,i||null,!0):n===1&&t!==null?qh(e,t,a,i||null,!0):n===2?TF(e,a,s):n===3&&e.destroyNode(a),o!=null&&oV(e,n,o,t,i)}}function KF(n,e){FS(n,e),e[Un]=null,e[Dn]=null}function QF(n,e,t,r,i,o){r[Un]=i,r[Dn]=e,uf(n,r,t,1,i,o)}function FS(n,e){e[ir].changeDetectionScheduler?.notify(9),uf(n,e,e[Ze],2,null,null)}function YF(n){let e=n[Zs];if(!e)return Av(n[he],n);for(;e;){let t=null;if(sr(e))t=e[Zs];else{let r=e[Qt];r&&(t=r)}if(!t){for(;e&&!e[bn]&&e!==n;)sr(e)&&Av(e[he],e),e=e[wt];e===null&&(e=n),sr(e)&&Av(e[he],e),t=e&&e[bn]}e=t}}function C_(n,e){let t=n[No],r=t.indexOf(e);t.splice(r,1)}function VS(n,e){if(Mo(e))return;let t=e[Ze];t.destroyNode&&uf(n,e,t,3,null,null),YF(e)}function Av(n,e){if(Mo(e))return;let t=pe(null);try{e[ae]&=-129,e[ae]|=256,e[hn]&&Cd(e[hn]),JF(n,e),ZF(n,e),e[he].type===1&&e[Ze].destroy();let r=e[Di];if(r!==null&&Bn(e[wt])){r!==e[wt]&&C_(r,e);let i=e[or];i!==null&&i.detachView(n)}Uv(e)}finally{pe(t)}}function ZF(n,e){let t=n.cleanup,r=e[Ys];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ys]=null);let i=e[Mr];if(i!==null){e[Mr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Jc];if(o!==null){e[Jc]=null;for(let s of o)s.destroy()}}function JF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Lo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Pe(4,a,u);try{u.call(a)}finally{Pe(5,a,u)}}else{Pe(4,i,o);try{o.call(i)}finally{Pe(5,i,o)}}}}}function XF(n,e,t){return eV(n,e.parent,t)}function eV(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Un];if(Si(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Vr.None||i===Vr.Emulated)return null}return $n(r,t)}function tV(n,e,t){return rV(n,e,t)}function nV(n,e,t){return n.type&40?$n(n,t):null}var rV=nV,xC;function cf(n,e,t,r){let i=XF(n,r,e),o=e[Ze],s=r.parent||e[Dn],a=tV(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)SC(o,i,t[u],a,!1);else SC(o,i,t,a,!1);xC!==void 0&&xC(o,r,e,t,i)}function cu(n,e){if(e!==null){let t=e.type;if(t&3)return $n(e,n);if(t&4)return zv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return cu(n,r);{let i=n[e.index];return Bn(i)?zv(-1,i):Sn(i)}}else{if(t&128)return cu(n,e.next);if(t&32)return b_(e,n)()||Sn(n[e.index]);{let r=jS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ii(n[Cn]);return cu(i,r)}else return cu(n,e.next)}}}return null}function jS(n,e){if(e!==null){let r=n[Cn][Dn],i=e.projection;return r.projection[i]}return null}function zv(n,e){let t=Qt+n+1;if(t<e.length){let r=e[t],i=r[he].firstChild;if(i!==null)return cu(r,i)}return e[Ci]}function S_(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&aa(Sn(a),r),t.flags|=2),!D_(t))if(u&8)S_(n,e,t.child,r,i,o,!1),ea(e,n,i,a,o);else if(u&32){let l=b_(t,r),h;for(;h=l();)ea(e,n,i,h,o);ea(e,n,i,a,o)}else u&16?iV(n,e,r,t,i,o):ea(e,n,i,a,o);t=s?t.projectionNext:t.next}}function uf(n,e,t,r,i,o){S_(t,r,n.firstChild,e,i,o,!1)}function iV(n,e,t,r,i,o){let s=t[Cn],u=s[Dn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ea(e,n,i,h,o)}else{let l=u,h=s[wt];hS(r)&&(l.flags|=128),S_(n,e,l,h,i,o,!0)}}function oV(n,e,t,r,i){let o=t[Ci],s=Sn(t);o!==s&&ea(e,n,r,o,i);for(let a=Qt;a<t.length;a++){let u=t[a];uf(u[he],u,n,e,r,o)}}function sV(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:lr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=lr.Important),n.setStyle(t,r,i,o))}}function du(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Sn(o)),Bn(o)&&US(o,r);let s=t.type;if(s&8)du(n,e,t.child,r);else if(s&32){let a=b_(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=jS(e,t);if(Array.isArray(a))r.push(...a);else{let u=Ii(e[Cn]);du(u[he],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function US(n,e){for(let t=Qt;t<n.length;t++){let r=n[t],i=r[he].firstChild;i!==null&&du(r[he],r,i,e)}n[Ci]!==n[Un]&&e.push(n[Ci])}function BS(n){if(n[xo]!==null){for(let e of n[xo])e.impl.addSequence(e);n[xo].length=0}}var $S=[];function aV(n){return n[hn]??cV(n)}function cV(n){let e=$S.pop()??Object.create(lV);return e.lView=n,e}function uV(n){n.lView[hn]!==n&&(n.lView=null,$S.push(n))}var lV=ie(F({},po),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Xs(n.lView)},consumerOnSignalRead(){this.lView[hn]=this}});function dV(n){let e=n[hn]??Object.create(hV);return e.lView=n,e}var hV=ie(F({},po),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ii(n.lView);for(;e&&!HS(e[he]);)e=Ii(e);e&&av(e)},consumerOnSignalRead(){this.lView[hn]=this}});function HS(n){return n.type!==2}function zS(n){if(n[Jc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Jc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ae]&8192)}}var fV=100;function A_(n,e=0){let r=n[ir].rendererFactory,i=!1;i||r.begin?.();try{pV(n,e)}finally{i||r.end?.()}}function pV(n,e){let t=pv();try{gv(!0),qv(n,e);let r=0;for(;tu(n);){if(r===fV)throw new U(103,!1);r++,qv(n,1)}}finally{gv(t)}}function qS(n,e){fv(e?nu.Exhaustive:nu.OnlyDirtyViews);try{A_(n)}finally{fv(nu.Off)}}function gV(n,e,t,r){if(Mo(e))return;let i=e[ae],o=!1,s=!1;Sh(e);let a=!0,u=null,l=null;o||(HS(n)?(l=aV(e),u=go(l)):bd()===null?(a=!1,l=dV(e),u=go(l)):e[hn]&&(Cd(e[hn]),e[hn]=null));try{sv(e),sC(n.bindingStartIndex),t!==null&&OS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Ph(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Oh(e,y,0,null),Cv(e,0)}if(s||mV(e),zS(e),GS(e,0),n.contentQueries!==null&&IS(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Ph(e,y)}else{let y=n.contentHooks;y!==null&&Oh(e,y,1),Cv(e,1)}vV(n,e);let p=n.components;p!==null&&KS(e,p,0);let g=n.viewQuery;if(g!==null&&$v(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Ph(e,y)}else{let y=n.viewHooks;y!==null&&Oh(e,y,2),Cv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[mh]){for(let y of e[mh])y();e[mh]=null}o||(BS(e),e[ae]&=-73)}catch(h){throw o||Xs(e),h}finally{l!==null&&(ks(l,u),a&&uV(l)),Ah()}}function GS(n,e){for(let t=pS(n);t!==null;t=gS(t))for(let r=Qt;r<t.length;r++){let i=t[r];WS(i,e)}}function mV(n){for(let e=pS(n);e!==null;e=gS(e)){if(!(e[ae]&2))continue;let t=e[No];for(let r=0;r<t.length;r++){let i=t[r];av(i)}}}function yV(n,e,t){Pe(18);let r=An(e,n);WS(r,t),Pe(19,r[Bt])}function WS(n,e){Eh(n)&&qv(n,e)}function qv(n,e){let r=n[he],i=n[ae],o=n[hn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Fc(o)),s||=!1,o&&(o.dirty=!1),n[ae]&=-9217,s)gV(r,n,r.template,n[Bt]);else if(i&8192){let a=pe(null);try{zS(n),GS(n,1);let u=r.components;u!==null&&KS(n,u,1),BS(n)}finally{pe(a)}}}function KS(n,e,t){for(let r=0;r<e.length;r++)yV(n,e[r],t)}function vV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)xi(~i);else{let o=i,s=t[++r],a=t[++r];cC(s,o);let u=e[o];Pe(24,u),a(2,u),Pe(25,u)}}}finally{xi(-1)}}function R_(n,e){let t=pv()?64:1088;for(n[ir].changeDetectionScheduler?.notify(e);n;){n[ae]|=t;let r=Ii(n);if(Js(n)&&!r)return n;n=r}return null}function QS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function _V(n,e,t,r=!0){let i=e[he];if(EV(i,e,n,t),r){let s=zv(t,n),a=e[Ze],u=a.parentNode(n[Ci]);u!==null&&QF(i,n[Dn],a,e,u,s)}let o=e[Yc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Gv(n,e){if(n.length<=Qt)return;let t=Qt+e,r=n[t];if(r){let i=r[Di];i!==null&&i!==n&&C_(i,r),e>0&&(n[t-1][bn]=r[bn]);let o=Wc(n,Qt+e);KF(r[he],r);let s=o[or];s!==null&&s.detachView(o[he]),r[wt]=null,r[bn]=null,r[ae]&=-129}return r}function EV(n,e,t,r){let i=Qt+r,o=t.length;r>0&&(t[i-1][bn]=e),r<o-Qt?(e[bn]=t[i],qy(t,Qt+r,e)):(t.push(e),e[bn]=null),e[wt]=t;let s=e[Di];s!==null&&t!==s&&YS(s,e);let a=e[or];a!==null&&a.insertView(n),Ih(e),e[ae]|=128}function YS(n,e){let t=n[No],r=e[wt];if(sr(r))n[ae]|=2;else{let i=r[wt][Cn];e[Cn]!==i&&(n[ae]|=2)}t===null?n[No]=[e]:t.push(e)}var Mi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[he];return du(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Bt]}set context(e){this._lView[Bt]=e}get destroyed(){return Mo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[wt];if(Bn(e)){let t=e[Xc],r=t?t.indexOf(this):-1;r>-1&&(Gv(e,r),Wc(t,r))}this._attachedToViewContainer=!1}VS(this._lView[he],this._lView)}onDestroy(e){cv(this._lView,e)}markForCheck(){R_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ae]&=-129}reattach(){Ih(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,A_(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[So].get(GF,RC)}catch{this.exhaustive=RC}}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Js(this._lView),t=this._lView[Di];t!==null&&!e&&C_(t,this._lView),FS(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let t=Js(this._lView),r=this._lView[Di];r!==null&&!t&&YS(r,this._lView),Ih(this._lView)}};var ki=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=IV;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=qF(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Mi(o)}}return n})();function IV(){return lf(Tt(),Ee())}function lf(n,e){return n.type&4?new ki(e,n,sa(n,e)):null}function df(n,e,t,r,i){let o=n.data[e];if(o===null)o=wV(n,e,t,r,i),aC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=rC();o.injectorIndex=s===null?-1:s.injectorIndex}return Ai(o,!0),o}function wV(n,e,t,r,i){let o=dv(),s=Th(),a=s?o:o&&o.parent,u=n.data[e]=bV(n,a,t,e,r,i);return TV(n,u,o,s),u}function TV(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function bV(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return eC()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var uZ=new RegExp(`^(\\d+)*(${JL}|${ZL})*(.*)`);var DV=()=>null;function NC(n,e){return DV(n,e)}var ZS=class{},hf=class{},Wv=class{resolveComponentFactory(e){throw new U(917,!1)}},mu=class{static NULL=new Wv},Fo=class{},Ur=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>CV()}return n})();function CV(){let n=Ee(),e=Tt(),t=An(e.index,n);return(sr(t)?t:n)[Ze]}var JS=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var Fh={},Kv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Fh,r);return i!==Fh||t===Fh?i:this.parentInjector.get(e,t,r)}};function Qv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Py(i,a);else if(o==2){let u=a,l=e[++s];r=Py(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function W(n,e=0){let t=Ee();if(t===null)return q(n,e);let r=Tt();return uS(r,t,kt(n),e)}function x_(){let n="invalid";throw new Error(n)}function N_(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}RV(n,e,t,a,o,u,l)}o!==null&&r!==null&&SV(t,r,o)}function SV(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function AV(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function RV(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&ar(y)&&(u=!0,AV(n,t,g)),Vv($h(t,e),n,y.type)}OV(t,n.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=kS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=na(t.mergedAttrs,y.hostAttrs),NV(n,t,e,p,y),PV(p,y,i),s!==null&&s.has(y)){let[M,x]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,x+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}xV(n,t,o)}function xV(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))MC(0,e,i,r),MC(1,e,i,r),PC(e,r,!1);else{let o=t.get(i);kC(0,e,o,r),kC(1,e,o,r),PC(e,r,!0)}}}function MC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),XS(e,o)}}function kC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),XS(e,s)}}function XS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function PC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||m_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function NV(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ei(i.type,!0)),s=new Lo(o,ar(i),W);n.blueprint[r]=s,t[r]=s,MV(n,e,r,kS(n,t,i.hostVars,Rn),i)}function MV(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;kV(s)!=a&&s.push(a),s.push(t,r,o)}}function kV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function PV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ar(e)&&(t[""]=n)}}function OV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function eA(n,e,t,r,i,o,s,a){let u=e.consts,l=ko(u,s),h=df(e,n,2,r,l);return o&&N_(e,t,h,ko(u,a),i),h.mergedAttrs=na(h.mergedAttrs,h.attrs),h.attrs!==null&&Qv(h,h.attrs,!1),h.mergedAttrs!==null&&Qv(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function tA(n,e){u_(n,e),yh(e)&&n.queries.elementEnd(e)}function M_(n){return rA(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function nA(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function rA(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function k_(n,e,t){return n[e]=t}function LV(n,e){return n[e]}function Pi(n,e,t){if(t===Rn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function iA(n,e,t,r){let i=Pi(n,e,t);return Pi(n,e+1,r)||i}function Rv(n,e,t){return function r(i){let o=Si(n)?An(n.index,e):e;R_(o,5);let s=e[Bt],a=OC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=OC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function OC(n,e,t,r){let i=pe(null);try{return Pe(6,e,t),t(r)!==!1}catch(o){return BF(n,o),!1}finally{Pe(7,e,t),pe(i)}}function FV(n,e,t,r,i,o,s,a){let u=eu(n),l=!1,h=null;if(!r&&u&&(h=VV(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=$n(n,t),g=r?r(p):p;eF(t,g,o,a);let y=i.listen(g,o,a),S=r?M=>r(Sn(M[n.index])):n.index;oA(S,e,t,o,a,y,!1)}return l}function VV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ys],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function oA(n,e,t,r,i,o,s){let a=e.firstCreatePass?lv(e):null,u=uv(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function LC(n,e,t,r,i,o){let s=e[t],a=e[he],l=a.data[t].outputs[r],p=s[l].subscribe(o);oA(n.index,a,e,i,o,p,!0)}var Yv=Symbol("BINDING");var Gh=class extends mu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Or(e);return new Vo(t,this.ngModule)}};function jV(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&sf.SignalBased)!==0};return i&&(o.transform=i),o})}function UV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function BV(n,e,t){let r=e instanceof Ge?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Kv(t,r):t}function $V(n){let e=n.get(Fo,null);if(e===null)throw new U(407,!1);let t=n.get(JS,null),r=n.get(kr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function HV(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return RS(e,t,t==="svg"?rv:t==="math"?qD:null)}var Vo=class extends hf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=jV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=UV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=vF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Pe(22);let a=pe(null);try{let u=this.componentDef,l=zV(r,u,s,o),h=BV(u,i||this.ngModule,e),p=$V(h),g=p.rendererFactory.createRenderer(null,u),y=r?RF(g,r,u.encapsulation,h):HV(u,g),S=s?.some(FC)||o?.some(V=>typeof V!="function"&&V.bindings.some(FC)),M=v_(null,l,null,512|MS(u),null,null,p,g,h,null,ES(y,h,!0));M[$t]=y,Sh(M);let x=null;try{let V=eA($t,l,M,"#host",()=>l.directiveRegistry,!0,0);y&&(NS(g,y,V),aa(y,M)),af(l,M,V),f_(l,V,M),tA(l,V),t!==void 0&&GV(V,this.ngContentSelectors,t),x=An(V.index,M),M[Bt]=x[Bt],T_(l,M,null)}catch(V){throw x!==null&&Uv(x),Uv(M),V}finally{Pe(23),Ah()}return new Wh(this.componentType,M,!!S)}finally{pe(a)}}};function zV(n,e,t,r){let i=n?["ng-version","20.0.4"]:_F(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Yv].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[Yv].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=Qy(p);u.push(g)}return y_(0,null,qV(o,s),1,a,u,null,null,null,[i],null)}function qV(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function FC(n){let e=n[Yv].kind;return e==="input"||e==="twoWay"}var Wh=class extends ZS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=vh(t[he],$t),this.location=sa(this._tNode,t),this.instance=An(this._tNode.index,t)[Bt],this.hostView=this.changeDetectorRef=new Mi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=w_(r,i[he],i,e,t);this.previousInputValues.set(e,t);let s=An(r.index,i);R_(s,1)}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function GV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Br=(()=>{class n{static __NG_ELEMENT_ID__=WV}return n})();function WV(){let n=Tt();return aA(n,Ee())}var KV=Br,sA=class extends KV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return sa(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){let e=l_(this._hostTNode,this._hostLView);if(rS(e)){let t=Uh(e,this._hostLView),r=jh(e),i=t[he].data[r+8];return new Oo(i,t)}else return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=VC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=NC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,AC(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!DL(e),l;if(u)l=t;else{let x=t||{};l=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef,s=x.directives,a=x.bindings}let h=u?e:new Vo(Or(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let V=(u?p:this.parentInjector).get(Ge,null);V&&(o=V)}let g=Or(h.componentType??{}),y=NC(this._lContainer,g?.id??null),S=y?.firstChild??null,M=h.create(p,i,S,o,s,a);return this.insertImpl(M.hostView,l,AC(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(WD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[wt],l=new sA(u,u[Dn],u[wt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return _V(s,i,o,r),e.attachToViewContainerRef(),qy(xv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=VC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Gv(this._lContainer,t);r&&(Wc(xv(this._lContainer),t),VS(r[he],r))}detach(e){let t=this._adjustIndex(e,-1),r=Gv(this._lContainer,t);return r&&Wc(xv(this._lContainer),t)!=null?new Mi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function VC(n){return n[Xc]}function xv(n){return n[Xc]||(n[Xc]=[])}function aA(n,e){let t,r=e[n.index];return Bn(r)?t=r:(t=QS(r,e,null,n),e[n.index]=t,__(e,t)),YV(t,e,n,r),new sA(t,n,e)}function QV(n,e){let t=n[Ze],r=t.createComment(""),i=$n(e,n),o=t.parentNode(i);return qh(t,o,r,t.nextSibling(i),!1),r}var YV=XV,ZV=()=>!1;function JV(n,e,t){return ZV(n,e,t)}function XV(n,e,t,r){if(n[Ci])return;let i;t.type&8?i=Sn(r):i=QV(e,t),n[Ci]=i}var Zv=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Jv=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)P_(e,t).matches!==null&&this.queries[t].setDirty()}},Xv=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=a2(e):this.predicate=e}},e_=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},t_=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,e2(t,o)),this.matchTNodeWithReadOption(e,t,Lh(t,e,o,!1,!1))}else r===ki?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Lh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===fn||i===Br||i===ki&&t.type&4)this.addMatch(t.index,-2);else{let o=Lh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function e2(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function t2(n,e){return n.type&11?sa(n,e):n.type&4?lf(n,e):null}function n2(n,e,t,r){return t===-1?t2(e,n):t===-2?r2(n,e,r):lu(n,n[he],t,e)}function r2(n,e,t){if(t===fn)return sa(e,n);if(t===ki)return lf(e,n);if(t===Br)return aA(e,n)}function cA(n,e,t,r){let i=e[or].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(n2(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function n_(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=cA(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Qt;p<h.length;p++){let g=h[p];g[Di]===g[wt]&&n_(g[he],g,l,r)}if(h[No]!==null){let p=h[No];for(let g=0;g<p.length;g++){let y=p[g];n_(y[he],y,l,r)}}}}}return r}function i2(n,e){return n[or].queries[e].queryList}function o2(n,e,t){let r=new Hh((t&4)===4);return YD(n,e,r,r.destroy),(e[or]??=new Jv).queries.push(new Zv(r))-1}function s2(n,e,t,r){let i=mt();if(i.firstCreatePass){let o=Tt();c2(i,new Xv(e,t,r),o.index),u2(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return o2(i,Ee(),t)}function a2(n){return n.split(",").map(e=>e.trim())}function c2(n,e,t){n.queries===null&&(n.queries=new e_),n.queries.track(new t_(e,t))}function u2(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function P_(n,e){return n.queries.getByIndex(e)}function l2(n,e){let t=n[he],r=P_(t,e);return r.crossesNgTemplate?n_(t,n,e,[]):cA(t,n,r,e)}var jC=new Set;function Bo(n){jC.has(n)||(jC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var jo=class{},ff=class{};var Kh=class extends jo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Gh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Ky(e);this._bootstrapComponents=SS(o.bootstrap),this._r3Injector=Ev(e,t,[{provide:jo,useValue:this},{provide:mu,useValue:this.componentFactoryResolver},...r],rn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qh=class extends ff{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Kh(this.moduleType,e,[])}};var hu=class extends jo{injector;componentFactoryResolver=new Gh(this);instance=null;constructor(e){super();let t=new bo([...e.providers,{provide:jo,useValue:this},{provide:mu,useValue:this.componentFactoryResolver}],e.parent||Qc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ca(n,e,t=null){return new hu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var d2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Yy(!1,t.type),i=r.length>0?ca([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(q(Ge))})}return n})();function yt(n){return ia(()=>{let e=uA(n),t=ie(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===d_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(d2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Vr.Emulated,styles:n.styles||dn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Bo("NgStandalone"),lA(t);let r=n.dependencies;return t.directiveDefs=UC(r,!1),t.pipeDefs=UC(r,!0),t.id=m2(t),t})}function h2(n){return Or(n)||Qy(n)}function f2(n){return n!==null}function zn(n){return ia(()=>({type:n.type,bootstrap:n.bootstrap||dn,declarations:n.declarations||dn,imports:n.imports||dn,exports:n.exports||dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function p2(n,e){if(n==null)return Ti;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=sf.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function g2(n){if(n==null)return Ti;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function bt(n){return ia(()=>{let e=uA(n);return lA(e),e})}function pf(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function uA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ti,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||dn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:p2(n.inputs,e),outputs:g2(n.outputs),debugInfo:null}}function lA(n){n.features?.forEach(e=>e(n))}function UC(n,e){if(!n)return null;let t=e?jD:h2;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(f2)}function m2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function y2(n){return Object.getPrototypeOf(n.prototype).constructor}function $r(n){let e=y2(n.type),t=!0,r=[n];for(;e;){let i;if(ar(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Nv(n.inputs),s.declaredInputs=Nv(n.declaredInputs),s.outputs=Nv(n.outputs);let a=i.hostBindings;a&&w2(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&E2(n,u),l&&I2(n,l),v2(n,i),ND(n.outputs,i.outputs),ar(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===$r&&(t=!1)}}e=Object.getPrototypeOf(e)}_2(r)}function v2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function _2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=na(i.hostAttrs,t=na(t,i.hostAttrs))}}function Nv(n){return n===Ti?{}:n===dn?[]:n}function E2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function I2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function w2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function T2(n,e,t,r,i,o,s,a,u){let l=e.consts,h=df(e,n,4,s||null,a||null);wh()&&N_(e,t,h,ko(l,u),I_),h.mergedAttrs=na(h.mergedAttrs,h.attrs),u_(e,h);let p=h.tView=y_(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function b2(n,e,t,r,i,o,s,a,u,l,h){let p=t+$t,g=e.firstCreatePass?T2(p,e,n,r,i,o,s,a,l):e.data[p];u&&(g.flags|=u),Ai(g,!1);let y=D2(e,n,g,t);iu()&&cf(e,n,y,g),aa(y,n);let S=QS(y,n,y,g);return n[p]=S,__(n,S),JV(S,g,n),eu(g)&&af(e,n,g),l!=null&&E_(n,g,h),g}function Se(n,e,t,r,i,o,s,a){let u=Ee(),l=mt(),h=ko(l.consts,o);return b2(u,l,n,e,t,r,i,h,void 0,s,a),Se}var D2=C2;function C2(n,e,t,r){return ou(!0),e[Ze].createComment("")}var gf=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(gf||{}),$o=new H(""),dA=!1,r_=class extends rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Xy()&&(this.destroyRef=k(Lr,{optional:!0})??void 0,this.pendingTasks=k(Fr,{optional:!0})??void 0)}emit(e){let t=pe(null);try{super.next(e)}finally{pe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Qe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},st=r_;function hA(n){let e,t;function r(){n=au;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function BC(n){return queueMicrotask(()=>n()),()=>{n=au}}var O_="isAngularZone",Yh=O_+"_ID",S2=0,Re=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new st(!1);onMicrotaskEmpty=new st(!1);onStable=new st(!1);onError=new st(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=dA}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,x2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(O_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,A2,au,au);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},A2={};function L_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function R2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){hA(()=>{n.callbackScheduled=!1,i_(n),n.isCheckStableRunning=!0,L_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),i_(n)}function x2(n){let e=()=>{R2(n)},t=S2++;n._inner=n._inner.fork({name:"angular",properties:{[O_]:!0,[Yh]:t,[Yh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(N2(u))return r.invokeTask(o,s,a,u);try{return $C(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),HC(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return $C(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!M2(u)&&e(),HC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,i_(n),L_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function i_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function $C(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function HC(n){n._nesting--,L_(n)}var Zh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new st;onMicrotaskEmpty=new st;onStable=new st;onError=new st;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function N2(n){return fA(n,"__ignore_ng_zone__")}function M2(n){return fA(n,"__scheduler_tick__")}function fA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var F_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),pA=[0,1,2,3],gA=(()=>{class n{ngZone=k(Re);scheduler=k(kr);errorHandler=k(jn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){k($o,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Pe(16),this.executing=!0;for(let r of pA)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Pe(17)}register(t){let{view:r}=t;r!==void 0?((r[xo]??=[]).push(t),Xs(r),r[ae]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(gf.AFTER_NEXT_RENDER,t):t()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),Jh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[xo];e&&(this.view[xo]=e.filter(t=>t!==this))}};function mf(n,e){!e?.injector&&ev(mf);let t=e?.injector??k(Ye);return Bo("NgAfterNextRender"),P2(n,t,e,!0)}function k2(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function P2(n,e,t,r){let i=e.get(F_);i.impl??=e.get(gA);let o=e.get($o,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Lr):null,a=e.get(xh,null,{optional:!0}),u=new Jh(i.impl,k2(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var V_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var j_=new H("");function Hr(n){return!!n&&typeof n.then=="function"}function yf(n){return!!n&&typeof n.subscribe=="function"}var U_=new H("");function vf(n){return on([{provide:U_,multi:!0,useValue:n}])}var B_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=k(U_,{optional:!0})??[];injector=k(Ye);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ut(this.injector,i);if(Hr(o))t.push(o);else if(yf(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yu=new H("");function mA(){ry(()=>{let n="";throw new U(600,n)})}function yA(n){return n.isBoundToModule}var O2=10;var Ho=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=k(Yt);afterRenderManager=k(F_);zonelessEnabled=k(su);rootEffectScheduler=k(Dv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new rt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=k(Fr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ne(t=>!t))}constructor(){k($o,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=k(Ge);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ye.NULL){return this._injector.get(Re).run(()=>{Pe(10);let s=t instanceof hf;if(!this._injector.get(B_).done){let S="";throw new U(405,S)}let u;s?u=t:u=this._injector.get(mu).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=yA(u)?void 0:this._injector.get(jo),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(j_,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),uu(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),Pe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Pe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(gf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let t=pe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pe(t),this.afterTick.next(),Pe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Fo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<O2;)Pe(14),this.synchronizeOnce(),Pe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!tu(i))continue;let o=r&&!this.zonelessEnabled?0:1;A_(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>tu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;uu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(yu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>uu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function vu(n,e,t,r){let i=Ee(),o=ru();if(Pi(i,o,e)){let s=mt(),a=Rh();VF(a,i,n,e,t,r)}return vu}function re(n,e,t){let r=Ee(),i=ru();if(Pi(r,i,e)){let o=mt(),s=Rh();LS(s,r,n,e,r[Ze],t)}return re}function zC(n,e,t,r,i){w_(e,n,t,i?"class":"style",r)}function w(n,e,t,r){let i=Ee(),o=mt(),s=$t+n,a=i[Ze],u=o.firstCreatePass?eA(s,o,i,e,I_,wh(),t,r):o.data[s],l=L2(o,i,u,a,e,n);i[s]=l;let h=eu(u);return Ai(u,!0),NS(a,l,u),!D_(u)&&iu()&&cf(o,i,l,u),(ZD()===0||h)&&aa(l,i),JD(),h&&(af(o,i,u),f_(o,u,i)),r!==null&&E_(i,u),w}function b(){let n=Tt();Th()?hv():(n=n.parent,Ai(n,!1));let e=n;tC(e)&&nC(),XD();let t=mt();return t.firstCreatePass&&tA(t,e),e.classesWithoutHost!=null&&NL(e)&&zC(t,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ML(e)&&zC(t,e,Ee(),e.stylesWithoutHost,!1),b}function Q(n,e,t,r){return w(n,e,t,r),b(),Q}var L2=(n,e,t,r,i,o)=>(ou(!0),RS(r,i,gC()));function F2(n,e,t,r,i){let o=e.consts,s=ko(o,r),a=df(e,n,8,"ng-container",s);s!==null&&Qv(a,s,!0);let u=ko(o,i);return wh()&&N_(e,t,a,u,I_),a.mergedAttrs=na(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function ua(n,e,t){let r=Ee(),i=mt(),o=n+$t,s=i.firstCreatePass?F2(o,i,r,e,t):i.data[o];Ai(s,!0);let a=V2(i,r,s,n);return r[o]=a,iu()&&cf(i,r,a,s),aa(a,r),eu(s)&&(af(i,r,s),f_(i,s,r)),t!=null&&E_(r,s),ua}function la(){let n=Tt(),e=mt();return Th()?hv():(n=n.parent,Ai(n,!1)),e.firstCreatePass&&(u_(e,n),yh(n)&&e.queries.elementEnd(n)),la}var V2=(n,e,t,r)=>(ou(!0),wF(e[Ze],""));function lt(){return Ee()}var Po=void 0;function j2(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var U2=["en",[["a","p"],["AM","PM"],Po],[["AM","PM"],Po,Po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Po,"{1} 'at' {0}",Po],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",j2],Mv={};function pn(n){let e=B2(n),t=qC(e);if(t)return t;let r=e.split("-")[0];if(t=qC(r),t)return t;if(r==="en")return U2;throw new U(701,!1)}function qC(n){return n in Mv||(Mv[n]=Pr.ng&&Pr.ng.common&&Pr.ng.common.locales&&Pr.ng.common.locales[n]),Mv[n]}var at=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(at||{});function B2(n){return n.toLowerCase().replace(/_/g,"-")}var _u="en-US";var $2=_u;function vA(n){typeof n=="string"&&($2=n.toLowerCase().replace(/_/g,"-"))}function oe(n,e,t){let r=Ee(),i=mt(),o=Tt();return _A(i,r,r[Ze],o,n,e,t),oe}function _A(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Rv(r,e,o),FV(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=Rv(r,e,o),LC(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=Rv(r,e,o),LC(r,e,p,i,i,u)}}function Ie(n=1){return pC(n)}function $_(n,e,t,r){s2(n,e,t,r)}function H_(n){let e=Ee(),t=mt(),r=yv();Ch(r+1);let i=P_(t,r);if(n.dirty&&GD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=l2(e,r);n.reset(o,qL),n.notifyOnChanges()}return!0}return!1}function z_(){return i2(Ee(),yv())}function q_(n){let e=iC();return _h(e,$t+n)}function kh(n,e){return n<<17|e<<2}function Uo(n){return n>>17&32767}function H2(n){return(n&2)==2}function z2(n,e){return n&131071|e<<17}function o_(n){return n|2}function ra(n){return(n&131068)>>2}function kv(n,e){return n&-131069|e<<2}function q2(n){return(n&1)===1}function s_(n){return n|1}function G2(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Uo(s),u=ra(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Qs(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=Uo(n[a+1]);n[r+1]=kh(g,a),g!==0&&(n[g+1]=kv(n[g+1],r)),n[a+1]=z2(n[a+1],r)}else n[r+1]=kh(a,0),a!==0&&(n[a+1]=kv(n[a+1],r)),a=r;else n[r+1]=kh(u,0),a===0?a=r:n[u+1]=kv(n[u+1],r),u=r;l&&(n[r+1]=o_(n[r+1])),GC(n,h,r,!0),GC(n,h,r,!1),W2(e,h,n,r,o),s=kh(a,u),o?e.classBindings=s:e.styleBindings=s}function W2(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Qs(o,e)>=0&&(t[r+1]=s_(t[r+1]))}function GC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Uo(i):ra(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];K2(u,e)&&(a=!0,n[s+1]=r?s_(l):o_(l)),s=r?Uo(l):ra(l)}a&&(n[t+1]=r?o_(i):s_(i))}function K2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Qs(n,e)>=0:!1}function _f(n,e,t){return EA(n,e,t,!1),_f}function zo(n,e){return EA(n,e,null,!0),zo}function EA(n,e,t,r){let i=Ee(),o=mt(),s=mv(2);if(o.firstUpdatePass&&Y2(o,n,s,r),e!==Rn&&Pi(i,s,e)){let a=o.data[Ri()];tj(o,a,i,i[Ze],n,i[s+1]=nj(e,t),r,s)}}function Q2(n,e){return e>=n.expandoStartIndex}function Y2(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ri()],s=Q2(n,t);rj(o,r)&&e===null&&!s&&(e=!1),e=Z2(i,o,e,r),G2(i,o,e,t,s,r)}}function Z2(n,e,t,r){let i=lC(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Pv(null,n,e,t,r),t=fu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Pv(i,n,e,t,r),o===null){let u=J2(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Pv(null,n,e,u[1],r),u=fu(u,e.attrs,r),X2(n,e,r,u))}else o=ej(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function J2(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ra(r)!==0)return n[Uo(r)]}function X2(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Uo(i)]=r}function ej(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=fu(r,s,t)}return fu(r,e.attrs,t)}function Pv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=fu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function fu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),VD(n,s,t?!0:e[++o]))}return n===void 0?null:n}function tj(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=q2(l)?WC(u,e,t,i,ra(l),s):void 0;if(!Xh(h)){Xh(o)||H2(l)&&(o=WC(u,null,t,i,a,s));let p=iv(Ri(),t);sV(r,s,p,i,o)}}function WC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===Rn&&(g=p?dn:void 0);let y=p?gh(g,r):h===r?g:void 0;if(l&&!Xh(y)&&(y=gh(u,r)),Xh(y)&&(a=y,s))return a;let S=n[i+1];i=s?Uo(S):ra(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=gh(u,r))}return a}function Xh(n){return n!==void 0}function nj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=rn(gu(n)))),n}function rj(n,e){return(n.flags&(e?8:16))!==0}function P(n,e=""){let t=Ee(),r=mt(),i=n+$t,o=r.firstCreatePass?df(r,i,1,e,null):r.data[i],s=ij(r,t,o,e,n);t[i]=s,iu()&&cf(r,t,s,o),Ai(o,!1)}var ij=(n,e,t,r,i)=>(ou(!0),EF(e[Ze],r));function oj(n,e,t,r=""){return Pi(n,ru(),t)?e+Co(t)+r:Rn}function sj(n,e,t,r,i,o=""){let s=oC(),a=iA(n,s,t,i);return mv(2),a?e+Co(t)+r+Co(i)+o:Rn}function Ue(n){return vt("",n),Ue}function vt(n,e,t){let r=Ee(),i=oj(r,n,e,t);return i!==Rn&&IA(r,Ri(),i),vt}function Ef(n,e,t,r,i){let o=Ee(),s=sj(o,n,e,t,r,i);return s!==Rn&&IA(o,Ri(),s),Ef}function IA(n,e,t){let r=iv(e,n);IF(n[Ze],r,t)}function If(n,e,t){wv(e)&&(e=e());let r=Ee(),i=ru();if(Pi(r,i,e)){let o=mt(),s=Rh();LS(s,r,n,e,r[Ze],t)}return If}function G_(n,e){let t=wv(n);return t&&n.set(e),t}function wf(n,e){let t=Ee(),r=mt(),i=Tt();return _A(r,t,t[Ze],i,n,e),wf}function aj(n,e,t){let r=mt();if(r.firstCreatePass){let i=ar(n);a_(t,r.data,r.blueprint,i,!0),a_(e,r.data,r.blueprint,i,!1)}}function a_(n,e,t,r,i){if(n=kt(n),Array.isArray(n))for(let o=0;o<n.length;o++)a_(n[o],e,t,r,i);else{let o=mt(),s=Ee(),a=Tt(),u=To(n)?n:kt(n.provide),l=Jy(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(To(n)||!n.multi){let y=new Lo(l,i,W),S=Lv(u,e,i?h:h+g,p);S===-1?(Vv($h(a,s),o,u),Ov(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[S]=y,s[S]=y)}else{let y=Lv(u,e,h+g,p),S=Lv(u,e,h,h+g),M=y>=0&&t[y],x=S>=0&&t[S];if(i&&!x||!i&&!M){Vv($h(a,s),o,u);let V=lj(i?uj:cj,t.length,i,r,l);!i&&x&&(t[S].providerFactory=V),Ov(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=wA(t[i?S:y],l,!i&&r);Ov(o,n,y>-1?y:S,V)}!i&&r&&x&&t[S].componentProviders++}}}function Ov(n,e,t,r){let i=To(e),o=HD(e);if(i||o){let u=(o?kt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function wA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Lv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function cj(n,e,t,r){return c_(this.multi,[])}function uj(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=lu(t,t[he],this.providerFactory.index,r);o=a.slice(0,s),c_(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],c_(i,o);return o}function c_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function lj(n,e,t,r,i){let o=new Lo(n,t,W);return o.multi=[],o.index=e,o.componentProviders=0,wA(o,i,r&&!t),o}function Eu(n,e=[]){return t=>{t.providersResolver=(r,i)=>aj(r,i?i(n):n,e)}}function Tf(n,e,t){let r=bh()+n,i=Ee();return i[r]===Rn?k_(i,r,t?e.call(t):e()):LV(i,r)}function TA(n,e){let t=n[e];return t===Rn?void 0:t}function dj(n,e,t,r,i,o){let s=e+t;return Pi(n,s,i)?k_(n,s+1,o?r.call(o,i):r(i)):TA(n,s+1)}function hj(n,e,t,r,i,o,s){let a=e+t;return iA(n,a,i,o)?k_(n,a+2,s?r.call(s,i,o):r(i,o)):TA(n,a+2)}function Be(n,e){let t=mt(),r,i=n+$t;t.firstCreatePass?(r=fj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ei(r.type,!0)),s,a=Kt(W);try{let u=Bh(!1),l=o();return Bh(u),ov(t,Ee(),i,l),l}finally{Kt(a)}}function fj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function _t(n,e,t){let r=n+$t,i=Ee(),o=_h(i,r);return bA(i,r)?dj(i,bh(),e,o.transform,t,o):o.transform(t)}function Li(n,e,t,r){let i=n+$t,o=Ee(),s=_h(o,i);return bA(o,i)?hj(o,bh(),e,s.transform,t,r,s):s.transform(t,r)}function bA(n,e){return n[he].data[e].pure}function W_(n,e){return lf(n,e)}var ef=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},K_=(()=>{class n{compileModuleSync(t){return new Qh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Ky(t),o=SS(i.declarations).reduce((s,a)=>{let u=Or(a);return u&&s.push(new Vo(u)),s},[]);return new ef(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pj=(()=>{class n{zone=k(Re);changeDetectionScheduler=k(kr);applicationRef=k(Ho);applicationErrorHandler=k(Yt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DA=new H("",{factory:()=>!1});function Q_({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Re(ie(F({},Z_()),{scheduleInRootZone:t})),[{provide:Re,useFactory:n},{provide:bi,multi:!0,useFactory:()=>{let r=k(pj,{optional:!0});return()=>r.initialize()}},{provide:bi,multi:!0,useFactory:()=>{let r=k(gj);return()=>{r.initialize()}}},e===!0?{provide:Tv,useValue:!0}:[],{provide:bv,useValue:t??dA},{provide:Yt,useFactory:()=>{let r=k(Re),i=k(Ge),o;return s=>{o??=i.get(jn),r.runOutsideAngular(()=>o.handleError(s))}}}]}function Y_(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Q_({ngZoneFactory:()=>{let i=Z_(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Bo("NgZone_CoalesceEvent"),new Re(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return on([{provide:DA,useValue:!0},{provide:su,useValue:!1},r])}function Z_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var gj=(()=>{class n{subscription=new Qe;initialized=!1;zone=k(Re);pendingTasks=k(Fr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var CA=(()=>{class n{applicationErrorHandler=k(Yt);appRef=k(Ho);taskService=k(Fr);ngZone=k(Re);zonelessEnabled=k(su);tracing=k($o,{optional:!0});disableScheduling=k(Tv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Yh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(bv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Zh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?BC:hA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Yh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,BC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mj(){return typeof $localize<"u"&&$localize.locale||_u}var Iu=new H("",{providedIn:"root",factory:()=>k(Iu,{optional:!0,skipSelf:!0})||mj()});function an(n){return SD(n)}function da(n,e){return xd(n,e?.equal)}var SA=class{[jt];constructor(e){this[jt]=e}destroy(){this[jt].destroy()}};var MA=Symbol("InputSignalNode#UNSET"),Aj=ie(F({},Nd),{transformFn:void 0,applyValueToInputSignal(n,e){Ps(n,e)}});function kA(n,e){let t=Object.create(Aj);t.value=n,t.transformFn=e?.transform;function r(){if(Ms(t),t.value===MA){let i=null;throw new U(-950,i)}return t.value}return r[jt]=t,r}var Df=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>pu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Rj=new H("");Rj.__NG_ELEMENT_ID__=n=>{let e=Tt();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new U(204,!1)};function AA(n,e){return kA(n,e)}function xj(n){return kA(MA,n)}var PA=(AA.required=xj,AA);var qo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},OA=new qo("20.0.4");var J_=new H(""),Nj=new H("");function wu(n){return!n.moduleRef}function Mj(n){let e=wu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Re);return t.run(()=>{wu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Yt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),wu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(J_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(J_);s.add(o),n.moduleRef.onDestroy(()=>{uu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Pj(r,t,()=>{let o=e.get(B_);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Iu,_u);if(vA(s||_u),!e.get(Nj,!0))return wu(n)?e.get(Ho):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(wu(n)){let u=e.get(Ho);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return kj?.(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}var kj;function Pj(n,e,t){try{let r=t();return Hr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var bf=null;function Oj(n=[],e){return Ye.create({name:e,providers:[{provide:Kc,useValue:"platform"},{provide:J_,useValue:new Set([()=>bf=null])},...n]})}function Lj(n=[]){if(bf)return bf;let e=Oj(n);return bf=e,mA(),Fj(e),e}function Fj(n){let e=n.get(nf,null);ut(n,()=>{e?.forEach(t=>t())})}function r0(){return!1}var zr=(()=>{class n{static __NG_ELEMENT_ID__=Vj}return n})();function Vj(n){return jj(Tt(),Ee(),(n&16)===16)}function jj(n,e,t){if(Si(n)&&!t){let r=An(n.index,e);return new Mi(r,r)}else if(n.type&175){let r=e[Cn];return new Mi(r,e)}return null}var X_=class{constructor(){}supports(e){return M_(e)}create(e){return new e0(e)}},Uj=(n,e)=>e,e0=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Uj}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<RA(r,i,o)?t:r,a=RA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,S=y+g;h<=S&&S<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!M_(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,nA(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new t0(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Cf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Cf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},t0=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},n0=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Cf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new n0,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function RA(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function xA(){return new i0([new X_])}var i0=(()=>{class n{factories;static \u0275prov=B({token:n,providedIn:"root",factory:xA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||xA()),deps:[[n,new YC,new sn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new U(901,!1)}}return n})();function LA(n){Pe(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=Lj(r),o=[Q_({}),{provide:kr,useExisting:CA},yC,...t||[]],s=new hu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Mj({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Pe(9)}}function Go(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function FA(n){let e=Or(n);if(!e)return null;let t=new Vo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var UA=null;function xn(){return UA}function o0(n){UA??=n}var Tu=class{},bu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>k(BA),providedIn:"platform"})}return n})(),s0=new H(""),BA=(()=>{class n extends bu{_location;_history;_doc=k(Je);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xn().getBaseHref(this._doc)}onPopState(t){let r=xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Sf(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function VA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function qn(n){return n&&n[0]!=="?"?`?${n}`:n}var Gn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>k(Rf),providedIn:"root"})}return n})(),Af=new H(""),Rf=(()=>{class n extends Gn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Sf(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+qn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+qn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+qn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(q(bu),q(Af,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vi=(()=>{class n{_subject=new rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Hj(VA(jA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qn(r))}normalize(t){return n.stripTrailingSlash($j(this._basePath,jA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=qn;static joinWithSlash=Sf;static stripTrailingSlash=VA;static \u0275fac=function(r){return new(r||n)(q(Gn))};static \u0275prov=B({token:n,factory:()=>Bj(),providedIn:"root"})}return n})();function Bj(){return new Vi(q(Gn))}function $j(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function jA(n){return n.replace(/\/index.html$/,"")}function Hj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var h0=(()=>{class n extends Gn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Sf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+qn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+qn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(q(bu),q(Af,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var Ht=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ht||{}),Le=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Le||{}),cn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(cn||{}),Gr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qA(n){return pn(n)[at.LocaleId]}function GA(n,e,t){let r=pn(n),i=[r[at.DayPeriodsFormat],r[at.DayPeriodsStandalone]],o=Nn(i,e);return Nn(o,t)}function WA(n,e,t){let r=pn(n),i=[r[at.DaysFormat],r[at.DaysStandalone]],o=Nn(i,e);return Nn(o,t)}function KA(n,e,t){let r=pn(n),i=[r[at.MonthsFormat],r[at.MonthsStandalone]],o=Nn(i,e);return Nn(o,t)}function QA(n,e){let r=pn(n)[at.Eras];return Nn(r,e)}function Du(n,e){let t=pn(n);return Nn(t[at.DateFormat],e)}function Cu(n,e){let t=pn(n);return Nn(t[at.TimeFormat],e)}function Su(n,e){let r=pn(n)[at.DateTimeFormat];return Nn(r,e)}function Au(n,e){let t=pn(n),r=t[at.NumberSymbols][e];if(typeof r>"u"){if(e===Gr.CurrencyDecimal)return t[at.NumberSymbols][Gr.Decimal];if(e===Gr.CurrencyGroup)return t[at.NumberSymbols][Gr.Group]}return r}function YA(n){if(!n[at.ExtraData])throw new U(2303,!1)}function ZA(n){let e=pn(n);return YA(e),(e[at.ExtraData][2]||[]).map(r=>typeof r=="string"?a0(r):[a0(r[0]),a0(r[1])])}function JA(n,e,t){let r=pn(n);YA(r);let i=[r[at.ExtraData][0],r[at.ExtraData][1]],o=Nn(i,e)||[];return Nn(o,t)||[]}function Nn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new U(2304,!1)}function a0(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var zj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xf={},qj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function XA(n,e,t,r){let i=eU(n);e=qr(t,e)||e;let s=[],a;for(;e;)if(a=qj.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=tR(r,u),i=Xj(i,r));let l="";return s.forEach(h=>{let p=Zj(h);l+=p?p(i,t,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Of(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function qr(n,e){let t=qA(n);if(xf[t]??={},xf[t][e])return xf[t][e];let r="";switch(e){case"shortDate":r=Du(n,cn.Short);break;case"mediumDate":r=Du(n,cn.Medium);break;case"longDate":r=Du(n,cn.Long);break;case"fullDate":r=Du(n,cn.Full);break;case"shortTime":r=Cu(n,cn.Short);break;case"mediumTime":r=Cu(n,cn.Medium);break;case"longTime":r=Cu(n,cn.Long);break;case"fullTime":r=Cu(n,cn.Full);break;case"short":let i=qr(n,"shortTime"),o=qr(n,"shortDate");r=Nf(Su(n,cn.Short),[i,o]);break;case"medium":let s=qr(n,"mediumTime"),a=qr(n,"mediumDate");r=Nf(Su(n,cn.Medium),[s,a]);break;case"long":let u=qr(n,"longTime"),l=qr(n,"longDate");r=Nf(Su(n,cn.Long),[u,l]);break;case"full":let h=qr(n,"fullTime"),p=qr(n,"fullDate");r=Nf(Su(n,cn.Full),[h,p]);break}return r&&(xf[t][e]=r),r}function Nf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Wn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Gj(n,e){return Wn(n,3).substring(0,e)}function dt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=Wj(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return Gj(a,e);let u=Au(s,Gr.MinusSign);return Wn(a,e,u,r,i)}}function Wj(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new U(2301,!1)}}function Ve(n,e,t=Ht.Format,r=!1){return function(i,o){return Kj(i,o,n,e,t,r)}}function Kj(n,e,t,r,i,o){switch(t){case 2:return KA(e,i,r)[n.getMonth()];case 1:return WA(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=ZA(e),h=JA(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,S]=g,M=s>=y.hours&&a>=y.minutes,x=s<S.hours||s===S.hours&&a<S.minutes;if(y.hours<S.hours){if(M&&x)return!0}else if(M||x)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return GA(e,i,r)[s<12?0:1];case 3:return QA(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new U(2302,!1)}}function Mf(n){return function(e,t,r){let i=-1*r,o=Au(t,Gr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Wn(s,2,o)+Wn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Wn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Wn(s,2,o)+":"+Wn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Wn(s,2,o)+":"+Wn(Math.abs(i%60),2,o);default:throw new U(2302,!1)}}}var Qj=0,Pf=4;function Yj(n){let e=Of(n,Qj,1).getDay();return Of(n,0,1+(e<=Pf?Pf:Pf+7)-e)}function eR(n){let e=n.getDay(),t=e===0?-3:Pf-e;return Of(n.getFullYear(),n.getMonth(),n.getDate()+t)}function c0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=eR(t),s=Yj(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Wn(i,n,Au(r,Gr.MinusSign))}}function kf(n,e=!1){return function(t,r){let o=eR(t).getFullYear();return Wn(o,n,Au(r,Gr.MinusSign),e)}}var u0={};function Zj(n){if(u0[n])return u0[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ve(3,Le.Abbreviated);break;case"GGGG":e=Ve(3,Le.Wide);break;case"GGGGG":e=Ve(3,Le.Narrow);break;case"y":e=dt(0,1,0,!1,!0);break;case"yy":e=dt(0,2,0,!0,!0);break;case"yyy":e=dt(0,3,0,!1,!0);break;case"yyyy":e=dt(0,4,0,!1,!0);break;case"Y":e=kf(1);break;case"YY":e=kf(2,!0);break;case"YYY":e=kf(3);break;case"YYYY":e=kf(4);break;case"M":case"L":e=dt(1,1,1);break;case"MM":case"LL":e=dt(1,2,1);break;case"MMM":e=Ve(2,Le.Abbreviated);break;case"MMMM":e=Ve(2,Le.Wide);break;case"MMMMM":e=Ve(2,Le.Narrow);break;case"LLL":e=Ve(2,Le.Abbreviated,Ht.Standalone);break;case"LLLL":e=Ve(2,Le.Wide,Ht.Standalone);break;case"LLLLL":e=Ve(2,Le.Narrow,Ht.Standalone);break;case"w":e=c0(1);break;case"ww":e=c0(2);break;case"W":e=c0(1,!0);break;case"d":e=dt(2,1);break;case"dd":e=dt(2,2);break;case"c":case"cc":e=dt(7,1);break;case"ccc":e=Ve(1,Le.Abbreviated,Ht.Standalone);break;case"cccc":e=Ve(1,Le.Wide,Ht.Standalone);break;case"ccccc":e=Ve(1,Le.Narrow,Ht.Standalone);break;case"cccccc":e=Ve(1,Le.Short,Ht.Standalone);break;case"E":case"EE":case"EEE":e=Ve(1,Le.Abbreviated);break;case"EEEE":e=Ve(1,Le.Wide);break;case"EEEEE":e=Ve(1,Le.Narrow);break;case"EEEEEE":e=Ve(1,Le.Short);break;case"a":case"aa":case"aaa":e=Ve(0,Le.Abbreviated);break;case"aaaa":e=Ve(0,Le.Wide);break;case"aaaaa":e=Ve(0,Le.Narrow);break;case"b":case"bb":case"bbb":e=Ve(0,Le.Abbreviated,Ht.Standalone,!0);break;case"bbbb":e=Ve(0,Le.Wide,Ht.Standalone,!0);break;case"bbbbb":e=Ve(0,Le.Narrow,Ht.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ve(0,Le.Abbreviated,Ht.Format,!0);break;case"BBBB":e=Ve(0,Le.Wide,Ht.Format,!0);break;case"BBBBB":e=Ve(0,Le.Narrow,Ht.Format,!0);break;case"h":e=dt(3,1,-12);break;case"hh":e=dt(3,2,-12);break;case"H":e=dt(3,1);break;case"HH":e=dt(3,2);break;case"m":e=dt(4,1);break;case"mm":e=dt(4,2);break;case"s":e=dt(5,1);break;case"ss":e=dt(5,2);break;case"S":e=dt(6,1);break;case"SS":e=dt(6,2);break;case"SSS":e=dt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Mf(0);break;case"ZZZZZ":e=Mf(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Mf(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Mf(2);break;default:return null}return u0[n]=e,e}function tR(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Jj(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function Xj(n,e,t){let i=n.getTimezoneOffset(),o=tR(e,i);return Jj(n,-1*(o-i))}function eU(n){if($A(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Of(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(zj))return tU(r)}let e=new Date(n);if(!$A(e))throw new U(2302,!1);return e}function tU(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,u,l),e}function $A(n){return n instanceof Date&&!isNaN(n.valueOf())}var Lf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ha=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Lf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),HA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);HA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(W(Br),W(ki),W(i0))};static \u0275dir=bt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function HA(n,e){n.context.$implicit=e.item}var Zt=(()=>{class n{_viewContainer;_context=new Ff;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(W(Br),W(ki))};static \u0275dir=bt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Ff=class{$implicit=null;ngIf=null};function zA(n,e){if(n&&!n.createEmbeddedView)throw new U(2020,!1)}function nR(n,e){return new U(2100,!1)}var l0=class{createSubscription(e,t,r){return an(()=>e.subscribe({next:t,error:r}))}dispose(e){an(()=>e.unsubscribe())}},d0=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},nU=new d0,rU=new l0,Wr=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=k(Yt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Hr(t))return nU;if(yf(t))return rU;throw nR(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(W(zr,16))};static \u0275pipe=pf({name:"async",type:n,pure:!1})}return n})();var iU="mediumDate",rR=new H(""),iR=new H(""),Wo=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??iU,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return XA(t,s,o||this.locale,a)}catch(s){throw nR(n,s.message)}}static \u0275fac=function(r){return new(r||n)(W(Iu,16),W(rR,24),W(iR,24))};static \u0275pipe=pf({name:"date",type:n,pure:!0})}return n})();var Dt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=zn({type:n});static \u0275inj=Tn({})}return n})();function Ru(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ko=class{};var oR="browser",oU="server";function sR(n){return n===oU}var aR=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new f0(k(Je),window)})}return n})(),f0=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ie(F({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=sU(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ie(F({},t),{left:i-s[0],top:o-s[1]}))}};function sU(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Uf=new H(""),y0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(q(Uf),q(Re))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),xu=class{_doc;constructor(e){this._doc=e}manager},Vf="ng-app-id";function cR(n){for(let e of n)e.remove()}function uR(n,e){let t=e.createElement("style");return t.textContent=n,t}function aU(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Vf}="${e}"],link[${Vf}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Vf),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function g0(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var v0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=sR(o),aU(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,uR);r?.forEach(i=>this.addUsage(i,this.external,g0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(cR(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])cR(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,uR(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,g0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Vf,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(q(Je),q(tf),q(rf,8),q(Oi))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),p0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_0=/%COMP%/g;var dR="%COMP%",cU=`_nghost-${dR}`,uU=`_ngcontent-${dR}`,lU=!0,dU=new H("",{providedIn:"root",factory:()=>lU});function hU(n){return uU.replace(_0,n)}function fU(n){return cU.replace(_0,n)}function hR(n,e){return e.map(t=>t.replace(_0,n))}var E0=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Nu(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof jf?i.applyToHost(t):i instanceof Mu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Vr.Emulated:o=new jf(u,l,r,this.appId,h,s,a,p,g);break;case Vr.ShadowDom:return new m0(u,l,t,r,s,a,this.nonce,p,g);default:o=new Mu(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(q(y0),q(v0),q(tf),q(dU),q(Je),q(Oi),q(Re),q(rf),q($o,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Nu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(p0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(lR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(lR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=p0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=p0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(lr.DashCase|lr.Important)?e.style.setProperty(t,r,i&lr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&lr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=xn().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function lR(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var m0=class extends Nu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=hR(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=g0(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Mu=class extends Nu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?hR(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},jf=class extends Mu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=hU(h),this.hostAttr=fU(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Bf=class n extends Tu{supportsDOMEvents=!0;static makeCurrent(){o0(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=pU();return t==null?null:gU(t)}resetBaseElement(){ku=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ru(document.cookie,e)}},ku=null;function pU(){return ku=ku||document.head.querySelector("base"),ku?ku.getAttribute("href"):null}function gU(n){return new URL(n,document.baseURI).pathname}var mU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),pR=(()=>{class n extends xu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(q(Je))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),fR=["alt","control","meta","shift"],yU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},gR=(()=>{class n extends xu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),fR.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=yU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),fR.forEach(s=>{if(s!==i){let a=vU[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(q(Je))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function I0(n,e){return LA(F({rootComponent:n},_U(e)))}function _U(n){return{appProviders:[...bU,...n?.providers??[]],platformProviders:TU}}function EU(){Bf.makeCurrent()}function IU(){return new jn}function wU(){return h_(document),document}var TU=[{provide:Oi,useValue:oR},{provide:nf,useValue:EU,multi:!0},{provide:Je,useFactory:wU}];var bU=[{provide:Kc,useValue:"root"},{provide:jn,useFactory:IU},{provide:Uf,useClass:pR,multi:!0,deps:[Je]},{provide:Uf,useClass:gR,multi:!0,deps:[Je]},E0,v0,y0,{provide:Fo,useExisting:E0},{provide:Ko,useClass:mU},[]];var pa=class{},Pu=class{},Ui=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Hf=class{encodeKey(e){return mR(e)}encodeValue(e){return mR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function DU(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var CU=/%(\d[a-f0-9])/gi,SU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mR(n){return encodeURIComponent(n).replace(CU,(e,t)=>SU[t]??e)}function $f(n){return`${n}`}var Kr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Hf,e.fromString){if(e.fromObject)throw new U(2805,!1);this.map=DU(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map($f):[$f(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push($f(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf($f(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var zf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function AU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function yR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function vR(n){return typeof Blob<"u"&&n instanceof Blob}function _R(n){return typeof FormData<"u"&&n instanceof FormData}function RU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ER="Content-Type",IR="Accept",wR="X-Request-URL",TR="text/plain",bR="application/json",xU=`${bR}, ${TR}, */*`,fa=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(AU(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ui,this.context??=new zf,!this.params)this.params=new Kr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||yR(this.body)||vR(this.body)||_R(this.body)||RU(this.body)?this.body:this.body instanceof Kr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_R(this.body)?null:vR(this.body)?this.body.type||null:yR(this.body)?null:typeof this.body=="string"?TR:this.body instanceof Kr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?bR:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,u=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,p=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((y,S)=>y.set(S,e.setHeaders[S]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((y,S)=>y.set(S,e.setParams[S]),p)),new n(t,r,a,{params:p,headers:h,context:g,reportProgress:l,responseType:i,withCredentials:u,transferCache:s,keepalive:o})}},Qo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Qo||{}),ga=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Ui,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},qf=class n extends ga{constructor(e={}){super(e)}type=Qo.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ou=class n extends ga{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Qo.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Lu=class extends ga{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},NU=200,MU=204;function w0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive}}var ma=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof fa)o=t;else{let u;i.headers instanceof Ui?u=i.headers:u=new Ui(i.headers);let l;i.params&&(i.params instanceof Kr?l=i.params:l=new Kr({fromObject:i.params})),o=new fa(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let s=K(o).pipe(rr(u=>this.handler.handle(u)));if(t instanceof fa||i.observe==="events")return s;let a=s.pipe(Mt(u=>u instanceof Ou));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ne(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new U(2806,!1);return u.body}));case"blob":return a.pipe(ne(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new U(2807,!1);return u.body}));case"text":return a.pipe(ne(u=>{if(u.body!==null&&typeof u.body!="string")throw new U(2808,!1);return u.body}));case"json":default:return a.pipe(ne(u=>u.body))}case"response":return a;default:throw new U(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Kr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,w0(i,r))}post(t,r,i={}){return this.request("POST",t,w0(i,r))}put(t,r,i={}){return this.request("PUT",t,w0(i,r))}static \u0275fac=function(r){return new(r||n)(q(pa))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var kU=new H("");function PU(n,e){return e(n)}function OU(n,e,t){return(r,i)=>ut(t,()=>e(r,o=>n(o,i)))}var DR=new H(""),CR=new H(""),SR=new H("",{providedIn:"root",factory:()=>!0});var Gf=(()=>{class n extends pa{backend;injector;chain=null;pendingTasks=k(Ni);contributeToStability=k(SR);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(DR),...this.injector.get(CR,[])]));this.chain=r.reduceRight((i,o)=>OU(i,o,this.injector),PU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Eo(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(q(Pu),q(Ge))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var LU=/^\)\]\}',?\n/,FU=RegExp(`^${wR}:`,"m");function VU(n){return"responseURL"in n&&n.responseURL?n.responseURL:FU.test(n.getAllResponseHeaders())?n.getResponseHeader(wR):null}var T0=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new U(-2800,!1);t.keepalive;let r=this.xhrFactory;return(r.\u0275loadImpl?ge(r.\u0275loadImpl()):K(null)).pipe(Oe(()=>new J(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,x)=>s.setRequestHeader(M,x.join(","))),t.headers.has(IR)||s.setRequestHeader(IR,xU),!t.headers.has(ER)){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader(ER,M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let M=s.statusText||"OK",x=new Ui(s.getAllResponseHeaders()),V=VU(s)||t.url;return u=new qf({headers:x,status:s.status,statusText:M,url:V}),u},h=()=>{let{headers:M,status:x,statusText:V,url:te}=l(),Y=null;x!==MU&&(Y=typeof s.response>"u"?s.responseText:s.response),x===0&&(x=Y?NU:0);let xe=x>=200&&x<300;if(t.responseType==="json"&&typeof Y=="string"){let xt=Y;Y=Y.replace(LU,"");try{Y=Y!==""?JSON.parse(Y):null}catch(Ne){Y=xt,xe&&(xe=!1,Y={error:Ne,text:Y})}}xe?(o.next(new Ou({body:Y,headers:M,status:x,statusText:V,url:te||void 0})),o.complete()):o.error(new Lu({error:Y,headers:M,status:x,statusText:V,url:te||void 0}))},p=M=>{let{url:x}=l(),V=new Lu({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(V)},g=!1,y=M=>{g||(o.next(l()),g=!0);let x={type:Qo.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(x.total=M.total),t.responseType==="text"&&s.responseText&&(x.partialText=s.responseText),o.next(x)},S=M=>{let x={type:Qo.UploadProgress,loaded:M.loaded};M.lengthComputable&&(x.total=M.total),o.next(x)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:Qo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(q(Ko))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),AR=new H(""),jU="XSRF-TOKEN",UU=new H("",{providedIn:"root",factory:()=>jU}),BU="X-XSRF-TOKEN",$U=new H("",{providedIn:"root",factory:()=>BU}),Fu=class{},HU=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ru(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(q(Je),q(UU))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function zU(n,e){let t=n.url.toLowerCase();if(!k(AR)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=k(Fu).getToken(),i=k($U);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function b0(...n){let e=[ma,T0,Gf,{provide:pa,useExisting:Gf},{provide:Pu,useFactory:()=>k(kU,{optional:!0})??k(T0)},{provide:DR,useValue:zU,multi:!0},{provide:AR,useValue:!0},{provide:Fu,useClass:HU}];for(let t of n)e.push(...t.\u0275providers);return on(e)}var xR=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(q(Je))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fe="primary",Yu=Symbol("RouteTitle"),R0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Jo(n){return new R0(n)}function VR(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function GU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!dr(n[t],e[t]))return!1;return!0}function dr(n,e){let t=n?x0(n):void 0,r=e?x0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!jR(n[i],e[i]))return!1;return!0}function x0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function UR(n){return n.length>0?n[n.length-1]:null}function Qr(n){return yy(n)?n:Hr(n)?ge(Promise.resolve(n)):K(n)}var WU={exact:$R,subset:HR},BR={exact:KU,subset:QU,ignored:()=>!0};function NR(n,e,t){return WU[t.paths](n.root,e.root,t.matrixParams)&&BR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function KU(n,e){return dr(n,e)}function $R(n,e,t){if(!Yo(n.segments,e.segments)||!Qf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!$R(n.children[r],e.children[r],t))return!1;return!0}function QU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jR(n[t],e[t]))}function HR(n,e,t){return zR(n,e,e.segments,t)}function zR(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Yo(i,t)||e.hasChildren()||!Qf(i,t,r))}else if(n.segments.length===t.length){if(!Yo(n.segments,t)||!Qf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!HR(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Yo(n.segments,i)||!Qf(n.segments,i,r)||!n.children[fe]?!1:zR(n.children[fe],e,o,r)}}function Qf(n,e,t){return e.every((r,i)=>BR[t](n[i].parameters,r.parameters))}var fr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Jo(this.queryParams),this._queryParamMap}toString(){return JU.serialize(this)}},Me=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yf(this)}},Bi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Jo(this.parameters),this._parameterMap}toString(){return GR(this)}};function YU(n,e){return Yo(n,e)&&n.every((t,r)=>dr(t.parameters,e[r].parameters))}function Yo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function ZU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===fe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==fe&&(t=t.concat(e(i,r)))}),t}var Xo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new $i,providedIn:"root"})}return n})(),$i=class{parse(e){let t=new M0(e);return new fr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Vu(e.root,!0)}`,r=tB(e.queryParams),i=typeof e.fragment=="string"?`#${XU(e.fragment)}`:"";return`${t}${r}${i}`}},JU=new $i;function Yf(n){return n.segments.map(e=>GR(e)).join("/")}function Vu(n,e){if(!n.hasChildren())return Yf(n);if(e){let t=n.children[fe]?Vu(n.children[fe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==fe&&r.push(`${i}:${Vu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=ZU(n,(r,i)=>i===fe?[Vu(n.children[fe],!1)]:[`${i}:${Vu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[fe]!=null?`${Yf(n)}/${t[0]}`:`${Yf(n)}/(${t.join("//")})`}}function qR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wf(n){return qR(n).replace(/%3B/gi,";")}function XU(n){return encodeURI(n)}function N0(n){return qR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zf(n){return decodeURIComponent(n)}function MR(n){return Zf(n.replace(/\+/g,"%20"))}function GR(n){return`${N0(n.path)}${eB(n.parameters)}`}function eB(n){return Object.entries(n).map(([e,t])=>`;${N0(e)}=${N0(t)}`).join("")}function tB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Wf(t)}=${Wf(i)}`).join("&"):`${Wf(t)}=${Wf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var nB=/^[^\/()?;#]+/;function D0(n){let e=n.match(nB);return e?e[0]:""}var rB=/^[^\/()?;=#]+/;function iB(n){let e=n.match(rB);return e?e[0]:""}var oB=/^[^=?&#]+/;function sB(n){let e=n.match(oB);return e?e[0]:""}var aB=/^[^&#]+/;function cB(n){let e=n.match(aB);return e?e[0]:""}var M0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[fe]=new Me(e,t)),r}parseSegment(){let e=D0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Bi(Zf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=iB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=D0(this.remaining);i&&(r=i,this.capture(r))}e[Zf(t)]=Zf(r)}parseQueryParam(e){let t=sB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=cB(this.remaining);s&&(r=s,this.capture(r))}let i=MR(t),o=MR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=D0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[fe]:new Me([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function WR(n){return n.segments.length>0?new Me([],{[fe]:n}):n}function KR(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=KR(i);if(r===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Me(n.segments,e);return uB(t)}function uB(n){if(n.numberOfChildren===1&&n.children[fe]){let e=n.children[fe];return new Me(n.segments.concat(e.segments),e.children)}return n}function Hi(n){return n instanceof fr}function QR(n,e,t=null,r=null){let i=YR(n);return ZR(i,e,t,r)}function YR(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Me(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=WR(r);return e??i}function ZR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return C0(i,i,i,t,r);let o=lB(e);if(o.toRoot())return C0(i,i,new Me([],{}),t,r);let s=dB(o,i,n),a=s.processChildren?Uu(s.segmentGroup,s.index,o.commands):XR(s.segmentGroup,s.index,o.commands);return C0(i,s.segmentGroup,a,t,r)}function Jf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function $u(n){return typeof n=="object"&&n!=null&&n.outlets}function C0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=JR(n,e,t);let a=WR(KR(s));return new fr(a,o,i)}function JR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=JR(o,e,t)}),new Me(n.segments,r)}var Xf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Jf(r[0]))throw new U(4003,!1);let i=r.find($u);if(i&&i!==UR(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Xf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Xf(t,e,r)}var _a=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function dB(n,e,t){if(n.isAbsolute)return new _a(e,!0,0);if(!t)return new _a(e,!1,NaN);if(t.parent===null)return new _a(t,!0,0);let r=Jf(n.commands[0])?0:1,i=t.segments.length-1+r;return hB(t,i,n.numberOfDoubleDots)}function hB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new _a(r,!1,i-o)}function fB(n){return $u(n[0])?n[0].outlets:{[fe]:n}}function XR(n,e,t){if(n??=new Me([],{}),n.segments.length===0&&n.hasChildren())return Uu(n,e,t);let r=pB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Me(n.segments.slice(0,r.pathIndex),{});return o.children[fe]=new Me(n.segments.slice(r.pathIndex),n.children),Uu(o,0,i)}else return r.match&&i.length===0?new Me(n.segments,{}):r.match&&!n.hasChildren()?k0(n,e,t):r.match?Uu(n,0,i):k0(n,e,t)}function Uu(n,e,t){if(t.length===0)return new Me(n.segments,{});{let r=fB(t),i={};if(Object.keys(r).some(o=>o!==fe)&&n.children[fe]&&n.numberOfChildren===1&&n.children[fe].segments.length===0){let o=Uu(n.children[fe],e,t);return new Me(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=XR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Me(n.segments,i)}}function pB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if($u(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!PR(u,l,s))return o;r+=2}else{if(!PR(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function k0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if($u(o)){let u=gB(o.outlets);return new Me(r,u)}if(i===0&&Jf(t[0])){let u=n.segments[e];r.push(new Bi(u.path,kR(t[0]))),i++;continue}let s=$u(o)?o.outlets[fe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Jf(a)?(r.push(new Bi(s,kR(a))),i+=2):(r.push(new Bi(s,{})),i++)}return new Me(r,{})}function gB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=k0(new Me([],{}),0,r))}),e}function kR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function PR(n,e,t){return n==t.path&&dr(e,t.parameters)}var Ea="imperative",Et=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Et||{}),mn=class{id;url;constructor(e,t){this.id=e,this.url=t}},zi=class extends mn{type=Et.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yn=class extends mn{urlAfterRedirects;type=Et.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(Jt||{}),wa=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(wa||{}),hr=class extends mn{reason;code;type=Et.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pr=class extends mn{reason;code;type=Et.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ta=class extends mn{error;target;type=Et.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hu=class extends mn{urlAfterRedirects;state;type=Et.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class extends mn{urlAfterRedirects;state;type=Et.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tp=class extends mn{urlAfterRedirects;state;shouldActivate;type=Et.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},np=class extends mn{urlAfterRedirects;state;type=Et.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rp=class extends mn{urlAfterRedirects;state;type=Et.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ip=class{route;type=Et.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},op=class{route;type=Et.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sp=class{snapshot;type=Et.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ap=class{snapshot;type=Et.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cp=class{snapshot;type=Et.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},up=class{snapshot;type=Et.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ba=class{routerEvent;position;anchor;type=Et.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},zu=class{},Da=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function mB(n){return!(n instanceof zu)&&!(n instanceof Da)}function yB(n,e){return n.providers&&!n._injector&&(n._injector=ca(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Kn(n){return n.outlet||fe}function vB(n,e){let t=n.filter(r=>Kn(r)===e);return t.push(...n.filter(r=>Kn(r)!==e)),t}function Zu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var lp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Zu(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new es(this.rootInjector)}},es=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new lp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(q(Ge))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=P0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=P0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=O0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return O0(e,this._root).map(t=>t.value)}};function P0(n,e){if(n===e.value)return e;for(let t of e.children){let r=P0(n,t);if(r)return r}return null}function O0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=O0(n,t);if(r.length)return r.unshift(e),r}return[]}var gn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function va(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var qu=class extends dp{snapshot;constructor(e,t){super(e),this.snapshot=t,H0(this,e)}toString(){return this.snapshot.toString()}};function ex(n){let e=_B(n),t=new it([new Bi("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),a=new Mn(t,r,o,s,i,fe,n,e.root);return a.snapshot=e.root,new qu(new gn(a,[]),e)}function _B(n){let e={},t={},r={},i="",o=new Zo([],e,r,i,t,fe,n,null,{});return new Gu("",new gn(o,[]))}var Mn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[Yu]))??K(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>Jo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>Jo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&nx(i)&&(r.resolve[Yu]=i.title),r}var Zo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Yu]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Gu=class extends dp{url;constructor(e,t){super(t),this.url=e,H0(this,t)}toString(){return tx(this._root)}};function H0(n,e){e.value._routerState=n,e.children.forEach(t=>H0(n,t))}function tx(n){let e=n.children.length>0?` { ${n.children.map(tx).join(", ")} } `:"";return`${n.value}${e}`}function S0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,dr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),dr(e.params,t.params)||n.paramsSubject.next(t.params),GU(e.url,t.url)||n.urlSubject.next(t.url),dr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function L0(n,e){let t=dr(n.params,e.params)&&YU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||L0(n.parent,e.parent))}function nx(n){return typeof n.title=="string"||n.title===null}var rx=new H(""),Ju=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=fe;activateEvents=new st;deactivateEvents=new st;attachEvents=new st;detachEvents=new st;routerOutletData=PA(void 0);parentContexts=k(es);location=k(Br);changeDetector=k(zr);inputBinder=k(Xu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new F0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=bt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[jr]})}return n})(),F0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Mn?this.route:e===es?this.childContexts:e===rx?this.outletData:this.parent.get(e,t)}},Xu=new H(""),z0=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Uc([r.queryParams,r.params,r.data]).pipe(Oe(([o,s,a],u)=>(a=F(F(F({},o),s),a),u===0?K(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=FA(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),q0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=yt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Q(0,"router-outlet")},dependencies:[Ju],encapsulation:2})}return n})();function G0(n){let e=n.children&&n.children.map(G0),t=e?ie(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==fe&&(t.component=q0),t}function EB(n,e,t){let r=Wu(n,e._root,t?t._root:void 0);return new qu(r,e)}function Wu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=IB(n,e,t);return new gn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wu(n,a)),s}}let r=wB(e.value),i=e.children.map(o=>Wu(n,o));return new gn(r,i)}}function IB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wu(n,r,i);return Wu(n,r)})}function wB(n){return new Mn(new it(n.url),new it(n.params),new it(n.queryParams),new it(n.fragment),new it(n.data),n.outlet,n.component,n)}var Ca=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},ix="ngNavigationCancelingError";function fp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Hi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ox(!1,Jt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ox(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[ix]=!0,t.cancellationCode=e,t}function TB(n){return sx(n)&&Hi(n.url)}function sx(n){return!!n&&n[ix]}var bB=(n,e,t,r)=>ne(i=>(new V0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),V0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),S0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=va(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=va(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=va(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=va(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new up(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ap(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(S0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),S0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},pp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ia=class{component;route;constructor(e,t){this.component=e,this.route=t}};function DB(n,e,t){let r=n._root,i=e?e._root:null;return ju(r,i,t,[r.value])}function CB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Aa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Ly(n)?n:e.get(n):r}function ju(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=va(e);return n.children.forEach(s=>{SB(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Bu(a,t.getContext(s),i)),i}function SB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=AB(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new pp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ju(n,e,a?a.children:null,r,i):ju(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ia(a.outlet.component,s))}else s&&Bu(e,a,i),i.canActivateChecks.push(new pp(r)),o.component?ju(n,null,a?a.children:null,r,i):ju(n,null,t,r,i);return i}function AB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Yo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Yo(n.url,e.url)||!dr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!L0(n,e)||!dr(n.queryParams,e.queryParams);case"paramsChange":default:return!L0(n,e)}}function Bu(n,e,t){let r=va(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Bu(s,e.children.getContext(o),t):Bu(s,null,t):Bu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ia(e.outlet.component,i)):t.canDeactivateChecks.push(new Ia(null,i)):t.canDeactivateChecks.push(new Ia(null,i))}function el(n){return typeof n=="function"}function RB(n){return typeof n=="boolean"}function xB(n){return n&&el(n.canLoad)}function NB(n){return n&&el(n.canActivate)}function MB(n){return n&&el(n.canActivateChild)}function kB(n){return n&&el(n.canDeactivate)}function PB(n){return n&&el(n.canMatch)}function ax(n){return n instanceof Vn||n?.name==="EmptyError"}var Kf=Symbol("INITIAL_VALUE");function Sa(){return Oe(n=>Uc(n.map(e=>e.pipe(Ut(1),oh(Kf)))).pipe(ne(e=>{for(let t of e)if(t!==!0){if(t===Kf)return Kf;if(t===!1||OB(t))return t}return!0}),Mt(e=>e!==Kf),Ut(1)))}function OB(n){return Hi(n)||n instanceof Ca}function LB(n,e){return ot(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?K(ie(F({},t),{guardsResult:!0})):FB(s,r,i,n).pipe(ot(a=>a&&RB(a)?VB(r,o,n,e):K(a)),ne(a=>ie(F({},t),{guardsResult:a})))})}function FB(n,e,t,r){return ge(n).pipe(ot(i=>HB(i.component,i.route,t,e,r)),Nr(i=>i!==!0,!0))}function VB(n,e,t,r){return ge(e).pipe(rr(i=>Gs(UB(i.route.parent,r),jB(i.route,r),$B(n,i.path,t),BB(n,i.route,t))),Nr(i=>i!==!0,!0))}function jB(n,e){return n!==null&&e&&e(new cp(n)),K(!0)}function UB(n,e){return n!==null&&e&&e(new sp(n)),K(!0)}function BB(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>Bc(()=>{let s=Zu(e)??t,a=Aa(o,s),u=NB(a)?a.canActivate(e,n):ut(s,()=>a(e,n));return Qr(u).pipe(Nr())}));return K(i).pipe(Sa())}function $B(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>CB(s)).filter(s=>s!==null).map(s=>Bc(()=>{let a=s.guards.map(u=>{let l=Zu(s.node)??t,h=Aa(u,l),p=MB(h)?h.canActivateChild(r,n):ut(l,()=>h(r,n));return Qr(p).pipe(Nr())});return K(a).pipe(Sa())}));return K(o).pipe(Sa())}function HB(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let u=Zu(e)??i,l=Aa(a,u),h=kB(l)?l.canDeactivate(n,e,t,r):ut(u,()=>l(n,e,t,r));return Qr(h).pipe(Nr())});return K(s).pipe(Sa())}function zB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=Aa(s,n),u=xB(a)?a.canLoad(e,t):ut(n,()=>a(e,t));return Qr(u)});return K(o).pipe(Sa(),cx(r))}function cx(n){return Ld(It(e=>{if(typeof e!="boolean")throw fp(n,e)}),ne(e=>e===!0))}function qB(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=Aa(s,n),u=PB(a)?a.canMatch(e,t):ut(n,()=>a(e,t));return Qr(u)});return K(o).pipe(Sa(),cx(r))}var Ku=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Qu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ya(n){return qs(new Ku(n))}function GB(n){return qs(new U(4e3,!1))}function WB(n){return qs(ox(!1,Jt.GuardRejected))}var j0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[fe])return GB(`${e.redirectTo}`);i=i.children[fe]}}applyRedirectCommands(e,t,r,i,o){return KB(t,i,o).pipe(ne(s=>{if(s instanceof fr)throw new Qu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Qu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new fr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Me(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function KB(n,e,t){if(typeof n=="string")return K(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Qr(ut(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var U0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QB(n,e,t,r,i){let o=ux(n,e,t);return o.matched?(r=yB(e,r),qB(r,e,t,i).pipe(ne(s=>s===!0?o:F({},U0)))):K(o)}function ux(n,e,t){if(e.path==="**")return YB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},U0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||VR)(t,n,e);if(!i)return F({},U0);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function YB(n){return{matched:!0,parameters:n.length>0?UR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function OR(n,e,t,r){return t.length>0&&XB(n,t,r)?{segmentGroup:new Me(e,JB(r,new Me(t,n.children))),slicedSegments:[]}:t.length===0&&e4(n,t,r)?{segmentGroup:new Me(n.segments,ZB(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Me(n.segments,n.children),slicedSegments:t}}function ZB(n,e,t,r){let i={};for(let o of t)if(mp(n,e,o)&&!r[Kn(o)]){let s=new Me([],{});i[Kn(o)]=s}return F(F({},r),i)}function JB(n,e){let t={};t[fe]=e;for(let r of n)if(r.path===""&&Kn(r)!==fe){let i=new Me([],{});t[Kn(r)]=i}return t}function XB(n,e,t){return t.some(r=>mp(n,e,r)&&Kn(r)!==fe)}function e4(n,e,t){return t.some(r=>mp(n,e,r))}function mp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function t4(n,e,t){return e.length===0&&!n.children[t]}var B0=class{};function n4(n,e,t,r,i,o,s="emptyOnly"){return new $0(n,e,t,r,i,s,o).recognize()}var r4=31,$0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new j0(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=OR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:t,rootSnapshot:r})=>{let i=new gn(r,t),o=new Gu("",i),s=QR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Zo([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,fe,t).pipe(ne(r=>({children:r,rootSnapshot:t})),xr(r=>{if(r instanceof Qu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ku?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ne(s=>s instanceof gn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ge(o).pipe(rr(s=>{let a=r.children[s],u=vB(t,s);return this.processSegmentGroup(e,u,a,s,i)}),ih((s,a)=>(s.push(...a),s)),_i(null),Iy(),ot(s=>{if(s===null)return ya(r);let a=lx(s);return i4(a),K(a)}))}processSegment(e,t,r,i,o,s,a){return ge(t).pipe(rr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(xr(l=>{if(l instanceof Ku)return K(null);throw l}))),Nr(u=>!!u),xr(u=>{if(ax(u))return t4(r,i,o)?K(new B0):ya(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Kn(r)!==s&&(s===fe||!mp(i,o,r))?ya(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ya(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=ux(t,i,o);if(!u)return ya(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>r4&&(this.allowRedirects=!1));let y=new Zo(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,LR(i),Kn(i),i.component??i._loadedComponent??null,i,FR(i)),S=hp(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Oe(x=>this.applyRedirects.lineralizeSegments(i,x)),ot(x=>this.processSegment(e,r,t,x.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=QB(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Oe(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Oe(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,S=new Zo(g,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,LR(r),Kn(r),r.component??r._loadedComponent??null,r,FR(r)),M=hp(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:x,slicedSegments:V}=OR(t,g,y,l);if(V.length===0&&x.hasChildren())return this.processChildren(h,l,x,S).pipe(ne(Y=>new gn(S,Y)));if(l.length===0&&V.length===0)return K(new gn(S,[]));let te=Kn(r)===o;return this.processSegment(h,l,x,V,te?fe:o,!0,S).pipe(ne(Y=>new gn(S,Y instanceof gn?[Y]:[])))}))):ya(t)))}getChildConfig(e,t,r){return t.children?K({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?K({routes:t._loadedRoutes,injector:t._loadedInjector}):zB(e,t,r,this.urlSerializer).pipe(ot(i=>i?this.configLoader.loadChildren(e,t).pipe(It(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):WB(t))):K({routes:[],injector:e})}};function i4(n){n.sort((e,t)=>e.value.outlet===fe?-1:t.value.outlet===fe?1:e.value.outlet.localeCompare(t.value.outlet))}function o4(n){let e=n.value.routeConfig;return e&&e.path===""}function lx(n){let e=[],t=new Set;for(let r of n){if(!o4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=lx(r.children);e.push(new gn(r.value,i))}return e.filter(r=>!t.has(r))}function LR(n){return n.data||{}}function FR(n){return n.resolve||{}}function s4(n,e,t,r,i,o){return ot(s=>n4(n,e,t,r,s.extractedUrl,i,o).pipe(ne(({state:a,tree:u})=>ie(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function a4(n,e){return ot(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of dx(u))s.add(l);let a=0;return ge(s).pipe(rr(u=>o.has(u)?c4(u,r,n,e):(u.data=hp(u,u.parent,n).resolve,K(void 0))),It(()=>a++),Ws(1),ot(u=>a===s.size?K(t):tn))})}function dx(n){let e=n.children.map(t=>dx(t)).flat();return[n,...e]}function c4(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!nx(i)&&(o[Yu]=i.title),Bc(()=>(n.data=hp(n,n.parent,t).resolve,u4(o,n,e,r).pipe(ne(s=>(n._resolvedData=s,n.data=F(F({},n.data),s),null)))))}function u4(n,e,t,r){let i=x0(n);if(i.length===0)return K({});let o={};return ge(i).pipe(ot(s=>l4(n[s],e,t,r).pipe(Nr(),It(a=>{if(a instanceof Ca)throw fp(new $i,a);o[s]=a}))),Ws(1),ne(()=>o),xr(s=>ax(s)?tn:qs(s)))}function l4(n,e,t,r){let i=Zu(e)??r,o=Aa(n,i),s=o.resolve?o.resolve(e,t):ut(i,()=>o(e,t));return Qr(s)}function A0(n){return Oe(e=>{let t=n(e);return t?ge(t).pipe(ne(()=>e)):K(e)})}var W0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===fe);return r}getResolvedTitleForRoute(t){return t.data[Yu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>k(hx),providedIn:"root"})}return n})(),hx=(()=>{class n extends W0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(q(xR))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qi=new H("",{providedIn:"root",factory:()=>({})}),ts=new H(""),yp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=k(K_);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Qr(t.loadComponent()).pipe(ne(px),It(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Eo(()=>{this.componentLoaders.delete(t)})),i=new Us(r,()=>new rt).pipe(js());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=fx(r,this.compiler,t,this.onLoadEndListener).pipe(Eo(()=>{this.childrenLoaders.delete(r)})),s=new Us(o,()=>new rt).pipe(js());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fx(n,e,t,r){return Qr(n.loadChildren()).pipe(ne(px),ot(i=>i instanceof ff||Array.isArray(i)?K(i):ge(e.compileModuleAsync(i))),ne(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(ts,[],{optional:!0,self:!0}).flat()),{routes:s.map(G0),injector:o}}))}function d4(n){return n&&typeof n=="object"&&"default"in n}function px(n){return d4(n)?n.default:n}var vp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>k(h4),providedIn:"root"})}return n})(),h4=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),K0=new H(""),Q0=new H("");function gx(n,e,t){let r=n.get(Q0),i=n.get(Je);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),f4(n))),{onViewTransitionCreated:u}=r;return u&&ut(n,()=>u({transition:a,from:e,to:t})),s}function f4(n){return new Promise(e=>{mf({read:()=>setTimeout(e)},{injector:n})})}var Y0=new H(""),_p=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new rt;transitionAbortWithErrorSubject=new rt;configLoader=k(yp);environmentInjector=k(Ge);destroyRef=k(Lr);urlSerializer=k(Xo);rootContexts=k(es);location=k(Vi);inputBindingEnabled=k(Xu,{optional:!0})!==null;titleStrategy=k(W0);options=k(qi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=k(vp);createViewTransition=k(K0,{optional:!0});navigationErrorHandler=k(Y0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ip(i)),r=i=>this.events.next(new op(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ie(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new it(null),this.transitions.pipe(Mt(r=>r!==null),Oe(r=>{let i=!1;return K(r).pipe(Oe(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Jt.SupersededByNewNavigation),tn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ie(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let u="";return this.events.next(new pr(o.id,this.urlSerializer.serialize(o.rawUrl),u,wa.IgnoredSameUrlNavigation)),o.resolve(!1),tn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return K(o).pipe(Oe(u=>(this.events.next(new zi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?tn:Promise.resolve(u))),s4(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),It(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ie(F({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new Hu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new zi(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let S=ex(this.rootComponentType).snapshot;return this.currentTransition=r=ie(F({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:ie(F({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,K(r)}else{let u="";return this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),u,wa.IgnoredByUrlHandlingStrategy)),o.resolve(!1),tn}}),It(o=>{let s=new ep(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ne(o=>(this.currentTransition=r=ie(F({},o),{guards:DB(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),LB(this.environmentInjector,o=>this.events.next(o)),It(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw fp(this.urlSerializer,o.guardsResult);let s=new tp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Mt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Jt.GuardRejected),!1)),A0(o=>{if(o.guards.canActivateChecks.length!==0)return K(o).pipe(It(s=>{let a=new np(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Oe(s=>{let a=!1;return K(s).pipe(a4(this.paramsInheritanceStrategy,this.environmentInjector),It({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Jt.NoDataFromResolver)}}))}),It(s=>{let a=new rp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),A0(o=>{let s=a=>{let u=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(a.routeConfig).pipe(It(l=>{a.component=l}),ne(()=>{})));for(let l of a.children)u.push(...s(l));return u};return Uc(s(o.targetSnapshot.root)).pipe(_i(null),Ut(1))}),A0(()=>this.afterPreactivation()),Oe(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ge(a).pipe(ne(()=>r)):K(r)}),ne(o=>{let s=EB(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ie(F({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),It(()=>{this.events.next(new zu)}),bB(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ut(1),sh(new J(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Mt(()=>!i&&!r.targetRouterState),It(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Jt.Aborted)}))),It({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),sh(this.transitionAbortWithErrorSubject.pipe(It(o=>{throw o}))),Eo(()=>{i||this.cancelNavigationTransition(r,"",Jt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),xr(o=>{if(this.destroyed)return r.resolve(!1),tn;if(i=!0,sx(o))this.events.next(new hr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),TB(o)?this.events.next(new Da(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ta(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=ut(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Ca){let{message:u,cancellationCode:l}=fp(this.urlSerializer,a);this.events.next(new hr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Da(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return tn}))}))}cancelNavigationTransition(t,r,i){let o=new hr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function p4(n){return n!==Ea}var mx=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>k(g4),providedIn:"root"})}return n})(),gp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},g4=(()=>{class n extends gp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=oa(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yx=(()=>{class n{urlSerializer=k(Xo);options=k(qi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=k(Vi);urlHandlingStrategy=k(vp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new fr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof fr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=ex(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>k(m4),providedIn:"root"})}return n})(),m4=(()=>{class n extends yx{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof zi?this.updateStateMemento():t instanceof pr?this.commitTransition(r):t instanceof Hu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof hr&&t.code!==Jt.SupersededByNewNavigation&&t.code!==Jt.Redirect?this.restoreHistory(r):t instanceof Ta?this.restoreHistory(r,!0):t instanceof yn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=oa(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ep(n,e){n.events.pipe(Mt(t=>t instanceof yn||t instanceof hr||t instanceof Ta||t instanceof pr),ne(t=>t instanceof yn||t instanceof pr?0:(t instanceof hr?t.code===Jt.Redirect||t.code===Jt.SupersededByNewNavigation:!1)?2:1),Mt(t=>t!==2),Ut(1)).subscribe(()=>{e()})}var y4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},He=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=k(V_);stateManager=k(yx);options=k(qi,{optional:!0})||{};pendingTasks=k(Fr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=k(_p);urlSerializer=k(Xo);location=k(Vi);urlHandlingStrategy=k(vp);injector=k(Ge);_events=new rt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=k(mx);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=k(ts,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!k(Xu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Qe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hr&&r.code!==Jt.Redirect&&r.code!==Jt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof yn)this.navigated=!0;else if(r instanceof Da){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||p4(i.source)},s);this.scheduleNavigation(a,Ea,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.injector.get(Yt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(G0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=YR(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return ZR(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Hi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ea,null,r)}navigate(t,r={skipLocationChange:!1}){return _4(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},y4):r===!1?i=F({},v4):i=r,Hi(t))return NR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return NR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return Ep(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new U(4008,!1)}var Ra=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=cr(null);get href(){return an(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new rt;applicationErrorHandler=k(Yt);options=k(qi,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(k(new Df("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof yn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Hi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Hi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(W(He),W(Mn),pu("tabindex"),W(Ur),W(fn),W(Gn))};static \u0275dir=bt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&oe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&vu("href",i.reactiveHref(),g_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Go],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Go],replaceUrl:[2,"replaceUrl","replaceUrl",Go],routerLink:"routerLink"},features:[jr]})}return n})(),J0=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new st;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof yn&&this.update()})}ngAfterContentInit(){K(this.links.changes,K(null)).pipe(vi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ge(t).pipe(vi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=E4(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(W(He),W(fn),W(Ur),W(zr),W(Ra,8))};static \u0275dir=bt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&$_(o,Ra,5),r&2){let s;H_(s=z_())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[jr]})}return n})();function E4(n){return!!n.paths}var tl=class{};var vx=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Mt(t=>t instanceof yn),rr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ca(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ge(i).pipe(vi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=K(null);let o=i.pipe(ot(s=>s===null?K(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ge([o,s]).pipe(vi())}else return o})}static \u0275fac=function(r){return new(r||n)(q(He),q(Ge),q(tl),q(yp))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_x=new H(""),I4=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ea;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof pr&&t.code===wa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ba&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ba(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){x_()};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function X0(n,...e){return on([{provide:ts,multi:!0,useValue:n},[],{provide:Mn,useFactory:Ex,deps:[He]},{provide:yu,multi:!0,useFactory:Ix},e.map(t=>t.\u0275providers)])}function Ex(n){return n.routerState.root}function nl(n,e){return{\u0275kind:n,\u0275providers:e}}function Ix(){let n=k(Ye);return e=>{let t=n.get(Ho);if(e!==t.components[0])return;let r=n.get(He),i=n.get(wx);n.get(eE)===1&&r.initialNavigation(),n.get(Dx,null,{optional:!0})?.setUpPreloading(),n.get(_x,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wx=new H("",{factory:()=>new rt}),eE=new H("",{providedIn:"root",factory:()=>1});function Tx(){let n=[{provide:eE,useValue:0},vf(()=>{let e=k(Ye);return e.get(s0,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(He),o=e.get(wx);Ep(i,()=>{r(!0)}),e.get(_p).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))})];return nl(2,n)}function bx(){let n=[vf(()=>{k(He).setUpLocationChangeListener()}),{provide:eE,useValue:2}];return nl(3,n)}var Dx=new H("");function Cx(n){return nl(0,[{provide:Dx,useExisting:vx},{provide:tl,useExisting:n}])}function Sx(){return nl(8,[z0,{provide:Xu,useExisting:z0}])}function Ax(n){Bo("NgRouterViewTransitions");let e=[{provide:K0,useValue:gx},{provide:Q0,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return nl(9,e)}var Rx=[Vi,{provide:Xo,useClass:$i},He,es,{provide:Mn,useFactory:Ex,deps:[He]},yp,[]],ns=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[Rx,[],{provide:ts,multi:!0,useValue:t},[],r?.errorHandler?{provide:Y0,useValue:r.errorHandler}:[],{provide:qi,useValue:r||{}},r?.useHash?T4():b4(),w4(),r?.preloadingStrategy?Cx(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?D4(r):[],r?.bindToComponentInputs?Sx().\u0275providers:[],r?.enableViewTransitions?Ax().\u0275providers:[],C4()]}}static forChild(t){return{ngModule:n,providers:[{provide:ts,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=zn({type:n});static \u0275inj=Tn({})}return n})();function w4(){return{provide:_x,useFactory:()=>{let n=k(aR),e=k(Re),t=k(qi),r=k(_p),i=k(Xo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new I4(i,r,n,e,t)}}}function T4(){return{provide:Gn,useClass:h0}}function b4(){return{provide:Gn,useClass:Rf}}function D4(n){return[n.initialNavigation==="disabled"?bx().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Tx().\u0275providers:[]]}var Z0=new H("");function C4(){return[{provide:Z0,useFactory:Ix},{provide:yu,multi:!0,useExisting:Z0}]}var xx=()=>{};var kx=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},S4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ip={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):S4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new nE;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},nE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},A4=function(n){let e=kx(n);return Ip.encodeByteArray(e,!0)},il=function(n){return A4(n).replace(/\./g,"")},wp=function(n){try{return Ip.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var R4=()=>iE().__FIREBASE_DEFAULTS__,x4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},N4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&wp(n[1]);return e&&JSON.parse(e)},Tp=()=>{try{return xx()||R4()||x4()||N4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oE=n=>{var e,t;return(t=(e=Tp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Px=n=>{let e=oE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},sE=()=>{var n;return(n=Tp())===null||n===void 0?void 0:n.config},aE=n=>{var e;return(e=Tp())===null||e===void 0?void 0:e[`_${n}`]};var rs=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Gi(n){return n.endsWith(".cloudworkstations.dev")}function bp(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Ox(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[il(JSON.stringify(t)),il(JSON.stringify(s)),""].join(".")}var rl={};function M4(){let n={prod:[],emulator:[]};for(let e of Object.keys(rl))rl[e]?n.emulator.push(e):n.prod.push(e);return n}function k4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var Nx=!1;function Dp(n,e){if(typeof window>"u"||typeof document>"u"||!Gi(window.location.host)||rl[n]===e||rl[n]||Nx)return;rl[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=M4().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Nx=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=k4(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),x=document.getElementById(M)||document.createElement("a"),V=t("preprendIcon"),te=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let Y=g.element;a(Y),h(x,M);let xe=l();u(te,V),Y.append(te,S,x,xe),document.body.appendChild(Y)}o?(S.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function P4(){var n;let e=(n=Tp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vx(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ux(){let n=Ct();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Bx(){return!P4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ol(){try{return typeof indexedDB=="object"}catch{return!1}}function $x(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var O4="FirebaseError",vn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=O4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qn.prototype.create)}},Qn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?L4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new vn(i,a,r)}};function L4(n,e){return n.replace(F4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var F4=/\{\$([^}]+)}/g;function Hx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function gr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(Mx(o)&&Mx(s)){if(!gr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Mx(n){return n!==null&&typeof n=="object"}function Na(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zx(n,e){let t=new rE(n,e);return t.subscribe.bind(t)}var rE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");V4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=tE),i.error===void 0&&(i.error=tE),i.complete===void 0&&(i.complete=tE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function V4(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function tE(){}var bse=4*60*60*1e3;function Xe(n){return n&&n._delegate?n._delegate:n}var Xt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var is="[DEFAULT]";var cE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new rs;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U4(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function j4(n){return n===is?void 0:n}function U4(n){return n.instantiationMode==="EAGER"}var Cp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new cE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var B4=[],ve=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ve||{}),$4={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},H4=ve.INFO,z4={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},q4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=z4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mr=class{constructor(e){this.name=e,this._logLevel=H4,this._logHandler=q4,this._userLogHandler=null,B4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var G4=(n,e)=>e.some(t=>n instanceof t),qx,Gx;function W4(){return qx||(qx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K4(){return Gx||(Gx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Wx=new WeakMap,lE=new WeakMap,Kx=new WeakMap,uE=new WeakMap,hE=new WeakMap;function Q4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(yr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Wx.set(t,n)}).catch(()=>{}),hE.set(e,n),e}function Y4(n){if(lE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});lE.set(n,e)}var dE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return lE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Kx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Qx(n){dE=n(dE)}function Z4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Sp(this),e,...t);return Kx.set(r,e.sort?e.sort():[e]),yr(r)}:K4().includes(n)?function(...e){return n.apply(Sp(this),e),yr(Wx.get(this))}:function(...e){return yr(n.apply(Sp(this),e))}}function J4(n){return typeof n=="function"?Z4(n):(n instanceof IDBTransaction&&Y4(n),G4(n,W4())?new Proxy(n,dE):n)}function yr(n){if(n instanceof IDBRequest)return Q4(n);if(uE.has(n))return uE.get(n);let e=J4(n);return e!==n&&(uE.set(n,e),hE.set(e,n)),e}var Sp=n=>hE.get(n);function Zx(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=yr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(yr(s.result),u.oldVersion,u.newVersion,yr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var X4=["get","getKey","getAll","getAllKeys","count"],e$=["put","add","delete","clear"],fE=new Map;function Yx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fE.get(e))return fE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=e$.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X4.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return fE.set(e,o),o}Qx(n=>ie(F({},n),{get:(e,t,r)=>Yx(e,t)||n.get(e,t,r),has:(e,t)=>!!Yx(e,t)||n.has(e,t)}));var gE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(t$(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function t$(n){let e=n.getComponent();return e?.type==="VERSION"}var mE="@firebase/app",Jx="0.13.1";var Yr=new mr("@firebase/app"),n$="@firebase/app-compat",r$="@firebase/analytics-compat",i$="@firebase/analytics",o$="@firebase/app-check-compat",s$="@firebase/app-check",a$="@firebase/auth",c$="@firebase/auth-compat",u$="@firebase/database",l$="@firebase/data-connect",d$="@firebase/database-compat",h$="@firebase/functions",f$="@firebase/functions-compat",p$="@firebase/installations",g$="@firebase/installations-compat",m$="@firebase/messaging",y$="@firebase/messaging-compat",v$="@firebase/performance",_$="@firebase/performance-compat",E$="@firebase/remote-config",I$="@firebase/remote-config-compat",w$="@firebase/storage",T$="@firebase/storage-compat",b$="@firebase/firestore",D$="@firebase/ai",C$="@firebase/firestore-compat",S$="firebase",A$="11.9.0";var yE="[DEFAULT]",R$={[mE]:"fire-core",[n$]:"fire-core-compat",[i$]:"fire-analytics",[r$]:"fire-analytics-compat",[s$]:"fire-app-check",[o$]:"fire-app-check-compat",[a$]:"fire-auth",[c$]:"fire-auth-compat",[u$]:"fire-rtdb",[l$]:"fire-data-connect",[d$]:"fire-rtdb-compat",[h$]:"fire-fn",[f$]:"fire-fn-compat",[p$]:"fire-iid",[g$]:"fire-iid-compat",[m$]:"fire-fcm",[y$]:"fire-fcm-compat",[v$]:"fire-perf",[_$]:"fire-perf-compat",[E$]:"fire-rc",[I$]:"fire-rc-compat",[w$]:"fire-gcs",[T$]:"fire-gcs-compat",[b$]:"fire-fst",[C$]:"fire-fst-compat",[D$]:"fire-vertex","fire-js":"fire-js",[S$]:"fire-js-all"};var sl=new Map,x$=new Map,vE=new Map;function Xx(n,e){try{n.container.addComponent(e)}catch(t){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yn(n){let e=n.name;if(vE.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;vE.set(e,n);for(let t of sl.values())Xx(t,n);for(let t of x$.values())Xx(t,n);return!0}function Ma(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _n(n){return n==null?!1:n.settings!==void 0}var N$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new Qn("app","Firebase",N$);var _E=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}};var Ki=A$;function wE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:yE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Wi.create("bad-app-name",{appName:String(i)});if(t||(t=sE()),!t)throw Wi.create("no-options");let o=sl.get(i);if(o){if(gr(t,o.options)&&gr(r,o.config))return o;throw Wi.create("duplicate-app",{appName:i})}let s=new Cp(i);for(let u of vE.values())s.addComponent(u);let a=new _E(t,r,s);return sl.set(i,a),a}function os(n=yE){let e=sl.get(n);if(!e&&n===yE&&sE())return wE();if(!e)throw Wi.create("no-app",{appName:n});return e}function Ap(){return Array.from(sl.values())}function et(n,e,t){var r;let i=(r=R$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(a.join(" "));return}Yn(new Xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var M$="firebase-heartbeat-database",k$=1,al="firebase-heartbeat-store",pE=null;function r1(){return pE||(pE=Zx(M$,k$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(al)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wi.create("idb-open",{originalErrorMessage:n.message})})),pE}function P$(n){return _(this,null,function*(){try{let t=(yield r1()).transaction(al),r=yield t.objectStore(al).get(i1(n));return yield t.done,r}catch(e){if(e instanceof vn)Yr.warn(e.message);else{let t=Wi.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(t.message)}}})}function e1(n,e){return _(this,null,function*(){try{let r=(yield r1()).transaction(al,"readwrite");yield r.objectStore(al).put(e,i1(n)),yield r.done}catch(t){if(t instanceof vn)Yr.warn(t.message);else{let r=Wi.create("idb-set",{originalErrorMessage:t?.message});Yr.warn(r.message)}}})}function i1(n){return`${n.name}!${n.options.appId}`}var O$=1024,L$=30,EE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new IE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=t1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>L$){let s=V$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=t1(),{heartbeatsToSend:r,unsentEntries:i}=F$(this._heartbeatsCache.heartbeats),o=il(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Yr.warn(t),""}})}};function t1(){return new Date().toISOString().substring(0,10)}function F$(n,e=O$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),n1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),n1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var IE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return ol()?$x().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield P$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return e1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return e1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function n1(n){return il(JSON.stringify({version:2,heartbeats:n})).length}function V$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function j$(n){Yn(new Xt("platform-logger",e=>new gE(e),"PRIVATE")),Yn(new Xt("heartbeat",e=>new EE(e),"PRIVATE")),et(mE,Jx,n),et(mE,Jx,"esm2017"),et("fire-js","")}j$("");var U$="firebase",B$="11.9.1";et(U$,B$,"app");function o1(n){n===void 0&&(n=k(Ye));let e=n.get(Ni);return t=>new J(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Qi=new qo("ANGULARFIRE2_VERSION");function cl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Pa=(n,e)=>{let t=e?[e]:Ap(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ka=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(ka||{}),s1=r0()&&typeof Zone<"u"?ka.WARN:ka.SILENT;var Rp=class{zone;delegate;constructor(e,t=my){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Yi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=k(Re);this.outsideAngular=t.runOutsideAngular(()=>new Rp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Rp(typeof Zone>"u"?void 0:Zone.current,zs))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),a1=!1;function $$(n,e){!a1&&(s1>ka.SILENT||r0())&&(a1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),s1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function H$(n){let e=k(Re,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ss(n){let e=k(Re,{optional:!0});return e?e.run(()=>n()):n()}var z$=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ut(t,()=>ss(()=>n.apply(void 0,r)))),tt=(n,e,t)=>(t||=e?ka.WARN:ka.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=k(Yi),s=k(Ni),a=k(Ge)}catch{return $$(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=ss(()=>s.add())),i[l]=z$(i[l],r,a));let u=H$(()=>n.apply(this,i));return e?u instanceof J?u.pipe(yi(o.outsideAngular),mi(o.insideAngular),o1(a)):u instanceof Promise?ss(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>ut(a,()=>ss(()=>h(g))),g=>ut(a,()=>ss(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:ss(()=>u):u instanceof J?u.pipe(yi(o.outsideAngular),mi(o.insideAngular)):ss(()=>u)});var Zr=class{constructor(e){return e}},as=class{constructor(){return Ap()}};function q$(n){return n&&n.length===1?n[0]:new Zr(os())}var TE=new H("angularfire2._apps"),G$={provide:Zr,useFactory:q$,deps:[[new sn,TE]]},W$={provide:as,deps:[[new sn,TE]]};function K$(n){return(e,t)=>{let r=t.get(Oi);et("angularfire",Qi.full,"core"),et("angularfire",Qi.full,"app"),et("angular",OA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Zr(i)}}function c1(n,...e){return on([G$,W$,{provide:TE,useFactory:K$(n),multi:!0,deps:[Re,Ye,Yi,...e]}])}var u1=tt(wE,!0);var Q$=new Map,Y$={activated:!1,tokenObservers:[]},Z$={initialized:!1,enabled:!1};function Zn(n){return Q$.get(n)||Object.assign({},Y$)}function f1(){return Z$}var J$="https://content-firebaseappcheck.googleapis.com/v1";var X$="exchangeDebugToken",l1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Sae=24*60*60*1e3;var CE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new rs,this.pending.promise.catch(t=>{}),yield e3(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new rs,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function e3(n){return new Promise(e=>{setTimeout(e,n)})}var t3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Zi=new Qn("appCheck","AppCheck",t3);function p1(n){if(!Zn(n).activated)throw Zi.create("use-before-activation",{appName:n.name})}function g1(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Zi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Zi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Zi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Zi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function m1(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${J$}/projects/${t}/apps/${r}:${X$}?key=${i}`,body:{debug_token:e}}}var n3="firebase-app-check-database",r3=1,SE="firebase-app-check-store";var xp=null;function i3(){return xp||(xp=new Promise((n,e)=>{try{let t=indexedDB.open(n3,r3);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Zi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(SE,{keyPath:"compositeKey"})}}}catch(t){e(Zi.create("storage-open",{originalErrorMessage:t?.message}))}}),xp)}function o3(n,e){return s3(a3(n),e)}function s3(n,e){return _(this,null,function*(){let r=(yield i3()).transaction(SE,"readwrite"),o=r.objectStore(SE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Zi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function a3(n){return`${n.options.appId}-${n.name}`}var ul=new mr("@firebase/app-check");function bE(n,e){return ol()?o3(n,e).catch(t=>{ul.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function y1(){return f1().enabled}function v1(){return _(this,null,function*(){let n=f1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var c3={error:"UNKNOWN_ERROR"};function u3(n){return Ip.encodeString(JSON.stringify(n),!1)}function AE(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;p1(r);let i=Zn(r),o=i.token,s;if(o&&!ll(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(ll(l)?o=l:yield bE(r,void 0))}if(!e&&o&&ll(o))return{token:o.token};let a=!1;if(y1())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=g1(m1(r,yield v1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield bE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ul.warn(l.message):t&&ul.error(l),DE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Zn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ul.warn(l.message):t&&ul.error(l),s=l}let u;return o?s?ll(o)?u={token:o.token,internalError:s}:u=DE(s):(u={token:o.token},i.token=o,yield bE(r,o)):u=DE(s),a&&f3(r,u),u})}function l3(n){return _(this,null,function*(){let e=n.app;p1(e);let{provider:t}=Zn(e);if(y1()){let r=yield v1(),{token:i}=yield g1(m1(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function d3(n,e,t,r){let{app:i}=n,o=Zn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ll(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),d1(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>d1(n))}function _1(n,e){let t=Zn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function d1(n){let{app:e}=n,t=Zn(e),r=t.tokenRefresher;r||(r=h3(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function h3(n){let{app:e}=n;return new CE(()=>_(null,null,function*(){let t=Zn(e),r;if(t.token?r=yield AE(n,!0):r=yield AE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Zn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},l1.RETRIAL_MIN_WAIT,l1.RETRIAL_MAX_WAIT)}function f3(n,e){let t=Zn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ll(n){return n.expireTimeMillis-Date.now()>0}function DE(n){return{token:u3(c3),error:n}}var RE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Zn(this.app);for(let t of e)_1(this.app,t.next);return Promise.resolve()}};function p3(n,e){return new RE(n,e)}function g3(n){return{getToken:e=>AE(n,e),getLimitedUseToken:()=>l3(n),addTokenListener:e=>d3(n,"INTERNAL",e),removeTokenListener:e=>_1(n.app,e)}}var m3="@firebase/app-check",y3="0.10.0";var v3="app-check",h1="app-check-internal";function _3(){Yn(new Xt(v3,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return p3(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(h1).initialize()})),Yn(new Xt(h1,n=>{let e=n.getProvider("app-check").getImmediate();return g3(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),et(m3,y3)}_3();var E3="app-check";var Oa=class{constructor(){return Pa(E3)}};var I3=["localhost","0.0.0.0","127.0.0.1"],Uae=typeof window<"u"&&I3.includes(window.location.hostname);function P1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var O1=P1,L1=new Qn("auth","Firebase",P1());var Lp=new mr("@firebase/auth");function w3(n,...e){Lp.logLevel<=ve.WARN&&Lp.warn(`Auth (${Ki}): ${n}`,...e)}function Mp(n,...e){Lp.logLevel<=ve.ERROR&&Lp.error(`Auth (${Ki}): ${n}`,...e)}function _r(n,...e){throw WE(n,...e)}function Jn(n,...e){return WE(n,...e)}function GE(n,e,t){let r=Object.assign(Object.assign({},O1()),{[e]:t});return new Qn("auth","Firebase",r).create(e,{appName:n.name})}function cs(n){return GE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T3(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&_r(n,"argument-error"),GE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function WE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return L1.create(n,...e)}function se(n,e,...t){if(!n)throw WE(e,...t)}function Jr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Mp(e),new Error(e)}function ei(n,e){n||Jr(e)}function ME(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function b3(){return E1()==="http:"||E1()==="https:"}function E1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function D3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b3()||Vx()||"connection"in navigator)?navigator.onLine:!0}function C3(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var us=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ei(t>e,"Short delay should be less than long delay!"),this.isMobile=Lx()||jx()}get(){return D3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function KE(n,e){ei(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Fp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var S3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var A3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R3=new us(3e4,6e4);function QE(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Fa(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return F1(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Na(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return Fx()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Gi(n.emulatorConfig.host)&&(y.credentials="include"),Fp.fetch()(yield V1(n,n.config.apiHost,t,p),y)}))})}function F1(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},S3),e);try{let i=new kE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Np(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Np(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Np(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Np(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw GE(n,h,l);_r(n,h)}}catch(i){if(i instanceof vn)throw i;_r(n,"network-request-failed",{message:String(i)})}})}function x3(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield Fa(n,e,t,r,i);return"mfaPendingCredential"in l&&_r(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function V1(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?KE(n.config,i):`${n.config.apiScheme}://${i}`;return A3.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var kE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),R3.get())})}};function Np(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Jn(n,e,r);return i.customData._tokenResponse=t,i}function N3(n,e){return _(this,null,function*(){return Fa(n,"POST","/v1/accounts:delete",e)})}function Vp(n,e){return _(this,null,function*(){return Fa(n,"POST","/v1/accounts:lookup",e)})}function dl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function YE(n,e=!1){return _(this,null,function*(){let t=Xe(n),r=yield t.getIdToken(e),i=ZE(r);se(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:dl(xE(i.auth_time)),issuedAtTime:dl(xE(i.iat)),expirationTime:dl(xE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function xE(n){return Number(n)*1e3}function ZE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Mp("JWT malformed, contained fewer than 3 sections"),null;try{let i=wp(t);return i?JSON.parse(i):(Mp("Failed to decode base64 JWT payload"),null)}catch(i){return Mp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function I1(n){let e=ZE(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function fl(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof vn&&M3(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function M3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var PE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var pl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function jp(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield fl(n,Vp(t,{idToken:r}));se(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?j1(o.providerUserInfo):[],a=k3(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pl(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function JE(n){return _(this,null,function*(){let e=Xe(n);yield jp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function k3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function j1(n){return n.map(e=>{var{providerId:t}=e,r=Hd(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function P3(n,e){return _(this,null,function*(){let t=yield F1(n,{},()=>_(null,null,function*(){let r=Na({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield V1(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Gi(n.emulatorConfig.host)&&(u.credentials="include"),Fp.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function O3(n,e){return _(this,null,function*(){return Fa(n,"POST","/v2/accounts:revokeToken",QE(n,e))})}var hl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){se(e.length!==0,"internal-error");let t=I1(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield P3(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Jr("not implemented")}};function Ji(n,e){se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Xi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Hd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield fl(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return YE(this,e)}reload(){return JE(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield jp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(_n(this.auth.app))return Promise.reject(cs(this.auth));let e=yield this.getIdToken();return yield fl(this,N3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=t.createdAt)!==null&&l!==void 0?l:void 0,te=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Y,emailVerified:xe,isAnonymous:xt,providerData:Ne,stsTokenManager:D}=t;se(Y&&D,e,"internal-error");let v=hl.fromJSON(this.name,D);se(typeof Y=="string",e,"internal-error"),Ji(p,e.name),Ji(g,e.name),se(typeof xe=="boolean",e,"internal-error"),se(typeof xt=="boolean",e,"internal-error"),Ji(y,e.name),Ji(S,e.name),Ji(M,e.name),Ji(x,e.name),Ji(V,e.name),Ji(te,e.name);let I=new n({uid:Y,auth:e,email:g,emailVerified:xe,displayName:p,isAnonymous:xt,photoURL:S,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:V,lastLoginAt:te});return Ne&&Array.isArray(Ne)&&(I.providerData=Ne.map(T=>Object.assign({},T))),x&&(I._redirectEventId=x),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new hl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];se(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?j1(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new hl;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new pl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var w1=new Map;function Xr(n){ei(n instanceof Function,"Expected a class definition");let e=w1.get(n);return e?(ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,w1.set(n,e),e)}var L3=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),OE=L3;function kp(n,e,t){return`firebase:${n}:${e}:${t}`}var Up=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=kp(this.userKey,i.apiKey,o),this.fullPersistenceKey=kp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Vp(this.auth,{idToken:e}).catch(()=>{});return t?Xi._fromGetAccountInfoResponse(this.auth,t,e):null}return Xi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(Xr(OE),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Xr(OE),s=kp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Vp(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Xi._fromGetAccountInfoResponse(e,g,h)}else p=Xi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function T1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q1(e))return"Blackberry";if(G1(e))return"Webos";if(B1(e))return"Safari";if((e.includes("chrome/")||$1(e))&&!e.includes("edge/"))return"Chrome";if(z1(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function U1(n=Ct()){return/firefox\//i.test(n)}function B1(n=Ct()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $1(n=Ct()){return/crios\//i.test(n)}function H1(n=Ct()){return/iemobile/i.test(n)}function z1(n=Ct()){return/android/i.test(n)}function q1(n=Ct()){return/blackberry/i.test(n)}function G1(n=Ct()){return/webos/i.test(n)}function XE(n=Ct()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function F3(n=Ct()){var e;return XE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function V3(){return Ux()&&document.documentMode===10}function W1(n=Ct()){return XE(n)||z1(n)||G1(n)||q1(n)||/windows phone/i.test(n)||H1(n)}function K1(n,e=[]){let t;switch(n){case"Browser":t=T1(Ct());break;case"Worker":t=`${T1(Ct())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ki}/${r}`}var LE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function j3(t){return _(this,arguments,function*(n,e={}){return Fa(n,"GET","/v2/passwordPolicy",QE(n,e))})}var U3=6,FE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:U3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var VE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bp(this),this.idTokenSubscription=new Bp(this),this.beforeStateQueue=new LE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xr(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Up.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Vp(this,{idToken:e}),r=yield Xi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(_n(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield jp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=C3()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(_n(this.app))return Promise.reject(cs(this));let t=e?Xe(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return _n(this.app)?Promise.reject(cs(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return _n(this.app)?Promise.reject(cs(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Xr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield j3(this),t=new FE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield O3(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Xr(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=yield Up.create(this,[Xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&w3(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Qp(n){return Xe(n)}var Bp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=zx(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var eI={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B3(n){eI=n}function $3(n){return eI.loadJS(n)}function H3(){return eI.gapiScript}function Q1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function tI(n,e){let t=Ma(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(gr(o,e??{}))return i;_r(i,"already-initialized")}return t.initialize({options:e})}function z3(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Xr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function nI(n,e,t){let r=Qp(n);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=Y1(e),{host:s,port:a}=q3(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(gr(l,r.config.emulator)&&gr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Gi(s)?(bp(`${o}//${s}${u}`),Dp("Auth",!0)):i||G3()}function Y1(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function q3(n){let e=Y1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:b1(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:b1(s)}}}function b1(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function G3(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var gl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}};function La(n,e){return _(this,null,function*(){return x3(n,"POST","/v1/accounts:signInWithIdp",QE(n,e))})}var W3="http://localhost",$p=class n extends gl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Hd(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return La(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,La(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,La(e,t)}buildRequest(){let e={requestUri:W3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Na(t)}return e}};var ml=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Hp=class extends ml{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var rI=(()=>{class n extends Hp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return $p._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var yl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield Xi._fromIdTokenResponse(e,r,i),s=D1(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=D1(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function D1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var jE=class n extends vn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Z1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jE._fromErrorAndOperation(n,o,e,r):o})}function K3(n,e,t=!1){return _(this,null,function*(){let r=yield fl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return yl._forOperation(n,"link",r)})}function Q3(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(_n(r.app))return Promise.reject(cs(r));let i="reauthenticate";try{let o=yield fl(n,Z1(r,i,e,n),t);se(o.idToken,r,"internal-error");let s=ZE(o.idToken);se(s,r,"internal-error");let{sub:a}=s;return se(n.uid===a,r,"user-mismatch"),yl._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&_r(r,"user-mismatch"),o}})}function Y3(n,e,t=!1){return _(this,null,function*(){if(_n(n.app))return Promise.reject(cs(n));let r="signIn",i=yield Z1(n,r,e),o=yield yl._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function _l(n,e,t,r){return Xe(n).onIdTokenChanged(e,t,r)}function iI(n,e,t){return Xe(n).beforeAuthStateChanged(e,t)}function oI(n){return Xe(n).signOut()}var zp="__sak";var qp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Z3=1e3,J3=10,X3=(()=>{class n extends qp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);V3()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,J3):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield fi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield fi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield fi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),J1=X3;var eH=(()=>{class n extends qp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),sI=eH;function tH(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var nH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield tH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function aI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var UE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=aI("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function vr(){return window}function rH(n){vr().location.href=n}function X1(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}function iH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function oH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sH(){return X1()?self:null}var eN="firebaseLocalStorageDb",aH=1,Gp="firebaseLocalStorage",tN="fbase_key",ls=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Yp(n,e){return n.transaction([Gp],e?"readwrite":"readonly").objectStore(Gp)}function cH(){let n=indexedDB.deleteDatabase(eN);return new ls(n).toPromise()}function BE(){let n=indexedDB.open(eN,aH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Gp,{keyPath:tN})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Gp)?e(r):(r.close(),yield cH(),e(yield BE()))}))})}function C1(n,e,t){return _(this,null,function*(){let r=Yp(n,!0).put({[tN]:e,value:t});return new ls(r).toPromise()})}function uH(n,e){return _(this,null,function*(){let t=Yp(n,!1).get(e),r=yield new ls(t).toPromise();return r===void 0?null:r.value})}function S1(n,e){let t=Yp(n,!0).delete(e);return new ls(t).toPromise()}var lH=800,dH=3,hH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield BE(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>dH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return X1()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=nH._getInstance(sH()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield iH(),!this.activeServiceWorker)return;this.sender=new UE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||oH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield BE();return yield C1(t,zp,"1"),yield S1(t,zp),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>C1(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>uH(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>S1(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=Yp(o,!1).getAll();return new ls(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),lH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),nN=hH;var Yae=Q1("rcb"),Zae=new us(3e4,6e4);function rN(n,e){return e?Xr(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var vl=class extends gl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,t){return La(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function fH(n){return Y3(n.auth,new vl(n),n.bypassAuthState)}function pH(n){let{auth:e,user:t}=n;return se(t,e,"internal-error"),Q3(t,new vl(n),n.bypassAuthState)}function gH(n){return _(this,null,function*(){let{auth:e,user:t}=n;return se(t,e,"internal-error"),K3(t,new vl(n),n.bypassAuthState)})}var Wp=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fH;case"linkViaPopup":case"linkViaRedirect":return gH;case"reauthViaPopup":case"reauthViaRedirect":return pH;default:_r(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var mH=new us(2e3,1e4);function cI(n,e,t){return _(this,null,function*(){if(_n(n.app))return Promise.reject(Jn(n,"operation-not-supported-in-this-environment"));let r=Qp(n);T3(n,e,ml);let i=rN(r,t);return new yH(r,"signInViaPopup",e,i).executeNotNull()})}var yH=(()=>{class n extends Wp{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let t=yield this.execute();return se(t,this.auth,"internal-error"),t})}onExecution(){return _(this,null,function*(){ei(this.filter.length===1,"Popup operations only handle one event");let t=aI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mH.get())};t()}}n.currentPopupAction=null;return n})(),vH="pendingRedirect",Pp=new Map,$E=class n extends Wp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Pp.get(this.auth._key());if(!e){try{let r=(yield _H(this.resolver,this.auth))?yield fi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Pp.set(this.auth._key(),e)}return this.bypassAuthState||Pp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return fi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,fi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function _H(n,e){return _(this,null,function*(){let t=wH(e),r=IH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function EH(n,e){Pp.set(n._key(),e)}function IH(n){return Xr(n._redirectPersistence)}function wH(n){return kp(vH,n.config.apiKey,n.name)}function TH(n,e,t=!1){return _(this,null,function*(){if(_n(n.app))return Promise.reject(cs(n));let r=Qp(n),i=rN(r,e),s=yield new $E(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var bH=10*60*1e3,HE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!iN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Jn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bH&&this.cachedEventUids.clear(),this.cachedEventUids.has(A1(e))}saveEventToCache(e){this.cachedEventUids.add(A1(e)),this.lastProcessedEventTime=Date.now()}};function A1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function DH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iN(n);default:return!1}}function CH(t){return _(this,arguments,function*(n,e={}){return Fa(n,"GET","/v1/projects",e)})}var SH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AH=/^https?/;function RH(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield CH(n);for(let t of e)try{if(xH(t))return}catch{}_r(n,"unauthorized-domain")})}function xH(n){let e=ME(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!AH.test(t))return!1;if(SH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var NH=new us(3e4,6e4);function R1(){let n=vr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function MH(n){return new Promise((e,t)=>{var r,i,o;function s(){R1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R1(),t(Jn(n,"network-request-failed"))},timeout:NH.get()})}if(!((i=(r=vr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=vr().gapi)===null||o===void 0)&&o.load)s();else{let a=Q1("iframefcb");return vr()[a]=()=>{gapi.load?s():t(Jn(n,"network-request-failed"))},$3(`${H3()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Op=null,e})}var Op=null;function kH(n){return Op=Op||MH(n),Op}var PH=new us(5e3,15e3),OH="__/auth/iframe",LH="emulator/auth/iframe",FH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jH(n){let e=n.config;se(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?KE(e,LH):`https://${n.config.authDomain}/${OH}`,r={apiKey:e.apiKey,appName:n.name,v:Ki},i=VH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Na(r).slice(1)}`}function UH(n){return _(this,null,function*(){let e=yield kH(n),t=vr().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:jH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FH,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Jn(n,"network-request-failed"),a=vr().setTimeout(()=>{o(s)},PH.get());function u(){vr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var BH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$H=500,HH=600,zH="_blank",qH="http://localhost",Kp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function GH(n,e,t,r=$H,i=HH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},BH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ct().toLowerCase();t&&(a=$1(l)?zH:t),U1(l)&&(e=e||qH,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,S])=>`${g}${y}=${S},`,"");if(F3(l)&&a!=="_self")return WH(e||"",a),new Kp(null);let p=window.open(e||"",a,h);se(p,n,"popup-blocked");try{p.focus()}catch{}return new Kp(p)}function WH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var KH="__/auth/handler",QH="emulator/auth/handler",YH=encodeURIComponent("fac");function x1(n,e,t,r,i,o){return _(this,null,function*(){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ki,eventId:i};if(e instanceof ml){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Hx(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Hp){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${YH}=${encodeURIComponent(u)}`:"";return`${ZH(n)}?${Na(a).slice(1)}${l}`})}function ZH({config:n}){return n.emulator?KE(n,QH):`https://${n.authDomain}/${KH}`}var NE="webStorageSupport",zE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sI,this._completeRedirectFn=TH,this._overrideRedirectResult=EH}_openPopup(e,t,r,i){return _(this,null,function*(){var o;ei((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield x1(e,t,r,ME(),i);return GH(e,s,aI())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield x1(e,t,r,ME(),i);return rH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ei(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield UH(e),r=new HE(e);return t.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(NE,{type:NE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[NE];s!==void 0&&t(!!s),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return W1()||B1()||XE()}},oN=zE;var N1="@firebase/auth",M1="1.10.7";var qE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function JH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XH(n){Yn(new Xt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K1(n)},l=new VE(r,i,o,u);return z3(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yn(new Xt("auth-internal",e=>{let t=Qp(e.getProvider("auth").getImmediate());return(r=>new qE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(N1,M1,JH(n)),et(N1,M1,"esm2017")}var e6=5*60,t6=aE("authIdTokenMaxAge")||e6,k1=null,n6=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>t6)return;let i=t?.token;k1!==i&&(k1=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function uI(n=os()){let e=Ma(n,"auth");if(e.isInitialized())return e.getImmediate();let t=tI(n,{popupRedirectResolver:oN,persistence:[nN,J1,sI]}),r=aE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=n6(o.toString());iI(t,s,()=>s(t.currentUser)),_l(t,a=>s(a))}}let i=oE("auth");return i&&nI(t,`http://${i}`),t}function r6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}B3({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Jn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",r6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XH("Browser");function cN(n){return new J(function(e){var t=_l(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var uN="auth",ds=class{constructor(e){return e}},El=class{constructor(){return Pa(uN)}};var lI=new H("angularfire2.auth-instances");function G6(n,e){let t=cl(uN,n,e);return t&&new ds(t)}function W6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ds(r)}}var K6={provide:El,deps:[[new sn,lI]]},Q6={provide:ds,useFactory:G6,deps:[[new sn,lI],Zr]};function lN(n,...e){return et("angularfire",Qi.full,"auth"),on([Q6,K6,{provide:lI,useFactory:W6(n),multi:!0,deps:[Re,Ye,Yi,as,[new sn,Oa],...e]}])}var dN=tt(cN,!0);var hN=tt(uI,!0);var fN=tt(cI,!0,2);var pN=tt(oI,!0,2);var gN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mN={};var ti,dI;(function(){var n;function e(D,v){function I(){}I.prototype=v.prototype,D.D=v.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(T,C,R){for(var E=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)E[Cr-2]=arguments[Cr];return v.prototype[C].apply(T,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,I){I||(I=0);var T=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)T[C]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(C=0;16>C;++C)T[C]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=D.g[0],I=D.g[1],C=D.g[2];var R=D.g[3],E=v+(R^I&(C^R))+T[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=R+(C^v&(I^C))+T[1]+3905402710&4294967295,R=v+(E<<12&4294967295|E>>>20),E=C+(I^R&(v^I))+T[2]+606105819&4294967295,C=R+(E<<17&4294967295|E>>>15),E=I+(v^C&(R^v))+T[3]+3250441966&4294967295,I=C+(E<<22&4294967295|E>>>10),E=v+(R^I&(C^R))+T[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=R+(C^v&(I^C))+T[5]+1200080426&4294967295,R=v+(E<<12&4294967295|E>>>20),E=C+(I^R&(v^I))+T[6]+2821735955&4294967295,C=R+(E<<17&4294967295|E>>>15),E=I+(v^C&(R^v))+T[7]+4249261313&4294967295,I=C+(E<<22&4294967295|E>>>10),E=v+(R^I&(C^R))+T[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=R+(C^v&(I^C))+T[9]+2336552879&4294967295,R=v+(E<<12&4294967295|E>>>20),E=C+(I^R&(v^I))+T[10]+4294925233&4294967295,C=R+(E<<17&4294967295|E>>>15),E=I+(v^C&(R^v))+T[11]+2304563134&4294967295,I=C+(E<<22&4294967295|E>>>10),E=v+(R^I&(C^R))+T[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=R+(C^v&(I^C))+T[13]+4254626195&4294967295,R=v+(E<<12&4294967295|E>>>20),E=C+(I^R&(v^I))+T[14]+2792965006&4294967295,C=R+(E<<17&4294967295|E>>>15),E=I+(v^C&(R^v))+T[15]+1236535329&4294967295,I=C+(E<<22&4294967295|E>>>10),E=v+(C^R&(I^C))+T[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=R+(I^C&(v^I))+T[6]+3225465664&4294967295,R=v+(E<<9&4294967295|E>>>23),E=C+(v^I&(R^v))+T[11]+643717713&4294967295,C=R+(E<<14&4294967295|E>>>18),E=I+(R^v&(C^R))+T[0]+3921069994&4294967295,I=C+(E<<20&4294967295|E>>>12),E=v+(C^R&(I^C))+T[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=R+(I^C&(v^I))+T[10]+38016083&4294967295,R=v+(E<<9&4294967295|E>>>23),E=C+(v^I&(R^v))+T[15]+3634488961&4294967295,C=R+(E<<14&4294967295|E>>>18),E=I+(R^v&(C^R))+T[4]+3889429448&4294967295,I=C+(E<<20&4294967295|E>>>12),E=v+(C^R&(I^C))+T[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=R+(I^C&(v^I))+T[14]+3275163606&4294967295,R=v+(E<<9&4294967295|E>>>23),E=C+(v^I&(R^v))+T[3]+4107603335&4294967295,C=R+(E<<14&4294967295|E>>>18),E=I+(R^v&(C^R))+T[8]+1163531501&4294967295,I=C+(E<<20&4294967295|E>>>12),E=v+(C^R&(I^C))+T[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=R+(I^C&(v^I))+T[2]+4243563512&4294967295,R=v+(E<<9&4294967295|E>>>23),E=C+(v^I&(R^v))+T[7]+1735328473&4294967295,C=R+(E<<14&4294967295|E>>>18),E=I+(R^v&(C^R))+T[12]+2368359562&4294967295,I=C+(E<<20&4294967295|E>>>12),E=v+(I^C^R)+T[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=R+(v^I^C)+T[8]+2272392833&4294967295,R=v+(E<<11&4294967295|E>>>21),E=C+(R^v^I)+T[11]+1839030562&4294967295,C=R+(E<<16&4294967295|E>>>16),E=I+(C^R^v)+T[14]+4259657740&4294967295,I=C+(E<<23&4294967295|E>>>9),E=v+(I^C^R)+T[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=R+(v^I^C)+T[4]+1272893353&4294967295,R=v+(E<<11&4294967295|E>>>21),E=C+(R^v^I)+T[7]+4139469664&4294967295,C=R+(E<<16&4294967295|E>>>16),E=I+(C^R^v)+T[10]+3200236656&4294967295,I=C+(E<<23&4294967295|E>>>9),E=v+(I^C^R)+T[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=R+(v^I^C)+T[0]+3936430074&4294967295,R=v+(E<<11&4294967295|E>>>21),E=C+(R^v^I)+T[3]+3572445317&4294967295,C=R+(E<<16&4294967295|E>>>16),E=I+(C^R^v)+T[6]+76029189&4294967295,I=C+(E<<23&4294967295|E>>>9),E=v+(I^C^R)+T[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=R+(v^I^C)+T[12]+3873151461&4294967295,R=v+(E<<11&4294967295|E>>>21),E=C+(R^v^I)+T[15]+530742520&4294967295,C=R+(E<<16&4294967295|E>>>16),E=I+(C^R^v)+T[2]+3299628645&4294967295,I=C+(E<<23&4294967295|E>>>9),E=v+(C^(I|~R))+T[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=R+(I^(v|~C))+T[7]+1126891415&4294967295,R=v+(E<<10&4294967295|E>>>22),E=C+(v^(R|~I))+T[14]+2878612391&4294967295,C=R+(E<<15&4294967295|E>>>17),E=I+(R^(C|~v))+T[5]+4237533241&4294967295,I=C+(E<<21&4294967295|E>>>11),E=v+(C^(I|~R))+T[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=R+(I^(v|~C))+T[3]+2399980690&4294967295,R=v+(E<<10&4294967295|E>>>22),E=C+(v^(R|~I))+T[10]+4293915773&4294967295,C=R+(E<<15&4294967295|E>>>17),E=I+(R^(C|~v))+T[1]+2240044497&4294967295,I=C+(E<<21&4294967295|E>>>11),E=v+(C^(I|~R))+T[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=R+(I^(v|~C))+T[15]+4264355552&4294967295,R=v+(E<<10&4294967295|E>>>22),E=C+(v^(R|~I))+T[6]+2734768916&4294967295,C=R+(E<<15&4294967295|E>>>17),E=I+(R^(C|~v))+T[13]+1309151649&4294967295,I=C+(E<<21&4294967295|E>>>11),E=v+(C^(I|~R))+T[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=R+(I^(v|~C))+T[11]+3174756917&4294967295,R=v+(E<<10&4294967295|E>>>22),E=C+(v^(R|~I))+T[2]+718787259&4294967295,C=R+(E<<15&4294967295|E>>>17),E=I+(R^(C|~v))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(C+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+R&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var I=v-this.blockSize,T=this.B,C=this.h,R=0;R<v;){if(C==0)for(;R<=I;)i(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<v;)if(T[C++]=D.charCodeAt(R++),C==this.blockSize){i(this,T),C=0;break}}else for(;R<v;)if(T[C++]=D[R++],C==this.blockSize){i(this,T),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var I=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=I&255,I/=256;for(this.u(D),D=Array(16),v=I=0;4>v;++v)for(var T=0;32>T;T+=8)D[I++]=this.g[v]>>>T&255;return D};function o(D,v){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=v(D)}function s(D,v){this.h=v;for(var I=[],T=!0,C=D.length-1;0<=C;C--){var R=D[C]|0;T&&R==v||(I[C]=R,T=!1)}this.g=I}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return x(l(-D));for(var v=[],I=1,T=0;D>=I;T++)v[T]=D/I|0,I*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return x(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),T=p,C=0;C<D.length;C+=8){var R=Math.min(8,D.length-C),E=parseInt(D.substring(C,C+R),v);8>R?(R=l(Math.pow(v,R)),T=T.j(R).add(l(E))):(T=T.j(I),T=T.add(l(E)))}return T}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-x(this).m();for(var D=0,v=1,I=0;I<this.g.length;I++){var T=this.i(I);D+=(0<=T?T:4294967296+T)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(M(this))return"-"+x(this).toString(D);for(var v=l(Math.pow(D,6)),I=this,T="";;){var C=xe(I,v).g;I=V(I,C.j(v));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=C,S(I))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function M(D){return D.h==-1}n.l=function(D){return D=V(this,D),M(D)?-1:S(D)?0:1};function x(D){for(var v=D.g.length,I=[],T=0;T<v;T++)I[T]=~D.g[T];return new s(I,~D.h).add(g)}n.abs=function(){return M(this)?x(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0,C=0;C<=v;C++){var R=T+(this.i(C)&65535)+(D.i(C)&65535),E=(R>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);T=E>>>16,R&=65535,E&=65535,I[C]=E<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function V(D,v){return D.add(x(v))}n.j=function(D){if(S(this)||S(D))return p;if(M(this))return M(D)?x(this).j(x(D)):x(x(this).j(D));if(M(D))return x(this.j(x(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,I=[],T=0;T<2*v;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<D.g.length;C++){var R=this.i(T)>>>16,E=this.i(T)&65535,Cr=D.i(C)>>>16,gc=D.i(C)&65535;I[2*T+2*C]+=E*gc,te(I,2*T+2*C),I[2*T+2*C+1]+=R*gc,te(I,2*T+2*C+1),I[2*T+2*C+1]+=E*Cr,te(I,2*T+2*C+1),I[2*T+2*C+2]+=R*Cr,te(I,2*T+2*C+2)}for(T=0;T<v;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=v;T<2*v;T++)I[T]=0;return new s(I,0)};function te(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function Y(D,v){this.g=D,this.h=v}function xe(D,v){if(S(v))throw Error("division by zero");if(S(D))return new Y(p,p);if(M(D))return v=xe(x(D),v),new Y(x(v.g),x(v.h));if(M(v))return v=xe(D,x(v)),new Y(x(v.g),v.h);if(30<D.g.length){if(M(D)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,T=v;0>=T.l(D);)I=xt(I),T=xt(T);var C=Ne(I,1),R=Ne(T,1);for(T=Ne(T,2),I=Ne(I,2);!S(T);){var E=R.add(T);0>=E.l(D)&&(C=C.add(I),R=E),T=Ne(T,1),I=Ne(I,1)}return v=V(D,C.j(v)),new Y(C,v)}for(C=p;0<=D.l(v);){for(I=Math.max(1,Math.floor(D.m()/v.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=l(I),E=R.j(v);M(E)||0<E.l(D);)I-=T,R=l(I),E=R.j(v);S(R)&&(R=g),C=C.add(R),D=V(D,E)}return new Y(C,D)}n.A=function(D){return xe(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)&D.i(T);return new s(I,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)|D.i(T);return new s(I,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)^D.i(T);return new s(I,this.h^D.h)};function xt(D){for(var v=D.g.length+1,I=[],T=0;T<v;T++)I[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(I,D.h)}function Ne(D,v){var I=v>>5;v%=32;for(var T=D.g.length-I,C=[],R=0;R<T;R++)C[R]=0<v?D.i(R+I)>>>v|D.i(R+I+1)<<32-v:D.i(R+I);return new s(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dI=mN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ti=mN.Integer=s}).apply(typeof gN<"u"?gN:typeof self<"u"?self:typeof window<"u"?window:{});var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ni={};var hI,Z6,Va,fI,Il,Jp,pI,gI,mI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zp=="object"&&Zp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var A=c[m];if(!(A in f))break e;f=f[A]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,A={next:function(){if(!m&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,m),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,A,N){for(var j=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)j[Fe-2]=arguments[Fe];return d.prototype[A].apply(m,j)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let A=c.length||0,N=m.length||0;c.length=A+N;for(let j=0;j<N;j++)c[A+j]=m[j]}else c.push(m)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function te(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function xe(c){return xe[" "](c),c}xe[" "]=function(){};var xt=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function Ne(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,m;for(let A=1;A<arguments.length;A++){m=arguments[A];for(f in m)c[f]=m[f];for(let N=0;N<I.length;N++)f=I[N],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function R(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Sm;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Cr{constructor(){this.h=this.g=null}add(d,f){let m=gc.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var gc=new V(()=>new kP,c=>c.reset());class kP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let mc,yc=!1,Sm=new Cr,qT=()=>{let c=a.Promise.resolve(void 0);mc=()=>{c.then(PP)}};var PP=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){R(f)}var d=gc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}yc=!1};function ui(){this.s=this.s,this.C=this.C}ui.prototype.s=!1,ui.prototype.ma=function(){this.s||(this.s=!0,this.N())},ui.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ot(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var OP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function vc(c,d){if(Ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(xt){e:{try{xe(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:LP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&vc.aa.h.call(this)}}S(vc,Ot);var LP={2:"touch",3:"pen",4:"mouse"};vc.prototype.h=function(){vc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _c="closure_listenable_"+(1e6*Math.random()|0),FP=0;function VP(c,d,f,m,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=A,this.key=++FP,this.da=this.fa=!1}function ed(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function td(c){this.src=c,this.g={},this.h=0}td.prototype.add=function(c,d,f,m,A){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var j=Rm(c,d,m,A);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new VP(d,this.src,N,!!m,A),d.fa=f,c.push(d)),d};function Am(c,d){var f=d.type;if(f in c.g){var m=c.g[f],A=Array.prototype.indexOf.call(m,d,void 0),N;(N=0<=A)&&Array.prototype.splice.call(m,A,1),N&&(ed(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Rm(c,d,f,m){for(var A=0;A<c.length;++A){var N=c[A];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==m)return A}return-1}var xm="closure_lm_"+(1e6*Math.random()|0),Nm={};function GT(c,d,f,m,A){if(m&&m.once)return KT(c,d,f,m,A);if(Array.isArray(d)){for(var N=0;N<d.length;N++)GT(c,d[N],f,m,A);return null}return f=Om(f),c&&c[_c]?c.K(d,f,l(m)?!!m.capture:!!m,A):WT(c,d,f,!1,m,A)}function WT(c,d,f,m,A,N){if(!d)throw Error("Invalid event type");var j=l(A)?!!A.capture:!!A,Fe=km(c);if(Fe||(c[xm]=Fe=new td(c)),f=Fe.add(d,f,m,j,N),f.proxy)return f;if(m=jP(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)OP||(A=j),A===void 0&&(A=!1),c.addEventListener(d.toString(),m,A);else if(c.attachEvent)c.attachEvent(YT(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function jP(){function c(f){return d.call(c.src,c.listener,f)}let d=UP;return c}function KT(c,d,f,m,A){if(Array.isArray(d)){for(var N=0;N<d.length;N++)KT(c,d[N],f,m,A);return null}return f=Om(f),c&&c[_c]?c.L(d,f,l(m)?!!m.capture:!!m,A):WT(c,d,f,!0,m,A)}function QT(c,d,f,m,A){if(Array.isArray(d))for(var N=0;N<d.length;N++)QT(c,d[N],f,m,A);else m=l(m)?!!m.capture:!!m,f=Om(f),c&&c[_c]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=Rm(N,f,m,A),-1<f&&(ed(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=km(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Rm(d,f,m,A)),(f=-1<c?d[c]:null)&&Mm(f))}function Mm(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[_c])Am(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(YT(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=km(d))?(Am(f,c),f.h==0&&(f.src=null,d[xm]=null)):ed(c)}}}function YT(c){return c in Nm?Nm[c]:Nm[c]="on"+c}function UP(c,d){if(c.da)c=!0;else{d=new vc(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Mm(c),c=f.call(m,d)}return c}function km(c){return c=c[xm],c instanceof td?c:null}var Pm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Om(c){return typeof c=="function"?c:(c[Pm]||(c[Pm]=function(d){return c.handleEvent(d)}),c[Pm])}function Lt(){ui.call(this),this.i=new td(this),this.M=this,this.F=null}S(Lt,ui),Lt.prototype[_c]=!0,Lt.prototype.removeEventListener=function(c,d,f,m){QT(this,c,d,f,m)};function Gt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Ot(d,c);else if(d instanceof Ot)d.target=d.target||c;else{var A=d;d=new Ot(m,c),T(d,A)}if(A=!0,f)for(var N=f.length-1;0<=N;N--){var j=d.g=f[N];A=nd(j,m,!0,d)&&A}if(j=d.g=c,A=nd(j,m,!0,d)&&A,A=nd(j,m,!1,d)&&A,f)for(N=0;N<f.length;N++)j=d.g=f[N],A=nd(j,m,!1,d)&&A}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)ed(f[m]);delete c.g[d],c.h--}}this.F=null},Lt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Lt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function nd(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,N=0;N<d.length;++N){var j=d[N];if(j&&!j.da&&j.capture==f){var Fe=j.listener,Nt=j.ha||j.src;j.fa&&Am(c.i,j),A=Fe.call(Nt,m)!==!1&&A}}return A&&!m.defaultPrevented}function ZT(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function JT(c){c.g=ZT(()=>{c.g=null,c.i&&(c.i=!1,JT(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class BP extends ui{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:JT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ec(c){ui.call(this),this.h=c,this.g={}}S(Ec,ui);var XT=[];function eb(c){Ne(c.g,function(d,f){this.g.hasOwnProperty(f)&&Mm(d)},c),c.g={}}Ec.prototype.N=function(){Ec.aa.N.call(this),eb(this)},Ec.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lm=a.JSON.stringify,$P=a.JSON.parse,HP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Fm(){}Fm.prototype.h=null;function tb(c){return c.h||(c.h=c.i())}function nb(){}var Ic={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vm(){Ot.call(this,"d")}S(Vm,Ot);function jm(){Ot.call(this,"c")}S(jm,Ot);var uo={},rb=null;function rd(){return rb=rb||new Lt}uo.La="serverreachability";function ib(c){Ot.call(this,uo.La,c)}S(ib,Ot);function wc(c){let d=rd();Gt(d,new ib(d))}uo.STAT_EVENT="statevent";function ob(c,d){Ot.call(this,uo.STAT_EVENT,c),this.stat=d}S(ob,Ot);function Wt(c){let d=rd();Gt(d,new ob(d,c))}uo.Ma="timingevent";function sb(c,d){Ot.call(this,uo.Ma,c),this.size=d}S(sb,Ot);function Tc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function bc(){this.g=!0}bc.prototype.xa=function(){this.g=!1};function zP(c,d,f,m,A,N){c.info(function(){if(c.g)if(N)for(var j="",Fe=N.split("&"),Nt=0;Nt<Fe.length;Nt++){var Ae=Fe[Nt].split("=");if(1<Ae.length){var Ft=Ae[0];Ae=Ae[1];var Vt=Ft.split("_");j=2<=Vt.length&&Vt[1]=="type"?j+(Ft+"="+Ae+"&"):j+(Ft+"=redacted&")}}else j=null;else j=N;return"XMLHTTP REQ ("+m+") [attempt "+A+"]: "+d+`
`+f+`
`+j})}function qP(c,d,f,m,A,N,j){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+A+"]: "+d+`
`+f+`
`+N+" "+j})}function Ss(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+WP(c,f)+(m?" "+m:"")})}function GP(c,d){c.info(function(){return"TIMEOUT: "+d})}bc.prototype.info=function(){};function WP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var A=m[1];if(Array.isArray(A)&&!(1>A.length)){var N=A[0];if(N!="noop"&&N!="stop"&&N!="close")for(var j=1;j<A.length;j++)A[j]=""}}}}return Lm(f)}catch{return d}}var id={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ab={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Um;function od(){}S(od,Fm),od.prototype.g=function(){return new XMLHttpRequest},od.prototype.i=function(){return{}},Um=new od;function li(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Ec(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cb}function cb(){this.i=null,this.g="",this.h=!1}var ub={},Bm={};function $m(c,d,f){c.L=1,c.v=ud(Sr(d)),c.m=f,c.P=!0,lb(c,null)}function lb(c,d){c.F=Date.now(),sd(c),c.A=Sr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),bb(f.i,"t",m),c.C=0,f=c.j.J,c.h=new cb,c.g=$b(c.j,f?d:null,!c.m),0<c.O&&(c.M=new BP(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(XT[0]=A.toString()),A=XT);for(var N=0;N<A.length;N++){var j=GT(f,A[N],m||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),wc(),zP(c.i,c.u,c.A,c.l,c.R,c.m)}li.prototype.ca=function(c){c=c.target;let d=this.M;d&&Ar(c)==3?d.j():this.Y(c)},li.prototype.Y=function(c){try{if(c==this.g)e:{let Vt=Ar(this.g);var d=this.g.Ba();let xs=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||Nb(this.g)))){this.J||Vt!=4||d==7||(d==8||0>=xs?wc(3):wc(2)),Hm(this);var f=this.g.Z();this.X=f;t:if(db(this)){var m=Nb(this.g);c="";var A=m.length,N=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lo(this),Dc(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(N&&d==A-1)});m.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,qP(this.i,this.u,this.A,this.l,this.R,Vt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Nt=this.g;if((Fe=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Fe)){var Ae=Fe;break t}}Ae=null}if(f=Ae)Ss(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zm(this,f);else{this.o=!1,this.s=3,Wt(12),lo(this),Dc(this);break e}}if(this.P){f=!0;let Ln;for(;!this.J&&this.C<j.length;)if(Ln=KP(this,j),Ln==Bm){Vt==4&&(this.s=4,Wt(14),f=!1),Ss(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==ub){this.s=4,Wt(15),Ss(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Ss(this.i,this.l,Ln,null),zm(this,Ln);if(db(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||j.length!=0||this.h.h||(this.s=1,Wt(16),f=!1),this.o=this.o&&f,!f)Ss(this.i,this.l,j,"[Invalid Chunked Response]"),lo(this),Dc(this);else if(0<j.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Ym(Ft),Ft.M=!0,Wt(11))}}else Ss(this.i,this.l,j,null),zm(this,j);Vt==4&&lo(this),this.o&&!this.J&&(Vt==4?Vb(this.j,this):(this.o=!1,sd(this)))}else dO(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),lo(this),Dc(this)}}}catch{}finally{}};function db(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function KP(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Bm:(f=Number(d.substring(f,m)),isNaN(f)?ub:(m+=1,m+f>d.length?Bm:(d=d.slice(m,m+f),c.C=m+f,d)))}li.prototype.cancel=function(){this.J=!0,lo(this)};function sd(c){c.S=Date.now()+c.I,hb(c,c.I)}function hb(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tc(g(c.ba,c),d)}function Hm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}li.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(GP(this.i,this.A),this.L!=2&&(wc(),Wt(17)),lo(this),this.s=2,Dc(this)):hb(this,this.S-c)};function Dc(c){c.j.G==0||c.J||Vb(c.j,c)}function lo(c){Hm(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,eb(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function zm(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||qm(f.h,c))){if(!c.K&&qm(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var A=m;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)pd(f),hd(f);else break e;Qm(f),Wt(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=Tc(g(f.Za,f),6e3));if(1>=gb(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else fo(f,11)}else if((c.K||f.g==c)&&pd(f),!te(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Ae=A[d];if(f.T=Ae[0],Ae=Ae[1],f.G==2)if(Ae[0]=="c"){f.K=Ae[1],f.ia=Ae[2];let Ft=Ae[3];Ft!=null&&(f.la=Ft,f.j.info("VER="+f.la));let Vt=Ae[4];Vt!=null&&(f.Aa=Vt,f.j.info("SVER="+f.Aa));let xs=Ae[5];xs!=null&&typeof xs=="number"&&0<xs&&(m=1.5*xs,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Ln=c.g;if(Ln){let md=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(md){var N=m.h;N.g||md.indexOf("spdy")==-1&&md.indexOf("quic")==-1&&md.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Gm(N,N.h),N.h=null))}if(m.D){let Zm=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Zm&&(m.ya=Zm,je(m.I,m.D,Zm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var j=c;if(m.qa=Bb(m,m.J?m.ia:null,m.W),j.K){mb(m.h,j);var Fe=j,Nt=m.L;Nt&&(Fe.I=Nt),Fe.B&&(Hm(Fe),sd(Fe)),m.g=j}else Lb(m);0<f.i.length&&fd(f)}else Ae[0]!="stop"&&Ae[0]!="close"||fo(f,7);else f.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?fo(f,7):Km(f):Ae[0]!="noop"&&f.l&&f.l.ta(Ae),f.v=0)}}wc(4)}catch{}}var QP=class{constructor(c,d){this.g=c,this.map=d}};function fb(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pb(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gb(c){return c.h?1:c.g?c.g.size:0}function qm(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Gm(c,d){c.g?c.g.add(d):c.h=d}function mb(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}fb.prototype.cancel=function(){if(this.i=yb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function yb(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function YP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function ZP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function vb(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=ZP(c),m=YP(c),A=m.length,N=0;N<A;N++)d.call(void 0,m[N],f&&f[N],c)}var _b=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),A=null;if(0<=m){var N=c[f].substring(0,m);A=c[f].substring(m+1)}else N=c[f];d(N,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function ho(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ho){this.h=c.h,ad(this,c.j),this.o=c.o,this.g=c.g,cd(this,c.s),this.l=c.l;var d=c.i,f=new Ac;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Eb(this,f),this.m=c.m}else c&&(d=String(c).match(_b))?(this.h=!1,ad(this,d[1]||"",!0),this.o=Cc(d[2]||""),this.g=Cc(d[3]||"",!0),cd(this,d[4]),this.l=Cc(d[5]||"",!0),Eb(this,d[6]||"",!0),this.m=Cc(d[7]||"")):(this.h=!1,this.i=new Ac(null,this.h))}ho.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Sc(d,Ib,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Sc(d,Ib,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Sc(f,f.charAt(0)=="/"?tO:eO,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Sc(f,rO)),c.join("")};function Sr(c){return new ho(c)}function ad(c,d,f){c.j=f?Cc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function cd(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Eb(c,d,f){d instanceof Ac?(c.i=d,iO(c.i,c.h)):(f||(d=Sc(d,nO)),c.i=new Ac(d,c.h))}function je(c,d,f){c.i.set(d,f)}function ud(c){return je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,XP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function XP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ib=/[#\/\?@]/g,eO=/[#\?:]/g,tO=/[#\?]/g,nO=/[#\?@]/g,rO=/#/g;function Ac(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function di(c){c.g||(c.g=new Map,c.h=0,c.i&&JP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ac.prototype,n.add=function(c,d){di(this),this.i=null,c=As(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function wb(c,d){di(c),d=As(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Tb(c,d){return di(c),d=As(c,d),c.g.has(d)}n.forEach=function(c,d){di(this),this.g.forEach(function(f,m){f.forEach(function(A){c.call(d,A,m,this)},this)},this)},n.na=function(){di(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let A=c[m];for(let N=0;N<A.length;N++)f.push(d[m])}return f},n.V=function(c){di(this);let d=[];if(typeof c=="string")Tb(this,c)&&(d=d.concat(this.g.get(As(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return di(this),this.i=null,c=As(this,c),Tb(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function bb(c,d,f){wb(c,d),0<f.length&&(c.i=null,c.g.set(As(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let N=encodeURIComponent(String(m)),j=this.V(m);for(m=0;m<j.length;m++){var A=N;j[m]!==""&&(A+="="+encodeURIComponent(String(j[m]))),c.push(A)}}return this.i=c.join("&")};function As(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function iO(c,d){d&&!c.j&&(di(c),c.i=null,c.g.forEach(function(f,m){var A=m.toLowerCase();m!=A&&(wb(this,m),bb(this,A,f))},c)),c.j=d}function oO(c,d){let f=new bc;if(a.Image){let m=new Image;m.onload=y(hi,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(hi,f,"TestLoadImage: error",!1,d,m),m.onabort=y(hi,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(hi,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function sO(c,d){let f=new bc,m=new AbortController,A=setTimeout(()=>{m.abort(),hi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(N=>{clearTimeout(A),N.ok?hi(f,"TestPingServer: ok",!0,d):hi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),hi(f,"TestPingServer: error",!1,d)})}function hi(c,d,f,m,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),m(f)}catch{}}function aO(){this.g=new HP}function cO(c,d,f){let m=f||"";try{vb(c,function(A,N){let j=A;l(A)&&(j=Lm(A)),d.push(m+N+"="+encodeURIComponent(j))})}catch(A){throw d.push(m+"type="+encodeURIComponent("_badmap")),A}}function Rc(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Rc,Fm),Rc.prototype.g=function(){return new ld(this.l,this.j)},Rc.prototype.i=function(c){return function(){return c}}({});function ld(c,d){Lt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ld,Lt),n=ld.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Nc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Nc(this)),this.g&&(this.readyState=3,Nc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Db(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Db(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?xc(this):Nc(this),this.readyState==3&&Db(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,xc(this))},n.Qa=function(c){this.g&&(this.response=c,xc(this))},n.ga=function(){this.g&&xc(this)};function xc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Nc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Nc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ld.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cb(c){let d="";return Ne(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Wm(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Cb(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):je(c,d,f))}function Ke(c){Lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ke,Lt);var uO=/^https?$/i,lO=["POST","PUT"];n=Ke.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Um.g(),this.v=this.o?tb(this.o):tb(Um),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){Sb(this,N);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var A in m)f.set(A,m[A]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())f.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lO,d,void 0))||m||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,j]of f)this.g.setRequestHeader(N,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xb(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){Sb(this,N)}};function Sb(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Ab(c),dd(c)}function Ab(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),dd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dd(this,!0)),Ke.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Rb(this):this.bb())},n.bb=function(){Rb(this)};function Rb(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Ar(c)!=4||c.Z()!=2)){if(c.u&&Ar(c)==4)ZT(c.Ea,0,c);else if(Gt(c,"readystatechange"),Ar(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=j===0){var A=String(c.D).match(_b)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),m=!uO.test(A?A.toLowerCase():"")}f=m}if(f)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var N=2<Ar(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",Ab(c)}}finally{dd(c)}}}}function dd(c,d){if(c.g){xb(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Gt(c,"ready");try{f.onreadystatechange=m}catch{}}}function xb(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Ar(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),$P(d)}};function Nb(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dO(c){let d={};c=(c.g&&2<=Ar(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(te(c[m]))continue;var f=C(c[m]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[A]||[];d[A]=N,N.push(f)}D(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Mb(c){this.Aa=0,this.i=[],this.j=new bc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mc("baseRetryDelayMs",5e3,c),this.cb=Mc("retryDelaySeedMs",1e4,c),this.Wa=Mc("forwardChannelMaxRetries",2,c),this.wa=Mc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new fb(c&&c.concurrentRequestLimit),this.Da=new aO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Mb.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Wt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Bb(this,null,this.W),fd(this)};function Km(c){if(kb(c),c.G==3){var d=c.U++,f=Sr(c.I);if(je(f,"SID",c.K),je(f,"RID",d),je(f,"TYPE","terminate"),kc(c,f),d=new li(c,c.j,d),d.L=2,d.v=ud(Sr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=$b(d.j,null),d.g.ea(d.v)),d.F=Date.now(),sd(d)}Ub(c)}function hd(c){c.g&&(Ym(c),c.g.cancel(),c.g=null)}function kb(c){hd(c),c.u&&(a.clearTimeout(c.u),c.u=null),pd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function fd(c){if(!pb(c.h)&&!c.s){c.s=!0;var d=c.Ga;mc||qT(),yc||(mc(),yc=!0),Sm.add(d,c),c.B=0}}function hO(c,d){return gb(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tc(g(c.Ga,c,d),jb(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new li(this,this.j,c),N=this.o;if(this.S&&(N?(N=v(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(A.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Ob(this,A,d),f=Sr(this.I),je(f,"RID",c),je(f,"CVER",22),this.D&&je(f,"X-HTTP-Session-Id",this.D),kc(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(Cb(N)))+"&"+d:this.m&&Wm(f,this.m,N)),Gm(this.h,A),this.Ua&&je(f,"TYPE","init"),this.P?(je(f,"$req",d),je(f,"SID","null"),A.T=!0,$m(A,f,null)):$m(A,f,d),this.G=2}}else this.G==3&&(c?Pb(this,c):this.i.length==0||pb(this.h)||Pb(this))};function Pb(c,d){var f;d?f=d.l:f=c.U++;let m=Sr(c.I);je(m,"SID",c.K),je(m,"RID",f),je(m,"AID",c.T),kc(c,m),c.m&&c.o&&Wm(m,c.m,c.o),f=new li(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Ob(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Gm(c.h,f),$m(f,m,d)}function kc(c,d){c.H&&Ne(c.H,function(f,m){je(d,m,f)}),c.l&&vb({},function(f,m){je(d,m,f)})}function Ob(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var A=c.i;let N=-1;for(;;){let j=["count="+f];N==-1?0<f?(N=A[0].g,j.push("ofs="+N)):N=0:j.push("ofs="+N);let Fe=!0;for(let Nt=0;Nt<f;Nt++){let Ae=A[Nt].g,Ft=A[Nt].map;if(Ae-=N,0>Ae)N=Math.max(0,A[Nt].g-100),Fe=!1;else try{cO(Ft,j,"req"+Ae+"_")}catch{m&&m(Ft)}}if(Fe){m=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function Lb(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;mc||qT(),yc||(mc(),yc=!0),Sm.add(d,c),c.v=0}}function Qm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tc(g(c.Fa,c),jb(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Fb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tc(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),hd(this),Fb(this))};function Ym(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Fb(c){c.g=new li(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Sr(c.qa);je(d,"RID","rpc"),je(d,"SID",c.K),je(d,"AID",c.T),je(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&je(d,"TO",c.ja),je(d,"TYPE","xmlhttp"),kc(c,d),c.m&&c.o&&Wm(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ud(Sr(d)),f.m=null,f.P=!0,lb(f,c)}n.Za=function(){this.C!=null&&(this.C=null,hd(this),Qm(this),Wt(19))};function pd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Vb(c,d){var f=null;if(c.g==d){pd(c),Ym(c),c.g=null;var m=2}else if(qm(c.h,d))f=d.D,mb(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;m=rd(),Gt(m,new sb(m,f)),fd(c)}else Lb(c);else if(A=d.s,A==3||A==0&&0<d.X||!(m==1&&hO(c,d)||m==2&&Qm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:fo(c,5);break;case 4:fo(c,10);break;case 3:fo(c,6);break;default:fo(c,2)}}}function jb(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function fo(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let A=!m;m=new ho(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ad(m,"https"),ud(m),A?oO(m.toString(),f):sO(m.toString(),f)}else Wt(2);c.G=0,c.l&&c.l.sa(d),Ub(c),kb(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Ub(c){if(c.G=0,c.ka=[],c.l){let d=yb(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Bb(c,d,f){var m=f instanceof ho?Sr(f):new ho(f);if(m.g!="")d&&(m.g=d+"."+m.g),cd(m,m.s);else{var A=a.location;m=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var N=new ho(null);m&&ad(N,m),d&&(N.g=d),A&&cd(N,A),f&&(N.l=f),m=N}return f=c.D,d=c.ya,f&&d&&je(m,f,d),je(m,"VER",c.la),kc(c,m),m}function $b(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ke(new Rc({eb:f})):new Ke(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hb(){}n=Hb.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function gd(){}gd.prototype.g=function(c,d){return new un(c,d)};function un(c,d){Lt.call(this),this.g=new Mb(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!te(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!te(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Rs(this)}S(un,Lt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Km(this.g)},un.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Lm(c),c=f);d.i.push(new QP(d.Ya++,c)),d.G==3&&fd(d)},un.prototype.N=function(){this.g.l=null,delete this.j,Km(this.g),delete this.g,un.aa.N.call(this)};function zb(c){Vm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(zb,Vm);function qb(){jm.call(this),this.status=1}S(qb,jm);function Rs(c){this.g=c}S(Rs,Hb),Rs.prototype.ua=function(){Gt(this.g,"a")},Rs.prototype.ta=function(c){Gt(this.g,new zb(c))},Rs.prototype.sa=function(c){Gt(this.g,new qb)},Rs.prototype.ra=function(){Gt(this.g,"b")},gd.prototype.createWebChannel=gd.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,mI=ni.createWebChannelTransport=function(){return new gd},gI=ni.getStatEventTarget=function(){return rd()},pI=ni.Event=uo,Jp=ni.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},id.NO_ERROR=0,id.TIMEOUT=8,id.HTTP_ERROR=6,Il=ni.ErrorCode=id,ab.COMPLETE="complete",fI=ni.EventType=ab,nb.EventType=Ic,Ic.OPEN="a",Ic.CLOSE="b",Ic.ERROR="c",Ic.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,Va=ni.WebChannel=nb,Z6=ni.FetchXmlHttpFactory=Rc,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,hI=ni.XhrIo=Ke}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});var yN="@firebase/firestore",vN="4.7.17";var St=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");var oc="11.9.0";var gs=new mr("@firebase/firestore");function ja(){return gs.logLevel}function G(n,...e){if(gs.logLevel<=ve.DEBUG){let t=e.map(sT);gs.debug(`Firestore (${oc}): ${n}`,...t)}}function ri(n,...e){if(gs.logLevel<=ve.ERROR){let t=e.map(sT);gs.error(`Firestore (${oc}): ${n}`,...t)}}function Ga(n,...e){if(gs.logLevel<=ve.WARN){let t=e.map(sT);gs.warn(`Firestore (${oc}): ${n}`,...t)}}function sT(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,lM(n,r,t)}function lM(n,e,t){let r=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ri(r),new Error(r)}function ke(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||lM(e,i,r)}function ce(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends vn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var og=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},wI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(St.UNAUTHENTICATED))}shutdown(){}},TI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},bI=class{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ke(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Xn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string",31837,{l:r}),new og(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new St(e)}},DI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},CI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new DI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}},sg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},SI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ke(this.o===void 0,3512);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new sg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function J6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function dM(){return new TextEncoder}var ag=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=J6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function me(n,e){return n<e?-1:n>e?1:0}function AI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return me(r,i);{let o=dM(),s=X6(o.encode(_N(n,t)),o.encode(_N(e,t)));return s!==0?s:me(r,i)}}t+=r>65535?2:1}return me(n.length,e.length)}function _N(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function X6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return me(n[t],e[t]);return me(n.length,e.length)}function Wa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var EN=-62135596800,IN=1e6,Pt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*IN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<EN)throw new z(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IN}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-EN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var le=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Pt(0,0))}static max(){return new n(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var wN="__name__",cg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return me(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):AI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ti.fromString(e.substring(4,e.length-2))}},We=class n extends cg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},e5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,In=class n extends cg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return e5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wN}static keyField(){return new n([wN])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new z(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Z=class n{constructor(e){this.path=e}static fromPath(e){return new n(We.fromString(e))}static fromName(e){return new n(We.fromString(e).popFirst(5))}static empty(){return new n(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return We.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new We(e.slice()))}};var Sl=-1,RI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};RI.UNKNOWN_ID=-1;function t5(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new ms(i,Z.empty(),e)}function n5(n){return new ms(n.readTime,n.key,Sl)}var ms=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(le.min(),Z.empty(),Sl)}static max(){return new n(le.max(),Z.empty(),Sl)}};function r5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Z.comparator(n.documentKey,e.documentKey),t!==0?t:me(n.largestBatchId,e.largestBatchId))}var i5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function sc(n){return _(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==i5)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function o5(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ac(n){return n.name==="IndexedDbTransactionError"}var aT=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),cT=-1;function $g(n){return n==null}function Al(n){return n===0&&1/n==-1/0}function s5(n){return typeof n=="number"&&Number.isInteger(n)&&!Al(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var hM="";function a5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TN(e)),e=c5(n.get(t),e);return TN(e)}function c5(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case hM:t+="";break;default:t+=o}}return t}function TN(n){return n+hM+""}var u5="remoteDocuments",fM="owner";var pM="mutationQueues";var gM="mutations";var mM="documentMutations",l5="remoteDocumentsV14";var yM="remoteDocumentGlobal";var vM="targets";var _M="targetDocuments";var EM="targetGlobal",IM="collectionParents";var wM="clientMetadata";var TM="bundles";var bM="namedQueries";var d5="indexConfiguration";var h5="indexState";var f5="indexEntries";var DM="documentOverlays";var p5="globals";var g5=[pM,gM,mM,u5,vM,fM,EM,_M,wM,yM,IM,TM,bM],rue=[...g5,DM],m5=[pM,gM,mM,l5,vM,fM,EM,_M,wM,yM,IM,TM,bM,DM],y5=m5,v5=[...y5,d5,h5,f5];var iue=[...v5,p5];function bN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function so(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var nt=class n{constructor(e,t){this.comparator=e,this.root=t||Er.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ha(this.root,e,this.comparator,!0)}},Ha=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Er=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}};Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Er(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var At=class n{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ug(this.data.getIterator())}getIteratorFrom(e){return new ug(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ug=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Pn=class n{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new n([])}unionWith(e){let t=new At(In.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var lg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lg("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qt.EMPTY_BYTE_STRING=new qt("");var _5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(n){if(ke(!!n,39018),typeof n=="string"){let e=0,t=_5.exec(n);if(ke(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(n.seconds),nanos:qe(n.nanos)}}function qe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function oi(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}var SM="server_timestamp",AM="__type__",RM="__previous_value__",xM="__local_write_time__";function uT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AM])===null||t===void 0?void 0:t.stringValue)===SM}function Hg(n){let e=n.mapValue.fields[RM];return uT(e)?Hg(e):e}function Rl(n){let e=ii(n.mapValue.fields[xM].timestampValue);return new Pt(e.seconds,e.nanos)}var NI=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},dg="(default)",hg=class n{constructor(e,t){this.projectId=e,this.database=t||dg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===dg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var lT="__type__",NM="__max__",Xp={mapValue:{fields:{__type__:{stringValue:NM}}}},dT="__vector__",Ka="value";function to(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uT(n)?4:kM(n)?9007199254740991:MM(n)?10:11:ee(28295,{value:n})}function Tr(n,e){if(n===e)return!0;let t=to(n);if(t!==to(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rl(n).isEqual(Rl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ii(i.timestampValue),a=ii(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return oi(i.bytesValue).isEqual(oi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return qe(i.geoPointValue.latitude)===qe(o.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return qe(i.integerValue)===qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=qe(i.doubleValue),a=qe(o.doubleValue);return s===a?Al(s)===Al(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Wa(n.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(bN(s)!==bN(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Tr(s[u],a[u])))return!1;return!0}(n,e);default:return ee(52216,{left:n})}}function xl(n,e){return(n.values||[]).find(t=>Tr(t,e))!==void 0}function Qa(n,e){if(n===e)return 0;let t=to(n),r=to(e);if(t!==r)return me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return me(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=qe(o.integerValue||o.doubleValue),u=qe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return DN(n.timestampValue,e.timestampValue);case 4:return DN(Rl(n),Rl(e));case 5:return AI(n.stringValue,e.stringValue);case 6:return function(o,s){let a=oi(o),u=oi(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=me(a[l],u[l]);if(h!==0)return h}return me(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=me(qe(o.latitude),qe(s.latitude));return a!==0?a:me(qe(o.longitude),qe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return CN(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[Ka])===null||a===void 0?void 0:a.arrayValue,S=(u=g[Ka])===null||u===void 0?void 0:u.arrayValue,M=me(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:CN(y,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Xp.mapValue&&s===Xp.mapValue)return 0;if(o===Xp.mapValue)return 1;if(s===Xp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=AI(u[p],h[p]);if(g!==0)return g;let y=Qa(a[u[p]],l[h[p]]);if(y!==0)return y}return me(u.length,h.length)}(n.mapValue,e.mapValue);default:throw ee(23264,{Pe:t})}}function DN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return me(n,e);let t=ii(n),r=ii(e),i=me(t.seconds,r.seconds);return i!==0?i:me(t.nanos,r.nanos)}function CN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Qa(t[i],r[i]);if(o)return o}return me(t.length,r.length)}function Ya(n){return MI(n)}function MI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ii(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return oi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Z.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=MI(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${MI(t.fields[s])}`;return i+"}"}(n.mapValue):ee(61005,{value:n})}function ng(n){switch(to(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Hg(n);return e?16+ng(e):16;case 5:return 2*n.stringValue.length;case 6:return oi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+ng(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return so(r.fields,(o,s)=>{i+=o.length+ng(s)}),i}(n.mapValue);default:throw ee(13486,{value:n})}}function SN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function kI(n){return!!n&&"integerValue"in n}function hT(n){return!!n&&"arrayValue"in n}function AN(n){return!!n&&"nullValue"in n}function RN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rg(n){return!!n&&"mapValue"in n}function MM(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lT])===null||t===void 0?void 0:t.stringValue)===dT}function Tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return so(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Tl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NM}var sue={mapValue:{fields:{[lT]:{stringValue:dT},[Ka]:{arrayValue:{}}}}};var En=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(t)}setAll(e){let t=In.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Tl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());rg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];rg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){so(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Tl(this.value))}};function PM(n){let e=[];return so(n.fields,(t,r)=>{let i=new In([t]);if(rg(r)){let o=PM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Pn(e)}var er=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,le.min(),le.min(),le.min(),En.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,le.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,le.min(),le.min(),En.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,le.min(),le.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Za=class{constructor(e,t){this.position=e,this.inclusive=t}};function xN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Z.comparator(Z.fromName(s.referenceValue),t.key):r=Qa(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function NN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tr(n.position[t],e.position[t]))return!1;return!0}var ys=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function E5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var fg=class{},pt=class n extends fg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new OI(e,t,r):t==="array-contains"?new VI(e,r):t==="in"?new jI(e,r):t==="not-in"?new UI(e,r):t==="array-contains-any"?new BI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new LI(e,r):new FI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qa(t,this.value)):t!==null&&to(this.value)===to(t)&&this.matchesComparison(Qa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},tr=class n extends fg{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return OM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function OM(n){return n.op==="and"}function LM(n){return I5(n)&&OM(n)}function I5(n){for(let e of n.filters)if(e instanceof tr)return!1;return!0}function PI(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+Ya(n.value);if(LM(n))return n.filters.map(e=>PI(e)).join(",");{let e=n.filters.map(t=>PI(t)).join(",");return`${n.op}(${e})`}}function FM(n,e){return n instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&Tr(r.value,i.value)}(n,e):n instanceof tr?function(r,i){return i instanceof tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&FM(s,i.filters[a]),!0):!1}(n,e):void ee(19439)}function VM(n){return n instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ya(t.value)}`}(n):n instanceof tr?function(t){return t.op.toString()+" {"+t.getFilters().map(VM).join(" ,")+"}"}(n):"Filter"}var OI=class extends pt{constructor(e,t,r){super(e,t,r),this.key=Z.fromName(r.referenceValue)}matches(e){let t=Z.comparator(e.key,this.key);return this.matchesComparison(t)}},LI=class extends pt{constructor(e,t){super(e,"in",t),this.keys=jM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},FI=class extends pt{constructor(e,t){super(e,"not-in",t),this.keys=jM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function jM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Z.fromName(r.referenceValue))}var VI=class extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return hT(t)&&xl(t.arrayValue,this.value)}},jI=class extends pt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&xl(this.value.arrayValue,t)}},UI=class extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xl(this.value.arrayValue,t)}},BI=class extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!hT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xl(this.value.arrayValue,r))}};var $I=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function MN(n,e=null,t=[],r=[],i=null,o=null,s=null){return new $I(n,e,t,r,i,o,s)}function fT(n){let e=ce(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>PI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$g(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ya(r)).join(",")),e.Ie=t}return e.Ie}function pT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!E5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!NN(n.startAt,e.startAt)&&NN(n.endAt,e.endAt)}function HI(n){return Z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var no=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function w5(n,e,t,r,i,o,s,a){return new no(n,e,t,r,i,o,s,a)}function zg(n){return new no(n)}function kN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UM(n){return n.collectionGroup!==null}function bl(n){let e=ce(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new At(In.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new ys(o,r))}),t.has(In.keyField().canonicalString())||e.Ee.push(new ys(In.keyField(),r))}return e.Ee}function Ir(n){let e=ce(n);return e.de||(e.de=T5(e,bl(n))),e.de}function T5(n,e){if(n.limitType==="F")return MN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ys(i.field,o)});let t=n.endAt?new Za(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Za(n.startAt.position,n.startAt.inclusive):null;return MN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function zI(n,e){let t=n.filters.concat([e]);return new no(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qI(n,e,t){return new no(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qg(n,e){return pT(Ir(n),Ir(e))&&n.limitType===e.limitType}function BM(n){return`${fT(Ir(n))}|lt:${n.limitType}`}function Ua(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>VM(i)).join(", ")}]`),$g(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ya(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ya(i)).join(",")),`Target(${r})`}(Ir(n))}; limitType=${n.limitType})`}function Gg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of bl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=xN(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,bl(r),i)||r.endAt&&!function(s,a,u){let l=xN(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,bl(r),i))}(n,e)}function b5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $M(n){return(e,t)=>{let r=!1;for(let i of bl(n)){let o=D5(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function D5(n,e,t){let r=n.field.isKeyField()?Z.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Qa(u,l):ee(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:n.dir})}}var si=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return CM(this.inner)}size(){return this.innerSize}};var C5=new nt(Z.comparator);function ai(){return C5}var HM=new nt(Z.comparator);function wl(...n){let e=HM;for(let t of n)e=e.insert(t.key,t);return e}function zM(n){let e=HM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function hs(){return Dl()}function qM(){return Dl()}function Dl(){return new si(n=>n.toString(),(n,e)=>n.isEqual(e))}var S5=new nt(Z.comparator),A5=new At(Z.comparator);function we(...n){let e=A5;for(let t of n)e=e.add(t);return e}var R5=new At(me);function x5(){return R5}function gT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Al(e)?"-0":e}}function GM(n){return{integerValue:""+n}}function N5(n,e){return s5(e)?GM(e):gT(n,e)}var Ja=class{constructor(){this._=void 0}};function M5(n,e,t){return n instanceof Xa?function(i,o){let s={fields:{[AM]:{stringValue:SM},[xM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uT(o)&&(o=Hg(o)),o&&(s.fields[RM]=o),{mapValue:s}}(t,e):n instanceof vs?KM(n,e):n instanceof _s?QM(n,e):function(i,o){let s=WM(i,o),a=PN(s)+PN(i.Re);return kI(s)&&kI(i.Re)?GM(a):gT(i.serializer,a)}(n,e)}function k5(n,e,t){return n instanceof vs?KM(n,e):n instanceof _s?QM(n,e):t}function WM(n,e){return n instanceof ec?function(r){return kI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Xa=class extends Ja{},vs=class extends Ja{constructor(e){super(),this.elements=e}};function KM(n,e){let t=YM(e);for(let r of n.elements)t.some(i=>Tr(i,r))||t.push(r);return{arrayValue:{values:t}}}var _s=class extends Ja{constructor(e){super(),this.elements=e}};function QM(n,e){let t=YM(e);for(let r of n.elements)t=t.filter(i=>!Tr(i,r));return{arrayValue:{values:t}}}var ec=class extends Ja{constructor(e,t){super(),this.serializer=e,this.Re=t}};function PN(n){return qe(n.integerValue||n.doubleValue)}function YM(n){return hT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function P5(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof vs&&i instanceof vs||r instanceof _s&&i instanceof _s?Wa(r.elements,i.elements,Tr):r instanceof ec&&i instanceof ec?Tr(r.Re,i.Re):r instanceof Xa&&i instanceof Xa}(n.transform,e.transform)}var GI=class{constructor(e,t){this.version=e,this.transformResults=t}},On=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ig(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var tc=class{};function ZM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nc(n.key,On.none()):new Es(n.key,n.data,On.none());{let t=n.data,r=En.empty(),i=new At(In.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new br(n.key,r,new Pn(i.toArray()),On.none())}}function O5(n,e,t){n instanceof Es?function(i,o,s){let a=i.value.clone(),u=LN(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof br?function(i,o,s){if(!ig(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=LN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(JM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Cl(n,e,t,r){return n instanceof Es?function(o,s,a,u){if(!ig(o.precondition,s))return a;let l=o.value.clone(),h=FN(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof br?function(o,s,a,u){if(!ig(o.precondition,s))return a;let l=FN(o.fieldTransforms,u,s),h=s.data;return h.setAll(JM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return ig(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function L5(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=WM(r.transform,i||null);o!=null&&(t===null&&(t=En.empty()),t.set(r.field,o))}return t||null}function ON(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wa(r,i,(o,s)=>P5(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Es=class extends tc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},br=class extends tc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function JM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function LN(n,e,t){let r=new Map;ke(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,k5(s,a,t[i]))}return r}function FN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,M5(o,s,e))}return r}var nc=class extends tc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},WI=class extends tc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var KI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&O5(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Cl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Cl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=qM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=ZM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),we())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(t,r)=>ON(t,r))&&Wa(this.baseMutations,e.baseMutations,(t,r)=>ON(t,r))}},QI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ke(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return S5}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var YI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ZI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ht,be;function F5(n){switch(n){case O.OK:return ee(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return ee(15467,{code:n})}}function XM(n){if(n===void 0)return ri("GRPC error has no .code"),O.UNKNOWN;switch(n){case ht.OK:return O.OK;case ht.CANCELLED:return O.CANCELLED;case ht.UNKNOWN:return O.UNKNOWN;case ht.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case ht.INTERNAL:return O.INTERNAL;case ht.UNAVAILABLE:return O.UNAVAILABLE;case ht.UNAUTHENTICATED:return O.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case ht.NOT_FOUND:return O.NOT_FOUND;case ht.ALREADY_EXISTS:return O.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return O.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case ht.ABORTED:return O.ABORTED;case ht.OUT_OF_RANGE:return O.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return O.UNIMPLEMENTED;case ht.DATA_LOSS:return O.DATA_LOSS;default:return ee(39323,{code:n})}}(be=ht||(ht={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var VN=null;var V5=new ti([4294967295,4294967295],0);function jN(n){let e=dM().encode(n),t=new dI;return t.update(e),new Uint8Array(t.digest())}function UN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ti([t,r],0),new ti([i,o],0)]}var JI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fs(`Invalid padding: ${t}`);if(r<0)throw new fs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new fs(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ti.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(ti.fromNumber(r)));return i.compare(V5)===1&&(i=new ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=jN(e),[r,i]=UN(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=jN(e),[r,i]=UN(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},fs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var pg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(le.min(),i,new nt(me),ai(),we())}},Nl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,we(),we(),we())}};var za=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},gg=class{constructor(e,t){this.targetId=e,this.Ce=t}},mg=class{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},yg=class{constructor(){this.Fe=0,this.Me=BN(),this.xe=qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=we(),t=we(),r=we();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee(38017,{changeType:o})}}),new Nl(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=BN()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ke(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},XI=class{constructor(e){this.ze=e,this.je=new Map,this.He=ai(),this.Je=eg(),this.Ye=eg(),this.Ze=new nt(me)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(HI(o))if(r===0){let s=new Z(o.path);this.tt(t,s,er.newNoDocument(s,le.min()))}else ke(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}VN?.ht(function(h,p,g,y,S){var M,x,V,te,Y,xe;let xt={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Ne=p.unchangedNames;return Ne&&(xt.bloomFilter={applied:S===0,hashCount:(M=Ne?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(te=(V=(x=Ne?.bits)===null||x===void 0?void 0:x.bitmap)===null||V===void 0?void 0:V.length)!==null&&te!==void 0?te:0,padding:(xe=(Y=Ne?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&xe!==void 0?xe:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),xt}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=oi(r).toUint8Array()}catch(u){if(u instanceof lg)return Ga("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new JI(s,i,o)}catch(u){return Ga(u instanceof fs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&HI(a.target)){let u=new Z(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,er.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=we();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new pg(e,t,this.Ze,this.He,r);return this.He=ai(),this.Je=eg(),this.Ye=eg(),this.Ze=new nt(me),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new yg,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new At(me),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new At(me),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new yg),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function eg(){return new nt(Z.comparator)}function BN(){return new nt(Z.comparator)}var j5={asc:"ASCENDING",desc:"DESCENDING"},U5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B5={and:"AND",or:"OR"},ew=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function tw(n,e){return n.useProto3Json||$g(e)?e:{value:e}}function vg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ek(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $5(n,e){return vg(n,e.toTimestamp())}function wr(n){return ke(!!n,49232),le.fromTimestamp(function(t){let r=ii(t);return new Pt(r.seconds,r.nanos)}(n))}function mT(n,e){return nw(n,e).canonicalString()}function nw(n,e){let t=function(i){return new We(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function tk(n){let e=We.fromString(n);return ke(sk(e),10190,{key:e.toString()}),e}function rw(n,e){return mT(n.databaseId,e.path)}function yI(n,e){let t=tk(e);if(t.get(1)!==n.databaseId.projectId)throw new z(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Z(rk(t))}function nk(n,e){return mT(n.databaseId,e)}function H5(n){let e=tk(n);return e.length===4?We.emptyPath():rk(e)}function iw(n){return new We(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rk(n){return ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $N(n,e,t){return{name:rw(n,e),fields:t.value.mapValue.fields}}function z5(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ke(h===void 0||typeof h=="string",58123),qt.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),qt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:XM(l.code);return new z(h,l.message||"")}(s);t=new mg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=yI(n,r.document.name),o=wr(r.document.updateTime),s=r.document.createTime?wr(r.document.createTime):le.min(),a=new En({mapValue:{fields:r.document.fields}}),u=er.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new za(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=yI(n,r.document),o=r.readTime?wr(r.readTime):le.min(),s=er.newNoDocument(i,o),a=r.removedTargetIds||[];t=new za([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=yI(n,r.document),o=r.removedTargetIds||[];t=new za([],o,i,null)}else{if(!("filter"in e))return ee(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ZI(i,o),a=r.targetId;t=new gg(a,s)}}return t}function q5(n,e){let t;if(e instanceof Es)t={update:$N(n,e.key,e.value)};else if(e instanceof nc)t={delete:rw(n,e.key)};else if(e instanceof br)t={update:$N(n,e.key,e.data),updateMask:ez(e.fieldMask)};else{if(!(e instanceof WI))return ee(16599,{ft:e.type});t={verify:rw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Xa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _s)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ec)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw ee(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:$5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee(27497)}(n,e.precondition)),t}function G5(n,e){return n&&n.length>0?(ke(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?wr(i.updateTime):wr(o);return s.isEqual(le.min())&&(s=wr(o)),new GI(s,i.transformResults||[])}(t,e))):[]}function W5(n,e){return{documents:[nk(n,e.path)]}}function K5(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=nk(n,i);let o=function(l){if(l.length!==0)return ok(tr.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Ba(g.field),direction:Z5(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=tw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function Q5(n){let e=H5(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ke(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=ik(p);return g instanceof tr&&LM(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(S){return new ys($a(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,$g(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new Za(y,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new Za(y,g)}(t.endAt)),w5(e,i,s,o,a,"F",u,l)}function Y5(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ik(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=$a(t.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=$a(t.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=$a(t.unaryFilter.field);return pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=$a(t.unaryFilter.field);return pt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(n):n.fieldFilter!==void 0?function(t){return pt.create($a(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return tr.create(t.compositeFilter.filters.map(r=>ik(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(t.compositeFilter.op))}(n):ee(30097,{filter:n})}function Z5(n){return j5[n]}function J5(n){return U5[n]}function X5(n){return B5[n]}function Ba(n){return{fieldPath:n.canonicalString()}}function $a(n){return In.fromServerFormat(n.fieldPath)}function ok(n){return n instanceof pt?function(t){if(t.op==="=="){if(RN(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NAN"}};if(AN(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(RN(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NOT_NAN"}};if(AN(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(t.field),op:J5(t.op),value:t.value}}}(n):n instanceof tr?function(t){let r=t.getFilters().map(i=>ok(i));return r.length===1?r[0]:{compositeFilter:{op:X5(t.op),filters:r}}}(n):ee(54877,{filter:n})}function ez(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ml=class n{constructor(e,t,r,i,o=le.min(),s=le.min(),a=qt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ow=class{constructor(e){this.wt=e}};function tz(n){let e=Q5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qI(e,e.limit,"L"):e}var _g=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(qe(e.integerValue));else if("doubleValue"in e){let r=qe(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Al(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=ii(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(oi(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?kM(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):MM(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ee(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Ka,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(qe(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),Z.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};_g.Wt=new _g;var sw=class{constructor(){this.Cn=new aw}addToCollectionParentIndex(e,t){return this.Cn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(ms.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},aw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new At(We.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(We.comparator)).toArray()}};var aue=new Uint8Array(0);var HN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ak=41943040,kn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(ak,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);var kl=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var zN="LruGarbageCollector",nz=1048576;function qN([n,e],[t,r]){let i=me(n,t);return i===0?me(e,r):i}var cw=class{constructor(e){this.Er=e,this.buffer=new At(qN),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();qN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},uw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){G(zN,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){ac(t)?G(zN,"Ignoring IndexedDB error during garbage collection: ",t):yield sc(t)}yield this.mr(3e5)}))}},lw=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return L.resolve(aT.le);let r=new cw(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(HN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HN):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ja()<=ve.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function rz(n,e){return new lw(n,e)}var dw=class{constructor(){this.changes=new si(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var hw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var fw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Cl(r.mutation,i,Pn.empty(),Pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,t,r=we()){let i=hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=wl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=hs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,we()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=ai(),s=Dl(),a=function(){return Dl()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof br)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Cl(h.mutation,l,h.mutation.getFieldMask(),Pt.now())):s.set(l.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new hw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Dl(),i=new nt((s,a)=>s-a),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Pn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||we()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=qM();h.forEach(g=>{if(!o.has(g)){let y=ZM(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):UM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(hs()),a=Sl,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,we())).next(h=>({batchId:a,changes:zM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Z(t)).next(r=>{let i=wl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=wl();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,g){return new no(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,er.newInvalidDocument(h)))});let a=wl();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Cl(h.mutation,l,Pn.empty(),Pt.now()),Gg(t,l)&&(a=a.insert(u,l))}),a})}};var pw=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return L.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:wr(i.createTime)}}(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:tz(i.bundledQuery),readTime:wr(i.readTime)}}(t)),L.resolve()}};var gw=class{constructor(){this.overlays=new nt(Z.comparator),this.Qr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=hs();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=hs(),o=t.length+1,s=new Z(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new nt((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=hs(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=hs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new YI(t,r));let o=this.Qr.get(t);o===void 0&&(o=we(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var mw=class{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var Pl=class{constructor(){this.$r=new At(ft.Ur),this.Kr=new At(ft.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new ft(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new ft(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new Z(new We([])),r=new ft(t,e),i=new ft(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new Z(new We([])),r=new ft(t,e),i=new ft(t,e+1),o=we();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ft(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ft=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Z.comparator(e.key,t.key)||me(e.Zr,t.Zr)}static Wr(e,t){return me(e.Zr,t.Zr)||Z.comparator(e.key,t.key)}};var yw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new At(ft.Ur)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new KI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new ft(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?cT:this.nr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ft(t,0),i=new ft(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new At(me);return t.forEach(i=>{let o=new ft(i,0),s=new ft(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),L.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Z.isDocumentKey(o)||(o=o.child(""));let s=new ft(new Z(o),0),a=new At(me);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),L.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ke(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return L.forEach(t.mutations,i=>{let o=new ft(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new ft(t,0),i=this.Xr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var vw=class{constructor(e){this.ii=e,this.docs=function(){return new nt(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():er.newInvalidDocument(t))}getEntries(e,t){let r=ai();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():er.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ai(),s=t.path,a=new Z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||r5(n5(h),r)<=0||(i.has(h.key)||Gg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ee(9500)}si(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _w(this)}getSize(e){return L.resolve(this.size)}},_w=class extends dw{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var Ew=class{constructor(e){this.persistence=e,this.oi=new si(t=>fT(t),pT),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this._i=0,this.ai=new Pl,this.targetCount=0,this.ui=kl.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),L.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new kl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Tr(t),L.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.ai.containsKey(t))}};var Eg=class{constructor(e,t){this.ci={},this.overlays={},this.li=new aT(0),this.hi=!1,this.hi=!0,this.Pi=new mw,this.referenceDelegate=e(this),this.Ti=new Ew(this),this.indexManager=new sw,this.remoteDocumentCache=function(i){return new vw(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new ow(t),this.Ei=new pw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new yw(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){G("MemoryPersistence","Starting transaction:",e);let i=new Iw(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return L.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},Iw=class extends xI{constructor(e){super(),this.currentSequenceNumber=e}},ww=class n{constructor(e){this.persistence=e,this.Vi=new Pl,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw ee(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),L.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.gi,r=>{let i=Z.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,le.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return L.or([()=>L.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},Ig=class n{constructor(e,t){this.persistence=e,this.yi=new si(r=>a5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=rz(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return L.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?L.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),L.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ng(e.data.value)),t}Dr(e,t,r){return L.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Tw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=we(),i=we();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var bw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Dw=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Bx()?8:o5(Ct())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new bw;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(ja()<=ve.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ua(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),L.resolve()):(ja()<=ve.DEBUG&&G("QueryEngine","Query:",Ua(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ja()<=ve.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ua(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(t))):L.resolve())}ws(e,t){if(kN(t))return L.resolve(null);let r=Ir(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=qI(t,null,"F"),r=Ir(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=we(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(t,a);return this.Cs(t,l,s,u.readTime)?this.ws(e,qI(t,null,"F")):this.Fs(e,l,t,u)}))})))}bs(e,t,r,i){return kN(t)||i.isEqual(le.min())?L.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?L.resolve(null):(ja()<=ve.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(t)),this.Fs(e,s,t,t5(i,Sl)).next(a=>a))})}vs(e,t){let r=new At($M(e));return t.forEach((i,o)=>{Gg(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return ja()<=ve.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ua(t)),this.ys.getDocumentsMatchingQuery(e,t,ms.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var yT="LocalStore",iz=3e8,Cw=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new nt(me),this.Os=new si(o=>fT(o),pT),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function oz(n,e,t,r){return new Cw(n,e,t,r)}function ck(n,e){return _(this,null,function*(){let t=ce(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=we();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function sz(n,e){let t=ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=L.resolve();return g.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(M=>{let x=l.docVersions.get(S);ke(x!==null,48541),M.version.compareTo(x)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=we();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uk(n){let e=ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function az(n,e){let t=ce(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(qt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,x,V){return M.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=iz?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,y,h)&&a.push(t.Ti.updateTargetData(o,y))});let u=ai(),l=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(cz(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(le.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.xs=i,o))}function cz(n,e,t){let r=we(),i=we();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ai();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):G(yT,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function uz(n,e){let t=ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cT),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lz(n,e){let t=ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Ml(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function Sw(n,e,t){return _(this,null,function*(){let r=ce(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ac(s))throw s;G(yT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function GN(n,e,t){let r=ce(n),i=le.min(),o=we();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ce(u),g=p.Os.get(h);return g!==void 0?L.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,Ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:le.min(),t?o:we())).next(a=>(dz(r,b5(e),a),{documents:a,$s:o})))}function dz(n,e,t){let r=n.Ns.get(e)||le.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var wg=class{constructor(){this.activeTargetIds=x5()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Aw=class{constructor(){this.xo=new wg,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new wg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Rw=class{No(e){}shutdown(){}};var WN="ConnectivityMonitor",Tg=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){G(WN,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){G(WN,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var tg=null;function xw(){return tg===null?tg=function(){return 268435456+Math.round(2147483648*Math.random())}():tg++,"0x"+tg.toString(16)}var vI="RestConnection",hz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Nw=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===dg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=xw(),a=this.jo(e,t.toUriEncodedString());G(vI,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=Gi(l);return this.Jo(e,a,u,r,h).then(p=>(G(vI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ga(vI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=hz[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var Mw=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var zt="WebChannelConnection",kw=class extends Nw{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=xw();return new Promise((a,u)=>{let l=new hI;l.setWithCredentials(!0),l.listenOnce(fI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Il.NO_ERROR:let p=l.getResponseJson();G(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Il.TIMEOUT:G(zt,`RPC '${e}' ${s} timed out`),u(new z(O.DEADLINE_EXCEEDED,"Request time out"));break;case Il.HTTP_ERROR:let g=l.getStatus();if(G(zt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let M=function(V){let te=V.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(te)>=0?te:O.UNKNOWN}(S.status);u(new z(M,S.message))}else u(new z(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new z(O.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{G(zt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);G(zt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=xw(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mI(),a=gI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");G(zt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let g=!1,y=!1,S=new Mw({Zo:x=>{y?G(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(G(zt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),G(zt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Xo:()=>p.close()}),M=(x,V,te)=>{x.listen(V,Y=>{try{te(Y)}catch(xe){setTimeout(()=>{throw xe},0)}})};return M(p,Va.EventType.OPEN,()=>{y||(G(zt,`RPC '${e}' stream ${i} transport opened.`),S.__())}),M(p,Va.EventType.CLOSE,()=>{y||(y=!0,G(zt,`RPC '${e}' stream ${i} transport closed`),S.u_(),this.d_(p))}),M(p,Va.EventType.ERROR,x=>{y||(y=!0,Ga(zt,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),S.u_(new z(O.UNAVAILABLE,"The operation could not be completed")))}),M(p,Va.EventType.MESSAGE,x=>{var V;if(!y){let te=x.data[0];ke(!!te,16349);let Y=te,xe=Y?.error||((V=Y[0])===null||V===void 0?void 0:V.error);if(xe){G(zt,`RPC '${e}' stream ${i} received error:`,xe);let xt=xe.status,Ne=function(I){let T=ht[I];if(T!==void 0)return XM(T)}(xt),D=xe.message;Ne===void 0&&(Ne=O.INTERNAL,D="Unknown error status: "+xt+" with message "+xe.message),y=!0,S.u_(new z(Ne,D)),p.close()}else G(zt,`RPC '${e}' stream ${i} received:`,te),S.c_(te)}}),M(a,pI.STAT_EVENT,x=>{x.stat===Jp.PROXY?G(zt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Jp.NOPROXY&&G(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function _I(){return typeof document<"u"?document:null}function Wg(n){return new ew(n,!0)}var bg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var KN="PersistentStream",Dg=class{constructor(e,t,r,i,o,s,a,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new bg(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return _(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return _(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return _(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(ri(t.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new z(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>_(this,null,function*(){this.state=0,this.start()}))}j_(e){return G(KN,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(G(KN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Pw=class extends Dg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=z5(this.serializer,e),r=function(o){if(!("targetChange"in o))return le.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?wr(s.readTime):le.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=iw(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=HI(u)?{documents:W5(o,u)}:{query:K5(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ek(o,s.resumeToken);let l=tw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(le.min())>0){a.readTime=vg(o,s.snapshotVersion.toTimestamp());let l=tw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Y5(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=iw(this.serializer),t.removeTarget=e,this.Q_(t)}},Ow=class extends Dg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=G5(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=iw(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>q5(this.serializer,r))};this.Q_(t)}};var Lw=class{},Fw=class extends Lw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new z(O.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,nw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(O.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,nw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(O.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},Vw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ri(t),this.ua=!1):G("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var Is="RemoteStore",jw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Ts(this)&&(G(Is,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=ce(u);l.da.add(4),yield Hl(l),l.Va.set("Unknown"),l.da.delete(4),yield Kg(l)})}(this))}))}),this.Va=new Vw(r,i)}};function Kg(n){return _(this,null,function*(){if(Ts(n))for(let e of n.Aa)yield e(!0)})}function Hl(n){return _(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function lk(n,e){let t=ce(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),IT(t)?ET(t):cc(t).N_()&&_T(t,e))}function vT(n,e){let t=ce(n),r=cc(t);t.Ea.delete(e),r.N_()&&dk(t,e),t.Ea.size===0&&(r.N_()?r.k_():Ts(t)&&t.Va.set("Unknown"))}function _T(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cc(n).Z_(e)}function dk(n,e){n.ma.Ke(e),cc(n).X_(e)}function ET(n){n.ma=new XI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),cc(n).start(),n.Va.ca()}function IT(n){return Ts(n)&&!cc(n).O_()&&n.Ea.size>0}function Ts(n){return ce(n).da.size===0}function hk(n){n.ma=void 0}function fz(n){return _(this,null,function*(){n.Va.set("Online")})}function pz(n){return _(this,null,function*(){n.Ea.forEach((e,t)=>{_T(n,e)})})}function gz(n,e){return _(this,null,function*(){hk(n),IT(n)?(n.Va.Pa(e),ET(n)):n.Va.set("Unknown")})}function mz(n,e,t){return _(this,null,function*(){if(n.Va.set("Online"),e instanceof mg&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){G(Is,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cg(n,r)}else if(e instanceof za?n.ma.Xe(e):e instanceof gg?n.ma.ot(e):n.ma.nt(e),!t.isEqual(le.min()))try{let r=yield uk(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(qt.EMPTY_BYTE_STRING,h.snapshotVersion)),dk(o,u);let p=new Ml(h.target,u,l,h.sequenceNumber);_T(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){G(Is,"Failed to raise snapshot:",r),yield Cg(n,r)}})}function Cg(n,e,t){return _(this,null,function*(){if(!ac(e))throw e;n.da.add(1),yield Hl(n),n.Va.set("Offline"),t||(t=()=>uk(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){G(Is,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield Kg(n)}))})}function fk(n,e){return e().catch(t=>Cg(n,t,e))}function Qg(n){return _(this,null,function*(){let e=ce(n),t=ro(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:cT;for(;yz(e);)try{let i=yield uz(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,vz(e,i)}catch(i){yield Cg(e,i)}pk(e)&&gk(e)})}function yz(n){return Ts(n)&&n.Ia.length<10}function vz(n,e){n.Ia.push(e);let t=ro(n);t.N_()&&t.ea&&t.ta(e.mutations)}function pk(n){return Ts(n)&&!ro(n).O_()&&n.Ia.length>0}function gk(n){ro(n).start()}function _z(n){return _(this,null,function*(){ro(n).ia()})}function Ez(n){return _(this,null,function*(){let e=ro(n);for(let t of n.Ia)e.ta(t.mutations)})}function Iz(n,e,t){return _(this,null,function*(){let r=n.Ia.shift(),i=QI.from(r,e,t);yield fk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Qg(n)})}function wz(n,e){return _(this,null,function*(){e&&ro(n).ea&&(yield function(r,i){return _(this,null,function*(){if(function(s){return F5(s)&&s!==O.ABORTED}(i.code)){let o=r.Ia.shift();ro(r).L_(),yield fk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Qg(r)}})}(n,e)),pk(n)&&gk(n)})}function QN(n,e){return _(this,null,function*(){let t=ce(n);t.asyncQueue.verifyOperationInProgress(),G(Is,"RemoteStore received new credentials");let r=Ts(t);t.da.add(3),yield Hl(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield Kg(t)})}function Tz(n,e){return _(this,null,function*(){let t=ce(n);e?(t.da.delete(2),yield Kg(t)):e||(t.da.add(2),yield Hl(t),t.Va.set("Unknown"))})}function cc(n){return n.fa||(n.fa=function(t,r,i){let o=ce(t);return o.oa(),new Pw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:fz.bind(null,n),n_:pz.bind(null,n),i_:gz.bind(null,n),Y_:mz.bind(null,n)}),n.Aa.push(e=>_(null,null,function*(){e?(n.fa.L_(),IT(n)?ET(n):n.Va.set("Unknown")):(yield n.fa.stop(),hk(n))}))),n.fa}function ro(n){return n.ga||(n.ga=function(t,r,i){let o=ce(t);return o.oa(),new Ow(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:_z.bind(null,n),i_:wz.bind(null,n),na:Ez.bind(null,n),ra:Iz.bind(null,n)}),n.Aa.push(e=>_(null,null,function*(){e?(n.ga.L_(),yield Qg(n)):(yield n.ga.stop(),n.Ia.length>0&&(G(Is,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var Uw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function wT(n,e){if(ri("AsyncQueue",`${e}: ${n}`),ac(n))return new z(O.UNAVAILABLE,`${e}: ${n}`);throw n}var Sg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Z.comparator(t.key,r.key):(t,r)=>Z.comparator(t.key,r.key),this.keyedMap=wl(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ag=class{constructor(){this.pa=new nt(Z.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):ee(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},rc=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Sg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Bw=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},$w=class{constructor(){this.queries=YN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=ce(t),o=i.queries;i.queries=YN(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new z(O.ABORTED,"Firestore shutting down"))}};function YN(){return new si(n=>BM(n),qg)}function TT(n,e){return _(this,null,function*(){let t=ce(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new Bw,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=wT(s,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&DT(t)})}function bT(n,e){return _(this,null,function*(){let t=ce(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function bz(n,e){let t=ce(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&DT(t)}function Dz(n,e,t){let r=ce(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function DT(n){n.Ca.forEach(e=>{e.next()})}var Hw,ZN;(ZN=Hw||(Hw={})).xa="default",ZN.Cache="cache";var Ol=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new rc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Hw.Cache}};var Rg=class{constructor(e){this.key=e}},xg=class{constructor(e){this.key=e}},zw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=we(),this.mutatedKeys=we(),this.Za=$M(e),this.Xa=new Sg(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new Ag,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Gg(this.query,p)?p:null,S=!!g&&this.mutatedKeys.has(g.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),x=!1;g&&y?g.data.isEqual(y.data)?S!==M&&(r.track({type:3,doc:y}),x=!0):this.ru(g,y)||(r.track({type:2,doc:y}),x=!0,(u&&this.Za(y,u)>0||l&&this.Za(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),x=!0):g&&!y&&(r.track({type:1,doc:g}),x=!0,(u||l)&&(a=!0)),x&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,S){let M=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Vt:x})}};return M(y)-M(S)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new rc(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Ag,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=we(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new xg(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Rg(r))}),t}au(e){this.Ha=e.$s,this.Ya=we();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return rc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},CT="SyncEngine",qw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Gw=class{constructor(e){this.key=e,this.cu=!1}},Ww=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new si(a=>BM(a),qg),this.Pu=new Map,this.Tu=new Set,this.Iu=new nt(Z.comparator),this.Eu=new Map,this.du=new Pl,this.Au={},this.Ru=new Map,this.Vu=kl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function Cz(n,e,t=!0){return _(this,null,function*(){let r=Ik(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield mk(r,e,t,!0),i})}function Sz(n,e){return _(this,null,function*(){let t=Ik(n);yield mk(t,e,!0,!1)})}function mk(n,e,t,r){return _(this,null,function*(){let i=yield lz(n.localStore,Ir(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Az(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&lk(n.remoteStore,i),a})}function Az(n,e,t,r,i){return _(this,null,function*(){n.fu=(p,g,y)=>function(M,x,V,te){return _(this,null,function*(){let Y=x.view.tu(V);Y.Cs&&(Y=yield GN(M.localStore,x.query,!1).then(({documents:D})=>x.view.tu(D,Y)));let xe=te&&te.targetChanges.get(x.targetId),xt=te&&te.targetMismatches.get(x.targetId)!=null,Ne=x.view.applyChanges(Y,M.isPrimaryClient,xe,xt);return XN(M,x.targetId,Ne.ou),Ne.snapshot})}(n,p,g,y);let o=yield GN(n.localStore,e,!0),s=new zw(e,o.$s),a=s.tu(o.documents),u=Nl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);XN(n,t,l.ou);let h=new qw(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function Rz(n,e,t){return _(this,null,function*(){let r=ce(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!qg(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Sw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&vT(r.remoteStore,i.targetId),Kw(r,i.targetId)}).catch(sc))):(Kw(r,i.targetId),yield Sw(r.localStore,i.targetId,!0))})}function xz(n,e){return _(this,null,function*(){let t=ce(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),vT(t.remoteStore,r.targetId))})}function Nz(n,e,t){return _(this,null,function*(){let r=Vz(n);try{let i=yield function(s,a){let u=ce(s),l=Pt.now(),h=a.reduce((y,S)=>y.add(S.key),we()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=ai(),M=we();return u.Bs.getEntries(y,h).next(x=>{S=x,S.forEach((V,te)=>{te.isValidDocument()||(M=M.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(x=>{p=x;let V=[];for(let te of a){let Y=L5(te,p.get(te.key).overlayedDocument);Y!=null&&V.push(new br(te.key,Y,PM(Y.value.mapValue),On.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(x=>{g=x;let V=x.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,x.batchId,V)})}).then(()=>({batchId:g.batchId,changes:zM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Au[s.currentUser.toKey()];l||(l=new nt(me)),l=l.insert(a,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,t),yield zl(r,i.changes),yield Qg(r.remoteStore)}catch(i){let o=wT(i,"Failed to persist write");t.reject(o)}})}function yk(n,e){return _(this,null,function*(){let t=ce(n);try{let r=yield az(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?ke(s.cu,14607):i.removedDocuments.size>0&&(ke(s.cu,42227),s.cu=!1))}),yield zl(t,r,e)}catch(r){yield sc(r)}})}function JN(n,e,t){let r=ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ce(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.Sa)g.Fa(a)&&(l=!0)}),l&&DT(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Mz(n,e,t){return _(this,null,function*(){let r=ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new nt(Z.comparator);s=s.insert(o,er.newNoDocument(o,le.min()));let a=we().add(o),u=new pg(le.min(),new Map,new nt(me),s,a);yield yk(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),ST(r)}else yield Sw(r.localStore,e,!1).then(()=>Kw(r,e,t)).catch(sc)})}function kz(n,e){return _(this,null,function*(){let t=ce(n),r=e.batch.batchId;try{let i=yield sz(t.localStore,e);_k(t,r,null),vk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield zl(t,i)}catch(i){yield sc(i)}})}function Pz(n,e,t){return _(this,null,function*(){let r=ce(n);try{let i=yield function(s,a){let u=ce(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ke(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);_k(r,e,t),vk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield zl(r,i)}catch(i){yield sc(i)}})}function vk(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function _k(n,e,t){let r=ce(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Kw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||Ek(n,r)})}function Ek(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(vT(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),ST(n))}function XN(n,e,t){for(let r of t)r instanceof Rg?(n.du.addReference(r.key,e),Oz(n,r)):r instanceof xg?(G(CT,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||Ek(n,r.key)):ee(19791,{pu:r})}function Oz(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(G(CT,"New document in limbo: "+t),n.Tu.add(r),ST(n))}function ST(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new Z(We.fromString(e)),r=n.Vu.next();n.Eu.set(r,new Gw(t)),n.Iu=n.Iu.insert(t,r),lk(n.remoteStore,new Ml(Ir(zg(t.path)),r,"TargetPurposeLimboResolution",aT.le))}}function zl(n,e,t){return _(this,null,function*(){let r=ce(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{s.push(r.fu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Tw.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return _(this,null,function*(){let h=ce(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.ds,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>L.forEach(g.As,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!ac(p))throw p;G(yT,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.xs.get(g),S=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(S);h.xs=h.xs.insert(g,M)}}})}(r.localStore,o))})}function Lz(n,e){return _(this,null,function*(){let t=ce(n);if(!t.currentUser.isEqual(e)){G(CT,"User change. New user:",e.toKey());let r=yield ck(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(u=>{u.reject(new z(O.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield zl(t,r.ks)}})}function Fz(n,e){let t=ce(n),r=t.Eu.get(e);if(r&&r.cu)return we().add(r.key);{let i=we(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function Ik(n){let e=ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mz.bind(null,e),e.lu.Y_=bz.bind(null,e.eventManager),e.lu.gu=Dz.bind(null,e.eventManager),e}function Vz(n){let e=ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pz.bind(null,e),e}var wk=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Wg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return oz(this.persistence,new Dw,t.initialUser,this.serializer)}Su(t){return new Eg(ww.fi,this.serializer)}bu(t){return new Aw}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Qw=class extends wk{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ke(this.persistence.referenceDelegate instanceof Ig,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new uw(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new Eg(r=>Ig.fi(r,t),this.serializer)}};var jz=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>JN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lz.bind(null,this.syncEngine),yield Tz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new $w}()}createDatastore(t){let r=Wg(t.databaseInfo.databaseId),i=function(s){return new kw(s)}(t.databaseInfo);return function(s,a,u,l){return new Fw(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new jw(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>JN(this.syncEngine,r,0),function(){return Tg.C()?new Tg:new Rw}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let g=new Ww(o,s,a,u,l,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=ce(o);G(Is,"RemoteStore shutting down."),s.da.add(5),yield Hl(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Ll=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var io="FirestoreClient",Yw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){G(io,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G(io,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=wT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function EI(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G(io,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield ck(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function eM(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Uz(n);G(io,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>QN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>QN(e.remoteStore,i)),n._onlineComponents=e})}function Uz(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G(io,"Using user provided OfflineComponentProvider");try{yield EI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ga("Error using user provided cache. Falling back to memory cache: "+t),yield EI(n,new wk)}}else G(io,"Using default OfflineComponentProvider"),yield EI(n,new Qw(void 0));return n._offlineComponents})}function Tk(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G(io,"Using user provided OnlineComponentProvider"),yield eM(n,n._uninitializedComponentsProvider._online)):(G(io,"Using default OnlineComponentProvider"),yield eM(n,new jz))),n._onlineComponents})}function Bz(n){return Tk(n).then(e=>e.syncEngine)}function Ng(n){return _(this,null,function*(){let e=yield Tk(n),t=e.eventManager;return t.onListen=Cz.bind(null,e.syncEngine),t.onUnlisten=Rz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Sz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xz.bind(null,e.syncEngine),t})}function $z(n,e,t={}){let r=new Xn;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new Ll({next:g=>{h.xu(),s.enqueueAndForget(()=>bT(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new z(O.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new z(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Ol(zg(a.path),h,{includeMetadataChanges:!0,Qa:!0});return TT(o,p)}(yield Ng(n),n.asyncQueue,e,t,r)})),r.promise}function Hz(n,e,t={}){let r=new Xn;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new Ll({next:g=>{h.xu(),s.enqueueAndForget(()=>bT(o,p)),g.fromCache&&u.source==="server"?l.reject(new z(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Ol(a,h,{includeMetadataChanges:!0,Qa:!0});return TT(o,p)}(yield Ng(n),n.asyncQueue,e,t,r)})),r.promise}function bk(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var tM=new Map;function Dk(n,e,t){if(!t)throw new z(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zz(n,e,t,r){if(e===!0&&r===!0)throw new z(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nM(n){if(!Z.isDocumentKey(n))throw new z(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rM(n){if(Z.isDocumentKey(n))throw new z(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Yg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ee(12329,{type:typeof n})}function wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Yg(n);throw new z(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Ck="firestore.googleapis.com",iM=!0,Mg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ck,this.ssl=iM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:iM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ak;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nz)throw new z(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ic=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wI;switch(r.type){case"firstParty":return new CI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=tM.get(t);r&&(G("ComponentProvider","Removing Datastore"),tM.delete(t),r.terminate())}(this),Promise.resolve()}};function Sk(n,e,t,r={}){var i;n=wn(n,ic);let o=Gi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(bp(`https://${u}`),Dp("Firestore",!0)),s.host!==Ck&&s.host!==u&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!gr(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=St.MOCK_USER;else{h=Ox(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new z(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new St(g)}n._authCredentials=new TI(new og(h,p))}}var oo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},en=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},eo=class n extends oo{constructor(e,t,r){super(e,t,zg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Ak(n,e,...t){if(n=Xe(n),Dk("collection","path",e),n instanceof ic){let r=We.fromString(e,...t);return rM(r),new eo(n,null,r)}{if(!(n instanceof en||n instanceof eo))throw new z(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(We.fromString(e,...t));return rM(r),new eo(n.firestore,null,r)}}function AT(n,e,...t){if(n=Xe(n),arguments.length===1&&(e=ag.newId()),Dk("doc","path",e),n instanceof ic){let r=We.fromString(e,...t);return nM(r),new en(n,null,new Z(r))}{if(!(n instanceof en||n instanceof eo))throw new z(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(We.fromString(e,...t));return nM(r),new en(n.firestore,n instanceof eo?n.converter:null,new Z(r))}}var oM="AsyncQueue",kg=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new bg(this,"async_queue_retry"),this.rc=()=>{let r=_I();r&&G(oM,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=_I();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=_I();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new Xn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return _(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ac(e))throw e;G(oM,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ri("INTERNAL UNHANDLED ERROR: ",sM(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=Uw.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&ee(47125,{cc:sM(this.Xu)})}verifyOperationInProgress(){}lc(){return _(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function sM(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function aM(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var nr=class extends ic{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new kg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new kg(e),this._firestoreClient=void 0,yield e}})}};function Rk(n,e){let t=typeof n=="object"?n:os(),r=typeof n=="string"?n:e||dg,i=Ma(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Px("firestore");o&&Sk(i,...o)}return i}function ql(n){if(n._terminated)throw new z(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qz(n),n._firestoreClient}function qz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new NI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,bk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Yw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Fl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(qt.fromBase64String(e))}catch(t){throw new z(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ws=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vl=class{constructor(e){this._methodName=e}};var jl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var Ul=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Gz=/^__.*__$/,Zw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,t,this.fieldTransforms):new Es(e,this.data,t,this.fieldTransforms)}},Pg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new br(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function xk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ic:n})}}var Jw=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Lg(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(xk(this.Ic)&&Gz.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},Xw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Wg(e)}bc(e,t,r,i=!1){return new Jw({Ic:e,methodName:t,wc:r,path:In.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Zg(n){let e=n._freezeSettings(),t=Wg(n._databaseId);return new Xw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Nk(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);RT("Data must be an object, but it was:",s,r);let a=Pk(r,s),u,l;if(o.merge)u=new Pn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=eT(e,p,t);if(!s.contains(g))throw new z(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Lk(h,g)||h.push(g)}u=new Pn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Zw(new En(a),u,l)}var Og=class n extends Vl{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Mk(n,e,t,r){let i=n.bc(1,e,t);RT("Data must be an object, but it was:",i,r);let o=[],s=En.empty();so(r,(u,l)=>{let h=xT(e,u,t);l=Xe(l);let p=i.mc(h);if(l instanceof Og)o.push(h);else{let g=Gl(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new Pn(o);return new Pg(s,a,i.fieldTransforms)}function kk(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[eT(e,r,t)],u=[i];if(o.length%2!=0)throw new z(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(eT(e,o[g])),u.push(o[g+1]);let l=[],h=En.empty();for(let g=a.length-1;g>=0;--g)if(!Lk(l,a[g])){let y=a[g],S=u[g];S=Xe(S);let M=s.mc(y);if(S instanceof Og)l.push(y);else{let x=Gl(S,M);x!=null&&(l.push(y),h.set(y,x))}}let p=new Pn(l);return new Pg(h,p,s.fieldTransforms)}function Wz(n,e,t,r=!1){return Gl(t,n.bc(r?4:3,e))}function Gl(n,e){if(Ok(n=Xe(n)))return RT("Unsupported field value:",e,n),Pk(n,e);if(n instanceof Vl)return function(r,i){if(!xk(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Gl(a,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Pt.fromDate(r);return{timestampValue:vg(i.serializer,o)}}if(r instanceof Pt){let o=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vg(i.serializer,o)}}if(r instanceof jl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fl)return{bytesValue:ek(i.serializer,r._byteString)};if(r instanceof en){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ul)return function(s,a){return{mapValue:{fields:{[lT]:{stringValue:dT},[Ka]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return gT(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Yg(r)}`)}(n,e)}function Pk(n,e){let t={};return CM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(n,(r,i)=>{let o=Gl(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Ok(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof jl||n instanceof Fl||n instanceof en||n instanceof Vl||n instanceof Ul)}function RT(n,e,t){if(!Ok(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Yg(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function eT(n,e,t){if((e=Xe(e))instanceof ws)return e._internalPath;if(typeof e=="string")return xT(n,e);throw Lg("Field path arguments must be of type string or ",n,!1,void 0,t)}var Kz=new RegExp("[~\\*/\\[\\]]");function xT(n,e,t){if(e.search(Kz)>=0)throw Lg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ws(...e.split("."))._internalPath}catch{throw Lg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(O.INVALID_ARGUMENT,a+n+u)}function Lk(n,e){return n.some(t=>t.isEqual(e))}var Fg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new tT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Jg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},tT=class extends Fg{data(){return super.data()}};function Jg(n,e){return typeof e=="string"?xT(n,e):e instanceof ws?e._internalPath:e._delegate._internalPath}function Fk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Bl=class{},Vg=class extends Bl{};function Vk(n,e,...t){let r=[];e instanceof Bl&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof nT).length,a=o.filter(u=>u instanceof jg).length;if(s>1||s>0&&a>0)throw new z(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var jg=class n extends Vg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Bk(e._query,t),new oo(e.firestore,e.converter,zI(e._query,t))}_parse(e){let t=Zg(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new z(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){uM(p,h);let S=[];for(let M of p)S.push(cM(u,o,M));g={arrayValue:{values:S}}}else g=cM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||uM(p,h),g=Wz(a,s,p,h==="in"||h==="not-in");return pt.create(l,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function jk(n,e,t){let r=e,i=Jg("where",n);return jg._create(i,r,t)}var nT=class n extends Bl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:tr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Bk(s,u),s=zI(s,u)}(e._query,t),new oo(e.firestore,e.converter,zI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var rT=class n extends Vg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new z(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ys(o,s)}(e._query,this._field,this._direction);return new oo(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new no(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function Uk(n,e="asc"){let t=e,r=Jg("orderBy",n);return rT._create(r,t)}function cM(n,e,t){if(typeof(t=Xe(t))=="string"){if(t==="")throw new z(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UM(e)&&t.indexOf("/")!==-1)throw new z(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(We.fromString(t));if(!Z.isDocumentKey(r))throw new z(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return SN(n,new Z(r))}if(t instanceof en)return SN(n,t._key);throw new z(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yg(t)}.`)}function uM(n,e){if(!Array.isArray(n)||n.length===0)throw new z(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bk(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new z(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var iT=class{convertValue(e,t="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return so(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ka].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>qe(s.doubleValue));return new Ul(o)}convertGeoPoint(e){return new jl(qe(e.latitude),qe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Hg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){let t=ii(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=We.fromString(e);ke(sk(r),9688,{name:e});let i=new hg(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return i.isEqual(t)||ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function $k(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ps=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ug=class extends Fg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new qa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Jg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},qa=class extends Ug{data(e={}){return super.data(e)}},Bg=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ps(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new qa(this._firestore,this._userDataWriter,r.key,r,new ps(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new qa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ps(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new qa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ps(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Qz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Qz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:n})}}function Hk(n){n=wn(n,en);let e=wn(n.firestore,nr);return $z(ql(e),n._key).then(t=>Kk(e,n,t))}var $l=class extends iT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,t)}};function zk(n){n=wn(n,oo);let e=wn(n.firestore,nr),t=ql(e),r=new $l(e);return Fk(n._query),Hz(t,n._query).then(i=>new Bg(e,r,n,i))}function qk(n,e,t,...r){n=wn(n,en);let i=wn(n.firestore,nr),o=Zg(i),s;return s=typeof(e=Xe(e))=="string"||e instanceof ws?kk(o,"updateDoc",n._key,e,t,r):Mk(o,"updateDoc",n._key,e),Xg(i,[s.toMutation(n._key,On.exists(!0))])}function Gk(n){return Xg(wn(n.firestore,nr),[new nc(n._key,On.none())])}function Wk(n,e){let t=wn(n.firestore,nr),r=AT(n),i=$k(n.converter,e);return Xg(t,[Nk(Zg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,On.exists(!1))]).then(()=>r)}function NT(n,...e){var t,r,i;n=Xe(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||aM(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(aM(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof en)l=wn(n.firestore,nr),h=zg(n._key.path),u={next:p=>{e[s]&&e[s](Kk(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=wn(n,oo);l=wn(p.firestore,nr),h=p._query;let g=new $l(l);u={next:y=>{e[s]&&e[s](new Bg(l,g,p,y))},error:e[s+1],complete:e[s+2]},Fk(n._query)}return function(g,y,S,M){let x=new Ll(M),V=new Ol(y,x,S);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return TT(yield Ng(g),V)})),()=>{x.xu(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return bT(yield Ng(g),V)}))}}(ql(l),h,a,u)}function Xg(n,e){return function(r,i){let o=new Xn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Nz(yield Bz(r),i,o)})),o.promise}(ql(n),e)}function Kk(n,e,t){let r=t.docs.get(e._key),i=new $l(n);return new Ug(n,i,e._key,r,new ps(t.hasPendingWrites,t.fromCache),e.converter)}var oT=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zg(e)}set(e,t,r){this._verifyNotCommitted();let i=II(e,this._firestore),o=$k(i.converter,t,r),s=Nk(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,On.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let o=II(e,this._firestore),s;return s=typeof(t=Xe(t))=="string"||t instanceof ws?kk(this._dataReader,"WriteBatch.update",o._key,t,r,i):Mk(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,On.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=II(e,this._firestore);return this._mutations=this._mutations.concat(new nc(t._key,On.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new z(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function II(n,e){if((n=Xe(n)).firestore!==e)throw new z(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Qk(n){return ql(n=wn(n,nr)),new oT(n,e=>Xg(n,e))}(function(e,t=!0){(function(i){oc=i})(Ki),Yn(new Xt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new nr(new bI(r.getProvider("auth-internal")),new SI(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hg(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),et(yN,vN,e),et(yN,vN,"esm2017")})();var em=function(){return em=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},em.apply(this,arguments)};var Jz={includeMetadataChanges:!1};function Yk(n,e){return e===void 0&&(e=Jz),new J(function(t){var r=NT(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Zk(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:em(em({},r),(t={},t[e.idField]=n.id,t))}function Jk(n){return Yk(n,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function Xk(n,e){return e===void 0&&(e={}),Jk(n).pipe(ne(function(t){return t.map(function(r){return Zk(r,e)})}))}var ci=class{constructor(e){return e}},eP="firestore",MT=class{constructor(){return Pa(eP)}};var kT=new H("angularfire2.firestore-instances");function Xz(n,e){let t=cl(eP,n,e);return t&&new ci(t)}function e9(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ci(r)}}var t9={provide:MT,deps:[[new sn,kT]]},n9={provide:ci,useFactory:Xz,deps:[[new sn,kT],Zr]};function tP(n,...e){return et("angularfire",Qi.full,"fst"),on([n9,t9,{provide:kT,useFactory:e9(n),multi:!0,deps:[Re,Ye,Yi,as,[new sn,El],[new sn,Oa],...e]}])}var nP=tt(Xk,!0);var tm=tt(Wk,!0,2);var nm=tt(Ak,!0,2);var rm=tt(Gk,!0,2);var Dr=tt(AT,!0,2);var im=tt(Hk,!0);var uc=tt(zk,!0);var rP=tt(Rk,!0);var Wl=tt(Uk,!0,2),bs=tt(Vk,!0,2);var lc=tt(qk,!0,2);var Ds=tt(jk,!0,2),PT=tt(Qk,!0,2);var Rt=class n{constructor(e){this.auth=e;this.user$=dN(this.auth)}user$;signInWithGoogle(){let e=new rI;return fN(this.auth,e)}signOut(){return pN(this.auth)}static \u0275fac=function(t){return new(t||n)(q(ds))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function r9(n,e){if(n&1&&(ua(0),P(1),la()),n&2){let t=e.ngIf;$(),vt(" Welcome, ",t&&t.displayName?t.displayName.split(" ")[0]||t.displayName:"User","! ")}}function i9(n,e){n&1&&P(0," Welcome! ")}var om=class n{constructor(e,t){this.authService=e;this.router=t}get user$(){return this.authService.user$}navigateToLists(){this.router.navigate(["/lists"])}navigateToIpLookup(){this.router.navigate(["/ip-lookup"])}showProfile(){this.router.navigate(["/profile"])}static \u0275fac=function(t){return new(t||n)(W(Rt),W(He))};static \u0275cmp=yt({type:n,selectors:[["app-home"]],decls:44,vars:4,consts:[["welcomeGuest",""],[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],[1,"max-w-7xl","mx-auto","px-3","sm:px-4","lg:px-6","py-4","sm:py-6"],[1,"text-center","mb-6","sm:mb-8"],[1,"text-sm","sm:text-base","text-gray-600","dark:text-gray-300","max-w-2xl","mx-auto"],[4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-3","sm:gap-4"],[1,"card","group","cursor-pointer",3,"click"],[1,"flex","items-center","space-x-3","sm:space-x-4"],[1,"flex-shrink-0"],[1,"w-10","h-10","sm:w-12","sm:h-12","bg-primary-100","dark:bg-primary-900","rounded-lg","flex","items-center","justify-center","group-hover:bg-primary-200","dark:group-hover:bg-primary-800","transition-colors","duration-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","text-primary-600","dark:text-primary-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],[1,"flex-1","min-w-0"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900","dark:text-white","group-hover:text-primary-600","dark:group-hover:text-primary-400","transition-colors","duration-200"],[1,"text-xs","sm:text-sm","text-gray-500","dark:text-gray-400"],[1,"w-10","h-10","sm:w-12","sm:h-12","bg-green-100","dark:bg-green-900","rounded-lg","flex","items-center","justify-center","group-hover:bg-green-200","dark:group-hover:bg-green-800","transition-colors","duration-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","text-green-600","dark:text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900","dark:text-white","group-hover:text-green-600","dark:group-hover:text-green-400","transition-colors","duration-200"],[1,"w-10","h-10","sm:w-12","sm:h-12","bg-purple-100","dark:bg-purple-900","rounded-lg","flex","items-center","justify-center","group-hover:bg-purple-200","dark:group-hover:bg-purple-800","transition-colors","duration-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","text-purple-600","dark:text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900","dark:text-white","group-hover:text-purple-600","dark:group-hover:text-purple-400","transition-colors","duration-200"]],template:function(t,r){if(t&1){let i=lt();w(0,"div",1)(1,"div",2)(2,"div",3)(3,"p",4),Se(4,r9,2,1,"ng-container",5),Be(5,"async"),Se(6,i9,1,0,"ng-template",null,0,W_),P(8," Explore some of my utilities, tools and research items. "),b()(),w(9,"div",6)(10,"div",7),oe("click",function(){return De(i),Ce(r.navigateToLists())}),w(11,"div",8)(12,"div",9)(13,"div",10),X(),w(14,"svg",11),Q(15,"path",12),b()()(),ye(),w(16,"div",13)(17,"h3",14),P(18," Todo Lists "),b(),w(19,"p",15),P(20," Create and manage your todo lists "),b()()()(),w(21,"div",7),oe("click",function(){return De(i),Ce(r.navigateToIpLookup())}),w(22,"div",8)(23,"div",9)(24,"div",16),X(),w(25,"svg",17),Q(26,"path",18)(27,"path",19),b()()(),ye(),w(28,"div",13)(29,"h3",20),P(30," IP Lookup "),b(),w(31,"p",15),P(32," Check your IP address and location "),b()()()(),w(33,"div",7),oe("click",function(){return De(i),Ce(r.showProfile())}),w(34,"div",8)(35,"div",9)(36,"div",21),X(),w(37,"svg",22),Q(38,"path",23),b()()(),ye(),w(39,"div",13)(40,"h3",24),P(41," Profile "),b(),w(42,"p",15),P(43," View your account information "),b()()()()()()()}if(t&2){let i=q_(7);$(4),re("ngIf",_t(5,2,r.user$))("ngIfElse",i)}},dependencies:[Dt,Zt,Wr],encapsulation:2})};var sm=class n{constructor(e){this.http=e}apiUrl="https://api.ipstack.com/check?access_key=c30488184006475d64ed23dfcf4dc153";getLocation(){return this.http.get(this.apiUrl)}static \u0275fac=function(t){return new(t||n)(q(ma))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function s9(n,e){n&1&&(w(0,"div",8)(1,"div",9),Q(2,"div",10),w(3,"span",11),P(4,"Loading IP information..."),b()()())}function a9(n,e){if(n&1&&(w(0,"div",12)(1,"div",13),X(),w(2,"svg",14),Q(3,"path",15),b(),ye(),w(4,"div")(5,"h3",16),P(6,"Error"),b(),w(7,"p",17),P(8),b()()()()),n&2){let t=Ie();$(8),Ue(t.error)}}function c9(n,e){n&1&&(X(),w(0,"svg",49),Q(1,"path",50),b())}function u9(n,e){n&1&&(X(),w(0,"svg",51),Q(1,"path",50),b())}function l9(n,e){if(n&1){let t=lt();w(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21),X(),w(4,"svg",22),Q(5,"path",23),b()(),ye(),w(6,"div")(7,"h2",24),P(8,"Your IP Address"),b(),w(9,"p",11),P(10,"Current network information"),b()()(),w(11,"div",25)(12,"div",26)(13,"div")(14,"label",27),P(15,"IP Address"),b(),w(16,"div",28)(17,"code",29),P(18),b(),w(19,"button",30),oe("click",function(){De(t);let i=Ie();return Ce(i.copyToClipboard(i.ipInfo.ip))}),X(),w(20,"svg",31),Q(21,"path",32),b()()()(),ye(),w(22,"div")(23,"label",27),P(24,"Type"),b(),w(25,"span",33),P(26),b()()(),w(27,"div",26)(28,"div")(29,"label",27),P(30,"Continent"),b(),w(31,"p",34),P(32),b()(),w(33,"div")(34,"label",27),P(35,"Country"),b(),w(36,"p",34),P(37),b()()()()(),w(38,"div",35)(39,"div",19)(40,"h3",36),X(),w(41,"svg",37),Q(42,"path",38)(43,"path",39),b(),P(44," Location Details "),b(),ye(),w(45,"div",40)(46,"div",41)(47,"span",42),P(48,"Region:"),b(),w(49,"span",43),P(50),b()(),w(51,"div",41)(52,"span",42),P(53,"City:"),b(),w(54,"span",43),P(55),b()(),w(56,"div",41)(57,"span",42),P(58,"ZIP Code:"),b(),w(59,"span",43),P(60),b()(),w(61,"div",41)(62,"span",42),P(63,"Latitude:"),b(),w(64,"span",43),P(65),b()(),w(66,"div",41)(67,"span",42),P(68,"Longitude:"),b(),w(69,"span",43),P(70),b()()()(),w(71,"div",19)(72,"h3",36),X(),w(73,"svg",37),Q(74,"path",44),b(),P(75," Network Information "),b(),ye(),w(76,"div",40)(77,"div",41)(78,"span",42),P(79,"ISP:"),b(),w(80,"span",43),P(81),b()(),w(82,"div",41)(83,"span",42),P(84,"Organization:"),b(),w(85,"span",43),P(86),b()(),w(87,"div",41)(88,"span",42),P(89,"ASN:"),b(),w(90,"span",43),P(91),b()()()()(),w(92,"div",45)(93,"button",46),oe("click",function(){De(t);let i=Ie();return Ce(i.refreshIpInfo())}),Se(94,c9,2,0,"svg",47)(95,u9,2,0,"svg",48),P(96),b()()()}if(n&2){let t=Ie();$(18),Ue(t.ipInfo.ip),$(8),vt(" ",t.ipInfo.type||"Unknown"," "),$(6),Ue(t.ipInfo.continent_name||"Unknown"),$(5),Ue(t.ipInfo.country_name||"Unknown"),$(13),Ue(t.ipInfo.region_name||"Unknown"),$(5),Ue(t.ipInfo.city||"Unknown"),$(5),Ue(t.ipInfo.zip||"Unknown"),$(5),Ue(t.ipInfo.latitude||"Unknown"),$(5),Ue(t.ipInfo.longitude||"Unknown"),$(11),Ue((t.ipInfo.connection==null?null:t.ipInfo.connection.isp)||"Unknown"),$(5),Ue((t.ipInfo.connection==null?null:t.ipInfo.connection.organization)||"Unknown"),$(5),Ue((t.ipInfo.connection==null?null:t.ipInfo.connection.asn)||"Unknown"),$(2),re("disabled",t.isLoading),$(),re("ngIf",!t.isLoading),$(),re("ngIf",t.isLoading),$(),vt(" ",t.isLoading?"Refreshing...":"Refresh IP Info"," ")}}var am=class n{constructor(e){this.locationService=e}ipInfo=null;isLoading=!1;error=null;ngOnInit(){this.refreshIpInfo()}refreshIpInfo(){this.isLoading=!0,this.error=null,this.locationService.getLocation().subscribe({next:e=>{this.ipInfo=e,this.isLoading=!1},error:e=>{this.error="Failed to load IP information. Please try again.",this.isLoading=!1,console.error("IP lookup error:",e)}})}copyToClipboard(e){navigator.clipboard.writeText(e).then(()=>{console.log("IP address copied to clipboard")}).catch(t=>{console.error("Failed to copy text: ",t)})}static \u0275fac=function(t){return new(t||n)(W(sm))};static \u0275cmp=yt({type:n,selectors:[["app-ip-lookup"]],decls:10,vars:3,consts:[[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],[1,"max-w-4xl","mx-auto","px-3","sm:px-4","lg:px-6","py-4","sm:py-6"],[1,"text-center","mb-4","sm:mb-6"],[1,"text-2xl","sm:text-3xl","md:text-4xl","font-bold","text-gray-900","dark:text-white","mb-2","sm:mb-4"],[1,"text-sm","sm:text-base","text-gray-600","dark:text-gray-300"],["class","card text-center",4,"ngIf"],["class","card border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20",4,"ngIf"],["class","space-y-4 sm:space-y-6",4,"ngIf"],[1,"card","text-center"],[1,"flex","items-center","justify-center","space-x-2"],[1,"animate-spin","rounded-full","h-5","w-5","border-b-2","border-primary-600"],[1,"text-sm","text-gray-600","dark:text-gray-300"],[1,"card","border-red-200","dark:border-red-700","bg-red-50","dark:bg-red-900/20"],[1,"flex","items-center","space-x-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-base","sm:text-lg","font-medium","text-red-800","dark:text-red-200"],[1,"text-sm","text-red-600","dark:text-red-300"],[1,"space-y-4","sm:space-y-6"],[1,"card"],[1,"flex","items-center","space-x-3","sm:space-x-4","mb-4","sm:mb-6"],[1,"w-10","h-10","sm:w-12","sm:h-12","bg-primary-100","dark:bg-primary-900","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","text-primary-600","dark:text-primary-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","sm:gap-6"],[1,"space-y-3","sm:space-y-4"],[1,"block","text-xs","sm:text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],[1,"flex","items-center","space-x-2"],[1,"px-2","sm:px-3","py-1.5","sm:py-2","bg-gray-100","dark:bg-gray-700","text-gray-800","dark:text-gray-200","rounded-lg","font-mono","text-sm","sm:text-lg"],[1,"p-1.5","sm:p-2","text-gray-500","hover:text-gray-700","dark:text-gray-400","dark:hover:text-gray-200","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","sm:w-5","sm:h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"inline-flex","items-center","px-2","sm:px-3","py-1","rounded-full","text-xs","sm:text-sm","font-medium","bg-blue-100","text-blue-800","dark:bg-blue-900","dark:text-blue-200"],[1,"text-sm","sm:text-lg","text-gray-900","dark:text-white"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4","sm:gap-6"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900","dark:text-white","mb-3","sm:mb-4","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","sm:w-5","sm:h-5","mr-2","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"space-y-2","sm:space-y-3","text-xs","sm:text-sm"],[1,"flex","justify-between"],[1,"text-gray-600","dark:text-gray-400"],[1,"text-gray-900","dark:text-white","font-medium"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center"],[1,"btn-primary",3,"click","disabled"],["class","w-4 h-4 mr-1.5 sm:mr-2","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4 mr-1.5 sm:mr-2 animate-spin","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1.5","sm:mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1.5","sm:mr-2","animate-spin"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),P(4," IP Address Lookup "),b(),w(5,"p",4),P(6," Get detailed information about your current IP address and location "),b()(),Se(7,s9,5,0,"div",5)(8,a9,9,1,"div",6)(9,l9,97,16,"div",7),b()()),t&2&&($(7),re("ngIf",r.isLoading),$(),re("ngIf",r.error),$(),re("ngIf",r.ipInfo&&!r.isLoading))},dependencies:[Dt,Zt,ns],encapsulation:2})};var hP=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(W(Ur),W(fn))};static \u0275dir=bt({type:n})}return n})(),d9=(()=>{class n extends hP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=oa(n)))(i||n)}})();static \u0275dir=bt({type:n,features:[$r]})}return n})(),fP=new H("");var h9={provide:fP,useExisting:wi(()=>gm),multi:!0};function f9(){let n=xn()?xn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var p9=new H(""),gm=(()=>{class n extends hP{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!f9())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(W(Ur),W(fn),W(p9,8))};static \u0275dir=bt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&oe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Eu([h9]),$r]})}return n})();var pP=new H(""),gP=new H("");function mP(n){return n!=null}function yP(n){return Hr(n)?ge(n):n}function vP(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function _P(n,e){return e.map(t=>t(n))}function g9(n){return!n.validate}function EP(n){return n.map(e=>g9(e)?e:t=>e.validate(t))}function m9(n){if(!n)return null;let e=n.filter(mP);return e.length==0?null:function(t){return vP(_P(t,e))}}function VT(n){return n!=null?m9(EP(n)):null}function y9(n){if(!n)return null;let e=n.filter(mP);return e.length==0?null:function(t){let r=_P(t,e).map(yP);return _y(r).pipe(ne(vP))}}function jT(n){return n!=null?y9(EP(n)):null}function oP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function v9(n){return n._rawValidators}function _9(n){return n._rawAsyncValidators}function OT(n){return n?Array.isArray(n)?n:[n]:[]}function um(n,e){return Array.isArray(n)?n.includes(e):n===e}function sP(n,e){let t=OT(e);return OT(n).forEach(i=>{um(t,i)||t.push(i)}),t}function aP(n,e){return OT(e).filter(t=>!um(n,t))}var lm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=VT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},fc=class extends lm{name;get formDirective(){return null}get path(){return null}},Xl=class extends lm{_parent=null;name=null;valueAccessor=null},dm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},E9={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Gle=ie(F({},E9),{"[class.ng-submitted]":"isSubmitted"}),IP=(()=>{class n extends dm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(W(Xl,2))};static \u0275dir=bt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&zo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[$r]})}return n})(),wP=(()=>{class n extends dm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(W(fc,10))};static \u0275dir=bt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&zo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[$r]})}return n})();var Kl="VALID",cm="INVALID",dc="PENDING",Ql="DISABLED",ao=class{},hm=class extends ao{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Zl=class extends ao{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Jl=class extends ao{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},hc=class extends ao{status;source;constructor(e,t){super(),this.status=e,this.source=t}},LT=class extends ao{source;constructor(e){super(),this.source=e}},FT=class extends ao{source;constructor(e){super(),this.source=e}};function TP(n){return(mm(n)?n.validators:n)||null}function I9(n){return Array.isArray(n)?VT(n):n||null}function bP(n,e){return(mm(e)?e.asyncValidators:n)||null}function w9(n){return Array.isArray(n)?jT(n):n||null}function mm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function T9(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[t])throw new U(1001,"")}function b9(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new U(1002,"")})}var fm=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return an(this.statusReactive)}set status(e){an(()=>this.statusReactive.set(e))}_status=da(()=>this.statusReactive());statusReactive=cr(void 0);get valid(){return this.status===Kl}get invalid(){return this.status===cm}get pending(){return this.status==dc}get disabled(){return this.status===Ql}get enabled(){return this.status!==Ql}errors;get pristine(){return an(this.pristineReactive)}set pristine(e){an(()=>this.pristineReactive.set(e))}_pristine=da(()=>this.pristineReactive());pristineReactive=cr(!0);get dirty(){return!this.pristine}get touched(){return an(this.touchedReactive)}set touched(e){an(()=>this.touchedReactive.set(e))}_touched=da(()=>this.touchedReactive());touchedReactive=cr(!1);get untouched(){return!this.touched}_events=new rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aP(e,this._rawAsyncValidators))}hasValidator(e){return um(this._rawValidators,e)}hasAsyncValidator(e){return um(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ie(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Jl(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Jl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ie(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Zl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Zl(!0,r))}markAsPending(e={}){this.status=dc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ie(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ql,this.errors=null,this._forEachChild(i=>{i.disable(ie(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hm(this.value,r)),this._events.next(new hc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Kl,this._forEachChild(r=>{r.enable(ie(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kl||this.status===dc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hm(this.value,t)),this._events.next(new hc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ie(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ql:Kl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=dc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=yP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new hc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new st,this.statusChanges=new st}_calculateStatus(){return this._allControlsDisabled()?Ql:this.errors?cm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dc)?dc:this._anyControlsHaveStatus(cm)?cm:Kl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Zl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Jl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=I9(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=w9(this._rawAsyncValidators)}},pm=class extends fm{constructor(e,t,r){super(TP(t),bP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){b9(this,!0,e),Object.keys(e).forEach(r=>{T9(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var UT=new H("",{providedIn:"root",factory:()=>BT}),BT="always";function D9(n,e){return[...e.path,n]}function DP(n,e,t=BT){CP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),S9(n,e),R9(n,e),A9(n,e),C9(n,e)}function cP(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function C9(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function CP(n,e){let t=v9(n);e.validator!==null?n.setValidators(oP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=_9(n);e.asyncValidator!==null?n.setAsyncValidators(oP(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();cP(e._rawValidators,i),cP(e._rawAsyncValidators,i)}function S9(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&SP(n,e)})}function A9(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&SP(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function SP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function R9(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function x9(n,e){n==null,CP(n,e)}function N9(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function M9(n){return Object.getPrototypeOf(n.constructor)===d9}function k9(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function P9(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===gm?t=o:M9(o)?r=o:i=o}),i||r||t||null}var O9={provide:fc,useExisting:wi(()=>$T)},Yl=Promise.resolve(),$T=(()=>{class n extends fc{callSetDisabledState;get submitted(){return an(this.submittedReactive)}_submitted=da(()=>this.submittedReactive());submittedReactive=cr(!1);_directives=new Set;form;ngSubmit=new st;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new pm({},VT(t),jT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Yl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),DP(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Yl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Yl.then(()=>{let r=this._findContainer(t.path),i=new pm({});x9(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Yl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Yl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),k9(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new LT(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new FT(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(W(pP,10),W(gP,10),W(UT,8))};static \u0275dir=bt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&oe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Eu([O9]),$r]})}return n})();function uP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lP(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var L9=class extends fm{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(TP(t),bP(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(lP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){lP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var F9={provide:Xl,useExisting:wi(()=>HT)},dP=Promise.resolve(),HT=(()=>{class n extends Xl{_changeDetectorRef;callSetDisabledState;control=new L9;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new st;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=P9(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),N9(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){DP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){dP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Go(r);dP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?D9(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(W(fc,9),W(pP,10),W(gP,10),W(fP,10),W(zr,8),W(UT,8))};static \u0275dir=bt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Eu([F9]),$r,jr]})}return n})();var AP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=bt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var V9=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=zn({type:n});static \u0275inj=Tn({})}return n})();var ym=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:UT,useValue:t.callSetDisabledState??BT}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=zn({type:n});static \u0275inj=Tn({imports:[V9]})}return n})();var co=class n{constructor(e,t){this.firestore=e;this.authService=t;this.listsCollection=nm(this.firestore,"todoLists")}listsCollection;getLists(){return this.authService.user$.pipe(Oe(e=>{if(!e)return K([]);let t=bs(this.listsCollection,Ds("owner","==",e.uid),Wl("updatedAt","desc")),r=bs(this.listsCollection,Ds("sharedWith","array-contains",e.email),Wl("updatedAt","desc"));return ge(Promise.all([uc(t),uc(r)])).pipe(ne(([i,o])=>{let s=i.docs.map(h=>ie(F({},h.data()),{id:h.id})),a=o.docs.map(h=>ie(F({},h.data()),{id:h.id}));return[...s,...a].filter((h,p,g)=>p===g.findIndex(y=>y.id===h.id)).sort((h,p)=>new Date(p.updatedAt).getTime()-new Date(h.updatedAt).getTime())}))}))}createList(e,t){return this.authService.user$.pipe(Ut(1),Oe(r=>{if(!r)return K(Promise.reject("User not logged in"));let i=new Date,o={title:e,description:t,owner:r.uid,sharedWith:[],createdAt:i,updatedAt:i,isPublic:!1};return ge(tm(this.listsCollection,o))}))}updateList(e){if(!e.id)return Promise.reject("List ID is missing");let t=Dr(this.firestore,`todoLists/${e.id}`),o=e,{id:r}=o,i=Pc(o,["id"]);return i.updatedAt=new Date,lc(t,i)}deleteList(e){let t=Dr(this.firestore,`todoLists/${e}`);return rm(t)}shareList(e,t){return _(this,null,function*(){let r=Dr(this.firestore,`todoLists/${e}`),i=yield im(r);if(!i.exists())throw new Error("List not found");let s=[...i.data().sharedWith||[],t];yield lc(r,{sharedWith:s,updatedAt:new Date})})}unshareList(e,t){return _(this,null,function*(){let r=Dr(this.firestore,`todoLists/${e}`),i=yield im(r);if(!i.exists())throw new Error("List not found");let s=(i.data().sharedWith||[]).filter(a=>a!==t);yield lc(r,{sharedWith:s,updatedAt:new Date})})}hasAccess(e){return _(this,null,function*(){return vy(this.authService.user$.pipe(Ut(1),Oe(t=>t?ge(im(Dr(this.firestore,`todoLists/${e}`))).pipe(ne(r=>{if(!r.exists())return!1;let i=r.data();return i.owner===t.uid||(i.sharedWith||[]).includes(t.email||"")||i.isPublic||!1})):K(!1))))})}static \u0275fac=function(t){return new(t||n)(q(ci),q(Rt))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var vm=class n{constructor(e,t,r){this.firestore=e;this.authService=t;this.todoListService=r;this.todosCollection=nm(this.firestore,"todos")}todosCollection;getTodosForList(e){return this.authService.user$.pipe(Oe(t=>t?ge(this.todoListService.hasAccess(e)).pipe(Oe(r=>{if(!r)return K([]);let i=bs(this.todosCollection,Ds("listId","==",e),Wl("position"));return nP(i,{idField:"id"})})):K([])))}addTodo(e,t){return this.authService.user$.pipe(Ut(1),Oe(r=>r?(console.log("Adding todo for user:",r.uid,"to list:",e),ge(this.todoListService.hasAccess(e)).pipe(Oe(i=>(console.log("User has access to list:",i),i?ge(uc(bs(this.todosCollection,Ds("listId","==",e)))).pipe(Oe(o=>{let s=o.size,a=new Date,u={title:t,completed:!1,listId:e,position:s,createdBy:r.uid,createdAt:a,updatedAt:a};return console.log("Creating todo with data:",u),ge(tm(this.todosCollection,u))})):(console.error("Access denied to list:",e),K(Promise.reject("Access denied"))))))):(console.error("User not logged in"),K(Promise.reject("User not logged in")))))}updateTodo(e){if(!e.id)return Promise.reject("Todo ID is missing");let t=Dr(this.firestore,`todos/${e.id}`),o=e,{id:r}=o,i=Pc(o,["id"]);return i.updatedAt=new Date,lc(t,i)}deleteTodo(e){let t=Dr(this.firestore,`todos/${e}`);return rm(t)}updateTodoPosition(e){let t=PT(this.firestore);return e.forEach((r,i)=>{if(r.id){let o=Dr(this.firestore,`todos/${r.id}`);t.update(o,{position:i,updatedAt:new Date})}}),t.commit()}deleteTodosInList(e){return ge(uc(bs(this.todosCollection,Ds("listId","==",e)))).pipe(Oe(t=>{let r=PT(this.firestore);return t.docs.forEach(i=>{r.delete(i.ref)}),ge(r.commit())})).toPromise()}static \u0275fac=function(t){return new(t||n)(q(ci),q(Rt),q(co))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function B9(n,e){n&1&&(w(0,"div",19)(1,"div",20),Q(2,"div",21),w(3,"span",9),P(4,"Loading todo list..."),b()()())}function $9(n,e){if(n&1&&(w(0,"div",22)(1,"div",23),X(),w(2,"svg",24),Q(3,"path",25),b(),ye(),w(4,"div")(5,"h3",26),P(6,"Error"),b(),w(7,"p",27),P(8),b()()()()),n&2){let t=Ie();$(8),Ue(t.error)}}function H9(n,e){n&1&&(X(),w(0,"svg",47),Q(1,"path",48),b())}function z9(n,e){n&1&&(X(),w(0,"svg",49),Q(1,"path",50),b())}function q9(n,e){n&1&&(w(0,"div",51),X(),w(1,"svg",52),Q(2,"path",53),b(),ye(),w(3,"h3",54),P(4,"No todos yet"),b(),w(5,"p",55),P(6,"Add your first todo item above to get started."),b()())}function G9(n,e){if(n&1){let t=lt();w(0,"div",58)(1,"input",59),oe("change",function(){let i=De(t).$implicit,o=Ie(3);return Ce(o.toggleTodo(i))}),b(),w(2,"div",3)(3,"input",60),oe("blur",function(i){let o=De(t).$implicit,s=Ie(3);return Ce(s.updateTodoText(o,i))}),b()(),w(4,"button",61),oe("click",function(){let i=De(t).$implicit,o=Ie(3);return Ce(o.deleteTodo(i))}),X(),w(5,"svg",12),Q(6,"path",62),b()()()}if(n&2){let t=e.$implicit;$(),re("checked",t.completed),$(2),zo("line-through",t.completed)("text-gray-500",t.completed),re("value",t.title)}}function W9(n,e){if(n&1&&(w(0,"div",56),Se(1,G9,7,6,"div",57),b()),n&2){let t=Ie(2);$(),re("ngForOf",t.todos)("ngForTrackBy",t.trackByTodo)}}function K9(n,e){if(n&1){let t=lt();w(0,"div",28)(1,"div",29)(2,"form",30),oe("ngSubmit",function(){De(t);let i=Ie();return Ce(i.addTodo())}),w(3,"input",31),wf("ngModelChange",function(i){De(t);let o=Ie();return G_(o.newTodoText,i)||(o.newTodoText=i),Ce(i)}),b(),w(4,"button",32),Se(5,H9,2,0,"svg",33)(6,z9,2,0,"svg",34),w(7,"span"),P(8),b()()()(),w(9,"div",29)(10,"div",35)(11,"h2",36),P(12,"Todo Items"),b(),w(13,"div",37)(14,"span"),P(15),b(),w(16,"div",38),Q(17,"div",39),b()()(),Se(18,q9,7,0,"div",40)(19,W9,2,2,"div",41),b(),w(20,"div",29)(21,"h3",42),P(22,"List Information"),b(),w(23,"div",43)(24,"div",44)(25,"span",45),P(26,"Created:"),b(),w(27,"span",46),P(28),Be(29,"date"),b()(),w(30,"div",44)(31,"span",45),P(32,"Last Updated:"),b(),w(33,"span",46),P(34),Be(35,"date"),b()(),w(36,"div",44)(37,"span",45),P(38,"Owner:"),b(),w(39,"span",46),P(40),b()(),w(41,"div",44)(42,"span",45),P(43,"Shared With:"),b(),w(44,"span",46),P(45),b()()()()()}if(n&2){let t=Ie();$(3),If("ngModel",t.newTodoText),re("disabled",t.isAdding),$(),re("disabled",!t.newTodoText.trim()||t.isAdding),$(),re("ngIf",!t.isAdding),$(),re("ngIf",t.isAdding),$(2),Ue(t.isAdding?"Adding...":"Add"),$(7),Ef("",t.completedCount," of ",t.todos.length||0," completed"),$(2),_f("width",t.completionPercentage,"%"),$(),re("ngIf",!t.todos.length),$(),re("ngIf",t.todos.length>0),$(9),Ue(Li(29,16,t.getDateFromTimestamp(t.todoList.createdAt),"medium")),$(6),Ue(Li(35,19,t.getDateFromTimestamp(t.todoList.updatedAt),"medium")),$(6),Ue(t.todoList.owner),$(5),vt("",t.todoList.sharedWith.length||0," users")}}var _m=class n{constructor(e,t,r,i){this.route=e;this.router=t;this.todoListService=r;this.todoService=i}todoList=null;todos=[];isLoading=!0;error=null;newTodoText="";isAdding=!1;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?(this.isLoading=!0,this.todoListService.getLists().subscribe({next:t=>{if(this.todoList=t.find(r=>r.id===e)||null,!this.todoList){this.error="Todo list not found.",this.isLoading=!1;return}this.todoService.getTodosForList(e).subscribe({next:r=>{this.todos=r,this.isLoading=!1},error:()=>{this.error="Failed to load todos.",this.isLoading=!1}})},error:()=>{this.error="Failed to load todo list.",this.isLoading=!1}})):(this.error="No list ID provided.",this.isLoading=!1)}get completedCount(){return this.todos.filter(e=>e.completed).length}get completionPercentage(){return this.todos.length?Math.round(this.completedCount/this.todos.length*100):0}trackByTodo(e,t){return t.id}addTodo(){!this.newTodoText.trim()||!this.todoList||(this.isAdding=!0,this.todoService.addTodo(this.todoList.id,this.newTodoText.trim()).subscribe({next:()=>{this.newTodoText="",this.isAdding=!1},error:()=>{this.error="Failed to add todo.",this.isAdding=!1}}))}toggleTodo(e){e.id&&this.todoService.updateTodo(ie(F({},e),{completed:!e.completed})).catch(()=>{this.error="Failed to update todo."})}updateTodoText(e,t){let r=t.target.value.trim();!e.id||!r||r===e.title||this.todoService.updateTodo(ie(F({},e),{title:r})).catch(()=>{this.error="Failed to update todo text."})}deleteTodo(e){e.id&&this.todoService.deleteTodo(e.id).catch(()=>{this.error="Failed to delete todo."})}goBack(){this.router.navigate(["/lists"])}editList(){alert("Edit list feature coming soon!")}shareList(){alert("Share list feature coming soon!")}copyToClipboard(e){navigator.clipboard.writeText(e).then(()=>{console.log("Copied to clipboard:",e)})}getDateFromTimestamp(e){return e?e instanceof Date?e:e&&typeof e.toDate=="function"?e.toDate():typeof e=="number"?new Date(e):typeof e=="string"?new Date(e):null:null}static \u0275fac=function(t){return new(t||n)(W(Mn),W(He),W(co),W(vm))};static \u0275cmp=yt({type:n,selectors:[["app-todo"]],decls:26,vars:5,consts:[[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],[1,"max-w-4xl","mx-auto","px-3","sm:px-4","lg:px-6","py-4","sm:py-6"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","mb-4","sm:mb-6"],[1,"flex-1","min-w-0"],[1,"flex","items-center","space-x-2","sm:space-x-4","mb-1","sm:mb-2"],[1,"p-1.5","sm:p-2","text-gray-500","hover:text-gray-700","dark:text-gray-400","dark:hover:text-gray-200","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","sm:w-5","sm:h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-xl","sm:text-2xl","md:text-3xl","font-bold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-600","dark:text-gray-300"],[1,"flex","items-center","space-x-2","mt-3","sm:mt-0"],[1,"btn-secondary","text-sm","flex","items-center","space-x-1.5","sm:space-x-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","sm:w-4","sm:h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"btn-primary","text-sm","flex","items-center","space-x-1.5","sm:space-x-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"],["class","card text-center",4,"ngIf"],["class","card border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20",4,"ngIf"],["class","space-y-4 sm:space-y-6",4,"ngIf"],[1,"card","text-center"],[1,"flex","items-center","justify-center","space-x-2"],[1,"animate-spin","rounded-full","h-5","w-5","border-b-2","border-primary-600"],[1,"card","border-red-200","dark:border-red-700","bg-red-50","dark:bg-red-900/20"],[1,"flex","items-center","space-x-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-base","sm:text-lg","font-medium","text-red-800","dark:text-red-200"],[1,"text-sm","text-red-600","dark:text-red-300"],[1,"space-y-4","sm:space-y-6"],[1,"card"],[1,"flex","space-x-2","sm:space-x-4",3,"ngSubmit"],["type","text","name","newTodoText","placeholder","Add a new todo item...",1,"input-field","flex-1",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"btn-primary","flex","items-center","space-x-1.5","sm:space-x-2",3,"disabled"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4 animate-spin","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"flex","items-center","justify-between","mb-4","sm:mb-6"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"flex","items-center","space-x-2","sm:space-x-4","text-xs","sm:text-sm","text-gray-500","dark:text-gray-400"],[1,"w-16","sm:w-24","bg-gray-200","dark:bg-gray-700","rounded-full","h-1.5","sm:h-2"],[1,"bg-primary-600","h-1.5","sm:h-2","rounded-full","transition-all","duration-300"],["class","text-center py-6 sm:py-8",4,"ngIf"],["class","space-y-2 sm:space-y-3",4,"ngIf"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900","dark:text-white","mb-3","sm:mb-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3","sm:gap-4","text-xs","sm:text-sm"],[1,"flex","justify-between"],[1,"text-gray-600","dark:text-gray-400"],[1,"text-gray-900","dark:text-white"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","animate-spin"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"text-center","py-6","sm:py-8"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-10","w-10","sm:h-12","sm:w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],[1,"mt-3","sm:mt-4","text-base","sm:text-lg","font-medium","text-gray-900","dark:text-white"],[1,"mt-1","sm:mt-2","text-sm","text-gray-600","dark:text-gray-300"],[1,"space-y-2","sm:space-y-3"],["class","flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","space-x-2","sm:space-x-3","p-2","sm:p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors","duration-200"],["type","checkbox",1,"w-4","h-4","sm:w-5","sm:h-5","text-primary-600","bg-gray-100","border-gray-300","rounded","focus:ring-primary-500","dark:focus:ring-primary-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"change","checked"],["type","text",1,"w-full","bg-transparent","border-none","focus:outline-none","focus:ring-0","text-sm","sm:text-base","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400",3,"blur","value"],[1,"p-1","text-gray-400","hover:text-red-600","dark:hover:text-red-400","transition-colors","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),oe("click",function(){return r.goBack()}),X(),w(6,"svg",6),Q(7,"path",7),b()(),ye(),w(8,"h1",8),P(9),b()(),w(10,"p",9),P(11),b()(),w(12,"div",10)(13,"button",11),oe("click",function(){return r.editList()}),X(),w(14,"svg",12),Q(15,"path",13),b(),ye(),w(16,"span"),P(17,"Edit List"),b()(),w(18,"button",14),oe("click",function(){return r.shareList()}),X(),w(19,"svg",12),Q(20,"path",15),b(),ye(),w(21,"span"),P(22,"Share"),b()()()(),Se(23,B9,5,0,"div",16)(24,$9,9,1,"div",17)(25,K9,46,22,"div",18),b()()),t&2&&($(9),Ue((r.todoList==null?null:r.todoList.title)||"Loading..."),$(2),Ue((r.todoList==null?null:r.todoList.description)||"No description"),$(12),re("ngIf",r.isLoading),$(),re("ngIf",r.error),$(),re("ngIf",r.todoList&&!r.isLoading))},dependencies:[Dt,ha,Zt,Wo,ym,AP,gm,IP,wP,HT,$T],encapsulation:2})};var Em=class n{constructor(e,t){this.authService=e;this.router=t}login(){this.authService.signInWithGoogle().then(()=>{this.router.navigate(["/lists"])}).catch(e=>{console.error("Login failed:",e)})}static \u0275fac=function(t){return new(t||n)(W(Rt),W(He))};static \u0275cmp=yt({type:n,selectors:[["app-login"]],decls:8,vars:0,consts:[[1,"login-container"],[1,"login-btn",3,"click"],["src","/assets/google-logo.svg","alt","Google logo",1,"google-logo"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"h2"),P(2,"Sign in to Todo List"),b(),w(3,"p"),P(4,"Please sign in to access your personal todo list"),b(),w(5,"button",1),oe("click",function(){return r.login()}),Q(6,"img",2),P(7," Sign in with Google "),b()())},dependencies:[Dt],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;margin-top:5rem;max-width:400px;margin-left:auto;margin-right:auto;padding:2rem}.login-btn[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#4285f4;color:#fff;padding:10px 24px;border:none;border-radius:4px;font-size:16px;cursor:pointer;box-shadow:0 2px 4px #00000040;transition:box-shadow .3s ease}.login-btn[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000040}.google-logo[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:16px;background-color:#fff;border-radius:50%;padding:2px}"]})};function Q9(n,e){n&1&&(w(0,"div",10)(1,"div",11),Q(2,"div",12),w(3,"span",13),P(4,"Loading your lists..."),b()()())}function Y9(n,e){if(n&1){let t=lt();w(0,"div",10)(1,"div",14),X(),w(2,"svg",15),Q(3,"path",16),b(),ye(),w(4,"h3",17),P(5,"No lists yet"),b(),w(6,"p",4),P(7,"Get started by creating your first todo list."),b(),w(8,"button",18),oe("click",function(){De(t);let i=Ie();return Ce(i.createNewList())}),X(),w(9,"svg",6),Q(10,"path",7),b(),ye(),w(11,"span"),P(12,"Create First List"),b()()()()}}function Z9(n,e){if(n&1){let t=lt();w(0,"div",21),oe("click",function(){let i=De(t).$implicit,o=Ie(2);return Ce(o.openList(i))}),w(1,"div",22)(2,"div",23)(3,"h3",24),P(4),b(),w(5,"p",25),P(6),b()(),w(7,"div",26)(8,"button",27),oe("click",function(i){let o=De(t).$implicit,s=Ie(2);return Ce(s.editList(o,i))}),X(),w(9,"svg",28),Q(10,"path",29),b()(),ye(),w(11,"button",30),oe("click",function(i){let o=De(t).$implicit,s=Ie(2);return Ce(s.deleteList(o,i))}),X(),w(12,"svg",28),Q(13,"path",31),b()()()(),ye(),w(14,"div",32)(15,"div",33)(16,"span",34),X(),w(17,"svg",35),Q(18,"path",16),b(),P(19," View items "),b(),ye(),w(20,"span",34),X(),w(21,"svg",35),Q(22,"path",36),b(),P(23),Be(24,"date"),b()(),w(25,"svg",37),Q(26,"path",38),b()()()}if(n&2){let t=e.$implicit,r=Ie(2);$(4),vt(" ",t.title," "),$(2),vt(" ",t.description||"No description"," "),$(17),vt(" ",Li(24,3,r.getDateFromTimestamp(t.updatedAt),"short")," ")}}function J9(n,e){if(n&1&&(w(0,"div",19),Se(1,Z9,27,6,"div",20),b()),n&2){let t=Ie();$(),re("ngForOf",t.todoLists)}}var Im=class n{constructor(e,t,r){this.todoListService=e;this.authService=t;this.router=r}todoLists=[];isLoading=!1;newListTitle="";newListDescription="";sharingList=null;shareEmail="";showShareModal=!1;ngOnInit(){this.loadLists()}loadLists(){this.isLoading=!0,this.todoListService.getLists().subscribe({next:e=>{this.todoLists=e,this.isLoading=!1},error:e=>{console.error("Error loading lists:",e),this.isLoading=!1}})}createNewList(){if(!this.newListTitle.trim())return;let e=this.newListTitle.trim(),t=this.newListDescription.trim()||void 0;this.todoListService.createList(e,t).subscribe({next:r=>{this.todoLists.unshift(r),this.newListTitle="",this.newListDescription=""},error:r=>{console.error("Error creating list:",r)}})}openList(e){this.router.navigate(["/todo",e.id])}editList(e,t){t.stopPropagation(),console.log("Edit list:",e)}deleteList(e,t){t.stopPropagation(),confirm(`Are you sure you want to delete "${e.title}"?`)&&this.todoListService.deleteList(e.id).then(()=>{this.todoLists=this.todoLists.filter(r=>r.id!==e.id)}).catch(r=>{console.error("Error deleting list:",r)})}shareList(e){this.sharingList=e,this.showShareModal=!0}confirmShare(){!this.shareEmail.trim()||!this.sharingList||this.todoListService.shareList(this.sharingList.id,this.shareEmail.trim()).then(()=>{this.showShareModal=!1,this.shareEmail="",this.sharingList=null}).catch(e=>{console.error("Error sharing list:",e)})}cancelShare(){this.showShareModal=!1,this.shareEmail="",this.sharingList=null}getDateFromTimestamp(e){return e?e instanceof Date?e:e&&typeof e.toDate=="function"?e.toDate():typeof e=="number"?new Date(e):typeof e=="string"?new Date(e):null:null}static \u0275fac=function(t){return new(t||n)(W(co),W(Rt),W(He))};static \u0275cmp=yt({type:n,selectors:[["app-lists"]],decls:16,vars:3,consts:[[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],[1,"max-w-7xl","mx-auto","px-3","sm:px-4","lg:px-6","py-4","sm:py-6"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","mb-4","sm:mb-6"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"mt-1","sm:mt-2","text-sm","text-gray-600","dark:text-gray-300"],[1,"btn-primary","mt-3","sm:mt-0","text-sm","flex","items-center","space-x-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["class","card text-center",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",4,"ngIf"],[1,"card","text-center"],[1,"flex","items-center","justify-center","space-x-2"],[1,"animate-spin","rounded-full","h-5","w-5","border-b-2","border-primary-600"],[1,"text-sm","text-gray-600","dark:text-gray-300"],[1,"py-8","sm:py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-10","w-10","sm:h-12","sm:w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],[1,"mt-3","sm:mt-4","text-base","sm:text-lg","font-medium","text-gray-900","dark:text-white"],[1,"btn-primary","mt-3","sm:mt-4","text-sm","flex","items-center","space-x-2",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-3","sm:gap-4"],["class","card group cursor-pointer hover:shadow-lg transition-all duration-200",3,"click",4,"ngFor","ngForOf"],[1,"card","group","cursor-pointer","hover:shadow-lg","transition-all","duration-200",3,"click"],[1,"flex","items-start","justify-between","mb-3","sm:mb-4"],[1,"flex-1","min-w-0"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900","dark:text-white","truncate","group-hover:text-primary-600","dark:group-hover:text-primary-400","transition-colors","duration-200"],[1,"text-xs","sm:text-sm","text-gray-500","dark:text-gray-400","mt-1"],[1,"flex","items-center","space-x-1","sm:space-x-2","ml-3","sm:ml-4"],[1,"p-1","text-gray-400","hover:text-gray-600","dark:hover:text-gray-200","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","sm:w-4","sm:h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"p-1","text-gray-400","hover:text-red-600","dark:hover:text-red-400","transition-colors","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"flex","items-center","justify-between","text-xs","sm:text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","space-x-2","sm:space-x-4"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","sm:w-4","sm:h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","sm:w-4","sm:h-4","text-gray-400","group-hover:text-gray-600","dark:group-hover:text-gray-200","transition-colors","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),P(5,"Todo Lists"),b(),w(6,"p",4),P(7,"Create and manage your todo lists"),b()(),w(8,"button",5),oe("click",function(){return r.createNewList()}),X(),w(9,"svg",6),Q(10,"path",7),b(),ye(),w(11,"span"),P(12,"New List"),b()()(),Se(13,Q9,5,0,"div",8)(14,Y9,13,0,"div",8)(15,J9,2,1,"div",9),b()()),t&2&&($(13),re("ngIf",r.isLoading),$(),re("ngIf",!r.isLoading&&r.todoLists.length===0),$(),re("ngIf",!r.isLoading&&r.todoLists.length>0))},dependencies:[Dt,ha,Zt,Wo,ym,ns],encapsulation:2})};function X9(n,e){if(n&1&&(ua(0),w(1,"div",14)(2,"div")(3,"label",15),P(4,"Display Name"),b(),w(5,"div",16),P(6),b()(),w(7,"div")(8,"label",15),P(9,"Email"),b(),w(10,"div",16),P(11),b()(),w(12,"div")(13,"label",15),P(14,"User ID"),b(),w(15,"div",17),P(16),b()(),w(17,"div")(18,"label",15),P(19,"Account Created"),b(),w(20,"div",16),P(21),Be(22,"date"),b()()(),la()),n&2){let t=e.ngIf;$(6),vt(" ",(t==null?null:t.displayName)||"Not provided"," "),$(5),vt(" ",(t==null?null:t.email)||"Not provided"," "),$(5),vt(" ",(t==null?null:t.uid)||"Not available"," "),$(5),vt(" ",!(t==null||t.metadata==null)&&t.metadata.creationTime?Li(22,4,t.metadata.creationTime,"medium"):"Not available"," ")}}var wm=class n{authService=k(Rt);router=k(He);user$=this.authService.user$;logout(){this.authService.signOut(),this.router.navigate(["/"])}goBack(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=yt({type:n,selectors:[["app-profile"]],decls:22,vars:3,consts:[[1,"min-h-screen","bg-gray-50","dark:bg-gray-900","py-6","sm:py-8"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-6","sm:mb-8"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"text-sm","sm:text-base","text-gray-600","dark:text-gray-300","mt-2"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","border","border-gray-200","dark:border-gray-700"],[1,"p-4","sm:p-6"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white","mb-4"],[4,"ngIf"],[1,"border-t","border-gray-200","dark:border-gray-700","pt-6"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4"],[1,"flex","flex-col","sm:flex-row","gap-3","sm:gap-4"],[1,"btn-secondary","px-4","py-2","text-sm","sm:text-base",3,"click"],[1,"btn-outline","px-4","py-2","text-sm","sm:text-base",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","sm:gap-6"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],[1,"text-sm","sm:text-base","text-gray-900","dark:text-white","bg-gray-50","dark:bg-gray-700","px-3","py-2","rounded-md"],[1,"text-xs","sm:text-sm","text-gray-500","dark:text-gray-400","bg-gray-50","dark:bg-gray-700","px-3","py-2","rounded-md","font-mono","break-all"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),P(4,"Profile"),b(),w(5,"p",4),P(6,"Manage your account information"),b()(),w(7,"div",5)(8,"div",6)(9,"div",2)(10,"h2",7),P(11,"Account Information"),b(),Se(12,X9,23,7,"ng-container",8),Be(13,"async"),b(),w(14,"div",9)(15,"h3",10),P(16,"Account Actions"),b(),w(17,"div",11)(18,"button",12),oe("click",function(){return r.logout()}),P(19," Sign Out "),b(),w(20,"button",13),oe("click",function(){return r.goBack()}),P(21," Back to Home "),b()()()()()()()),t&2&&($(12),re("ngIf",_t(13,1,r.user$)))},dependencies:[Dt,Zt,Wr,Wo],encapsulation:2})};var pc=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.user$.pipe(Ut(1),ne(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(q(Rt),q(He))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var RP=[{path:"",component:om},{path:"ip-lookup",component:am},{path:"login",component:Em},{path:"profile",component:wm,canActivate:[pc]},{path:"lists",component:Im,canActivate:[pc]},{path:"todo/:id",component:_m,canActivate:[pc]},{path:"todo",redirectTo:"/lists",pathMatch:"full"}];var xP={production:!1,firebaseConfig:{apiKey:"AIzaSyAP6oP_CO8yIvG_d8LxaDCn2R9YXbuehR0",authDomain:"todolist-164b4.firebaseapp.com",projectId:"todolist-164b4",storageBucket:"todolist-164b4.firebasestorage.app",messagingSenderId:"488468917095",appId:"1:488468917095:web:4d467eebe593bff0681dc2",measurementId:"G-LLZ00SYW34"}};var NP={providers:[Y_({eventCoalescing:!0}),X0(RP),b0(),c1(()=>u1(xP.firebaseConfig)),tP(()=>rP()),lN(()=>hN())]};var Tm=class n{constructor(e){this.http=e;this.startVersionChecking()}updateAvailable$=new it(!1);currentVersion="1.0.0";checkInterval=5*60*1e3;get updateAvailable(){return this.updateAvailable$.asObservable()}startVersionChecking(){Ey(this.checkInterval).pipe(Oe(()=>this.checkForUpdates())).subscribe()}checkForUpdates(){return new J(e=>{let t=document.querySelector('script[src*="main"]');if(t){let r=this.extractTimestampFromUrl(t.src),i=localStorage.getItem("app-version-timestamp");i&&i!==r&&this.updateAvailable$.next(!0),localStorage.setItem("app-version-timestamp",r)}e.next(),e.complete()})}extractTimestampFromUrl(e){let t=e.match(/main-([^.]+)\.js/);return t?t[1]:Date.now().toString()}forceUpdate(){"caches"in window&&caches.keys().then(e=>{e.forEach(t=>{caches.delete(t)})}),localStorage.clear(),window.location.reload()}dismissUpdate(){this.updateAvailable$.next(!1)}static \u0275fac=function(t){return new(t||n)(q(ma))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function t8(n,e){if(n&1){let t=lt();w(0,"div",1)(1,"div",2)(2,"div",3),P(3,"\u{1F504}"),b(),w(4,"div",4)(5,"h4"),P(6,"New version available!"),b(),w(7,"p"),P(8,"A new version of the app is ready. Refresh to get the latest features."),b()(),w(9,"div",5)(10,"button",6),oe("click",function(){De(t);let i=Ie();return Ce(i.update())}),P(11,"Update Now"),b(),w(12,"button",7),oe("click",function(){De(t);let i=Ie();return Ce(i.dismiss())}),P(13,"Later"),b()()()()}}var bm=class n{constructor(e){this.updateService=e;this.updateAvailable$=this.updateService.updateAvailable}updateAvailable$;update(){this.updateService.forceUpdate()}dismiss(){this.updateService.dismissUpdate()}static \u0275fac=function(t){return new(t||n)(W(Tm))};static \u0275cmp=yt({type:n,selectors:[["app-update-notification"]],decls:2,vars:3,consts:[["class","update-notification",4,"ngIf"],[1,"update-notification"],[1,"update-content"],[1,"update-icon"],[1,"update-text"],[1,"update-actions"],[1,"update-btn",3,"click"],[1,"dismiss-btn",3,"click"]],template:function(t,r){t&1&&(Se(0,t8,14,0,"div",0),Be(1,"async")),t&2&&re("ngIf",_t(1,1,r.updateAvailable$))},dependencies:[Dt,Zt,Wr],styles:[".update-notification[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;background:#fff;border-radius:8px;box-shadow:0 4px 12px #00000026;border:1px solid #e0e0e0;max-width:400px;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.update-content[_ngcontent-%COMP%]{padding:16px;display:flex;align-items:center;gap:12px}.update-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.update-text[_ngcontent-%COMP%]{flex:1}.update-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#333;font-size:14px;font-weight:600}.update-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;line-height:1.4}.update-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-shrink:0}.update-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:4px;font-size:12px;cursor:pointer;transition:background-color .2s}.update-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff}.update-btn[_ngcontent-%COMP%]:hover{background:#0056b3}.dismiss-btn[_ngcontent-%COMP%]{background:#f8f9fa;color:#666;border:1px solid #dee2e6}.dismiss-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}@media (max-width: 480px){.update-notification[_ngcontent-%COMP%]{top:10px;right:10px;left:10px;max-width:none}.update-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.update-actions[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var Dm=class n{themeSubject=new it("light");theme$=this.themeSubject.asObservable();constructor(){this.initializeTheme()}initializeTheme(){let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=e||(t?"dark":"light");this.setTheme(r)}setTheme(e){this.themeSubject.next(e),localStorage.setItem("theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}toggleTheme(){let e=this.themeSubject.value;this.setTheme(e==="light"?"dark":"light")}getCurrentTheme(){return this.themeSubject.value}static \u0275fac=function(t){return new(t||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var MP=()=>({exact:!0});function r8(n,e){n&1&&(w(0,"a",22),X(),w(1,"svg",7),Q(2,"path",23),b(),ye(),w(3,"span"),P(4,"Profile"),b()())}function i8(n,e){n&1&&(X(),w(0,"svg",24),Q(1,"path",25),b())}function o8(n,e){n&1&&(X(),w(0,"svg",24),Q(1,"path",26),b())}function s8(n,e){if(n&1){let t=lt();w(0,"button",27),oe("click",function(){De(t);let i=Ie();return Ce(i.login())}),X(),w(1,"svg",7),Q(2,"path",28),b(),ye(),w(3,"span"),P(4,"Login"),b()()}}function a8(n,e){if(n&1){let t=lt();w(0,"button",29),oe("click",function(){De(t);let i=Ie();return Ce(i.logout())}),X(),w(1,"svg",7),Q(2,"path",30),b(),ye(),w(3,"span"),P(4,"Sign Out"),b()()}}function c8(n,e){n&1&&(X(),w(0,"svg",31),Q(1,"path",32),b())}function u8(n,e){n&1&&(X(),w(0,"svg",31),Q(1,"path",33),b())}function l8(n,e){if(n&1){let t=lt();w(0,"a",44),oe("click",function(){De(t);let i=Ie(2);return Ce(i.closeMobileMenu())}),X(),w(1,"svg",7),Q(2,"path",23),b(),ye(),w(3,"span"),P(4,"Profile"),b()()}}function d8(n,e){n&1&&(X(),w(0,"svg",45),Q(1,"path",25),b())}function h8(n,e){n&1&&(X(),w(0,"svg",45),Q(1,"path",26),b())}function f8(n,e){if(n&1){let t=lt();w(0,"button",46),oe("click",function(){De(t);let i=Ie(2);return i.login(),Ce(i.closeMobileMenu())}),X(),w(1,"svg",7),Q(2,"path",28),b(),ye(),w(3,"span"),P(4,"Login"),b()()}}function p8(n,e){if(n&1){let t=lt();w(0,"button",47),oe("click",function(){De(t);let i=Ie(2);return i.logout(),Ce(i.closeMobileMenu())}),X(),w(1,"svg",7),Q(2,"path",30),b(),ye(),w(3,"span"),P(4,"Sign Out"),b()()}}function g8(n,e){if(n&1){let t=lt();w(0,"div",34)(1,"nav",35)(2,"a",36),oe("click",function(){De(t);let i=Ie();return Ce(i.closeMobileMenu())}),X(),w(3,"svg",7),Q(4,"path",8),b(),ye(),w(5,"span"),P(6,"Home"),b()(),w(7,"a",37),oe("click",function(){De(t);let i=Ie();return Ce(i.closeMobileMenu())}),X(),w(8,"svg",7),Q(9,"path",10),b(),ye(),w(10,"span"),P(11,"Lists"),b()(),w(12,"a",38),oe("click",function(){De(t);let i=Ie();return Ce(i.closeMobileMenu())}),X(),w(13,"svg",7),Q(14,"path",12),b(),ye(),w(15,"span"),P(16,"IP Lookup"),b()(),Se(17,l8,5,0,"a",39),Be(18,"async"),w(19,"button",40),oe("click",function(){De(t);let i=Ie();return Ce(i.toggleTheme())}),Se(20,d8,2,0,"svg",41),Be(21,"async"),Se(22,h8,2,0,"svg",41),Be(23,"async"),w(24,"span"),P(25),Be(26,"async"),b()(),Se(27,f8,5,0,"button",42),Be(28,"async"),Se(29,p8,5,0,"button",43),Be(30,"async"),b()()}if(n&2){let t=Ie();$(2),re("routerLinkActiveOptions",Tf(19,MP)),$(15),re("ngIf",_t(18,7,t.user$)),$(3),re("ngIf",_t(21,9,t.theme$)==="light"),$(2),re("ngIf",_t(23,11,t.theme$)==="dark"),$(3),Ue(_t(26,13,t.theme$)==="light"?"Dark Mode":"Light Mode"),$(2),re("ngIf",!_t(28,15,t.user$)),$(2),re("ngIf",_t(30,17,t.user$))}}var Cm=class n{constructor(e,t,r){this.authService=e;this.themeService=t;this.router=r}isMobileMenuOpen=!1;get user$(){return this.authService.user$}get theme$(){return this.themeService.theme$}logout(){this.authService.signOut(),this.router.navigate(["/"])}login(){this.authService.signInWithGoogle()}toggleTheme(){this.themeService.toggleTheme()}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}closeMobileMenu(){this.isMobileMenuOpen=!1}static \u0275fac=function(t){return new(t||n)(W(Rt),W(Dm),W(He))};static \u0275cmp=yt({type:n,selectors:[["app-root"]],decls:40,vars:20,consts:[[1,"bg-white","dark:bg-gray-800","border-b","border-gray-200","dark:border-gray-700","shadow-sm","sticky","top-0","z-50"],[1,"max-w-7xl","mx-auto","px-3","sm:px-4","lg:px-6"],[1,"flex","justify-between","items-center","h-12","sm:h-14"],[1,"flex","items-center","space-x-2","sm:space-x-3"],[1,"text-sm","sm:text-base","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"hidden","sm:flex","items-center","space-x-1","sm:space-x-2"],["routerLink","/","routerLinkActive","text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-1.5","text-gray-700","dark:text-gray-300","hover:text-primary-600","dark:hover:text-primary-400","px-2","sm:px-3","py-1","sm:py-2","rounded","text-xs","sm:text-sm","font-medium","transition-colors","duration-200",3,"routerLinkActiveOptions"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],["routerLink","/lists","routerLinkActive","text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-1.5","text-gray-700","dark:text-gray-300","hover:text-primary-600","dark:hover:text-primary-400","px-2","sm:px-3","py-1","sm:py-2","rounded","text-xs","sm:text-sm","font-medium","transition-colors","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],["routerLink","/ip-lookup","routerLinkActive","text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-1.5","text-gray-700","dark:text-gray-300","hover:text-primary-600","dark:hover:text-primary-400","px-2","sm:px-3","py-1","sm:py-2","rounded","text-xs","sm:text-sm","font-medium","transition-colors","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9m0 9c-5 0-9-4-9-9s4-9 9-9"],["routerLink","/profile","routerLinkActive","text-primary-600 dark:text-primary-400","class","flex items-center space-x-1.5 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 px-2 sm:px-3 py-1 sm:py-2 rounded text-xs sm:text-sm font-medium transition-colors duration-200",4,"ngIf"],[1,"p-1.5","sm:p-2","rounded-lg","bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-600","transition-colors","duration-200",3,"click"],["class","w-4 h-4 sm:w-5 sm:h-5","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],["class","flex items-center space-x-1.5 btn-primary text-xs px-2 sm:px-3 py-1 sm:py-2",3,"click",4,"ngIf"],["class","flex items-center space-x-1.5 btn-secondary text-xs px-2 sm:px-3 py-1 sm:py-2",3,"click",4,"ngIf"],[1,"sm:hidden","p-2","rounded-lg","bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-600","transition-colors","duration-200",3,"click"],["class","w-5 h-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","sm:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",4,"ngIf"],[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],["routerLink","/profile","routerLinkActive","text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-1.5","text-gray-700","dark:text-gray-300","hover:text-primary-600","dark:hover:text-primary-400","px-2","sm:px-3","py-1","sm:py-2","rounded","text-xs","sm:text-sm","font-medium","transition-colors","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","sm:w-5","sm:h-5"],["d","M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"],["fill-rule","evenodd","d","M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","clip-rule","evenodd"],[1,"flex","items-center","space-x-1.5","btn-primary","text-xs","px-2","sm:px-3","py-1","sm:py-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"],[1,"flex","items-center","space-x-1.5","btn-secondary","text-xs","px-2","sm:px-3","py-1","sm:py-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"sm:hidden","border-t","border-gray-200","dark:border-gray-700","bg-white","dark:bg-gray-800"],[1,"py-2","space-y-1"],["routerLink","/","routerLinkActive","bg-primary-50 dark:bg-primary-900 text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-700","rounded-md","transition-colors","duration-200",3,"click","routerLinkActiveOptions"],["routerLink","/lists","routerLinkActive","bg-primary-50 dark:bg-primary-900 text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-700","rounded-md","transition-colors","duration-200",3,"click"],["routerLink","/ip-lookup","routerLinkActive","bg-primary-50 dark:bg-primary-900 text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-700","rounded-md","transition-colors","duration-200",3,"click"],["routerLink","/profile","routerLinkActive","bg-primary-50 dark:bg-primary-900 text-primary-600 dark:text-primary-400","class","flex items-center space-x-3 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md transition-colors duration-200",3,"click",4,"ngIf"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-700","rounded-md","transition-colors","duration-200",3,"click"],["class","w-4 h-4","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],["class","w-full flex items-center space-x-3 px-3 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900 rounded-md transition-colors duration-200",3,"click",4,"ngIf"],["class","w-full flex items-center space-x-3 px-3 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900 rounded-md transition-colors duration-200",3,"click",4,"ngIf"],["routerLink","/profile","routerLinkActive","bg-primary-50 dark:bg-primary-900 text-primary-600 dark:text-primary-400",1,"flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-700","rounded-md","transition-colors","duration-200",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-primary-600","dark:text-primary-400","hover:bg-primary-50","dark:hover:bg-primary-900","rounded-md","transition-colors","duration-200",3,"click"],[1,"w-full","flex","items-center","space-x-3","px-3","py-2","text-sm","font-medium","text-red-600","dark:text-red-400","hover:bg-red-50","dark:hover:bg-red-900","rounded-md","transition-colors","duration-200",3,"click"]],template:function(t,r){t&1&&(w(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),P(5," Manu's Playground "),b()(),w(6,"nav",5)(7,"a",6),X(),w(8,"svg",7),Q(9,"path",8),b(),ye(),w(10,"span"),P(11,"Home"),b()(),w(12,"a",9),X(),w(13,"svg",7),Q(14,"path",10),b(),ye(),w(15,"span"),P(16,"Lists"),b()(),w(17,"a",11),X(),w(18,"svg",7),Q(19,"path",12),b(),ye(),w(20,"span"),P(21,"IP Lookup"),b()(),Se(22,r8,5,0,"a",13),Be(23,"async"),w(24,"button",14),oe("click",function(){return r.toggleTheme()}),Se(25,i8,2,0,"svg",15),Be(26,"async"),Se(27,o8,2,0,"svg",15),Be(28,"async"),b(),Se(29,s8,5,0,"button",16),Be(30,"async"),Se(31,a8,5,0,"button",17),Be(32,"async"),b(),w(33,"button",18),oe("click",function(){return r.toggleMobileMenu()}),Se(34,c8,2,0,"svg",19)(35,u8,2,0,"svg",19),b()(),Se(36,g8,31,20,"div",20),b()(),w(37,"main",21),Q(38,"router-outlet"),b(),Q(39,"app-update-notification")),t&2&&($(7),re("routerLinkActiveOptions",Tf(19,MP)),$(15),re("ngIf",_t(23,9,r.user$)),$(3),re("ngIf",_t(26,11,r.theme$)==="light"),$(2),re("ngIf",_t(28,13,r.theme$)==="dark"),$(2),re("ngIf",!_t(30,15,r.user$)),$(2),re("ngIf",_t(32,17,r.user$)),$(3),re("ngIf",!r.isMobileMenuOpen),$(),re("ngIf",r.isMobileMenuOpen),$(),re("ngIf",r.isMobileMenuOpen))},dependencies:[Dt,Zt,Wr,Ju,ns,Ra,J0,bm],encapsulation:2})};I0(Cm,NP).catch(n=>console.error(n));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/ngsw-worker.js").then(n=>{console.log("SW registered: ",n)}).catch(n=>{console.log("SW registration failed: ",n)})});
