var _M=Object.defineProperty,EM=Object.defineProperties;var IM=Object.getOwnPropertyDescriptors;var Du=Object.getOwnPropertySymbols;var mw=Object.prototype.hasOwnProperty,yw=Object.prototype.propertyIsEnumerable;var gw=(n,e,t)=>e in n?_M(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})mw.call(e,t)&&gw(n,t,e[t]);if(Du)for(var t of Du(e))yw.call(e,t)&&gw(n,t,e[t]);return n},ee=(n,e)=>EM(n,IM(e));var fp=(n,e)=>{var t={};for(var r in n)mw.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Du)for(var r of Du(n))e.indexOf(r)<0&&yw.call(n,r)&&(t[r]=n[r]);return t};var S=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});var pp;function gp(){return pp}function kn(n){let e=pp;return pp=n,e}var wM=Symbol("NotFound"),Cu=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function so(n){return n===wM||n?.name==="\u0275NotFound"}function Nu(n,e){return Object.is(n,e)}var Le=null,bu=!1,mp=1,TM=null,st=Symbol("SIGNAL");function ne(n){let e=Le;return Le=n,e}function Mu(){return Le}var Zr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ao(n){if(bu)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(n);let e=Le.nextProducerIndex++;if(Ou(Le),e<Le.producerNode.length&&Le.producerNode[e]!==n&&oa(Le)){let t=Le.producerNode[e];ku(t,Le.producerIndexOfThis[e])}Le.producerNode[e]!==n&&(Le.producerNode[e]=n,Le.producerIndexOfThis[e]=oa(Le)?_w(n,Le,e):0),Le.producerLastReadVersion[e]=n.version}function vw(){mp++}function Pu(n){if(!(oa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===mp)){if(!n.producerMustRecompute(n)&&!sa(n)){Ru(n);return}n.producerRecomputeValue(n),Ru(n)}}function yp(n){if(n.liveConsumerNode===void 0)return;let e=bu;bu=!0;try{for(let t of n.liveConsumerNode)t.dirty||DM(t)}finally{bu=e}}function vp(){return Le?.consumerAllowSignalWrites!==!1}function DM(n){n.dirty=!0,yp(n),n.consumerMarkedDirty?.(n)}function Ru(n){n.dirty=!1,n.lastCleanEpoch=mp}function Jr(n){return n&&(n.nextProducerIndex=0),ne(n)}function co(n,e){if(ne(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(oa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ku(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function sa(n){Ou(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Pu(t),r!==t.version))return!0}return!1}function xu(n){if(Ou(n),oa(n))for(let e=0;e<n.producerNode.length;e++)ku(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function _w(n,e,t){if(Ew(n),n.liveConsumerNode.length===0&&Iw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=_w(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ku(n,e){if(Ew(n),n.liveConsumerNode.length===1&&Iw(n))for(let r=0;r<n.producerNode.length;r++)ku(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ou(i),i.producerIndexOfThis[r]=e}}function oa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ou(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Ew(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Iw(n){return n.producerNode!==void 0}function Fu(n){TM?.(n)}function Lu(n,e){let t=Object.create(CM);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Pu(t),ao(t),t.value===ia)throw t.error;return t.value};return r[st]=t,Fu(t),r}var Su=Symbol("UNSET"),Au=Symbol("COMPUTING"),ia=Symbol("ERRORED"),CM=ee(k({},Zr),{value:Su,dirty:!0,error:null,equal:Nu,kind:"computed",producerMustRecompute(n){return n.value===Su||n.value===Au},producerRecomputeValue(n){if(n.value===Au)throw new Error("");let e=n.value;n.value=Au;let t=Jr(n),r,i=!1;try{r=n.computation(),ne(null),i=e!==Su&&e!==ia&&r!==ia&&n.equal(e,r)}catch(o){r=ia,n.error=o}finally{co(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function bM(){throw new Error}var ww=bM;function Tw(n){ww(n)}function _p(n){ww=n}var SM=null;function Ep(n,e){let t=Object.create(Vu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>Dw(t);return r[st]=t,Fu(t),[r,s=>uo(t,s),s=>Ip(t,s)]}function Dw(n){return ao(n),n.value}function uo(n,e){vp()||Tw(n),n.equal(n.value,e)||(n.value=e,AM(n))}function Ip(n,e){vp()||Tw(n),uo(n,e(n.value))}var Vu=ee(k({},Zr),{equal:Nu,value:void 0,kind:"signal"});function AM(n){n.version++,vw(),yp(n),SM?.(n)}function Z(n){return typeof n=="function"}function lo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ju=lo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Xr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Se=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof ju?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Cw(o)}catch(s){e=e??[],s instanceof ju?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ju(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Cw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Xr(t,e)}remove(e){let{_finalizers:t}=this;t&&Xr(t,e),e instanceof n&&e._removeParent(this)}};Se.EMPTY=(()=>{let n=new Se;return n.closed=!0,n})();var wp=Se.EMPTY;function Uu(n){return n instanceof Se||n&&"closed"in n&&Z(n.remove)&&Z(n.add)&&Z(n.unsubscribe)}function Cw(n){Z(n)?n():n.unsubscribe()}var Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ho={setTimeout(n,e,...t){let{delegate:r}=ho;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ho;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Bu(n){ho.setTimeout(()=>{let{onUnhandledError:e}=Jt;if(e)e(n);else throw n})}function aa(){}var bw=Tp("C",void 0,void 0);function Sw(n){return Tp("E",void 0,n)}function Aw(n){return Tp("N",n,void 0)}function Tp(n,e,t){return{kind:n,value:e,error:t}}var ei=null;function fo(n){if(Jt.useDeprecatedSynchronousErrorHandling){let e=!ei;if(e&&(ei={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ei;if(ei=null,t)throw r}}else n()}function Rw(n){Jt.useDeprecatedSynchronousErrorHandling&&ei&&(ei.errorThrown=!0,ei.error=n)}var ti=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uu(e)&&e.add(this)):this.destination=MM}static create(e,t,r){return new po(e,t,r)}next(e){this.isStopped?Cp(Aw(e),this):this._next(e)}error(e){this.isStopped?Cp(Sw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cp(bw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},RM=Function.prototype.bind;function Dp(n,e){return RM.call(n,e)}var bp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){$u(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){$u(r)}else $u(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){$u(t)}}},po=class extends ti{constructor(e,t,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dp(e.next,o),error:e.error&&Dp(e.error,o),complete:e.complete&&Dp(e.complete,o)}):i=e}this.destination=new bp(i)}};function $u(n){Jt.useDeprecatedSynchronousErrorHandling?Rw(n):Bu(n)}function NM(n){throw n}function Cp(n,e){let{onStoppedNotification:t}=Jt;t&&ho.setTimeout(()=>t(n,e))}var MM={closed:!0,next:aa,error:NM,complete:aa};var go=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(n){return n}function Hu(...n){return Sp(n)}function Sp(n){return n.length===0?Rt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var K=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=xM(t)?t:new po(t,r,i);return fo(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Nw(r),new r((i,o)=>{let s=new po({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[go](){return this}pipe(...t){return Sp(t)(this)}toPromise(t){return t=Nw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Nw(n){var e;return(e=n??Jt.Promise)!==null&&e!==void 0?e:Promise}function PM(n){return n&&Z(n.next)&&Z(n.error)&&Z(n.complete)}function xM(n){return n&&n instanceof ti||PM(n)&&Uu(n)}function Ap(n){return Z(n?.lift)}function ue(n){return e=>{if(Ap(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(n,e,t,r,i){return new Rp(n,e,t,r,i)}var Rp=class extends ti{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function mo(){return ue((n,e)=>{let t=null;n._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var yo=class extends K{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ap(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let t=this.getSubject();e.add(this.source.subscribe(ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return mo()(this)}};var Mw=lo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=(()=>{class n extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new zu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Mw}next(t){fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?wp:(this.currentObservers=null,o.push(t),new Se(()=>{this.currentObservers=null,Xr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new K;return t.source=this,t}}return n.create=(e,t)=>new zu(e,t),n})(),zu=class extends Ve{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:wp}};var Qe=class extends Ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Np={now(){return(Np.delegate||Date).now()},delegate:void 0};var qu=class extends Se{constructor(e,t){super()}schedule(e,t=0){return this}};var ca={setInterval(n,e,...t){let{delegate:r}=ca;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ca;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var vo=class extends qu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ca.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ca.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Xr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var _o=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};_o.now=Np.now;var Eo=class extends _o{constructor(e,t=_o.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Mp=new Eo(vo);var Gu=class extends vo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Wu=class extends Eo{};var Pp=new Wu(Gu);var Et=new K(n=>n.complete());function Pw(n){return n&&Z(n.schedule)}function xw(n){return n[n.length-1]}function Ku(n){return Z(xw(n))?n.pop():void 0}function hr(n){return Pw(xw(n))?n.pop():void 0}function xp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Ow(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function kw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ni(n){return this instanceof ni?(this.v=n,this):new ni(n)}function Fw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function c(y,C){r[y]&&(i[y]=function(N){return new Promise(function(R,O){o.push([y,N,R,O])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof ni?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Lw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof kw=="function"?kw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Qu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Yu(n){return Z(n?.then)}function Zu(n){return Z(n[go])}function Ju(n){return Symbol.asyncIterator&&Z(n?.[Symbol.asyncIterator])}function Xu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var el=kM();function tl(n){return Z(n?.[el])}function nl(n){return Fw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ni(t.read());if(i)return yield ni(void 0);yield yield ni(r)}}finally{t.releaseLock()}})}function rl(n){return Z(n?.getReader)}function xe(n){if(n instanceof K)return n;if(n!=null){if(Zu(n))return OM(n);if(Qu(n))return FM(n);if(Yu(n))return LM(n);if(Ju(n))return Vw(n);if(tl(n))return VM(n);if(rl(n))return jM(n)}throw Xu(n)}function OM(n){return new K(e=>{let t=n[go]();if(Z(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function FM(n){return new K(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function LM(n){return new K(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Bu)})}function VM(n){return new K(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Vw(n){return new K(e=>{UM(n,e).catch(t=>e.error(t))})}function jM(n){return Vw(nl(n))}function UM(n,e){var t,r,i,o;return Ow(this,void 0,void 0,function*(){try{for(t=Lw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function It(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function fr(n,e=0){return ue((t,r)=>{t.subscribe(ae(r,i=>It(r,n,()=>r.next(i),e),()=>It(r,n,()=>r.complete(),e),i=>It(r,n,()=>r.error(i),e)))})}function pr(n,e=0){return ue((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function jw(n,e){return xe(n).pipe(pr(e),fr(e))}function Uw(n,e){return xe(n).pipe(pr(e),fr(e))}function Bw(n,e){return new K(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function $w(n,e){return new K(t=>{let r;return It(t,e,()=>{r=n[el](),It(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function il(n,e){if(!n)throw new Error("Iterable cannot be null");return new K(t=>{It(t,e,()=>{let r=n[Symbol.asyncIterator]();It(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Hw(n,e){return il(nl(n),e)}function zw(n,e){if(n!=null){if(Zu(n))return jw(n,e);if(Qu(n))return Bw(n,e);if(Yu(n))return Uw(n,e);if(Ju(n))return il(n,e);if(tl(n))return $w(n,e);if(rl(n))return Hw(n,e)}throw Xu(n)}function Te(n,e){return e?zw(n,e):xe(n)}function W(...n){let e=hr(n);return Te(n,e)}function Io(n,e){let t=Z(n)?n:()=>n,r=i=>i.error(t());return new K(e?i=>e.schedule(r,0,i):r)}function kp(n){return!!n&&(n instanceof K||Z(n.lift)&&Z(n.subscribe))}var On=lo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Q(n,e){return ue((t,r)=>{let i=0;t.subscribe(ae(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:BM}=Array;function $M(n,e){return BM(e)?n(...e):n(e)}function ol(n){return Q(e=>$M(n,e))}var{isArray:HM}=Array,{getPrototypeOf:zM,prototype:qM,keys:GM}=Object;function sl(n){if(n.length===1){let e=n[0];if(HM(e))return{args:e,keys:null};if(WM(e)){let t=GM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function WM(n){return n&&typeof n=="object"&&zM(n)===qM}function al(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function cl(...n){let e=hr(n),t=Ku(n),{args:r,keys:i}=sl(n);if(r.length===0)return Te([],e);let o=new K(KM(r,e,i?s=>al(i,s):Rt));return t?o.pipe(ol(t)):o}function KM(n,e,t=Rt){return r=>{qw(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)qw(e,()=>{let l=Te(n[u],e),h=!1;l.subscribe(ae(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function qw(n,e,t){n?It(t,n,e):e()}function Gw(n,e,t,r,i,o,s,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{o&&e.next(N),l++;let R=!1;xe(t(N,h++)).subscribe(ae(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?It(e,s,()=>C(O)):C(O)}m()}catch(O){e.error(O)}}))};return n.subscribe(ae(e,y,()=>{p=!0,m()})),()=>{c?.()}}function je(n,e,t=1/0){return Z(e)?je((r,i)=>Q((o,s)=>e(r,o,i,s))(xe(n(r,i))),t):(typeof e=="number"&&(t=e),ue((r,i)=>Gw(r,i,n,t)))}function Ww(n=1/0){return je(Rt,n)}function Kw(){return Ww(1)}function wo(...n){return Kw()(Te(n,hr(n)))}function ua(n){return new K(e=>{xe(n()).subscribe(e)})}function Op(...n){let e=Ku(n),{args:t,keys:r}=sl(n),i=new K(o=>{let{length:s}=t;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;xe(t[h]).subscribe(ae(o,m=>{p||(p=!0,l--),c[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?al(r,c):c),o.complete())}))}});return e?i.pipe(ol(e)):i}function gt(n,e){return ue((t,r)=>{let i=0;t.subscribe(ae(r,o=>n.call(e,o,i++)&&r.next(o)))})}function gr(n){return ue((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ae(t,void 0,void 0,s=>{o=xe(n(s,gr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Qw(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(ae(s,h=>{let p=l++;u=c?n(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function mr(n,e){return Z(e)?je(n,e,1):je(n,1)}function yr(n){return ue((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Fn(n){return n<=0?()=>Et:ue((e,t)=>{let r=0;e.subscribe(ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ul(n=QM){return ue((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function QM(){return new On}function ri(n){return ue((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ln(n,e){let t=arguments.length>=2;return r=>r.pipe(n?gt((i,o)=>n(i,o,r)):Rt,Fn(1),t?yr(e):ul(()=>new On))}function To(n){return n<=0?()=>Et:ue((e,t)=>{let r=[];e.subscribe(ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Fp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?gt((i,o)=>n(i,o,r)):Rt,To(1),t?yr(e):ul(()=>new On))}function ll(n,e){return ue(Qw(n,e,arguments.length>=2,!0))}function dl(...n){let e=hr(n);return ue((t,r)=>{(e?wo(n,t,e):wo(n,t)).subscribe(r)})}function wt(n,e){return ue((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,h=o++;xe(n(u,h)).subscribe(i=ae(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function hl(n){return ue((e,t)=>{xe(n).subscribe(ae(t,()=>t.complete(),aa)),!t.closed&&e.subscribe(t)})}function He(n,e,t){let r=Z(n)||e||t?{next:n,error:e,complete:t}:n;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ae(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Rt}function Yw(n){let e=ne(null);try{return n()}finally{ne(e)}}var Qp="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(yl(e,t)),this.code=e}};function YM(n){return`NG0${Math.abs(n)}`}function yl(n,e){return`${YM(n)}${e?": "+e:""}`}function De(n){for(let e in n)if(n[e]===De)return e;throw Error("")}function eT(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Tt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Tt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Yp(n,e){return n?e?`${n} ${e}`:n:e||""}var ZM=De({__forward_ref__:De});function jn(n){return n.__forward_ref__=jn,n.toString=function(){return Tt(this())},n}function Ye(n){return Zp(n)?n():n}function Zp(n){return typeof n=="function"&&n.hasOwnProperty(ZM)&&n.__forward_ref__===jn}function tT(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function fn(n){return{providers:n.providers||[],imports:n.imports||[]}}function fa(n){return JM(n,vl)}function Jp(n){return fa(n)!==null}function JM(n,e){return n.hasOwnProperty(e)&&n[e]||null}function XM(n){let e=n?.[vl]??null;return e||null}function Vp(n){return n&&n.hasOwnProperty(pl)?n[pl]:null}var vl=De({\u0275prov:De}),pl=De({\u0275inj:De}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Xp(n){return n&&!!n.\u0275providers}var eg=De({\u0275cmp:De}),tg=De({\u0275dir:De}),ng=De({\u0275pipe:De}),rg=De({\u0275mod:De}),da=De({\u0275fac:De}),ci=De({__NG_ELEMENT_ID__:De}),Zw=De({__NG_ENV_ID__:De});function _l(n){return typeof n=="string"?n:n==null?"":String(n)}function nT(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():_l(n)}function ig(n,e){throw new L(-200,n)}function El(n,e){throw new L(-201,!1)}var jp;function rT(){return jp}function mt(n){let e=jp;return jp=n,e}function og(n,e,t){let r=fa(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;El(n,"Injector")}var eP={},ii=eP,Up="__NG_DI_FLAG__",Bp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=oi(t)||0;try{return this.injector.get(e,r&8?null:ii,r)}catch(i){if(so(i))return i;throw i}}},gl="ngTempTokenPath",tP="ngTokenPath",nP=/\n/gm,rP="\u0275",Jw="__source";function iP(n,e=0){let t=gp();if(t===void 0)throw new L(-203,!1);if(t===null)return og(n,void 0,e);{let r=oP(e),i=t.retrieve(n,r);if(so(i)){if(r.optional)return null;throw i}return i}}function H(n,e=0){return(rT()||iP)(Ye(n),e)}function M(n,e){return H(n,oi(e))}function oi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function oP(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function $p(n){let e=[];for(let t=0;t<n.length;t++){let r=Ye(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=sP(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(H(i,o))}else e.push(H(r))}return e}function sg(n,e){return n[Up]=e,n.prototype[Up]=e,n}function sP(n){return n[Up]}function aP(n,e,t,r){let i=n[gl];throw e[Jw]&&i.unshift(e[Jw]),n.message=cP(`
`+n.message,i,t,r),n[tP]=i,n[gl]=null,n}function cP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==rP?n.slice(2):n;let i=Tt(e);if(Array.isArray(e))i=e.map(Tt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):Tt(c)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(nP,`
  `)}`}function vr(n,e){let t=n.hasOwnProperty(da);return t?n[da]:null}function Il(n,e){n.forEach(t=>Array.isArray(t)?Il(t,e):e(t))}function ag(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function pa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function iT(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function oT(n,e,t){let r=Co(n,e);return r>=0?n[r|1]=t:(r=~r,iT(n,r,e,t)),r}function wl(n,e){let t=Co(n,e);if(t>=0)return n[t|1]}function Co(n,e){return uP(n,e,1)}function uP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ir={},Nt=[],wr=new j(""),cg=new j("",-1),ug=new j(""),ha=class{get(e,t=ii){if(t===ii)throw new Cu(`NullInjectorError: No provider for ${Tt(e)}!`);return t}};function lg(n){return n[rg]||null}function Tr(n){return n[eg]||null}function dg(n){return n[tg]||null}function sT(n){return n[ng]||null}function Xt(n){return{\u0275providers:n}}function aT(...n){return{\u0275providers:hg(!0,n),\u0275fromNgModule:!0}}function hg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Il(e,s=>{let c=s;ml(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&cT(i,o),t}function cT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];fg(i,o=>{e(o,r)})}}function ml(n,e,t,r){if(n=Ye(n),!n)return!1;let i=null,o=Vp(n),s=!o&&Tr(n);if(!o&&!s){let u=n.ngModule;if(o=Vp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)ml(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Il(o.imports,h=>{ml(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&cT(l,e)}if(!c){let l=vr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Nt},i),e({provide:ug,useValue:i,multi:!0},i),e({provide:wr,useValue:()=>H(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;fg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function fg(n,e){for(let t of n)Xp(t)&&(t=t.\u0275providers),Array.isArray(t)?fg(t,e):e(t)}var lP=De({provide:String,useValue:De});function uT(n){return n!==null&&typeof n=="object"&&lP in n}function dP(n){return!!(n&&n.useExisting)}function hP(n){return!!(n&&n.useFactory)}function si(n){return typeof n=="function"}function lT(n){return!!n.useClass}var ga=new j(""),fl={},Xw={},Lp;function ma(){return Lp===void 0&&(Lp=new ha),Lp}var Ne=class{},ai=class extends Ne{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,zp(e,s=>this.processProvider(s)),this.records.set(cg,Do(void 0,this)),i.has("environment")&&this.records.set(Ne,Do(void 0,this));let o=this.records.get(ga);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ug,Nt,{self:!0}))}retrieve(e,t){let r=oi(t)||0;try{return this.get(e,ii,r)}catch(i){if(so(i))return i;throw i}}destroy(){la(this),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return la(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){la(this);let t=kn(this),r=mt(void 0),i;try{return e()}finally{kn(t),mt(r)}}get(e,t=ii,r){if(la(this),e.hasOwnProperty(Zw))return e[Zw](this);let i=oi(r),o,s=kn(this),c=mt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=yP(e)&&fa(e);h&&this.injectableDefInScope(h)?l=Do(Hp(e),fl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let u=i&2?ma():this.parent;return t=i&8&&t===ii?null:t,u.get(e,t)}catch(u){if(so(u)){if((u[gl]=u[gl]||[]).unshift(Tt(e)),s)throw u;return aP(u,e,"R3InjectorError",this.source)}else throw u}finally{mt(c),kn(s)}}resolveInjectorInitializers(){let e=ne(null),t=kn(this),r=mt(void 0),i;try{let o=this.get(wr,Nt,{self:!0});for(let s of o)s()}finally{kn(t),mt(r),ne(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Tt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ye(e);let t=si(e)?e:Ye(e&&e.provide),r=pP(e);if(!si(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Do(void 0,fl,!0),i.factory=()=>$p(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ne(null);try{return t.value===Xw?ig(Tt(e)):t.value===fl&&(t.value=Xw,t.value=t.factory()),typeof t.value=="object"&&t.value&&mP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ne(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ye(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Hp(n){let e=fa(n),t=e!==null?e.factory:vr(n);if(t!==null)return t;if(n instanceof j)throw new L(204,!1);if(n instanceof Function)return fP(n);throw new L(204,!1)}function fP(n){if(n.length>0)throw new L(204,!1);let t=XM(n);return t!==null?()=>t.factory(n):()=>new n}function pP(n){if(uT(n))return Do(void 0,n.useValue);{let e=pg(n);return Do(e,fl)}}function pg(n,e,t){let r;if(si(n)){let i=Ye(n);return vr(i)||Hp(i)}else if(uT(n))r=()=>Ye(n.useValue);else if(hP(n))r=()=>n.useFactory(...$p(n.deps||[]));else if(dP(n))r=()=>H(Ye(n.useExisting));else{let i=Ye(n&&(n.useClass||n.provide));if(gP(n))r=()=>new i(...$p(n.deps));else return vr(i)||Hp(i)}return r}function la(n){if(n.destroyed)throw new L(205,!1)}function Do(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function gP(n){return!!n.deps}function mP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function yP(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function zp(n,e){for(let t of n)Array.isArray(t)?zp(t,e):t&&Xp(t)?zp(t.\u0275providers,e):e(t)}function Ue(n,e){let t;n instanceof ai?(la(n),t=n):t=new Bp(n);let r,i=kn(t),o=mt(void 0);try{return e()}finally{kn(i),mt(o)}}function dT(){return rT()!==void 0||gp()!=null}var en=0,oe=1,J=2,Ze=3,Ut=4,Bt=5,ya=6,bo=7,at=8,ui=9,Un=10,Me=11,So=12,gg=13,li=14,$t=15,di=16,hi=17,fi=18,va=19,mg=20,Vn=21,Tl=22,_a=23,Mt=24,Dl=25,Dt=26,hT=1;var Dr=7,Ea=8,Ia=9,Ct=10;function pn(n){return Array.isArray(n)&&typeof n[hT]=="object"}function tn(n){return Array.isArray(n)&&n[hT]===!0}function yg(n){return(n.flags&4)!==0}function Cr(n){return n.componentOffset>-1}function Cl(n){return(n.flags&1)===1}function gn(n){return!!n.template}function Ao(n){return(n[J]&512)!==0}function pi(n){return(n[J]&256)===256}var fT="svg",pT="math";function Ht(n){for(;Array.isArray(n);)n=n[en];return n}function vg(n,e){return Ht(e[n])}function nn(n,e){return Ht(e[n.index])}function bl(n,e){return n.data[e]}function _g(n,e){return n[e]}function Eg(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function zt(n,e){let t=e[n];return pn(t)?t:t[en]}function Sl(n){return(n[J]&128)===128}function gT(n){return tn(n[Ze])}function wa(n,e){return e==null?null:n[e]}function Ig(n){n[hi]=0}function wg(n){n[J]&1024||(n[J]|=1024,Sl(n)&&Da(n))}function mT(n,e){for(;n>0;)e=e[li],n--;return e}function Ta(n){return!!(n[J]&9216||n[Mt]?.dirty)}function Al(n){n[Un].changeDetectionScheduler?.notify(8),n[J]&64&&(n[J]|=1024),Ta(n)&&Da(n)}function Da(n){n[Un].changeDetectionScheduler?.notify(0);let e=_r(n);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Sl(e)));)e=_r(e)}function Tg(n,e){if(pi(n))throw new L(911,!1);n[Vn]===null&&(n[Vn]=[]),n[Vn].push(e)}function yT(n,e){if(n[Vn]===null)return;let t=n[Vn].indexOf(e);t!==-1&&n[Vn].splice(t,1)}function _r(n){let e=n[Ze];return tn(e)?e[Ze]:e}function vT(n){return n[bo]??=[]}function _T(n){return n.cleanup??=[]}var ie={lFrame:LT(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ca=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(Ca||{}),vP=0,qp=!1;function ET(){return ie.lFrame.elementDepthCount}function IT(){ie.lFrame.elementDepthCount++}function wT(){ie.lFrame.elementDepthCount--}function Dg(){return ie.bindingsEnabled}function TT(){return ie.skipHydrationRootTNode!==null}function DT(n){return ie.skipHydrationRootTNode===n}function CT(){ie.skipHydrationRootTNode=null}function Ee(){return ie.lFrame.lView}function yt(){return ie.lFrame.tView}function rn(n){return ie.lFrame.contextLView=n,n[at]}function on(n){return ie.lFrame.contextLView=null,n}function bt(){let n=Cg();for(;n!==null&&n.type===64;)n=n.parent;return n}function Cg(){return ie.lFrame.currentTNode}function bT(){let n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ro(n,e){let t=ie.lFrame;t.currentTNode=n,t.isParent=e}function bg(){return ie.lFrame.isParent}function ST(){ie.lFrame.isParent=!1}function AT(){return ie.lFrame.contextLView}function Sg(n){tT("Must never be called in production mode"),vP=n}function Ag(){return qp}function Rg(n){let e=qp;return qp=n,e}function RT(){let n=ie.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function NT(n){return ie.lFrame.bindingIndex=n}function ba(){return ie.lFrame.bindingIndex++}function MT(n){let e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function PT(){return ie.lFrame.inI18n}function xT(n,e){let t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,Rl(e)}function kT(){return ie.lFrame.currentDirectiveIndex}function Rl(n){ie.lFrame.currentDirectiveIndex=n}function OT(n){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Ng(n){ie.lFrame.currentQueryIndex=n}function _P(n){let e=n[oe];return e.type===2?e.declTNode:e.type===1?n[Bt]:null}function Mg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=_P(o),i===null||(o=o[li],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ie.lFrame=FT();return r.currentTNode=e,r.lView=n,!0}function Nl(n){let e=FT(),t=n[oe];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function FT(){let n=ie.lFrame,e=n===null?null:n.child;return e===null?LT(n):e}function LT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function VT(){let n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Pg=VT;function Ml(){let n=VT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jT(n){return(ie.lFrame.contextLView=mT(n,ie.lFrame.contextLView))[at]}function gi(){return ie.lFrame.selectedIndex}function br(n){ie.lFrame.selectedIndex=n}function Pl(){let n=ie.lFrame;return bl(n.tView,n.selectedIndex)}function UT(){return ie.lFrame.currentNamespace}var BT=!0;function xl(){return BT}function kl(n){BT=n}function Gp(n,e=null,t=null,r){let i=xg(n,e,t,r);return i.resolveInjectorInitializers(),i}function xg(n,e=null,t=null,r,i=new Set){let o=[t||Nt,aT(n)];return r=r||(typeof n=="object"?void 0:Tt(n)),new ai(o,e||ma(),r||null,i)}var Je=class n{static THROW_IF_NOT_FOUND=ii;static NULL=new ha;static create(e,t){if(Array.isArray(e))return Gp({name:""},t,e,"");{let r=e.name??"";return Gp({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>H(cg)});static __NG_ELEMENT_ID__=-1},Be=new j(""),Sr=(()=>{class n{static __NG_ELEMENT_ID__=EP;static __NG_ENV_ID__=t=>t}return n})(),Wp=class extends Sr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return pi(this._lView)}onDestroy(e){let t=this._lView;return Tg(t,e),()=>yT(t,e)}};function EP(){return new Wp(Ee())}var hn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},St=new j("",{providedIn:"root",factory:()=>{let n=M(Ne),e;return t=>{e??=n.get(hn),e.handleError(t)}}}),$T={provide:wr,useValue:()=>void M(hn),multi:!0};function kg(n){return typeof n=="function"&&n[st]!==void 0}function Bn(n,e){let[t,r,i]=Ep(n,e?.equal),o=t,s=o[st];return o.set=r,o.update=i,o.asReadonly=HT.bind(o),o}function HT(){let n=this[st];if(n.readonlyFn===void 0){let e=()=>this();e[st]=n,n.readonlyFn=e}return n.readonlyFn}function Og(n){return kg(n)&&typeof n.set=="function"}var Er=class{},Sa=new j("",{providedIn:"root",factory:()=>!1});var Fg=new j(""),Lg=new j("");var $n=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Qe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new K(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ar=(()=>{class n{internalPendingTasks=M($n);scheduler=M(Er);errorHandler=M(St);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();function Aa(...n){}var Vg=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new Kp})}return n})(),Kp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function ko(n){return{toString:n}.toString()}var Ol="__parameters__";function NP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function ED(n,e,t){return ko(()=>{let r=NP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(Ol)?u[Ol]:Object.defineProperty(u,Ol,{value:[]})[Ol];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var vn=sg(ED("Optional"),8);var ID=sg(ED("SkipSelf"),4);function MP(n){return typeof n=="function"}var Ul=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function wD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ii=(()=>{let n=()=>TD;return n.ngInherit=!0,n})();function TD(n){return n.type.prototype.ngOnChanges&&(n.setInput=xP),PP}function PP(){let n=CD(this),e=n?.current;if(e){let t=n.previous;if(t===Ir)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function xP(n,e,t,r,i){let o=this.declaredInputs[r],s=CD(n)||kP(n,{previous:Ir,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Ul(l&&l.currentValue,t,u===Ir),wD(n,e,i,t)}var DD="__ngSimpleChanges__";function CD(n){return n[DD]||null}function kP(n,e){return n[DD]=e}var zT=[];var Ie=function(n,e=null,t){for(let r=0;r<zT.length;r++){let i=zT[r];i(n,e,t)}};function OP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=TD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function bD(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ll(n,e,t){SD(n,e,3,t)}function Vl(n,e,t,r){(n[J]&3)===t&&SD(n,e,t,r)}function jg(n,e){let t=n[J];(t&3)===e&&(t&=16383,t+=1,n[J]=t)}function SD(n,e,t,r){let i=r!==void 0?n[hi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[hi]+=65536),(c<o||o==-1)&&(FP(n,t,e,u),n[hi]=(n[hi]&4294901760)+u+2),u++}function qT(n,e){Ie(4,n,e);let t=ne(null);try{e.call(n)}finally{ne(t),Ie(5,n,e)}}function FP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[J]>>14<n[hi]>>16&&(n[J]&3)===e&&(n[J]+=16384,qT(c,o)):qT(c,o)}var Mo=-1,yi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function LP(n){return(n.flags&8)!==0}function VP(n){return(n.flags&16)!==0}function jP(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];BP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function UP(n){return n===3||n===4||n===6}function BP(n){return n.charCodeAt(0)===64}function Ma(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?GT(n,t,i,null,e[++r]):GT(n,t,i,null,null))}}return n}function GT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function AD(n){return n!==Mo}function Bl(n){return n&32767}function $P(n){return n>>16}function $l(n,e){let t=$P(n),r=e;for(;t>0;)r=r[li],t--;return r}var Qg=!0;function Hl(n){let e=Qg;return Qg=n,e}var HP=256,RD=HP-1,ND=5,zP=0,mn={};function qP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ci)&&(r=t[ci]),r==null&&(r=t[ci]=zP++);let i=r&RD,o=1<<i;e.data[n+(i>>ND)]|=o}function zl(n,e){let t=MD(n,e);if(t!==-1)return t;let r=e[oe];r.firstCreatePass&&(n.injectorIndex=e.length,Ug(r.data,n),Ug(e,null),Ug(r.blueprint,null));let i=gm(n,e),o=n.injectorIndex;if(AD(i)){let s=Bl(i),c=$l(i,e),u=c[oe].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Ug(n,e){n.push(0,0,0,0,0,0,0,0,e)}function MD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function gm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=FD(i),r===null)return Mo;if(t++,i=i[li],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Mo}function Yg(n,e,t){qP(n,e,t)}function PD(n,e,t){if(t&8||n!==void 0)return n;El(e,"NodeInjector")}function xD(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ui],o=mt(void 0);try{return i?i.get(e,r,t&8):og(e,r,t&8)}finally{mt(o)}}return PD(r,e,t)}function kD(n,e,t,r=0,i){if(n!==null){if(e[J]&2048&&!(r&2)){let s=YP(n,e,t,r,mn);if(s!==mn)return s}let o=OD(n,e,t,r,mn);if(o!==mn)return o}return xD(e,t,r,i)}function OD(n,e,t,r,i){let o=KP(t);if(typeof o=="function"){if(!Mg(e,n,r))return r&1?PD(i,t,r):xD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))El(t);else return s}finally{Pg()}}else if(typeof o=="number"){let s=null,c=MD(n,e),u=Mo,l=r&1?e[$t][Bt]:null;for((c===-1||r&4)&&(u=c===-1?gm(n,e):e[c+8],u===Mo||!KT(r,!1)?c=-1:(s=e[oe],c=Bl(u),e=$l(u,e)));c!==-1;){let h=e[oe];if(WT(o,c,h.data)){let p=GP(c,e,t,s,r,l);if(p!==mn)return p}u=e[c+8],u!==Mo&&KT(r,e[oe].data[c+8]===l)&&WT(o,c,e)?(s=h,c=Bl(u),e=$l(u,e)):c=-1}}return i}function GP(n,e,t,r,i,o){let s=e[oe],c=s.data[n+8],u=r==null?Cr(c)&&Qg:r!=s&&(c.type&3)!==0,l=i&1&&o===c,h=WP(c,s,t,u,l);return h!==null?ql(e,s,h,c):mn}function WP(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?c:c+h,m=i?c+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&t===C||y>=u&&C.type===t)return y}if(i){let y=s[u];if(y&&gn(y)&&y.type===t)return u}return null}function ql(n,e,t,r){let i=n[t],o=e.data;if(i instanceof yi){let s=i;s.resolving&&ig(nT(o[t]));let c=Hl(s.canSeeViewProviders);s.resolving=!0;let u=o[t].type||o[t],l,h=s.injectImpl?mt(s.injectImpl):null,p=Mg(n,r,0);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&OP(t,o[t],e)}finally{h!==null&&mt(h),Hl(c),s.resolving=!1,Pg()}}return i}function KP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ci)?n[ci]:void 0;return typeof e=="number"?e>=0?e&RD:QP:e}function WT(n,e,t){let r=1<<n;return!!(t[e+(n>>ND)]&r)}function KT(n,e){return!(n&2)&&!(n&1&&e)}var mi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return kD(this._tNode,this._lView,e,oi(r),t)}};function QP(){return new mi(bt(),Ee())}function wi(n){return ko(()=>{let e=n.prototype.constructor,t=e[da]||Zg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[da]||Zg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Zg(n){return Zp(n)?()=>{let e=Zg(Ye(n));return e&&e()}:vr(n)}function YP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!Ao(s);){let c=OD(o,s,t,r|2,mn);if(c!==mn)return c;let u=o.parent;if(!u){let l=s[mg];if(l){let h=l.get(t,mn,r);if(h!==mn)return h}u=FD(s),s=s[li]}o=u}return i}function FD(n){let e=n[oe],t=e.type;return t===2?e.declTNode:t===1?n[Bt]:null}function ZP(){return td(bt(),Ee())}function td(n,e){return new Oo(nn(n,e))}var Oo=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=ZP}return n})();function LD(n){return(n.flags&128)===128}var mm=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(mm||{}),VD=new Map,JP=0;function XP(){return JP++}function ex(n){VD.set(n[va],n)}function Jg(n){VD.delete(n[va])}var QT="__ngContext__";function Oa(n,e){pn(e)?(n[QT]=e[va],ex(e)):n[QT]=e}function jD(n){return BD(n[So])}function UD(n){return BD(n[Ut])}function BD(n){for(;n!==null&&!tn(n);)n=n[Ut];return n}var Xg;function ym(n){Xg=n}function $D(){if(Xg!==void 0)return Xg;if(typeof document<"u")return document;throw new L(210,!1)}var nd=new j("",{providedIn:"root",factory:()=>tx}),tx="ng",rd=new j(""),Nr=new j("",{providedIn:"platform",factory:()=>"unknown"});var id=new j("",{providedIn:"root",factory:()=>$D().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var nx="h",rx="b";var HD=!1,zD=new j("",{providedIn:"root",factory:()=>HD});var ix=(n,e,t,r)=>{};function ox(n,e,t,r){ix(n,e,t,r)}var sx=()=>null;function qD(n,e,t=!1){return sx(n,e,t)}function GD(n,e){let t=n.contentQueries;if(t!==null){let r=ne(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];Ng(o),c.contentQueries(2,e[s],s)}}}finally{ne(r)}}}function em(n,e,t){Ng(0);let r=ne(null);try{e(n,t)}finally{ne(r)}}function WD(n,e,t){if(yg(e)){let r=ne(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{ne(r)}}}var Hn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Hn||{});var tm=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qp})`}};function KD(n){return n instanceof tm?n.changingThisBreaksApplicationSecurity:n}function QD(n){return n instanceof Function?n():n}function ax(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var YD="ng-template";function cx(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ax(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(vm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function vm(n){return n.type===4&&n.value!==YD}function ux(n,e,t){let r=n.type===4&&!t?YD:n.value;return e===r}function lx(n,e,t){let r=4,i=n.attrs,o=i!==null?fx(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!sn(r)&&!sn(u))return!1;if(s&&sn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!ux(n,u,t)||u===""&&e.length===1){if(sn(r))return!1;s=!0}}else if(r&8){if(i===null||!cx(n,i,u,t)){if(sn(r))return!1;s=!0}}else{let l=e[++c],h=dx(u,i,vm(n),t);if(h===-1){if(sn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(sn(r))return!1;s=!0}}}}return sn(r)||s}function sn(n){return(n&1)===0}function dx(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return px(e,n)}function hx(n,e,t=!1){for(let r=0;r<e.length;r++)if(lx(n,e[r],t))return!0;return!1}function fx(n){for(let e=0;e<n.length;e++){let t=n[e];if(UP(t))return e}return n.length}function px(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function YT(n,e){return n?":not("+e.trim()+")":e}function gx(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!sn(s)&&(e+=YT(o,i),i=""),r=s,o=o||!sn(r);t++}return i!==""&&(e+=YT(o,i)),e}function mx(n){return n.map(gx).join(",")}function yx(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!sn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var zn={};function vx(n,e){return n.createText(e)}function _x(n,e,t){n.setValue(e,t)}function ZD(n,e,t){return n.createElement(e,t)}function Gl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function JD(n,e,t){n.appendChild(e,t)}function ZT(n,e,t,r,i){r!==null?Gl(n,e,t,r,i):JD(n,e,t)}function Ex(n,e,t){n.removeChild(null,e,t)}function Ix(n,e,t){n.setAttribute(e,"style",t)}function wx(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function XD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&jP(n,e,r),i!==null&&wx(n,e,i),o!==null&&Ix(n,e,o)}function _m(n,e,t,r,i,o,s,c,u,l,h){let p=Dt+r,m=p+i,y=Tx(p,m),C=typeof l=="function"?l():l;return y[oe]={type:n,blueprint:y,template:t,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function Tx(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:zn);return t}function Dx(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=_m(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Em(n,e,t,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[en]=i,p[J]=r|4|128|8|64|1024,(l!==null||n&&n[J]&2048)&&(p[J]|=2048),Ig(p),p[Ze]=p[li]=n,p[at]=t,p[Un]=s||n&&n[Un],p[Me]=c||n&&n[Me],p[ui]=u||n&&n[ui]||null,p[Bt]=o,p[va]=XP(),p[ya]=h,p[mg]=l,p[$t]=e.type==2?n[$t]:p,p}function Cx(n,e,t){let r=nn(e,n),i=Dx(t),o=n[Un].rendererFactory,s=Im(n,Em(n,i,null,eC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function eC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function tC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Im(n,e){return n[So]?n[gg][Ut]=e:n[So]=e,n[gg]=e,e}function Mr(n=1){nC(yt(),Ee(),gi()+n,!1)}function nC(n,e,t,r){if(!r)if((e[J]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ll(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Vl(e,o,0,t)}br(t)}var od=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(od||{});function nm(n,e,t,r){let i=ne(null);try{let[o,s,c]=n.inputs[t],u=null;(s&od.SignalBased)!==0&&(u=e[o][st]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):wD(e,u,o,r)}finally{ne(i)}}function rC(n,e,t,r,i){let o=gi(),s=r&2;try{br(-1),s&&e.length>Dt&&nC(n,e,Dt,!1),Ie(s?2:0,i,t),t(r,i)}finally{br(o),Ie(s?3:1,i,t)}}function wm(n,e,t){Px(n,e,t),(t.flags&64)===64&&xx(n,e,t)}function iC(n,e,t=nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function bx(n,e,t,r){let o=r.get(zD,HD)||t===Hn.ShadowDom,s=n.selectRootElement(e,o);return Sx(s),s}function Sx(n){Ax(n)}var Ax=()=>null;function Rx(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function oC(n,e,t,r,i,o){let s=e[oe];if(Tm(n,s,e,t,r)){Cr(n)&&Mx(e,n.index);return}Nx(n,e,t,r,i,o)}function Nx(n,e,t,r,i,o){if(n.type&3){let s=nn(n,e);t=Rx(t),r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Mx(n,e){let t=zt(e,n);t[J]&16||(t[J]|=64)}function Px(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Cr(t)&&Cx(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||zl(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=ql(e,n,s,t);if(Oa(u,e),o!==null&&Lx(e,s-r,u,c,t,o),gn(c)){let l=zt(t.index,e);l[at]=ql(e,n,s,t)}}}function xx(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=kT();try{br(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];Rl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&kx(u,l)}}finally{br(-1),Rl(s)}}function kx(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function sC(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];hx(e,o.selectors,!1)&&(r??=[],gn(o)?r.unshift(o):r.push(o))}return r}function Ox(n,e,t,r,i,o){let s=nn(n,e);Fx(e[Me],s,o,n.value,t,r,i)}function Fx(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let c=s==null?_l(o):s(o,r||"",i);n.setAttribute(e,i,c,t)}}function Lx(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];nm(r,t,u,l)}}function Vx(n,e){let t=n[ui];if(!t)return;t.get(St,null)?.(e)}function Tm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];nm(p,t[l],h,i),c=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];nm(h,l,r,i),c=!0}return c}function jx(n,e){let t=zt(e,n),r=t[oe];Ux(r,t);let i=t[en];i!==null&&t[ya]===null&&(t[ya]=qD(i,t[ui])),Ie(18),Dm(r,t,t[at]),Ie(19,t[at])}function Ux(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Dm(n,e,t){Nl(e);try{let r=n.viewQuery;r!==null&&em(1,r,t);let i=n.template;i!==null&&rC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[fi]?.finishViewCreation(n),n.staticContentQueries&&GD(n,e),n.staticViewQueries&&em(2,n.viewQuery,t);let o=n.components;o!==null&&Bx(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[J]&=-5,Ml()}}function Bx(n,e){for(let t=0;t<e.length;t++)jx(n,e[t])}function $x(n,e,t,r){let i=ne(null);try{let o=e.tView,c=n[J]&4096?4096:16,u=Em(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[di]=l;let h=n[fi];return h!==null&&(u[fi]=h.createEmbeddedView(o)),Dm(o,u,t),u}finally{ne(i)}}function JT(n,e){return!e||e.firstChild===null||LD(n)}var XT=!1,Hx=new j(""),zx;function Cm(n,e){return zx(n,e)}var yn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(yn||{});function bm(n){return(n.flags&32)===32}function No(n,e,t,r,i){if(r!=null){let o,s=!1;tn(r)?o=r:pn(r)&&(s=!0,r=r[en]);let c=Ht(r);n===0&&t!==null?i==null?JD(e,t,c):Gl(e,t,c,i||null,!0):n===1&&t!==null?Gl(e,t,c,i||null,!0):n===2?Ex(e,c,s):n===3&&e.destroyNode(c),o!=null&&nk(e,n,o,t,i)}}function qx(n,e){aC(n,e),e[en]=null,e[Bt]=null}function Gx(n,e,t,r,i,o){r[en]=i,r[Bt]=e,sd(n,r,t,1,i,o)}function aC(n,e){e[Un].changeDetectionScheduler?.notify(9),sd(n,e,e[Me],2,null,null)}function Wx(n){let e=n[So];if(!e)return Bg(n[oe],n);for(;e;){let t=null;if(pn(e))t=e[So];else{let r=e[Ct];r&&(t=r)}if(!t){for(;e&&!e[Ut]&&e!==n;)pn(e)&&Bg(e[oe],e),e=e[Ze];e===null&&(e=n),pn(e)&&Bg(e[oe],e),t=e&&e[Ut]}e=t}}function Sm(n,e){let t=n[Ia],r=t.indexOf(e);t.splice(r,1)}function cC(n,e){if(pi(e))return;let t=e[Me];t.destroyNode&&sd(n,e,t,3,null,null),Wx(e)}function Bg(n,e){if(pi(e))return;let t=ne(null);try{e[J]&=-129,e[J]|=256,e[Mt]&&xu(e[Mt]),Qx(n,e),Kx(n,e),e[oe].type===1&&e[Me].destroy();let r=e[di];if(r!==null&&tn(e[Ze])){r!==e[Ze]&&Sm(r,e);let i=e[fi];i!==null&&i.detachView(n)}Jg(e)}finally{ne(t)}}function Kx(n,e){let t=n.cleanup,r=e[bo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[bo]=null);let i=e[Vn];if(i!==null){e[Vn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[_a];if(o!==null){e[_a]=null;for(let s of o)s.destroy()}}function Qx(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof yi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Ie(4,c,u);try{u.call(c)}finally{Ie(5,c,u)}}else{Ie(4,i,o);try{o.call(i)}finally{Ie(5,i,o)}}}}}function Yx(n,e,t){return Zx(n,e.parent,t)}function Zx(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[en];if(Cr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Hn.None||i===Hn.Emulated)return null}return nn(r,t)}function Jx(n,e,t){return ek(n,e,t)}function Xx(n,e,t){return n.type&40?nn(n,t):null}var ek=Xx,eD;function Am(n,e,t,r){let i=Yx(n,r,e),o=e[Me],s=r.parent||e[Bt],c=Jx(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)ZT(o,i,t[u],c,!1);else ZT(o,i,t,c,!1);eD!==void 0&&eD(o,r,e,t,i)}function Ra(n,e){if(e!==null){let t=e.type;if(t&3)return nn(e,n);if(t&4)return rm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ra(n,r);{let i=n[e.index];return tn(i)?rm(-1,i):Ht(i)}}else{if(t&128)return Ra(n,e.next);if(t&32)return Cm(e,n)()||Ht(n[e.index]);{let r=uC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_r(n[$t]);return Ra(i,r)}else return Ra(n,e.next)}}}return null}function uC(n,e){if(e!==null){let r=n[$t][Bt],i=e.projection;return r.projection[i]}return null}function rm(n,e){let t=Ct+n+1;if(t<e.length){let r=e[t],i=r[oe].firstChild;if(i!==null)return Ra(r,i)}return e[Dr]}function Rm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&Oa(Ht(c),r),t.flags|=2),!bm(t))if(u&8)Rm(n,e,t.child,r,i,o,!1),No(e,n,i,c,o);else if(u&32){let l=Cm(t,r),h;for(;h=l();)No(e,n,i,h,o);No(e,n,i,c,o)}else u&16?tk(n,e,r,t,i,o):No(e,n,i,c,o);t=s?t.projectionNext:t.next}}function sd(n,e,t,r,i,o){Rm(t,r,n.firstChild,e,i,o,!1)}function tk(n,e,t,r,i,o){let s=t[$t],u=s[Bt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];No(e,n,i,h,o)}else{let l=u,h=s[Ze];LD(r)&&(l.flags|=128),Rm(n,e,l,h,i,o,!0)}}function nk(n,e,t,r,i){let o=t[Dr],s=Ht(t);o!==s&&No(e,n,r,o,i);for(let c=Ct;c<t.length;c++){let u=t[c];sd(u[oe],u,n,e,r,o)}}function rk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:yn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=yn.Important),n.setStyle(t,r,i,o))}}function Pa(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Ht(o)),tn(o)&&lC(o,r);let s=t.type;if(s&8)Pa(n,e,t.child,r);else if(s&32){let c=Cm(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=uC(e,t);if(Array.isArray(c))r.push(...c);else{let u=_r(e[$t]);Pa(u[oe],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function lC(n,e){for(let t=Ct;t<n.length;t++){let r=n[t],i=r[oe].firstChild;i!==null&&Pa(r[oe],r,i,e)}n[Dr]!==n[en]&&e.push(n[Dr])}function dC(n){if(n[Dl]!==null){for(let e of n[Dl])e.impl.addSequence(e);n[Dl].length=0}}var hC=[];function ik(n){return n[Mt]??ok(n)}function ok(n){let e=hC.pop()??Object.create(ak);return e.lView=n,e}function sk(n){n.lView[Mt]!==n&&(n.lView=null,hC.push(n))}var ak=ee(k({},Zr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Da(n.lView)},consumerOnSignalRead(){this.lView[Mt]=this}});function ck(n){let e=n[Mt]??Object.create(uk);return e.lView=n,e}var uk=ee(k({},Zr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=_r(n.lView);for(;e&&!fC(e[oe]);)e=_r(e);e&&wg(e)},consumerOnSignalRead(){this.lView[Mt]=this}});function fC(n){return n.type!==2}function pC(n){if(n[_a]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[_a])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[J]&8192)}}var lk=100;function Nm(n,e=0){let r=n[Un].rendererFactory,i=!1;i||r.begin?.();try{dk(n,e)}finally{i||r.end?.()}}function dk(n,e){let t=Ag();try{Rg(!0),im(n,e);let r=0;for(;Ta(n);){if(r===lk)throw new L(103,!1);r++,im(n,1)}}finally{Rg(t)}}function gC(n,e){Sg(e?Ca.Exhaustive:Ca.OnlyDirtyViews);try{Nm(n)}finally{Sg(Ca.Off)}}function hk(n,e,t,r){if(pi(e))return;let i=e[J],o=!1,s=!1;Nl(e);let c=!0,u=null,l=null;o||(fC(n)?(l=ik(e),u=Jr(l)):Mu()===null?(c=!1,l=ck(e),u=Jr(l)):e[Mt]&&(xu(e[Mt]),e[Mt]=null));try{Ig(e),NT(n.bindingStartIndex),t!==null&&rC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Ll(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Vl(e,y,0,null),jg(e,0)}if(s||fk(e),pC(e),mC(e,0),n.contentQueries!==null&&GD(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Ll(e,y)}else{let y=n.contentHooks;y!==null&&Vl(e,y,1),jg(e,1)}gk(n,e);let p=n.components;p!==null&&vC(e,p,0);let m=n.viewQuery;if(m!==null&&em(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Ll(e,y)}else{let y=n.viewHooks;y!==null&&Vl(e,y,2),jg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Tl]){for(let y of e[Tl])y();e[Tl]=null}o||(dC(e),e[J]&=-73)}catch(h){throw o||Da(e),h}finally{l!==null&&(co(l,u),c&&sk(l)),Ml()}}function mC(n,e){for(let t=jD(n);t!==null;t=UD(t))for(let r=Ct;r<t.length;r++){let i=t[r];yC(i,e)}}function fk(n){for(let e=jD(n);e!==null;e=UD(e)){if(!(e[J]&2))continue;let t=e[Ia];for(let r=0;r<t.length;r++){let i=t[r];wg(i)}}}function pk(n,e,t){Ie(18);let r=zt(e,n);yC(r,t),Ie(19,r[at])}function yC(n,e){Sl(n)&&im(n,e)}function im(n,e){let r=n[oe],i=n[J],o=n[Mt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&sa(o)),s||=!1,o&&(o.dirty=!1),n[J]&=-9217,s)hk(r,n,r.template,n[at]);else if(i&8192){let c=ne(null);try{pC(n),mC(n,1);let u=r.components;u!==null&&vC(n,u,1),dC(n)}finally{ne(c)}}}function vC(n,e,t){for(let r=0;r<e.length;r++)pk(n,e[r],t)}function gk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)br(~i);else{let o=i,s=t[++r],c=t[++r];xT(s,o);let u=e[o];Ie(24,u),c(2,u),Ie(25,u)}}}finally{br(-1)}}function Mm(n,e){let t=Ag()?64:1088;for(n[Un].changeDetectionScheduler?.notify(e);n;){n[J]|=t;let r=_r(n);if(Ao(n)&&!r)return n;n=r}return null}function _C(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function mk(n,e,t,r=!0){let i=e[oe];if(yk(i,e,n,t),r){let s=rm(t,n),c=e[Me],u=c.parentNode(n[Dr]);u!==null&&Gx(i,n[Bt],c,e,u,s)}let o=e[ya];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function om(n,e){if(n.length<=Ct)return;let t=Ct+e,r=n[t];if(r){let i=r[di];i!==null&&i!==n&&Sm(i,r),e>0&&(n[t-1][Ut]=r[Ut]);let o=pa(n,Ct+e);qx(r[oe],r);let s=o[fi];s!==null&&s.detachView(o[oe]),r[Ze]=null,r[Ut]=null,r[J]&=-129}return r}function yk(n,e,t,r){let i=Ct+r,o=t.length;r>0&&(t[i-1][Ut]=e),r<o-Ct?(e[Ut]=t[i],ag(t,Ct+r,e)):(t.push(e),e[Ut]=null),e[Ze]=t;let s=e[di];s!==null&&t!==s&&EC(s,e);let c=e[fi];c!==null&&c.insertView(n),Al(e),e[J]|=128}function EC(n,e){let t=n[Ia],r=e[Ze];if(pn(r))n[J]|=2;else{let i=r[Ze][$t];e[$t]!==i&&(n[J]|=2)}t===null?n[Ia]=[e]:t.push(e)}var Rr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[oe];return Pa(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[at]}set context(e){this._lView[at]=e}get destroyed(){return pi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ze];if(tn(e)){let t=e[Ea],r=t?t.indexOf(this):-1;r>-1&&(om(e,r),pa(t,r))}this._attachedToViewContainer=!1}cC(this._lView[oe],this._lView)}onDestroy(e){Tg(this._lView,e)}markForCheck(){Mm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Al(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,Nm(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[ui].get(Hx,XT)}catch{this.exhaustive=XT}}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ao(this._lView),t=this._lView[di];t!==null&&!e&&Sm(t,this._lView),aC(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=Ao(this._lView),r=this._lView[di];r!==null&&!t&&EC(r,this._lView),Al(this._lView)}};var Fa=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=vk;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=$x(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Rr(o)}}return n})();function vk(){return IC(bt(),Ee())}function IC(n,e){return n.type&4?new Fa(e,n,td(n,e)):null}function Pm(n,e,t,r,i){let o=n.data[e];if(o===null)o=_k(n,e,t,r,i),PT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=bT();o.injectorIndex=s===null?-1:s.injectorIndex}return Ro(o,!0),o}function _k(n,e,t,r,i){let o=Cg(),s=bg(),c=s?o:o&&o.parent,u=n.data[e]=Ik(n,c,t,e,r,i);return Ek(n,u,o,s),u}function Ek(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Ik(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return TT()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var dW=new RegExp(`^(\\d+)*(${rx}|${nx})*(.*)`);var wk=()=>null;function tD(n,e){return wk(n,e)}var wC=class{},ad=class{},sm=class{resolveComponentFactory(e){throw new L(917,!1)}},La=class{static NULL=new sm},vi=class{},Va=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Tk()}return n})();function Tk(){let n=Ee(),e=bt(),t=zt(e.index,n);return(pn(t)?t:n)[Me]}var TC=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var jl={},am=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,jl,r);return i!==jl||t===jl?i:this.parentInjector.get(e,t,r)}};function nD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Yp(i,c);else if(o==2){let u=c,l=e[++s];r=Yp(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function pe(n,e=0){let t=Ee();if(t===null)return H(n,e);let r=bt();return kD(r,t,Ye(n),e)}function DC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,l]=h.resolveHostDirectives(s);break}bk(n,e,t,c,o,u,l)}o!==null&&r!==null&&Dk(t,r,o)}function Dk(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function Ck(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function bk(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&gn(y)&&(u=!0,Ck(n,t,m)),Yg(zl(t,e),n,y.type)}Pk(t,n.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=tC(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(t.mergedAttrs=Ma(t.mergedAttrs,y.hostAttrs),Ak(n,t,e,p,y),Mk(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);t.directiveToIndex.set(y.type,[p,N+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let C=y.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}Sk(n,t,o)}function Sk(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))rD(0,e,i,r),rD(1,e,i,r),oD(e,r,!1);else{let o=t.get(i);iD(0,e,o,r),iD(1,e,o,r),oD(e,r,!0)}}}function rD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),CC(e,o)}}function iD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),CC(e,s)}}function CC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function oD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||vm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Ak(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=vr(i.type,!0)),s=new yi(o,gn(i),pe);n.blueprint[r]=s,t[r]=s,Rk(n,e,r,tC(n,t,i.hostVars,zn),i)}function Rk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;Nk(s)!=c&&s.push(c),s.push(t,r,o)}}function Nk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Mk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;gn(e)&&(t[""]=n)}}function Pk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function bC(n,e,t,r,i,o,s,c){let u=e.consts,l=wa(u,s),h=Pm(e,n,2,r,l);return o&&DC(e,t,h,wa(u,c),i),h.mergedAttrs=Ma(h.mergedAttrs,h.attrs),h.attrs!==null&&nD(h,h.attrs,!1),h.mergedAttrs!==null&&nD(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function SC(n,e){bD(n,e),yg(e)&&n.queries.elementEnd(e)}function xm(n){return RC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function AC(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function RC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function xk(n,e,t){return n[e]=t}function Fo(n,e,t){if(t===zn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function $g(n,e,t){return function r(i){let o=Cr(n)?zt(n.index,e):e;Mm(o,5);let s=e[at],c=sD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=sD(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function sD(n,e,t,r){let i=ne(null);try{return Ie(6,e,t),t(r)!==!1}catch(o){return Vx(n,o),!1}finally{Ie(7,e,t),ne(i)}}function kk(n,e,t,r,i,o,s,c){let u=Cl(n),l=!1,h=null;if(!r&&u&&(h=Ok(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=nn(n,t),m=r?r(p):p;ox(t,m,o,c);let y=i.listen(m,o,c),C=r?N=>r(Ht(N[n.index])):n.index;NC(C,e,t,o,c,y,!1)}return l}function Ok(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[bo],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function NC(n,e,t,r,i,o,s){let c=e.firstCreatePass?_T(e):null,u=vT(t),l=u.length;u.push(i,o),c&&c.push(r,n,l,(l+1)*(s?-1:1))}function aD(n,e,t,r,i,o){let s=e[t],c=e[oe],l=c.data[t].outputs[r],p=s[l].subscribe(o);NC(n.index,c,e,i,o,p,!0)}var cm=Symbol("BINDING");var Wl=class extends La{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Tr(e);return new Po(t,this.ngModule)}};function Fk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&od.SignalBased)!==0};return i&&(o.transform=i),o})}function Lk(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Vk(n,e,t){let r=e instanceof Ne?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new am(t,r):t}function jk(n){let e=n.get(vi,null);if(e===null)throw new L(407,!1);let t=n.get(TC,null),r=n.get(Er,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Uk(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return ZD(e,t,t==="svg"?fT:t==="math"?pT:null)}var Po=class extends ad{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Fk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Lk(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=mx(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ie(22);let c=ne(null);try{let u=this.componentDef,l=Bk(r,u,s,o),h=Vk(u,i||this.ngModule,e),p=jk(h),m=p.rendererFactory.createRenderer(null,u),y=r?bx(m,r,u.encapsulation,h):Uk(u,m),C=s?.some(cD)||o?.some(O=>typeof O!="function"&&O.bindings.some(cD)),N=Em(null,l,null,512|eC(u),null,null,p,m,h,null,qD(y,h,!0));N[Dt]=y,Nl(N);let R=null;try{let O=bC(Dt,l,N,"#host",()=>l.directiveRegistry,!0,0);y&&(XD(m,y,O),Oa(y,N)),wm(l,N,O),WD(l,O,N),SC(l,O),t!==void 0&&Hk(O,this.ngContentSelectors,t),R=zt(O.index,N),N[at]=R[at],Dm(l,N,null)}catch(O){throw R!==null&&Jg(R),Jg(N),O}finally{Ie(23),Ml()}return new Kl(this.componentType,N,!!C)}finally{ne(c)}}};function Bk(n,e,t,r){let i=n?["ng-version","20.0.4"]:yx(e.selectors[0]),o=null,s=null,c=0;if(t)for(let h of t)c+=h[cm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){c+=m[cm].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=dg(p);u.push(m)}return _m(0,null,$k(o,s),1,c,u,null,null,null,[i],null)}function $k(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function cD(n){let e=n[cm].kind;return e==="input"||e==="twoWay"}var Kl=class extends wC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=bl(t[oe],Dt),this.location=td(this._tNode,t),this.instance=zt(this._tNode.index,t)[at],this.hostView=this.changeDetectorRef=new Rr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Tm(r,i[oe],i,e,t);this.previousInputValues.set(e,t);let s=zt(r.index,i);Mm(s,1)}get injector(){return new mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Hk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ti=(()=>{class n{static __NG_ELEMENT_ID__=zk}return n})();function zk(){let n=bt();return Gk(n,Ee())}var qk=Ti,MC=class extends qk{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return td(this._hostTNode,this._hostLView)}get injector(){return new mi(this._hostTNode,this._hostLView)}get parentInjector(){let e=gm(this._hostTNode,this._hostLView);if(AD(e)){let t=$l(e,this._hostLView),r=Bl(e),i=t[oe].data[r+8];return new mi(i,t)}else return new mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=uD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=tD(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,JT(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!MP(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,c=R.bindings}let h=u?e:new Po(Tr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let O=(u?p:this.parentInjector).get(Ne,null);O&&(o=O)}let m=Tr(h.componentType??{}),y=tD(this._lContainer,m?.id??null),C=y?.firstChild??null,N=h.create(p,i,C,o,s,c);return this.insertImpl(N.hostView,l,JT(this._hostTNode,y)),N}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(gT(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Ze],l=new MC(u,u[Bt],u[Ze]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return mk(s,i,o,r),e.attachToViewContainerRef(),ag(Hg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=uD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=om(this._lContainer,t);r&&(pa(Hg(this._lContainer),t),cC(r[oe],r))}detach(e){let t=this._adjustIndex(e,-1),r=om(this._lContainer,t);return r&&pa(Hg(this._lContainer),t)!=null?new Rr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function uD(n){return n[Ea]}function Hg(n){return n[Ea]||(n[Ea]=[])}function Gk(n,e){let t,r=e[n.index];return tn(r)?t=r:(t=_C(r,e,null,n),e[n.index]=t,Im(e,t)),Kk(t,e,n,r),new MC(t,n,e)}function Wk(n,e){let t=n[Me],r=t.createComment(""),i=nn(e,n),o=t.parentNode(i);return Gl(t,o,r,t.nextSibling(i),!1),r}var Kk=Zk,Qk=()=>!1;function Yk(n,e,t){return Qk(n,e,t)}function Zk(n,e,t,r){if(n[Dr])return;let i;t.type&8?i=Ht(r):i=Wk(e,t),n[Dr]=i}var lD=new Set;function cd(n){lD.has(n)||(lD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var _i=class{},ud=class{};var Ql=class extends _i{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Wl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=lg(e);this._bootstrapComponents=QD(o.bootstrap),this._r3Injector=xg(e,t,[{provide:_i,useValue:this},{provide:La,useValue:this.componentFactoryResolver},...r],Tt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yl=class extends ud{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ql(this.moduleType,e,[])}};var xa=class extends _i{injector;componentFactoryResolver=new Wl(this);instance=null;constructor(e){super();let t=new ai([...e.providers,{provide:_i,useValue:this},{provide:La,useValue:this.componentFactoryResolver}],e.parent||ma(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ja(n,e,t=null){return new xa({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Jk=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=hg(!1,t.type),i=r.length>0?ja([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(H(Ne))})}return n})();function Di(n){return ko(()=>{let e=PC(n),t=ee(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===mm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Jk).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Hn.Emulated,styles:n.styles||Nt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&cd("NgStandalone"),xC(t);let r=n.dependencies;return t.directiveDefs=dD(r,!1),t.pipeDefs=dD(r,!0),t.id=rO(t),t})}function Xk(n){return Tr(n)||dg(n)}function eO(n){return n!==null}function qn(n){return ko(()=>({type:n.type,bootstrap:n.bootstrap||Nt,declarations:n.declarations||Nt,imports:n.imports||Nt,exports:n.exports||Nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function tO(n,e){if(n==null)return Ir;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=od.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function nO(n){if(n==null)return Ir;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Xe(n){return ko(()=>{let e=PC(n);return xC(e),e})}function km(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function PC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ir,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Nt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:tO(n.inputs,e),outputs:nO(n.outputs),debugInfo:null}}function xC(n){n.features?.forEach(e=>e(n))}function dD(n,e){if(!n)return null;let t=e?sT:Xk;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(eO)}function rO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function iO(n){return Object.getPrototypeOf(n.prototype).constructor}function _n(n){let e=iO(n.type),t=!0,r=[n];for(;e;){let i;if(gn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=zg(n.inputs),s.declaredInputs=zg(n.declaredInputs),s.outputs=zg(n.outputs);let c=i.hostBindings;c&&uO(n,c);let u=i.viewQuery,l=i.contentQueries;if(u&&aO(n,u),l&&cO(n,l),oO(n,i),eT(n.outputs,i.outputs),gn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(n),c===_n&&(t=!1)}}e=Object.getPrototypeOf(e)}sO(r)}function oO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function sO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ma(i.hostAttrs,t=Ma(t,i.hostAttrs))}}function zg(n){return n===Ir?{}:n===Nt?[]:n}function aO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function cO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function uO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function lO(n,e,t,r,i,o,s,c,u){let l=e.consts,h=Pm(e,n,4,s||null,c||null);Dg()&&DC(e,t,h,wa(l,u),sC),h.mergedAttrs=Ma(h.mergedAttrs,h.attrs),bD(e,h);let p=h.tView=_m(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function dO(n,e,t,r,i,o,s,c,u,l,h){let p=t+Dt,m=e.firstCreatePass?lO(p,e,n,r,i,o,s,c,l):e.data[p];u&&(m.flags|=u),Ro(m,!1);let y=hO(e,n,m,t);xl()&&Am(e,n,y,m),Oa(y,n);let C=_C(y,n,y,m);return n[p]=C,Im(n,C),Yk(C,m,n),Cl(m)&&wm(e,n,m),l!=null&&iC(n,m,h),m}function Ua(n,e,t,r,i,o,s,c){let u=Ee(),l=yt(),h=wa(l.consts,o);return dO(u,l,n,e,t,r,i,h,void 0,s,c),Ua}var hO=fO;function fO(n,e,t,r){return kl(!0),e[Me].createComment("")}var Om=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Om||{}),Ba=new j(""),kC=!1,um=class extends Ve{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,dT()&&(this.destroyRef=M(Sr,{optional:!0})??void 0,this.pendingTasks=M($n,{optional:!0})??void 0)}emit(e){let t=ne(null);try{super.next(e)}finally{ne(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Se&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ke=um;function OC(n){let e,t;function r(){n=Aa;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function hD(n){return queueMicrotask(()=>n()),()=>{n=Aa}}var Fm="isAngularZone",Zl=Fm+"_ID",pO=0,ve=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ke(!1);onMicrotaskEmpty=new ke(!1);onStable=new ke(!1);onError=new ke(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=kC}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,yO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Fm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,gO,Aa,Aa);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},gO={};function Lm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function mO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){OC(()=>{n.callbackScheduled=!1,lm(n),n.isCheckStableRunning=!0,Lm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),lm(n)}function yO(n){let e=()=>{mO(n)},t=pO++;n._inner=n._inner.fork({name:"angular",properties:{[Fm]:!0,[Zl]:t,[Zl+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(vO(u))return r.invokeTask(o,s,c,u);try{return fD(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),pD(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return fD(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!_O(u)&&e(),pD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,lm(n),Lm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function lm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function fD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pD(n){n._nesting--,Lm(n)}var Jl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ke;onMicrotaskEmpty=new ke;onStable=new ke;onError=new ke;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function vO(n){return FC(n,"__ignore_ng_zone__")}function _O(n){return FC(n,"__scheduler_tick__")}function FC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var LC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();var Vm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var jm=new j("");function Gn(n){return!!n&&typeof n.then=="function"}function ld(n){return!!n&&typeof n.subscribe=="function"}var VC=new j("");var Um=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(VC,{optional:!0})??[];injector=M(Je);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ue(this.injector,i);if(Gn(o))t.push(o);else if(ld(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dd=new j("");function jC(){_p(()=>{let n="";throw new L(600,n)})}function UC(n){return n.isBoundToModule}var EO=10;var Ci=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(St);afterRenderManager=M(LC);zonelessEnabled=M(Sa);rootEffectScheduler=M(Vg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ve;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M($n);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Q(t=>!t))}constructor(){M(Ba,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(Ne);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Je.NULL){return this._injector.get(ve).run(()=>{Ie(10);let s=t instanceof ad;if(!this._injector.get(Um).done){let C="";throw new L(405,C)}let u;s?u=t:u=this._injector.get(La).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=UC(u)?void 0:this._injector.get(_i),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(jm,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Na(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Ie(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Om.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=ne(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ne(t),this.afterTick.next(),Ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(vi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<EO;)Ie(14),this.synchronizeOnce(),Ie(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ta(i))continue;let o=r&&!this.zonelessEnabled?0:1;Nm(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ta(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Na(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(dd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Na(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Na(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function hd(n,e,t,r){let i=Ee(),o=ba();if(Fo(i,o,e)){let s=yt(),c=Pl();Ox(c,i,n,e,t,r)}return hd}function Lo(n,e,t){let r=Ee(),i=ba();if(Fo(r,i,e)){let o=yt(),s=Pl();oC(s,r,n,e,r[Me],t)}return Lo}function gD(n,e,t,r,i){Tm(e,n,t,i?"class":"style",r)}function et(n,e,t,r){let i=Ee(),o=yt(),s=Dt+n,c=i[Me],u=o.firstCreatePass?bC(s,o,i,e,sC,Dg(),t,r):o.data[s],l=IO(o,i,u,c,e,n);i[s]=l;let h=Cl(u);return Ro(u,!0),XD(c,l,u),!bm(u)&&xl()&&Am(o,i,l,u),(ET()===0||h)&&Oa(l,i),IT(),h&&(wm(o,i,u),WD(o,u,i)),r!==null&&iC(i,u),et}function ct(){let n=bt();bg()?ST():(n=n.parent,Ro(n,!1));let e=n;DT(e)&&CT(),wT();let t=yt();return t.firstCreatePass&&SC(t,e),e.classesWithoutHost!=null&&LP(e)&&gD(t,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&VP(e)&&gD(t,e,Ee(),e.stylesWithoutHost,!1),ct}function Vo(n,e,t,r){return et(n,e,t,r),ct(),Vo}var IO=(n,e,t,r,i,o)=>(kl(!0),ZD(r,i,UT()));function fd(){return Ee()}var $a="en-US";var wO=$a;function BC(n){typeof n=="string"&&(wO=n.toLowerCase().replace(/_/g,"-"))}function Pt(n,e,t){let r=Ee(),i=yt(),o=bt();return $C(i,r,r[Me],o,n,e,t),Pt}function $C(n,e,t,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=$g(r,e,o),kk(r,n,e,s,t,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=$g(r,e,o),aD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=$g(r,e,o),aD(r,e,p,i,i,u)}}function ut(n=1){return jT(n)}function Bm(n){let e=AT();return _g(e,Dt+n)}function Fl(n,e){return n<<17|e<<2}function Ei(n){return n>>17&32767}function TO(n){return(n&2)==2}function DO(n,e){return n&131071|e<<17}function dm(n){return n|2}function xo(n){return(n&131068)>>2}function qg(n,e){return n&-131069|e<<2}function CO(n){return(n&1)===1}function hm(n){return n|1}function bO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Ei(s),u=xo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Co(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Ei(n[c+1]);n[r+1]=Fl(m,c),m!==0&&(n[m+1]=qg(n[m+1],r)),n[c+1]=DO(n[c+1],r)}else n[r+1]=Fl(c,0),c!==0&&(n[c+1]=qg(n[c+1],r)),c=r;else n[r+1]=Fl(u,0),c===0?c=r:n[u+1]=qg(n[u+1],r),u=r;l&&(n[r+1]=dm(n[r+1])),mD(n,h,r,!0),mD(n,h,r,!1),SO(e,h,n,r,o),s=Fl(c,u),o?e.classBindings=s:e.styleBindings=s}function SO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Co(o,e)>=0&&(t[r+1]=hm(t[r+1]))}function mD(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ei(i):xo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=n[s],l=n[s+1];AO(u,e)&&(c=!0,n[s+1]=r?hm(l):dm(l)),s=r?Ei(l):xo(l)}c&&(n[t+1]=r?dm(i):hm(i))}function AO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Co(n,e)>=0:!1}function bi(n,e){return RO(n,e,null,!0),bi}function RO(n,e,t,r){let i=Ee(),o=yt(),s=MT(2);if(o.firstUpdatePass&&MO(o,n,s,r),e!==zn&&Fo(i,s,e)){let c=o.data[gi()];FO(o,c,i,i[Me],n,i[s+1]=LO(e,t),r,s)}}function NO(n,e){return e>=n.expandoStartIndex}function MO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[gi()],s=NO(n,t);VO(o,r)&&e===null&&!s&&(e=!1),e=PO(i,o,e,r),bO(i,o,e,t,s,r)}}function PO(n,e,t,r){let i=OT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Gg(null,n,e,t,r),t=ka(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Gg(i,n,e,t,r),o===null){let u=xO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Gg(null,n,e,u[1],r),u=ka(u,e.attrs,r),kO(n,e,r,u))}else o=OO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function xO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(xo(r)!==0)return n[Ei(r)]}function kO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ei(i)]=r}function OO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ka(r,s,t)}return ka(r,e.attrs,t)}function Gg(n,e,t,r,i){let o=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(o=e[c],r=ka(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function ka(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),oT(n,s,t?!0:e[++o]))}return n===void 0?null:n}function FO(n,e,t,r,i,o,s,c){if(!(e.type&3))return;let u=n.data,l=u[c+1],h=CO(l)?yD(u,e,t,i,xo(l),s):void 0;if(!Xl(h)){Xl(o)||TO(l)&&(o=yD(u,null,t,i,c,s));let p=vg(gi(),t);rk(r,s,p,i,o)}}function yD(n,e,t,r,i,o){let s=e===null,c;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===zn&&(m=p?Nt:void 0);let y=p?wl(m,r):h===r?m:void 0;if(l&&!Xl(y)&&(y=wl(u,r)),Xl(y)&&(c=y,s))return c;let C=n[i+1];i=s?Ei(C):xo(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=wl(u,r))}return c}function Xl(n){return n!==void 0}function LO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Tt(KD(n)))),n}function VO(n,e){return(n.flags&(e?8:16))!==0}function Wn(n,e=""){let t=Ee(),r=yt(),i=n+Dt,o=r.firstCreatePass?Pm(r,i,1,e,null):r.data[i],s=jO(r,t,o,e,n);t[i]=s,xl()&&Am(r,t,s,o),Ro(o,!1)}var jO=(n,e,t,r,i)=>(kl(!0),vx(e[Me],r));function UO(n,e,t,r=""){return Fo(n,ba(),t)?e+_l(t)+r:zn}function pd(n){return $m("",n),pd}function $m(n,e,t){let r=Ee(),i=UO(r,n,e,t);return i!==zn&&BO(r,gi(),i),$m}function BO(n,e,t){let r=vg(e,n);_x(n[Me],r,t)}function Ha(n,e,t){Og(e)&&(e=e());let r=Ee(),i=ba();if(Fo(r,i,e)){let o=yt(),s=Pl();oC(s,r,n,e,r[Me],t)}return Ha}function gd(n,e){let t=Og(n);return t&&n.set(e),t}function za(n,e){let t=Ee(),r=yt(),i=bt();return $C(r,t,t[Me],i,n,e),za}function $O(n,e,t){let r=yt();if(r.firstCreatePass){let i=gn(n);fm(t,r.data,r.blueprint,i,!0),fm(e,r.data,r.blueprint,i,!1)}}function fm(n,e,t,r,i){if(n=Ye(n),Array.isArray(n))for(let o=0;o<n.length;o++)fm(n[o],e,t,r,i);else{let o=yt(),s=Ee(),c=bt(),u=si(n)?n:Ye(n.provide),l=pg(n),h=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(si(n)||!n.multi){let y=new yi(l,i,pe),C=Kg(u,e,i?h:h+m,p);C===-1?(Yg(zl(c,s),o,u),Wg(o,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),s.push(y)):(t[C]=y,s[C]=y)}else{let y=Kg(u,e,h+m,p),C=Kg(u,e,h,h+m),N=y>=0&&t[y],R=C>=0&&t[C];if(i&&!R||!i&&!N){Yg(zl(c,s),o,u);let O=qO(i?zO:HO,t.length,i,r,l);!i&&R&&(t[C].providerFactory=O),Wg(o,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(O),s.push(O)}else{let O=HC(t[i?C:y],l,!i&&r);Wg(o,n,y>-1?y:C,O)}!i&&r&&R&&t[C].componentProviders++}}}function Wg(n,e,t,r){let i=si(e),o=lT(e);if(i||o){let u=(o?Ye(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function HC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Kg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function HO(n,e,t,r){return pm(this.multi,[])}function zO(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=ql(t,t[oe],this.providerFactory.index,r);o=c.slice(0,s),pm(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],pm(i,o);return o}function pm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function qO(n,e,t,r,i){let o=new yi(n,t,pe);return o.multi=[],o.index=e,o.componentProviders=0,HC(o,i,r&&!t),o}function jo(n,e=[]){return t=>{t.providersResolver=(r,i)=>$O(r,i?i(n):n,e)}}function GO(n,e){let t=n[e];return t===zn?void 0:t}function WO(n,e,t,r,i,o){let s=e+t;return Fo(n,s,i)?xk(n,s+1,o?r.call(o,i):r(i)):GO(n,s+1)}function Hm(n,e){let t=yt(),r,i=n+Dt;t.firstCreatePass?(r=KO(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=vr(r.type,!0)),s,c=mt(pe);try{let u=Hl(!1),l=o();return Hl(u),Eg(t,Ee(),i,l),l}finally{mt(c)}}function KO(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function zm(n,e,t){let r=n+Dt,i=Ee(),o=_g(i,r);return QO(i,r)?WO(i,RT(),e,o.transform,t,o):o.transform(t)}function QO(n,e){return n[oe].data[e].pure}function qm(n,e){return IC(n,e)}var ed=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Gm=(()=>{class n{compileModuleSync(t){return new Yl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=lg(t),o=QD(i.declarations).reduce((s,c)=>{let u=Tr(c);return u&&s.push(new Po(u)),s},[]);return new ed(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var YO=(()=>{class n{zone=M(ve);changeDetectionScheduler=M(Er);applicationRef=M(Ci);applicationErrorHandler=M(St);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zC=new j("",{factory:()=>!1});function Wm({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ve(ee(k({},Qm()),{scheduleInRootZone:t})),[{provide:ve,useFactory:n},{provide:wr,multi:!0,useFactory:()=>{let r=M(YO,{optional:!0});return()=>r.initialize()}},{provide:wr,multi:!0,useFactory:()=>{let r=M(ZO);return()=>{r.initialize()}}},e===!0?{provide:Fg,useValue:!0}:[],{provide:Lg,useValue:t??kC},{provide:St,useFactory:()=>{let r=M(ve),i=M(Ne),o;return s=>{o??=i.get(hn),r.runOutsideAngular(()=>o.handleError(s))}}}]}function Km(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Wm({ngZoneFactory:()=>{let i=Qm(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&cd("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Xt([{provide:zC,useValue:!0},{provide:Sa,useValue:!1},r])}function Qm(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var ZO=(()=>{class n{subscription=new Se;initialized=!1;zone=M(ve);pendingTasks=M($n);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qC=(()=>{class n{applicationErrorHandler=M(St);appRef=M(Ci);taskService=M($n);ngZone=M(ve);zonelessEnabled=M(Sa);tracing=M(Ba,{optional:!0});disableScheduling=M(Fg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Se;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(Lg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jl||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?hD:OC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JO(){return typeof $localize<"u"&&$localize.locale||$a}var md=new j("",{providedIn:"root",factory:()=>M(md,{optional:!0,skipSelf:!0})||JO()});function xt(n){return Yw(n)}function Uo(n,e){return Lu(n,e?.equal)}var GC=class{[st];constructor(e){this[st]=e}destroy(){this[st].destroy()}};var ZC=Symbol("InputSignalNode#UNSET"),p1=ee(k({},Vu),{transformFn:void 0,applyValueToInputSignal(n,e){uo(n,e)}});function JC(n,e){let t=Object.create(p1);t.value=n,t.transformFn=e?.transform;function r(){if(ao(t),t.value===ZC){let i=null;throw new L(-950,i)}return t.value}return r[st]=t,r}var g1=new j("");g1.__NG_ELEMENT_ID__=n=>{let e=bt();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new L(204,!1)};function WC(n,e){return JC(n,e)}function m1(n){return JC(ZC,n)}var XC=(WC.required=m1,WC);var Bo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},eb=new Bo("20.0.4");var Ym=new j(""),y1=new j("");function qa(n){return!n.moduleRef}function v1(n){let e=qa(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ve);return t.run(()=>{qa(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(St),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),qa(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Ym);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ym);s.add(o),n.moduleRef.onDestroy(()=>{Na(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return E1(r,t,()=>{let o=e.get(Um);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(md,$a);if(BC(s||$a),!e.get(y1,!0))return qa(n)?e.get(Ci):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(qa(n)){let u=e.get(Ci);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return _1?.(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}var _1;function E1(n,e,t){try{let r=t();return Gn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var yd=null;function I1(n=[],e){return Je.create({name:e,providers:[{provide:ga,useValue:"platform"},{provide:Ym,useValue:new Set([()=>yd=null])},...n]})}function w1(n=[]){if(yd)return yd;let e=I1(n);return yd=e,jC(),T1(e),e}function T1(n){let e=n.get(rd,null);Ue(n,()=>{e?.forEach(t=>t())})}function ty(){return!1}var $o=(()=>{class n{static __NG_ELEMENT_ID__=D1}return n})();function D1(n){return C1(bt(),Ee(),(n&16)===16)}function C1(n,e,t){if(Cr(n)&&!t){let r=zt(n.index,e);return new Rr(r,r)}else if(n.type&175){let r=e[$t];return new Rr(r,e)}return null}var Zm=class{constructor(){}supports(e){return xm(e)}create(e){return new Jm(e)}},b1=(n,e)=>e,Jm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||b1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<KC(r,i,o)?t:r,c=KC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;h<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!xm(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,AC(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Xm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new vd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Xm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},ey=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},vd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ey,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function KC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function QC(){return new ny([new Zm])}var ny=(()=>{class n{factories;static \u0275prov=B({token:n,providedIn:"root",factory:QC});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||QC()),deps:[[n,new ID,new vn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function tb(n){Ie(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=w1(r),o=[Wm({}),{provide:Er,useExisting:qC},$T,...t||[]],s=new xa({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return v1({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ie(9)}}function _d(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var ib=null;function Gt(){return ib}function ry(n){ib??=n}var Ga=class{},iy=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>M(ob),providedIn:"platform"})}return n})();var ob=(()=>{class n extends iy{_location;_history;_doc=M(Be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gt().getBaseHref(this._doc)}onPopState(t){let r=Gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function sb(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function nb(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Pr(n){return n&&n[0]!=="?"?`?${n}`:n}var Ed=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>M(cb),providedIn:"root"})}return n})(),ab=new j(""),cb=(()=>{class n extends Ed{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return sb(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Pr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(H(iy),H(ab,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ho=(()=>{class n{_subject=new Ve;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=R1(nb(rb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Pr(r))}normalize(t){return n.stripTrailingSlash(A1(this._basePath,rb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Pr;static joinWithSlash=sb;static stripTrailingSlash=nb;static \u0275fac=function(r){return new(r||n)(H(Ed))};static \u0275prov=B({token:n,factory:()=>S1(),providedIn:"root"})}return n})();function S1(){return new Ho(H(Ed))}function A1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function rb(n){return n.replace(/\/index.html$/,"")}function R1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Id=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Td=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Id(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),ub(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ub(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(pe(Ti),pe(Fa),pe(ny))};static \u0275dir=Xe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function ub(n,e){n.context.$implicit=e.item}var ay=(()=>{class n{_viewContainer;_context=new wd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lb(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lb(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(pe(Ti),pe(Fa))};static \u0275dir=Xe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),wd=class{$implicit=null;ngIf=null};function lb(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}function N1(n,e){return new L(2100,!1)}var oy=class{createSubscription(e,t,r){return xt(()=>e.subscribe({next:t,error:r}))}dispose(e){xt(()=>e.unsubscribe())}},sy=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},M1=new sy,P1=new oy,cy=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=M(St);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Gn(t))return M1;if(ld(t))return P1;throw N1(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(pe($o,16))};static \u0275pipe=km({name:"async",type:n,pure:!1})}return n})();var zo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=fn({})}return n})();function Wa(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Si=class{};var db="browser",x1="server";function hb(n){return n===x1}var bd=new j(""),hy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(H(bd),H(ve))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Ka=class{_doc;constructor(e){this._doc=e}manager},Dd="ng-app-id";function fb(n){for(let e of n)e.remove()}function pb(n,e){let t=e.createElement("style");return t.textContent=n,t}function O1(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Dd}="${e}"],link[${Dd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Dd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function ly(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var fy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=hb(o),O1(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,pb);r?.forEach(i=>this.addUsage(i,this.external,ly))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(fb(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])fb(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,pb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,ly(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Dd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(H(Be),H(nd),H(id,8),H(Nr))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),uy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},py=/%COMP%/g;var mb="%COMP%",F1=`_nghost-${mb}`,L1=`_ngcontent-${mb}`,V1=!0,j1=new j("",{providedIn:"root",factory:()=>V1});function U1(n){return L1.replace(py,n)}function B1(n){return F1.replace(py,n)}function yb(n,e){return e.map(t=>t.replace(py,n))}var gy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Qa(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Cd?i.applyToHost(t):i instanceof Ya&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Hn.Emulated:o=new Cd(u,l,r,this.appId,h,s,c,p,m);break;case Hn.ShadowDom:return new dy(u,l,t,r,s,c,this.nonce,p,m);default:o=new Ya(u,l,r,h,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(H(hy),H(fy),H(nd),H(j1),H(Be),H(Nr),H(ve),H(id),H(Ba,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Qa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(uy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(gb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(gb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=uy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=uy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(yn.DashCase|yn.Important)?e.style.setProperty(t,r,i&yn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&yn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Gt().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function gb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var dy=class extends Qa{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=yb(i.id,h);for(let m of h){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=ly(m,o);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ya=class extends Qa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?yb(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Cd=class extends Ya{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,c,u,l,h),this.contentAttr=U1(h),this.hostAttr=B1(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Sd=class n extends Ga{supportsDOMEvents=!0;static makeCurrent(){ry(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=$1();return t==null?null:H1(t)}resetBaseElement(){Za=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wa(document.cookie,e)}},Za=null;function $1(){return Za=Za||document.head.querySelector("base"),Za?Za.getAttribute("href"):null}function H1(n){return new URL(n,document.baseURI).pathname}var z1=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),_b=(()=>{class n extends Ka{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(H(Be))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),vb=["alt","control","meta","shift"],q1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Eb=(()=>{class n extends Ka{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gt().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),vb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=q1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),vb.forEach(s=>{if(s!==i){let c=G1[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(H(Be))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function my(n,e){return tb(k({rootComponent:n},W1(e)))}function W1(n){return{appProviders:[...J1,...n?.providers??[]],platformProviders:Z1}}function K1(){Sd.makeCurrent()}function Q1(){return new hn}function Y1(){return ym(document),document}var Z1=[{provide:Nr,useValue:db},{provide:rd,useValue:K1,multi:!0},{provide:Be,useFactory:Y1}];var J1=[{provide:ga,useValue:"root"},{provide:hn,useFactory:Q1},{provide:bd,useClass:_b,multi:!0,deps:[Be]},{provide:bd,useClass:Eb,multi:!0,deps:[Be]},gy,fy,hy,{provide:vi,useExisting:gy},{provide:Si,useClass:z1},[]];var Go=class{},Xa=class{},Ai=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Rd=class{encodeKey(e){return Ib(e)}encodeValue(e){return Ib(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function X1(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,c]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(c),t.set(s,u)}),t}var eF=/%(\d[a-f0-9])/gi,tF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ib(n){return encodeURIComponent(n).replace(eF,(e,t)=>tF[t]??e)}function Ad(n){return`${n}`}var xr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Rd,e.fromString){if(e.fromObject)throw new L(2805,!1);this.map=X1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Ad):[Ad(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Ad(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ad(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Nd=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function nF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Tb(n){return typeof Blob<"u"&&n instanceof Blob}function Db(n){return typeof FormData<"u"&&n instanceof FormData}function rF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Cb="Content-Type",bb="Accept",Sb="X-Request-URL",Ab="text/plain",Rb="application/json",iF=`${Rb}, ${Ab}, */*`,Ja=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(nF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ai,this.context??=new Nd,!this.params)this.params=new xr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),u=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wb(this.body)||Tb(this.body)||Db(this.body)||rF(this.body)?this.body:this.body instanceof xr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Db(this.body)?null:Tb(this.body)?this.body.type||null:wb(this.body)?null:typeof this.body=="string"?Ab:this.body instanceof xr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Rb:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.transferCache??this.transferCache,c=e.body!==void 0?e.body:this.body,u=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,p=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((y,C)=>y.set(C,e.setHeaders[C]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((y,C)=>y.set(C,e.setParams[C]),p)),new n(t,r,c,{params:p,headers:h,context:m,reportProgress:l,responseType:i,withCredentials:u,transferCache:s,keepalive:o})}},qo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(qo||{}),Wo=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Ai,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Md=class n extends Wo{constructor(e={}){super(e)}type=qo.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Pd=class n extends Wo{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=qo.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},xd=class extends Wo{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},oF=200,sF=204;function yy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive}}var aF=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ja)o=t;else{let u;i.headers instanceof Ai?u=i.headers:u=new Ai(i.headers);let l;i.params&&(i.params instanceof xr?l=i.params:l=new xr({fromObject:i.params})),o=new Ja(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let s=W(o).pipe(mr(u=>this.handler.handle(u)));if(t instanceof Ja||i.observe==="events")return s;let c=s.pipe(gt(u=>u instanceof Pd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Q(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new L(2806,!1);return u.body}));case"blob":return c.pipe(Q(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new L(2807,!1);return u.body}));case"text":return c.pipe(Q(u=>{if(u.body!==null&&typeof u.body!="string")throw new L(2808,!1);return u.body}));case"json":default:return c.pipe(Q(u=>u.body))}case"response":return c;default:throw new L(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new xr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,yy(i,r))}post(t,r,i={}){return this.request("POST",t,yy(i,r))}put(t,r,i={}){return this.request("PUT",t,yy(i,r))}static \u0275fac=function(r){return new(r||n)(H(Go))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var cF=new j("");function uF(n,e){return e(n)}function lF(n,e,t){return(r,i)=>Ue(t,()=>e(r,o=>n(o,i)))}var Nb=new j(""),dF=new j(""),Mb=new j("",{providedIn:"root",factory:()=>!0});var kd=(()=>{class n extends Go{backend;injector;chain=null;pendingTasks=M(Ar);contributeToStability=M(Mb);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Nb),...this.injector.get(dF,[])]));this.chain=r.reduceRight((i,o)=>lF(i,o,this.injector),uF)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ri(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(H(Xa),H(Ne))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var hF=/^\)\]\}',?\n/,fF=RegExp(`^${Sb}:`,"m");function pF(n){return"responseURL"in n&&n.responseURL?n.responseURL:fF.test(n.getAllResponseHeaders())?n.getResponseHeader(Sb):null}var vy=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new L(-2800,!1);t.keepalive;let r=this.xhrFactory;return(r.\u0275loadImpl?Te(r.\u0275loadImpl()):W(null)).pipe(wt(()=>new K(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,R)=>s.setRequestHeader(N,R.join(","))),t.headers.has(bb)||s.setRequestHeader(bb,iF),!t.headers.has(Cb)){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader(Cb,N)}if(t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let c=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",R=new Ai(s.getAllResponseHeaders()),O=pF(s)||t.url;return u=new Md({headers:R,status:s.status,statusText:N,url:O}),u},h=()=>{let{headers:N,status:R,statusText:O,url:G}=l(),U=null;R!==sF&&(U=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=U?oF:0);let he=R>=200&&R<300;if(t.responseType==="json"&&typeof U=="string"){let We=U;U=U.replace(hF,"");try{U=U!==""?JSON.parse(U):null}catch(fe){U=We,he&&(he=!1,U={error:fe,text:U})}}he?(o.next(new Pd({body:U,headers:N,status:R,statusText:O,url:G||void 0})),o.complete()):o.error(new xd({error:U,headers:N,status:R,statusText:O,url:G||void 0}))},p=N=>{let{url:R}=l(),O=new xd({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(O)},m=!1,y=N=>{m||(o.next(l()),m=!0);let R={type:qo.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},C=N=>{let R={type:qo.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),c!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(c),o.next({type:qo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),c!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(H(Si))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Pb=new j(""),gF="XSRF-TOKEN",mF=new j("",{providedIn:"root",factory:()=>gF}),yF="X-XSRF-TOKEN",vF=new j("",{providedIn:"root",factory:()=>yF}),ec=class{},_F=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wa(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(H(Be),H(mF))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function EF(n,e){let t=n.url.toLowerCase();if(!M(Pb)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=M(ec).getToken(),i=M(vF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function _y(...n){let e=[aF,vy,kd,{provide:Go,useExisting:kd},{provide:Xa,useFactory:()=>M(cF,{optional:!0})??M(vy)},{provide:Nb,useValue:EF,multi:!0},{provide:Pb,useValue:!0},{provide:ec,useClass:_F}];for(let t of n)e.push(...t.\u0275providers);return Xt(e)}var xb=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(H(Be))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var te="primary",gc=Symbol("RouteTitle"),Dy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Mi(n){return new Dy(n)}function Bb(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function wF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!En(n[t],e[t]))return!1;return!0}function En(n,e){let t=n?Cy(n):void 0,r=e?Cy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!$b(n[i],e[i]))return!1;return!0}function Cy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function $b(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Hb(n){return n.length>0?n[n.length-1]:null}function Yn(n){return kp(n)?n:Gn(n)?Te(Promise.resolve(n)):W(n)}var TF={exact:qb,subset:Gb},zb={exact:DF,subset:CF,ignored:()=>!0};function kb(n,e,t){return TF[t.paths](n.root,e.root,t.matrixParams)&&zb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function DF(n,e){return En(n,e)}function qb(n,e,t){if(!Ri(n.segments,e.segments)||!Ld(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!qb(n.children[r],e.children[r],t))return!1;return!0}function CF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$b(n[t],e[t]))}function Gb(n,e,t){return Wb(n,e,e.segments,t)}function Wb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ri(i,t)||e.hasChildren()||!Ld(i,t,r))}else if(n.segments.length===t.length){if(!Ri(n.segments,t)||!Ld(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Gb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ri(n.segments,i)||!Ld(n.segments,i,r)||!n.children[te]?!1:Wb(n.children[te],e,o,r)}}function Ld(n,e,t){return e.every((r,i)=>zb[t](n[i].parameters,r.parameters))}var wn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Mi(this.queryParams),this._queryParamMap}toString(){return AF.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vd(this)}},kr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Mi(this.parameters),this._parameterMap}toString(){return Qb(this)}};function bF(n,e){return Ri(n,e)&&n.every((t,r)=>En(t.parameters,e[r].parameters))}function Ri(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function SF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(t=t.concat(e(i,r)))}),t}var mc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new Pi,providedIn:"root"})}return n})(),Pi=class{parse(e){let t=new Sy(e);return new wn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${tc(e.root,!0)}`,r=MF(e.queryParams),i=typeof e.fragment=="string"?`#${RF(e.fragment)}`:"";return`${t}${r}${i}`}},AF=new Pi;function Vd(n){return n.segments.map(e=>Qb(e)).join("/")}function tc(n,e){if(!n.hasChildren())return Vd(n);if(e){let t=n.children[te]?tc(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${tc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=SF(n,(r,i)=>i===te?[tc(n.children[te],!1)]:[`${i}:${tc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${Vd(n)}/${t[0]}`:`${Vd(n)}/(${t.join("//")})`}}function Kb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Od(n){return Kb(n).replace(/%3B/gi,";")}function RF(n){return encodeURI(n)}function by(n){return Kb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jd(n){return decodeURIComponent(n)}function Ob(n){return jd(n.replace(/\+/g,"%20"))}function Qb(n){return`${by(n.path)}${NF(n.parameters)}`}function NF(n){return Object.entries(n).map(([e,t])=>`;${by(e)}=${by(t)}`).join("")}function MF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Od(t)}=${Od(i)}`).join("&"):`${Od(t)}=${Od(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var PF=/^[^\/()?;#]+/;function Ey(n){let e=n.match(PF);return e?e[0]:""}var xF=/^[^\/()?;=#]+/;function kF(n){let e=n.match(xF);return e?e[0]:""}var OF=/^[^=?&#]+/;function FF(n){let e=n.match(OF);return e?e[0]:""}var LF=/^[^&#]+/;function VF(n){let e=n.match(LF);return e?e[0]:""}var Sy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[te]=new ge(e,t)),r}parseSegment(){let e=Ey(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new kr(jd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=kF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ey(this.remaining);i&&(r=i,this.capture(r))}e[jd(t)]=jd(r)}parseQueryParam(e){let t=FF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=VF(this.remaining);s&&(r=s,this.capture(r))}let i=Ob(t),o=Ob(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ey(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[te]:new ge([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function Yb(n){return n.segments.length>0?new ge([],{[te]:n}):n}function Zb(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Zb(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ge(n.segments,e);return jF(t)}function jF(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new ge(n.segments.concat(e.segments),e.children)}return n}function Jo(n){return n instanceof wn}function Jb(n,e,t=null,r=null){let i=Xb(n);return eS(i,e,t,r)}function Xb(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new ge(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=Yb(r);return e??i}function eS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Iy(i,i,i,t,r);let o=UF(e);if(o.toRoot())return Iy(i,i,new ge([],{}),t,r);let s=BF(o,i,n),c=s.processChildren?rc(s.segmentGroup,s.index,o.commands):nS(s.segmentGroup,s.index,o.commands);return Iy(i,s.segmentGroup,c,t,r)}function Ud(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function sc(n){return typeof n=="object"&&n!=null&&n.outlets}function Iy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=tS(n,e,t);let c=Yb(Zb(s));return new wn(c,o,i)}function tS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=tS(o,e,t)}),new ge(n.segments,r)}var Bd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ud(r[0]))throw new L(4003,!1);let i=r.find(sc);if(i&&i!==Hb(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function UF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Bd(t,e,r)}var Yo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function BF(n,e,t){if(n.isAbsolute)return new Yo(e,!0,0);if(!t)return new Yo(e,!1,NaN);if(t.parent===null)return new Yo(t,!0,0);let r=Ud(n.commands[0])?0:1,i=t.segments.length-1+r;return $F(t,i,n.numberOfDoubleDots)}function $F(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Yo(r,!1,i-o)}function HF(n){return sc(n[0])?n[0].outlets:{[te]:n}}function nS(n,e,t){if(n??=new ge([],{}),n.segments.length===0&&n.hasChildren())return rc(n,e,t);let r=zF(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ge(n.segments.slice(0,r.pathIndex),{});return o.children[te]=new ge(n.segments.slice(r.pathIndex),n.children),rc(o,0,i)}else return r.match&&i.length===0?new ge(n.segments,{}):r.match&&!n.hasChildren()?Ay(n,e,t):r.match?rc(n,0,i):Ay(n,e,t)}function rc(n,e,t){if(t.length===0)return new ge(n.segments,{});{let r=HF(t),i={};if(Object.keys(r).some(o=>o!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let o=rc(n.children[te],e,t);return new ge(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=nS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(n.segments,i)}}function zF(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(sc(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Lb(u,l,s))return o;r+=2}else{if(!Lb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ay(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(sc(o)){let u=qF(o.outlets);return new ge(r,u)}if(i===0&&Ud(t[0])){let u=n.segments[e];r.push(new kr(u.path,Fb(t[0]))),i++;continue}let s=sc(o)?o.outlets[te]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&Ud(c)?(r.push(new kr(s,Fb(c))),i+=2):(r.push(new kr(s,{})),i++)}return new ge(r,{})}function qF(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ay(new ge([],{}),0,r))}),e}function Fb(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Lb(n,e,t){return n==t.path&&En(e,t.parameters)}var ic="imperative",ze=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ze||{}),Ot=class{id;url;constructor(e,t){this.id=e,this.url=t}},xi=class extends Ot{type=ze.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kn=class extends Ot{urlAfterRedirects;type=ze.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(vt||{}),ac=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ac||{}),In=class extends Ot{reason;code;type=ze.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qn=class extends Ot{reason;code;type=ze.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Xo=class extends Ot{error;target;type=ze.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cc=class extends Ot{urlAfterRedirects;state;type=ze.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$d=class extends Ot{urlAfterRedirects;state;type=ze.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hd=class extends Ot{urlAfterRedirects;state;shouldActivate;type=ze.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zd=class extends Ot{urlAfterRedirects;state;type=ze.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qd=class extends Ot{urlAfterRedirects;state;type=ze.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gd=class{route;type=ze.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wd=class{route;type=ze.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kd=class{snapshot;type=ze.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qd=class{snapshot;type=ze.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yd=class{snapshot;type=ze.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zd=class{snapshot;type=ze.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var uc=class{},es=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function GF(n){return!(n instanceof uc)&&!(n instanceof es)}function WF(n,e){return n.providers&&!n._injector&&(n._injector=ja(n.providers,e,`Route: ${n.path}`)),n._injector??e}function an(n){return n.outlet||te}function KF(n,e){let t=n.filter(r=>an(r)===e);return t.push(...n.filter(r=>an(r)!==e)),t}function yc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Jd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return yc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new rs(this.rootInjector)}},rs=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Jd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(H(Ne))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ry(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ry(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Ny(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ny(e,this._root).map(t=>t.value)}};function Ry(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ry(n,t);if(r)return r}return null}function Ny(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Ny(n,t);if(r.length)return r.unshift(e),r}return[]}var kt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Qo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var lc=class extends Xd{snapshot;constructor(e,t){super(e),this.snapshot=t,Vy(this,e)}toString(){return this.snapshot.toString()}};function rS(n){let e=QF(n),t=new Qe([new kr("",{})]),r=new Qe({}),i=new Qe({}),o=new Qe({}),s=new Qe(""),c=new Or(t,r,o,s,i,te,n,e.root);return c.snapshot=e.root,new lc(new kt(c,[]),e)}function QF(n){let e={},t={},r={},i="",o=new Ni([],e,r,i,t,te,n,null,{});return new dc("",new kt(o,[]))}var Or=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Q(l=>l[gc]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Q(e=>Mi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Q(e=>Mi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function eh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&oS(i)&&(r.resolve[gc]=i.title),r}var Ni=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[gc]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},dc=class extends Xd{url;constructor(e,t){super(t),this.url=e,Vy(this,t)}toString(){return iS(this._root)}};function Vy(n,e){e.value._routerState=n,e.children.forEach(t=>Vy(n,t))}function iS(n){let e=n.children.length>0?` { ${n.children.map(iS).join(", ")} } `:"";return`${n.value}${e}`}function wy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,En(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),En(e.params,t.params)||n.paramsSubject.next(t.params),wF(e.url,t.url)||n.urlSubject.next(t.url),En(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function My(n,e){let t=En(n.params,e.params)&&bF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||My(n.parent,e.parent))}function oS(n){return typeof n.title=="string"||n.title===null}var sS=new j(""),vc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=te;activateEvents=new ke;deactivateEvents=new ke;attachEvents=new ke;detachEvents=new ke;routerOutletData=XC(void 0);parentContexts=M(rs);location=M(Ti);changeDetector=M($o);inputBinder=M(ih,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Py(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Xe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ii]})}return n})(),Py=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Or?this.route:e===rs?this.childContexts:e===sS?this.outletData:this.parent.get(e,t)}},ih=new j("");var jy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Di({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Vo(0,"router-outlet")},dependencies:[vc],encapsulation:2})}return n})();function Uy(n){let e=n.children&&n.children.map(Uy),t=e?ee(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=jy),t}function YF(n,e,t){let r=hc(n,e._root,t?t._root:void 0);return new lc(r,e)}function hc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=ZF(n,e,t);return new kt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>hc(n,c)),s}}let r=JF(e.value),i=e.children.map(o=>hc(n,o));return new kt(r,i)}}function ZF(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return hc(n,r,i);return hc(n,r)})}function JF(n){return new Or(new Qe(n.url),new Qe(n.params),new Qe(n.queryParams),new Qe(n.fragment),new Qe(n.data),n.outlet,n.component,n)}var ts=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},aS="ngNavigationCancelingError";function th(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Jo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cS(!1,vt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function cS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[aS]=!0,t.cancellationCode=e,t}function XF(n){return uS(n)&&Jo(n.url)}function uS(n){return!!n&&n[aS]}var eL=(n,e,t,r)=>Q(i=>(new xy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),xy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Qo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Qo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Zd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(wy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),wy(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},nh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Zo=class{component;route;constructor(e,t){this.component=e,this.route=t}};function tL(n,e,t){let r=n._root,i=e?e._root:null;return nc(r,i,t,[r.value])}function nL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function is(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Jp(n)?n:e.get(n):r}function nc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qo(e);return n.children.forEach(s=>{rL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>oc(c,t.getContext(s),i)),i}function rL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=iL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new nh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?nc(n,e,c?c.children:null,r,i):nc(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Zo(c.outlet.component,s))}else s&&oc(e,c,i),i.canActivateChecks.push(new nh(r)),o.component?nc(n,null,c?c.children:null,r,i):nc(n,null,t,r,i);return i}function iL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ri(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ri(n.url,e.url)||!En(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!My(n,e)||!En(n.queryParams,e.queryParams);case"paramsChange":default:return!My(n,e)}}function oc(n,e,t){let r=Qo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?oc(s,e.children.getContext(o),t):oc(s,null,t):oc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Zo(e.outlet.component,i)):t.canDeactivateChecks.push(new Zo(null,i)):t.canDeactivateChecks.push(new Zo(null,i))}function _c(n){return typeof n=="function"}function oL(n){return typeof n=="boolean"}function sL(n){return n&&_c(n.canLoad)}function aL(n){return n&&_c(n.canActivate)}function cL(n){return n&&_c(n.canActivateChild)}function uL(n){return n&&_c(n.canDeactivate)}function lL(n){return n&&_c(n.canMatch)}function lS(n){return n instanceof On||n?.name==="EmptyError"}var Fd=Symbol("INITIAL_VALUE");function ns(){return wt(n=>cl(n.map(e=>e.pipe(Fn(1),dl(Fd)))).pipe(Q(e=>{for(let t of e)if(t!==!0){if(t===Fd)return Fd;if(t===!1||dL(t))return t}return!0}),gt(e=>e!==Fd),Fn(1)))}function dL(n){return Jo(n)||n instanceof ts}function hL(n,e){return je(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(ee(k({},t),{guardsResult:!0})):fL(s,r,i,n).pipe(je(c=>c&&oL(c)?pL(r,o,n,e):W(c)),Q(c=>ee(k({},t),{guardsResult:c})))})}function fL(n,e,t,r){return Te(n).pipe(je(i=>_L(i.component,i.route,t,e,r)),Ln(i=>i!==!0,!0))}function pL(n,e,t,r){return Te(e).pipe(mr(i=>wo(mL(i.route.parent,r),gL(i.route,r),vL(n,i.path,t),yL(n,i.route,t))),Ln(i=>i!==!0,!0))}function gL(n,e){return n!==null&&e&&e(new Yd(n)),W(!0)}function mL(n,e){return n!==null&&e&&e(new Kd(n)),W(!0)}function yL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>ua(()=>{let s=yc(e)??t,c=is(o,s),u=aL(c)?c.canActivate(e,n):Ue(s,()=>c(e,n));return Yn(u).pipe(Ln())}));return W(i).pipe(ns())}function vL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>nL(s)).filter(s=>s!==null).map(s=>ua(()=>{let c=s.guards.map(u=>{let l=yc(s.node)??t,h=is(u,l),p=cL(h)?h.canActivateChild(r,n):Ue(l,()=>h(r,n));return Yn(p).pipe(Ln())});return W(c).pipe(ns())}));return W(o).pipe(ns())}function _L(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(c=>{let u=yc(e)??i,l=is(c,u),h=uL(l)?l.canDeactivate(n,e,t,r):Ue(u,()=>l(n,e,t,r));return Yn(h).pipe(Ln())});return W(s).pipe(ns())}function EL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let c=is(s,n),u=sL(c)?c.canLoad(e,t):Ue(n,()=>c(e,t));return Yn(u)});return W(o).pipe(ns(),dS(r))}function dS(n){return Hu(He(e=>{if(typeof e!="boolean")throw th(n,e)}),Q(e=>e===!0))}function IL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let c=is(s,n),u=lL(c)?c.canMatch(e,t):Ue(n,()=>c(e,t));return Yn(u)});return W(o).pipe(ns(),dS(r))}var fc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},pc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ko(n){return Io(new fc(n))}function wL(n){return Io(new L(4e3,!1))}function TL(n){return Io(cS(!1,vt.GuardRejected))}var ky=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[te])return wL(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,t,r,i,o){return DL(t,i,o).pipe(Q(s=>{if(s instanceof wn)throw new pc(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new pc(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new wn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function DL(n,e,t){if(typeof n=="string")return W(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:h,title:p}=e;return Yn(Ue(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var Oy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CL(n,e,t,r,i){let o=hS(n,e,t);return o.matched?(r=WF(e,r),IL(r,e,t,i).pipe(Q(s=>s===!0?o:k({},Oy)))):W(o)}function hS(n,e,t){if(e.path==="**")return bL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},Oy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Bb)(t,n,e);if(!i)return k({},Oy);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function bL(n){return{matched:!0,parameters:n.length>0?Hb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Vb(n,e,t,r){return t.length>0&&RL(n,t,r)?{segmentGroup:new ge(e,AL(r,new ge(t,n.children))),slicedSegments:[]}:t.length===0&&NL(n,t,r)?{segmentGroup:new ge(n.segments,SL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ge(n.segments,n.children),slicedSegments:t}}function SL(n,e,t,r){let i={};for(let o of t)if(oh(n,e,o)&&!r[an(o)]){let s=new ge([],{});i[an(o)]=s}return k(k({},r),i)}function AL(n,e){let t={};t[te]=e;for(let r of n)if(r.path===""&&an(r)!==te){let i=new ge([],{});t[an(r)]=i}return t}function RL(n,e,t){return t.some(r=>oh(n,e,r)&&an(r)!==te)}function NL(n,e,t){return t.some(r=>oh(n,e,r))}function oh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function ML(n,e,t){return e.length===0&&!n.children[t]}var Fy=class{};function PL(n,e,t,r,i,o,s="emptyOnly"){return new Ly(n,e,t,r,i,s,o).recognize()}var xL=31,Ly=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new ky(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=Vb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Q(({children:t,rootSnapshot:r})=>{let i=new kt(r,t),o=new dc("",i),s=Jb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ni([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,t).pipe(Q(r=>({children:r,rootSnapshot:t})),gr(r=>{if(r instanceof pc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Q(s=>s instanceof kt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Te(o).pipe(mr(s=>{let c=r.children[s],u=KF(t,s);return this.processSegmentGroup(e,u,c,s,i)}),ll((s,c)=>(s.push(...c),s)),yr(null),Fp(),je(s=>{if(s===null)return Ko(r);let c=fS(s);return kL(c),W(c)}))}processSegment(e,t,r,i,o,s,c){return Te(t).pipe(mr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(gr(l=>{if(l instanceof fc)return W(null);throw l}))),Ln(u=>!!u),gr(u=>{if(lS(u))return ML(r,i,o)?W(new Fy):Ko(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return an(r)!==s&&(s===te||!oh(i,o,r))?Ko(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ko(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=hS(t,i,o);if(!u)return Ko(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>xL&&(this.allowRedirects=!1));let y=new Ni(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,jb(i),an(i),i.component??i._loadedComponent??null,i,Ub(i)),C=eh(y,c,this.paramsInheritanceStrategy);return y.params=Object.freeze(C.params),y.data=Object.freeze(C.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(wt(R=>this.applyRedirects.lineralizeSegments(i,R)),je(R=>this.processSegment(e,r,t,R.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=CL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(wt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(wt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new Ni(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,jb(r),an(r),r.component??r._loadedComponent??null,r,Ub(r)),N=eh(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:O}=Vb(t,m,y,l);if(O.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(Q(U=>new kt(C,U)));if(l.length===0&&O.length===0)return W(new kt(C,[]));let G=an(r)===o;return this.processSegment(h,l,R,O,G?te:o,!0,C).pipe(Q(U=>new kt(C,U instanceof kt?[U]:[])))}))):Ko(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):EL(e,t,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,t).pipe(He(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):TL(t))):W({routes:[],injector:e})}};function kL(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function OL(n){let e=n.value.routeConfig;return e&&e.path===""}function fS(n){let e=[],t=new Set;for(let r of n){if(!OL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=fS(r.children);e.push(new kt(r.value,i))}return e.filter(r=>!t.has(r))}function jb(n){return n.data||{}}function Ub(n){return n.resolve||{}}function FL(n,e,t,r,i,o){return je(s=>PL(n,e,t,r,s.extractedUrl,i,o).pipe(Q(({state:c,tree:u})=>ee(k({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function LL(n,e){return je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of pS(u))s.add(l);let c=0;return Te(s).pipe(mr(u=>o.has(u)?VL(u,r,n,e):(u.data=eh(u,u.parent,n).resolve,W(void 0))),He(()=>c++),To(1),je(u=>c===s.size?W(t):Et))})}function pS(n){let e=n.children.map(t=>pS(t)).flat();return[n,...e]}function VL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!oS(i)&&(o[gc]=i.title),ua(()=>(n.data=eh(n,n.parent,t).resolve,jL(o,n,e,r).pipe(Q(s=>(n._resolvedData=s,n.data=k(k({},n.data),s),null)))))}function jL(n,e,t,r){let i=Cy(n);if(i.length===0)return W({});let o={};return Te(i).pipe(je(s=>UL(n[s],e,t,r).pipe(Ln(),He(c=>{if(c instanceof ts)throw th(new Pi,c);o[s]=c}))),To(1),Q(()=>o),gr(s=>lS(s)?Et:Io(s)))}function UL(n,e,t,r){let i=yc(e)??r,o=is(n,i),s=o.resolve?o.resolve(e,t):Ue(i,()=>o(e,t));return Yn(s)}function Ty(n){return wt(e=>{let t=n(e);return t?Te(t).pipe(Q(()=>e)):W(e)})}var By=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[gc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>M(gS),providedIn:"root"})}return n})(),gS=(()=>{class n extends By{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(H(xb))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ec=new j("",{providedIn:"root",factory:()=>({})}),Ic=new j(""),mS=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(Gm);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Yn(t.loadComponent()).pipe(Q(vS),He(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ri(()=>{this.componentLoaders.delete(t)})),i=new yo(r,()=>new Ve).pipe(mo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=yS(r,this.compiler,t,this.onLoadEndListener).pipe(ri(()=>{this.childrenLoaders.delete(r)})),s=new yo(o,()=>new Ve).pipe(mo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yS(n,e,t,r){return Yn(n.loadChildren()).pipe(Q(vS),je(i=>i instanceof ud||Array.isArray(i)?W(i):Te(e.compileModuleAsync(i))),Q(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(Ic,[],{optional:!0,self:!0}).flat()),{routes:s.map(Uy),injector:o}}))}function BL(n){return n&&typeof n=="object"&&"default"in n}function vS(n){return BL(n)?n.default:n}var sh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>M($L),providedIn:"root"})}return n})(),$L=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_S=new j("");var ES=new j(""),IS=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ve;transitionAbortWithErrorSubject=new Ve;configLoader=M(mS);environmentInjector=M(Ne);destroyRef=M(Sr);urlSerializer=M(mc);rootContexts=M(rs);location=M(Ho);inputBindingEnabled=M(ih,{optional:!0})!==null;titleStrategy=M(By);options=M(Ec,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(sh);createViewTransition=M(_S,{optional:!0});navigationErrorHandler=M(ES,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Gd(i)),r=i=>this.events.next(new Wd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ee(k({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new Qe(null),this.transitions.pipe(gt(r=>r!==null),wt(r=>{let i=!1;return W(r).pipe(wt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),Et;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ee(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload"){let u="";return this.events.next(new Qn(o.id,this.urlSerializer.serialize(o.rawUrl),u,ac.IgnoredSameUrlNavigation)),o.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return W(o).pipe(wt(u=>(this.events.next(new xi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Et:Promise.resolve(u))),FL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),He(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ee(k({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new cc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new xi(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let C=rS(this.rootComponentType).snapshot;return this.currentTransition=r=ee(k({},o),{targetSnapshot:C,urlAfterRedirects:l,extras:ee(k({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,W(r)}else{let u="";return this.events.next(new Qn(o.id,this.urlSerializer.serialize(o.extractedUrl),u,ac.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Et}}),He(o=>{let s=new $d(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Q(o=>(this.currentTransition=r=ee(k({},o),{guards:tL(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),hL(this.environmentInjector,o=>this.events.next(o)),He(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw th(this.urlSerializer,o.guardsResult);let s=new Hd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),gt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",vt.GuardRejected),!1)),Ty(o=>{if(o.guards.canActivateChecks.length!==0)return W(o).pipe(He(s=>{let c=new zd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),wt(s=>{let c=!1;return W(s).pipe(LL(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",vt.NoDataFromResolver)}}))}),He(s=>{let c=new qd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),Ty(o=>{let s=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(He(l=>{c.component=l}),Q(()=>{})));for(let l of c.children)u.push(...s(l));return u};return cl(s(o.targetSnapshot.root)).pipe(yr(null),Fn(1))}),Ty(()=>this.afterPreactivation()),wt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Te(c).pipe(Q(()=>r)):W(r)}),Q(o=>{let s=YF(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ee(k({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),He(()=>{this.events.next(new uc)}),eL(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Fn(1),hl(new K(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(gt(()=>!i&&!r.targetRouterState),He(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",vt.Aborted)}))),He({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),hl(this.transitionAbortWithErrorSubject.pipe(He(o=>{throw o}))),ri(()=>{i||this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),gr(o=>{if(this.destroyed)return r.resolve(!1),Et;if(i=!0,uS(o))this.events.next(new In(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),XF(o)?this.events.next(new es(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Xo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Ue(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof ts){let{message:u,cancellationCode:l}=th(this.urlSerializer,c);this.events.next(new In(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new es(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Et}))}))}cancelNavigationTransition(t,r,i){let o=new In(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HL(n){return n!==ic}var wS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>M(zL),providedIn:"root"})}return n})(),rh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},zL=(()=>{class n extends rh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TS=(()=>{class n{urlSerializer=M(mc);options=M(Ec,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(Ho);urlHandlingStrategy=M(sh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof wn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=rS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>M(qL),providedIn:"root"})}return n})(),qL=(()=>{class n extends TS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof xi?this.updateStateMemento():t instanceof Qn?this.commitTransition(r):t instanceof cc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof uc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof In&&t.code!==vt.SupersededByNewNavigation&&t.code!==vt.Redirect?this.restoreHistory(r):t instanceof Xo?this.restoreHistory(r,!0):t instanceof Kn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=k(k({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $y(n,e){n.events.pipe(gt(t=>t instanceof Kn||t instanceof In||t instanceof Xo||t instanceof Qn),Q(t=>t instanceof Kn||t instanceof Qn?0:(t instanceof In?t.code===vt.Redirect||t.code===vt.SupersededByNewNavigation:!1)?2:1),gt(t=>t!==2),Fn(1)).subscribe(()=>{e()})}var GL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ah=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(Vm);stateManager=M(TS);options=M(Ec,{optional:!0})||{};pendingTasks=M($n);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(IS);urlSerializer=M(mc);location=M(Ho);urlHandlingStrategy=M(sh);injector=M(Ne);_events=new Ve;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(wS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(Ic,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(ih,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Se;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof In&&r.code!==vt.Redirect&&r.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Kn)this.navigated=!0;else if(r instanceof es){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||HL(i.source)},s);this.scheduleNavigation(c,ic,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}GF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ic,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.injector.get(St)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Uy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=Xb(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return eS(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Jo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ic,null,r)}navigate(t,r={skipLocationChange:!1}){return KL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},GL):r===!1?i=k({},WL):i=r,Jo(t))return kb(this.currentUrlTree,t,i);let o=this.parseUrl(t);return kb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let h=this.pendingTasks.add();return $y(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}var YL=new j("");function Hy(n,...e){return Xt([{provide:Ic,multi:!0,useValue:n},[],{provide:Or,useFactory:ZL,deps:[ah]},{provide:dd,multi:!0,useFactory:JL},e.map(t=>t.\u0275providers)])}function ZL(n){return n.routerState.root}function JL(){let n=M(Je);return e=>{let t=n.get(Ci);if(e!==t.components[0])return;let r=n.get(ah),i=n.get(XL);n.get(eV)===1&&r.initialNavigation(),n.get(tV,null,{optional:!0})?.setUpPreloading(),n.get(YL,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var XL=new j("",{factory:()=>new Ve}),eV=new j("",{providedIn:"root",factory:()=>1});var tV=new j("");var DS=()=>{};var SS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},rV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ch={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(SS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new qy;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},qy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},iV=function(n){let e=SS(n);return ch.encodeByteArray(e,!0)},Tc=function(n){return iV(n).replace(/\./g,"")},uh=function(n){try{return ch.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var oV=()=>Wy().__FIREBASE_DEFAULTS__,sV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&uh(n[1]);return e&&JSON.parse(e)},lh=()=>{try{return DS()||oV()||sV()||aV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},AS=n=>{var e,t;return(t=(e=lh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},RS=n=>{let e=AS(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ky=()=>{var n;return(n=lh())===null||n===void 0?void 0:n.config},NS=n=>{var e;return(e=lh())===null||e===void 0?void 0:e[`_${n}`]};var ki=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Oi(n){return n.endsWith(".cloudworkstations.dev")}function Qy(n){return S(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function MS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Tc(JSON.stringify(t)),Tc(JSON.stringify(s)),""].join(".")}var wc={};function cV(){let n={prod:[],emulator:[]};for(let e of Object.keys(wc))wc[e]?n.emulator.push(e):n.prod.push(e);return n}function uV(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var CS=!1;function Yy(n,e){if(typeof window>"u"||typeof document>"u"||!Oi(window.location.host)||wc[n]===e||wc[n]||CS)return;wc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=cV().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{CS=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=uV(r),y=t("text"),C=document.getElementById(y)||document.createElement("span"),N=t("learnmore"),R=document.getElementById(N)||document.createElement("a"),O=t("preprendIcon"),G=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let U=m.element;c(U),h(R,N);let he=l();u(G,O),U.append(G,C,R,he),document.body.appendChild(U)}o?(C.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function lV(){var n;let e=(n=lh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function OS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FS(){return!lV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dc(){try{return typeof indexedDB=="object"}catch{return!1}}function LS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var dV="FirebaseError",Wt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=dV,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cn.prototype.create)}},cn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?hV(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Wt(i,c,r)}};function hV(n,e){return n.replace(fV,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var fV=/\{\$([^}]+)}/g;function Fi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(bS(o)&&bS(s)){if(!Fi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function bS(n){return n!==null&&typeof n=="object"}function Zy(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function VS(n,e){let t=new Gy(n,e);return t.subscribe.bind(t)}var Gy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=zy),i.error===void 0&&(i.error=zy),i.complete===void 0&&(i.complete=zy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function pV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zy(){}var wee=4*60*60*1e3;function lt(n){return n&&n._delegate?n._delegate:n}var _t=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Li="[DEFAULT]";var Jy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ki;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mV(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gV(n){return n===Li?void 0:n}function mV(n){return n.instantiationMode==="EAGER"}var dh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Jy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var yV=[],se=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(se||{}),vV={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},_V=se.INFO,EV={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},IV=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=EV[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Tn=class{constructor(e){this.name=e,this._logLevel=_V,this._logHandler=IV,this._userLogHandler=null,yV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var wV=(n,e)=>e.some(t=>n instanceof t),jS,US;function TV(){return jS||(jS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DV(){return US||(US=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var BS=new WeakMap,ev=new WeakMap,$S=new WeakMap,Xy=new WeakMap,nv=new WeakMap;function CV(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Dn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&BS.set(t,n)}).catch(()=>{}),nv.set(e,n),e}function bV(n){if(ev.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});ev.set(n,e)}var tv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ev.get(n);if(e==="objectStoreNames")return n.objectStoreNames||$S.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Dn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HS(n){tv=n(tv)}function SV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(hh(this),e,...t);return $S.set(r,e.sort?e.sort():[e]),Dn(r)}:DV().includes(n)?function(...e){return n.apply(hh(this),e),Dn(BS.get(this))}:function(...e){return Dn(n.apply(hh(this),e))}}function AV(n){return typeof n=="function"?SV(n):(n instanceof IDBTransaction&&bV(n),wV(n,TV())?new Proxy(n,tv):n)}function Dn(n){if(n instanceof IDBRequest)return CV(n);if(Xy.has(n))return Xy.get(n);let e=AV(n);return e!==n&&(Xy.set(n,e),nv.set(e,n)),e}var hh=n=>nv.get(n);function qS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=Dn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Dn(s.result),u.oldVersion,u.newVersion,Dn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var RV=["get","getKey","getAll","getAllKeys","count"],NV=["put","add","delete","clear"],rv=new Map;function zS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rv.get(e))return rv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=NV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RV.includes(t)))return;let o=function(s,...c){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return rv.set(e,o),o}HS(n=>ee(k({},n),{get:(e,t,r)=>zS(e,t)||n.get(e,t,r),has:(e,t)=>!!zS(e,t)||n.has(e,t)}));var ov=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MV(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function MV(n){let e=n.getComponent();return e?.type==="VERSION"}var sv="@firebase/app",GS="0.13.1";var Zn=new Tn("@firebase/app"),PV="@firebase/app-compat",xV="@firebase/analytics-compat",kV="@firebase/analytics",OV="@firebase/app-check-compat",FV="@firebase/app-check",LV="@firebase/auth",VV="@firebase/auth-compat",jV="@firebase/database",UV="@firebase/data-connect",BV="@firebase/database-compat",$V="@firebase/functions",HV="@firebase/functions-compat",zV="@firebase/installations",qV="@firebase/installations-compat",GV="@firebase/messaging",WV="@firebase/messaging-compat",KV="@firebase/performance",QV="@firebase/performance-compat",YV="@firebase/remote-config",ZV="@firebase/remote-config-compat",JV="@firebase/storage",XV="@firebase/storage-compat",e2="@firebase/firestore",t2="@firebase/ai",n2="@firebase/firestore-compat",r2="firebase",i2="11.9.0";var av="[DEFAULT]",o2={[sv]:"fire-core",[PV]:"fire-core-compat",[kV]:"fire-analytics",[xV]:"fire-analytics-compat",[FV]:"fire-app-check",[OV]:"fire-app-check-compat",[LV]:"fire-auth",[VV]:"fire-auth-compat",[jV]:"fire-rtdb",[UV]:"fire-data-connect",[BV]:"fire-rtdb-compat",[$V]:"fire-fn",[HV]:"fire-fn-compat",[zV]:"fire-iid",[qV]:"fire-iid-compat",[GV]:"fire-fcm",[WV]:"fire-fcm-compat",[KV]:"fire-perf",[QV]:"fire-perf-compat",[YV]:"fire-rc",[ZV]:"fire-rc-compat",[JV]:"fire-gcs",[XV]:"fire-gcs-compat",[e2]:"fire-fst",[n2]:"fire-fst-compat",[t2]:"fire-vertex","fire-js":"fire-js",[r2]:"fire-js-all"};var Cc=new Map,s2=new Map,cv=new Map;function WS(n,e){try{n.container.addComponent(e)}catch(t){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function un(n){let e=n.name;if(cv.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;cv.set(e,n);for(let t of Cc.values())WS(t,n);for(let t of s2.values())WS(t,n);return!0}function fh(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jn(n){return n==null?!1:n.settings!==void 0}var a2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new cn("app","Firebase",a2);var uv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}};var os=i2;function hv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:av,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(t||(t=Ky()),!t)throw Fr.create("no-options");let o=Cc.get(i);if(o){if(Fi(t,o.options)&&Fi(r,o.config))return o;throw Fr.create("duplicate-app",{appName:i})}let s=new dh(i);for(let u of cv.values())s.addComponent(u);let c=new uv(t,r,s);return Cc.set(i,c),c}function ss(n=av){let e=Cc.get(n);if(!e&&n===av&&Ky())return hv();if(!e)throw Fr.create("no-app",{appName:n});return e}function ph(){return Array.from(Cc.values())}function Pe(n,e,t){var r;let i=(r=o2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(c.join(" "));return}un(new _t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var c2="firebase-heartbeat-database",u2=1,bc="firebase-heartbeat-store",iv=null;function ZS(){return iv||(iv=qS(c2,u2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fr.create("idb-open",{originalErrorMessage:n.message})})),iv}function l2(n){return S(this,null,function*(){try{let t=(yield ZS()).transaction(bc),r=yield t.objectStore(bc).get(JS(n));return yield t.done,r}catch(e){if(e instanceof Wt)Zn.warn(e.message);else{let t=Fr.create("idb-get",{originalErrorMessage:e?.message});Zn.warn(t.message)}}})}function KS(n,e){return S(this,null,function*(){try{let r=(yield ZS()).transaction(bc,"readwrite");yield r.objectStore(bc).put(e,JS(n)),yield r.done}catch(t){if(t instanceof Wt)Zn.warn(t.message);else{let r=Fr.create("idb-set",{originalErrorMessage:t?.message});Zn.warn(r.message)}}})}function JS(n){return`${n.name}!${n.options.appId}`}var d2=1024,h2=30,lv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new dv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=QS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>h2){let s=p2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zn.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=QS(),{heartbeatsToSend:r,unsentEntries:i}=f2(this._heartbeatsCache.heartbeats),o=Tc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Zn.warn(t),""}})}};function QS(){return new Date().toISOString().substring(0,10)}function f2(n,e=d2){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),YS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),YS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var dv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Dc()?LS().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield l2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function YS(n){return Tc(JSON.stringify({version:2,heartbeats:n})).length}function p2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function g2(n){un(new _t("platform-logger",e=>new ov(e),"PRIVATE")),un(new _t("heartbeat",e=>new lv(e),"PRIVATE")),Pe(sv,GS,n),Pe(sv,GS,"esm2017"),Pe("fire-js","")}g2("");var m2="firebase",y2="11.9.1";Pe(m2,y2,"app");function XS(n){n===void 0&&(n=M(Je));let e=n.get(Ar);return t=>new K(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var ji=new Bo("ANGULARFIRE2_VERSION");function mh(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var cs=(n,e)=>{let t=e?[e]:ph(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},as=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(as||{}),eA=ty()&&typeof Zone<"u"?as.WARN:as.SILENT;var gh=class{zone;delegate;constructor(e,t=Pp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Ui=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(ve);this.outsideAngular=t.runOutsideAngular(()=>new gh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new gh(typeof Zone>"u"?void 0:Zone.current,Mp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tA=!1;function v2(n,e){!tA&&(eA>as.SILENT||ty())&&(tA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),eA>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function _2(n){let e=M(ve,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Vi(n){let e=M(ve,{optional:!0});return e?e.run(()=>n()):n()}var E2=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ue(t,()=>Vi(()=>n.apply(void 0,r)))),Kt=(n,e,t)=>(t||=e?as.WARN:as.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=M(Ui),s=M(Ar),c=M(Ne)}catch{return v2(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Vi(()=>s.add())),i[l]=E2(i[l],r,c));let u=_2(()=>n.apply(this,i));return e?u instanceof K?u.pipe(pr(o.outsideAngular),fr(o.insideAngular),XS(c)):u instanceof Promise?Vi(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Ue(c,()=>Vi(()=>h(m))),m=>Ue(c,()=>Vi(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Vi(()=>u):u instanceof K?u.pipe(pr(o.outsideAngular),fr(o.insideAngular)):Vi(()=>u)});var Bi=class{constructor(e){return e}},Sc=class{constructor(){return ph()}};function I2(n){return n&&n.length===1?n[0]:new Bi(ss())}var fv=new j("angularfire2._apps"),w2={provide:Bi,useFactory:I2,deps:[[new vn,fv]]},T2={provide:Sc,deps:[[new vn,fv]]};function D2(n){return(e,t)=>{let r=t.get(Nr);Pe("angularfire",ji.full,"core"),Pe("angularfire",ji.full,"app"),Pe("angular",eb.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Bi(i)}}function nA(n,...e){return Xt([w2,T2,{provide:fv,useFactory:D2(n),multi:!0,deps:[ve,Je,Ui,...e]}])}var rA=Kt(hv,!0);var C2=new Map,b2={activated:!1,tokenObservers:[]},S2={initialized:!1,enabled:!1};function ln(n){return C2.get(n)||Object.assign({},b2)}function aA(){return S2}var A2="https://content-firebaseappcheck.googleapis.com/v1";var R2="exchangeDebugToken",iA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Cte=24*60*60*1e3;var mv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return S(this,null,function*(){this.stop();try{this.pending=new ki,this.pending.promise.catch(t=>{}),yield N2(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ki,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function N2(n){return new Promise(e=>{setTimeout(e,n)})}var M2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Lr=new cn("appCheck","AppCheck",M2);function cA(n){if(!ln(n).activated)throw Lr.create("use-before-activation",{appName:n.name})}function uA(r,i){return S(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(y){throw Lr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Lr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Lr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Lr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function lA(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${A2}/projects/${t}/apps/${r}:${R2}?key=${i}`,body:{debug_token:e}}}var P2="firebase-app-check-database",x2=1,yv="firebase-app-check-store";var yh=null;function k2(){return yh||(yh=new Promise((n,e)=>{try{let t=indexedDB.open(P2,x2);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Lr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(yv,{keyPath:"compositeKey"})}}}catch(t){e(Lr.create("storage-open",{originalErrorMessage:t?.message}))}}),yh)}function O2(n,e){return F2(L2(n),e)}function F2(n,e){return S(this,null,function*(){let r=(yield k2()).transaction(yv,"readwrite"),o=r.objectStore(yv).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Lr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function L2(n){return`${n.options.appId}-${n.name}`}var Ac=new Tn("@firebase/app-check");function pv(n,e){return Dc()?O2(n,e).catch(t=>{Ac.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function dA(){return aA().enabled}function hA(){return S(this,null,function*(){let n=aA();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var V2={error:"UNKNOWN_ERROR"};function j2(n){return ch.encodeString(JSON.stringify(n),!1)}function vv(n,e=!1,t=!1){return S(this,null,function*(){let r=n.app;cA(r);let i=ln(r),o=i.token,s;if(o&&!Rc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Rc(l)?o=l:yield pv(r,void 0))}if(!e&&o&&Rc(o))return{token:o.token};let c=!1;if(dA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=uA(lA(r,yield hA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield pv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ac.warn(l.message):t&&Ac.error(l),gv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield ln(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ac.warn(l.message):t&&Ac.error(l),s=l}let u;return o?s?Rc(o)?u={token:o.token,internalError:s}:u=gv(s):(u={token:o.token},i.token=o,yield pv(r,o)):u=gv(s),c&&H2(r,u),u})}function U2(n){return S(this,null,function*(){let e=n.app;cA(e);let{provider:t}=ln(e);if(dA()){let r=yield hA(),{token:i}=yield uA(lA(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function B2(n,e,t,r){let{app:i}=n,o=ln(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Rc(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),oA(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>oA(n))}function fA(n,e){let t=ln(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function oA(n){let{app:e}=n,t=ln(e),r=t.tokenRefresher;r||(r=$2(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function $2(n){let{app:e}=n;return new mv(()=>S(null,null,function*(){let t=ln(e),r;if(t.token?r=yield vv(n,!0):r=yield vv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=ln(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},iA.RETRIAL_MIN_WAIT,iA.RETRIAL_MAX_WAIT)}function H2(n,e){let t=ln(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Rc(n){return n.expireTimeMillis-Date.now()>0}function gv(n){return{token:j2(V2),error:n}}var _v=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ln(this.app);for(let t of e)fA(this.app,t.next);return Promise.resolve()}};function z2(n,e){return new _v(n,e)}function q2(n){return{getToken:e=>vv(n,e),getLimitedUseToken:()=>U2(n),addTokenListener:e=>B2(n,"INTERNAL",e),removeTokenListener:e=>fA(n.app,e)}}var G2="@firebase/app-check",W2="0.10.0";var K2="app-check",sA="app-check-internal";function Q2(){un(new _t(K2,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return z2(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(sA).initialize()})),un(new _t(sA,n=>{let e=n.getProvider("app-check").getImmediate();return q2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Pe(G2,W2)}Q2();var Y2="app-check";var vh=class{constructor(){return cs(Y2)}};var Z2=["localhost","0.0.0.0","127.0.0.1"],Vte=typeof window<"u"&&Z2.includes(window.location.hostname);function IA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var wA=IA,TA=new cn("auth","Firebase",IA());var wh=new Tn("@firebase/auth");function X2(n,...e){wh.logLevel<=se.WARN&&wh.warn(`Auth (${os}): ${n}`,...e)}function Eh(n,...e){wh.logLevel<=se.ERROR&&wh.error(`Auth (${os}): ${n}`,...e)}function pA(n,...e){throw Mv(n,...e)}function Nv(n,...e){return Mv(n,...e)}function DA(n,e,t){let r=Object.assign(Object.assign({},wA()),{[e]:t});return new cn("auth","Firebase",r).create(e,{appName:n.name})}function Ih(n){return DA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return TA.create(n,...e)}function me(n,e,...t){if(!n)throw Mv(e,...t)}function Nc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Eh(e),new Error(e)}function Th(n,e){n||Nc(e)}function ej(){return gA()==="http:"||gA()==="https:"}function gA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function tj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ej()||kS()||"connection"in navigator)?navigator.onLine:!0}function nj(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var zi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Th(t>e,"Short delay should be less than long delay!"),this.isMobile=PS()||OS()}get(){return tj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function rj(n,e){Th(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Dh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var ij={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var oj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sj=new zi(3e4,6e4);function CA(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Rh(o,s,c,u){return S(this,arguments,function*(n,e,t,r,i={}){return bA(n,i,()=>S(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Zy(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return xS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Oi(n.emulatorConfig.host)&&(y.credentials="include"),Dh.fetch()(yield SA(n,n.config.apiHost,t,p),y)}))})}function bA(n,e,t){return S(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},ij),e);try{let i=new wv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw _h(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw _h(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw _h(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw DA(n,h,l);pA(n,h)}}catch(i){if(i instanceof Wt)throw i;pA(n,"network-request-failed",{message:String(i)})}})}function SA(n,e,t,r){return S(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?rj(n.config,i):`${n.config.apiScheme}://${i}`;return oj.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var wv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Nv(this.auth,"network-request-failed")),sj.get())})}};function _h(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Nv(n,e,r);return i.customData._tokenResponse=t,i}function aj(n,e){return S(this,null,function*(){return Rh(n,"POST","/v1/accounts:delete",e)})}function Ch(n,e){return S(this,null,function*(){return Rh(n,"POST","/v1/accounts:lookup",e)})}function Mc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Pv(n,e=!1){return S(this,null,function*(){let t=lt(n),r=yield t.getIdToken(e),i=AA(r);me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Mc(Ev(i.auth_time)),issuedAtTime:Mc(Ev(i.iat)),expirationTime:Mc(Ev(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ev(n){return Number(n)*1e3}function AA(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{let i=uh(t);return i?JSON.parse(i):(Eh("Failed to decode base64 JWT payload"),null)}catch(i){return Eh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mA(n){let e=AA(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Tv(n,e,t=!1){return S(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Wt&&cj(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function cj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Dv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),t)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var xc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bh(n){return S(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Tv(n,Ch(t,{idToken:r}));me(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?RA(o.providerUserInfo):[],c=uj(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new xc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function xv(n){return S(this,null,function*(){let e=lt(n);yield bh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function uj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RA(n){return n.map(e=>{var{providerId:t}=e,r=xp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function lj(n,e){return S(this,null,function*(){let t=yield bA(n,{},()=>S(null,null,function*(){let r=Zy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield SA(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Oi(n.emulatorConfig.host)&&(u.credentials="include"),Dh.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function dj(n,e){return S(this,null,function*(){return Rh(n,"POST","/v2/accounts:revokeToken",CA(n,e))})}var Pc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");let t=mA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return S(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield lj(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Nc("not implemented")}};function Vr(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var $i=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let t=yield Tv(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Pv(this,e)}reload(){return xv(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield bh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(Jn(this.auth.app))return Promise.reject(Ih(this.auth));let e=yield this.getIdToken();return yield Tv(this,aj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=t.createdAt)!==null&&l!==void 0?l:void 0,G=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:U,emailVerified:he,isAnonymous:We,providerData:fe,stsTokenManager:w}=t;me(U&&w,e,"internal-error");let v=Pc.fromJSON(this.name,w);me(typeof U=="string",e,"internal-error"),Vr(p,e.name),Vr(m,e.name),me(typeof he=="boolean",e,"internal-error"),me(typeof We=="boolean",e,"internal-error"),Vr(y,e.name),Vr(C,e.name),Vr(N,e.name),Vr(R,e.name),Vr(O,e.name),Vr(G,e.name);let E=new n({uid:U,auth:e,email:m,emailVerified:he,displayName:p,isAnonymous:We,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:O,lastLoginAt:G});return fe&&Array.isArray(fe)&&(E.providerData=fe.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,t,r=!1){return S(this,null,function*(){let i=new Pc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return S(this,null,function*(){let i=t.users[0];me(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?RA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Pc;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var yA=new Map;function Hi(n){Th(n instanceof Function,"Expected a class definition");let e=yA.get(n);return e?(Th(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,yA.set(n,e),e)}var hj=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(t,r){return S(this,null,function*(){this.storage[t]=r})}_get(t){return S(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return S(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Cv=hj;function Iv(n,e,t){return`firebase:${n}:${e}:${t}`}var Sh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Iv(this.userKey,i.apiKey,o),this.fullPersistenceKey=Iv("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Ch(this.auth,{idToken:e}).catch(()=>{});return t?$i._fromGetAccountInfoResponse(this.auth,t,e):null}return $i._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return S(this,null,function*(){if(!t.length)return new n(Hi(Cv),e,r);let i=(yield Promise.all(t.map(l=>S(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Hi(Cv),s=Iv(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Ch(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield $i._fromGetAccountInfoResponse(e,m,h)}else p=$i._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>S(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function vA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vj(e))return"Blackberry";if(_j(e))return"Webos";if(pj(e))return"Safari";if((e.includes("chrome/")||gj(e))&&!e.includes("edge/"))return"Chrome";if(yj(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function fj(n=Ft()){return/firefox\//i.test(n)}function pj(n=Ft()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gj(n=Ft()){return/crios\//i.test(n)}function mj(n=Ft()){return/iemobile/i.test(n)}function yj(n=Ft()){return/android/i.test(n)}function vj(n=Ft()){return/blackberry/i.test(n)}function _j(n=Ft()){return/webos/i.test(n)}function NA(n,e=[]){let t;switch(n){case"Browser":t=vA(Ft());break;case"Worker":t=`${vA(Ft())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${os}/${r}`}var bv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Ej(t){return S(this,arguments,function*(n,e={}){return Rh(n,"GET","/v2/passwordPolicy",CA(n,e))})}var Ij=6,Sv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Ij,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Av=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ah(this),this.idTokenSubscription=new Ah(this),this.beforeStateQueue=new bv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hi(t)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Sh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let t=yield Ch(this,{idToken:e}),r=yield $i._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var t;if(Jn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield bh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=nj()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(Jn(this.app))return Promise.reject(Ih(this));let t=e?lt(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return S(this,null,function*(){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return Jn(this.app)?Promise.reject(Ih(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Jn(this.app)?Promise.reject(Ih(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Hi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield Ej(this),t=new Sv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield dj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Hi(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=yield Sh.create(this,[Hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return S(this,null,function*(){var e;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&X2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function wj(n){return lt(n)}var Ah=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=VS(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Tj={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dj(n){Tj=n}function Cj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function bj(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Hi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var Yte=Cj("rcb"),Zte=new zi(3e4,6e4);var Jte=new zi(2e3,1e4);var Xte=10*60*1e3;var ene=new zi(3e4,6e4);var tne=new zi(5e3,15e3);var nne=encodeURIComponent("fac");var _A="@firebase/auth",EA="1.10.7";var Rv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Sj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aj(n){un(new _t("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NA(n)},l=new Av(r,i,o,u);return bj(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),un(new _t("auth-internal",e=>{let t=wj(e.getProvider("auth").getImmediate());return(r=>new Rv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(_A,EA,Sj(n)),Pe(_A,EA,"esm2017")}var Rj=5*60,rne=NS("authIdTokenMaxAge")||Rj;function Nj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Dj({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Nv("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Nj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aj("Browser");var AU="auth";var Nh=class{constructor(){return cs(AU)}};var MA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},PA={};var Xn,kv;(function(){var n;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,T,b){for(var _=Array(arguments.length-2),Mn=2;Mn<arguments.length;Mn++)_[Mn-2]=arguments[Mn];return v.prototype[T].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)I[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)I[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],T=w.g[2];var b=w.g[3],_=v+(b^E&(T^b))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=b+(T^v&(E^T))+I[1]+3905402710&4294967295,b=v+(_<<12&4294967295|_>>>20),_=T+(E^b&(v^E))+I[2]+606105819&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(v^T&(b^v))+I[3]+3250441966&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(b^E&(T^b))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(T^v&(E^T))+I[5]+1200080426&4294967295,b=v+(_<<12&4294967295|_>>>20),_=T+(E^b&(v^E))+I[6]+2821735955&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(v^T&(b^v))+I[7]+4249261313&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(b^E&(T^b))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(T^v&(E^T))+I[9]+2336552879&4294967295,b=v+(_<<12&4294967295|_>>>20),_=T+(E^b&(v^E))+I[10]+4294925233&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(v^T&(b^v))+I[11]+2304563134&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(b^E&(T^b))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(T^v&(E^T))+I[13]+4254626195&4294967295,b=v+(_<<12&4294967295|_>>>20),_=T+(E^b&(v^E))+I[14]+2792965006&4294967295,T=b+(_<<17&4294967295|_>>>15),_=E+(v^T&(b^v))+I[15]+1236535329&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(T^b&(E^T))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(v^E))+I[6]+3225465664&4294967295,b=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(b^v))+I[11]+643717713&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(T^b))+I[0]+3921069994&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^b&(E^T))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(v^E))+I[10]+38016083&4294967295,b=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(b^v))+I[15]+3634488961&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(T^b))+I[4]+3889429448&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^b&(E^T))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(v^E))+I[14]+3275163606&4294967295,b=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(b^v))+I[3]+4107603335&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(T^b))+I[8]+1163531501&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^b&(E^T))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^T&(v^E))+I[2]+4243563512&4294967295,b=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(b^v))+I[7]+1735328473&4294967295,T=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(T^b))+I[12]+2368359562&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(E^T^b)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^T)+I[8]+2272392833&4294967295,b=v+(_<<11&4294967295|_>>>21),_=T+(b^v^E)+I[11]+1839030562&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^v)+I[14]+4259657740&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^b)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^T)+I[4]+1272893353&4294967295,b=v+(_<<11&4294967295|_>>>21),_=T+(b^v^E)+I[7]+4139469664&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^v)+I[10]+3200236656&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^b)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^T)+I[0]+3936430074&4294967295,b=v+(_<<11&4294967295|_>>>21),_=T+(b^v^E)+I[3]+3572445317&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^v)+I[6]+76029189&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^b)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^T)+I[12]+3873151461&4294967295,b=v+(_<<11&4294967295|_>>>21),_=T+(b^v^E)+I[15]+530742520&4294967295,T=b+(_<<16&4294967295|_>>>16),_=E+(T^b^v)+I[2]+3299628645&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(T^(E|~b))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~T))+I[7]+1126891415&4294967295,b=v+(_<<10&4294967295|_>>>22),_=T+(v^(b|~E))+I[14]+2878612391&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~v))+I[5]+4237533241&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~b))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~T))+I[3]+2399980690&4294967295,b=v+(_<<10&4294967295|_>>>22),_=T+(v^(b|~E))+I[10]+4293915773&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~v))+I[1]+2240044497&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~b))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~T))+I[15]+4264355552&4294967295,b=v+(_<<10&4294967295|_>>>22),_=T+(v^(b|~E))+I[6]+2734768916&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~v))+I[13]+1309151649&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~b))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~T))+I[11]+3174756917&4294967295,b=v+(_<<10&4294967295|_>>>22),_=T+(v^(b|~E))+I[2]+718787259&4294967295,T=b+(_<<15&4294967295|_>>>17),_=E+(b^(T|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+b&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,T=this.h,b=0;b<v;){if(T==0)for(;b<=E;)i(this,w,b),b+=this.blockSize;if(typeof w=="string"){for(;b<v;)if(I[T++]=w.charCodeAt(b++),T==this.blockSize){i(this,I),T=0;break}}else for(;b<v;)if(I[T++]=w[b++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=c;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,T=w.length-1;0<=T;T--){var b=w[T]|0;I&&b==v||(E[T]=b,I=!1)}this.g=E}var c={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,T=0;T<w.length;T+=8){var b=Math.min(8,w.length-T),_=parseInt(w.substring(T,T+b),v);8>b?(b=l(Math.pow(v,b)),I=I.j(b).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C(this))return"0";if(N(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var T=he(E,v).g;E=O(E,T.j(v));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=T,C(E))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function C(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function N(w){return w.h==-1}n.l=function(w){return w=O(this,w),N(w)?-1:C(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return N(this)?R(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,T=0;T<=v;T++){var b=I+(this.i(T)&65535)+(w.i(T)&65535),_=(b>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);I=_>>>16,b&=65535,_&=65535,E[T]=_<<16|b}return new s(E,E[E.length-1]&-2147483648?-1:0)};function O(w,v){return w.add(R(v))}n.j=function(w){if(C(this)||C(w))return p;if(N(this))return N(w)?R(this).j(R(w)):R(R(this).j(w));if(N(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<w.g.length;T++){var b=this.i(I)>>>16,_=this.i(I)&65535,Mn=w.i(T)>>>16,js=w.i(T)&65535;E[2*I+2*T]+=_*js,G(E,2*I+2*T),E[2*I+2*T+1]+=b*js,G(E,2*I+2*T+1),E[2*I+2*T+1]+=_*Mn,G(E,2*I+2*T+1),E[2*I+2*T+2]+=b*Mn,G(E,2*I+2*T+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function G(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function U(w,v){this.g=w,this.h=v}function he(w,v){if(C(v))throw Error("division by zero");if(C(w))return new U(p,p);if(N(w))return v=he(R(w),v),new U(R(v.g),R(v.h));if(N(v))return v=he(w,R(v)),new U(R(v.g),v.h);if(30<w.g.length){if(N(w)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=We(E),I=We(I);var T=fe(E,1),b=fe(I,1);for(I=fe(I,2),E=fe(E,2);!C(I);){var _=b.add(I);0>=_.l(w)&&(T=T.add(E),b=_),I=fe(I,1),E=fe(E,1)}return v=O(w,T.j(v)),new U(T,v)}for(T=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=l(E),_=b.j(v);N(_)||0<_.l(w);)E-=I,b=l(E),_=b.j(v);C(b)&&(b=m),T=T.add(b),w=O(w,_)}return new U(T,w)}n.A=function(w){return he(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function We(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function fe(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,T=[],b=0;b<I;b++)T[b]=0<v?w.i(b+E)>>>v|w.i(b+E+1)<<32-v:w.i(b+E);return new s(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kv=PA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Xn=PA.Integer=s}).apply(typeof MA<"u"?MA:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},er={};var Ov,RU,us,Fv,kc,Ph,Lv,Vv,jv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in f))break e;f=f[D]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,D={next:function(){if(!g&&f<a.length){var A=f++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function C(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,D,A){for(var F=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)F[_e-2]=arguments[_e];return d.prototype[D].apply(g,F)}}function N(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function R(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=a.length||0,A=g.length||0;a.length=D+A;for(let F=0;F<A;F++)a[D+F]=g[F]}else a.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(a){return/^[\s\xa0]*$/.test(a)}function U(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function he(a){return he[" "](a),a}he[" "]=function(){};var We=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function fe(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function w(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function v(a){let d={};for(let f in a)d[f]=a[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)a[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function T(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=$f;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Mn{constructor(){this.h=this.g=null}add(d,f){let g=js.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var js=new O(()=>new jN,a=>a.reset());class jN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Us,Bs=!1,$f=new Mn,pI=()=>{let a=c.Promise.resolve(void 0);Us=()=>{a.then(UN)}};var UN=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){b(f)}var d=js;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Bs=!1};function cr(){this.s=this.s,this.C=this.C}cr.prototype.s=!1,cr.prototype.ma=function(){this.s||(this.s=!0,this.N())},cr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var BN=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function $s(a,d){if(nt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(We){e:{try{he(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:$N[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&$s.aa.h.call(this)}}C($s,nt);var $N={2:"touch",3:"pen",4:"mouse"};$s.prototype.h=function(){$s.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Hs="closure_listenable_"+(1e6*Math.random()|0),HN=0;function zN(a,d,f,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++HN,this.da=this.fa=!1}function au(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function cu(a){this.src=a,this.g={},this.h=0}cu.prototype.add=function(a,d,f,g,D){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var F=zf(a,d,g,D);return-1<F?(d=a[F],f||(d.fa=!1)):(d=new zN(d,this.src,A,!!g,D),d.fa=f,a.push(d)),d};function Hf(a,d){var f=d.type;if(f in a.g){var g=a.g[f],D=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(g,D,1),A&&(au(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function zf(a,d,f,g){for(var D=0;D<a.length;++D){var A=a[D];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return D}return-1}var qf="closure_lm_"+(1e6*Math.random()|0),Gf={};function gI(a,d,f,g,D){if(g&&g.once)return yI(a,d,f,g,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)gI(a,d[A],f,g,D);return null}return f=Yf(f),a&&a[Hs]?a.K(d,f,l(g)?!!g.capture:!!g,D):mI(a,d,f,!1,g,D)}function mI(a,d,f,g,D,A){if(!d)throw Error("Invalid event type");var F=l(D)?!!D.capture:!!D,_e=Kf(a);if(_e||(a[qf]=_e=new cu(a)),f=_e.add(d,f,g,F,A),f.proxy)return f;if(g=qN(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)BN||(D=F),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent(_I(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function qN(){function a(f){return d.call(a.src,a.listener,f)}let d=GN;return a}function yI(a,d,f,g,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)yI(a,d[A],f,g,D);return null}return f=Yf(f),a&&a[Hs]?a.L(d,f,l(g)?!!g.capture:!!g,D):mI(a,d,f,!0,g,D)}function vI(a,d,f,g,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)vI(a,d[A],f,g,D);else g=l(g)?!!g.capture:!!g,f=Yf(f),a&&a[Hs]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],f=zf(A,f,g,D),-1<f&&(au(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=Kf(a))&&(d=a.g[d.toString()],a=-1,d&&(a=zf(d,f,g,D)),(f=-1<a?d[a]:null)&&Wf(f))}function Wf(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Hs])Hf(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(_I(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Kf(d))?(Hf(f,a),f.h==0&&(f.src=null,d[qf]=null)):au(a)}}}function _I(a){return a in Gf?Gf[a]:Gf[a]="on"+a}function GN(a,d){if(a.da)a=!0;else{d=new $s(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&Wf(a),a=f.call(g,d)}return a}function Kf(a){return a=a[qf],a instanceof cu?a:null}var Qf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yf(a){return typeof a=="function"?a:(a[Qf]||(a[Qf]=function(d){return a.handleEvent(d)}),a[Qf])}function rt(){cr.call(this),this.i=new cu(this),this.M=this,this.F=null}C(rt,cr),rt.prototype[Hs]=!0,rt.prototype.removeEventListener=function(a,d,f,g){vI(this,a,d,f,g)};function ft(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new nt(d,a);else if(d instanceof nt)d.target=d.target||a;else{var D=d;d=new nt(g,a),I(d,D)}if(D=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];D=uu(F,g,!0,d)&&D}if(F=d.g=a,D=uu(F,g,!0,d)&&D,D=uu(F,g,!1,d)&&D,f)for(A=0;A<f.length;A++)F=d.g=f[A],D=uu(F,g,!1,d)&&D}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)au(f[g]);delete a.g[d],a.h--}}this.F=null},rt.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},rt.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function uu(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var _e=F.listener,Ke=F.ha||F.src;F.fa&&Hf(a.i,F),D=_e.call(Ke,g)!==!1&&D}}return D&&!g.defaultPrevented}function EI(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function II(a){a.g=EI(()=>{a.g=null,a.i&&(a.i=!1,II(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class WN extends cr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:II(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(a){cr.call(this),this.h=a,this.g={}}C(zs,cr);var wI=[];function TI(a){fe(a.g,function(d,f){this.g.hasOwnProperty(f)&&Wf(d)},a),a.g={}}zs.prototype.N=function(){zs.aa.N.call(this),TI(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zf=c.JSON.stringify,KN=c.JSON.parse,QN=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Jf(){}Jf.prototype.h=null;function DI(a){return a.h||(a.h=a.i())}function CI(){}var qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xf(){nt.call(this,"d")}C(Xf,nt);function ep(){nt.call(this,"c")}C(ep,nt);var Wr={},bI=null;function lu(){return bI=bI||new rt}Wr.La="serverreachability";function SI(a){nt.call(this,Wr.La,a)}C(SI,nt);function Gs(a){let d=lu();ft(d,new SI(d))}Wr.STAT_EVENT="statevent";function AI(a,d){nt.call(this,Wr.STAT_EVENT,a),this.stat=d}C(AI,nt);function pt(a){let d=lu();ft(d,new AI(d,a))}Wr.Ma="timingevent";function RI(a,d){nt.call(this,Wr.Ma,a),this.size=d}C(RI,nt);function Ws(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ks(){this.g=!0}Ks.prototype.xa=function(){this.g=!1};function YN(a,d,f,g,D,A){a.info(function(){if(a.g)if(A)for(var F="",_e=A.split("&"),Ke=0;Ke<_e.length;Ke++){var de=_e[Ke].split("=");if(1<de.length){var it=de[0];de=de[1];var ot=it.split("_");F=2<=ot.length&&ot[1]=="type"?F+(it+"="+de+"&"):F+(it+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+F})}function ZN(a,d,f,g,D,A,F){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+A+" "+F})}function no(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+XN(a,f)+(g?" "+g:"")})}function JN(a,d){a.info(function(){return"TIMEOUT: "+d})}Ks.prototype.info=function(){};function XN(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<D.length;F++)D[F]=""}}}}return Zf(f)}catch{return d}}var du={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},NI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tp;function hu(){}C(hu,Jf),hu.prototype.g=function(){return new XMLHttpRequest},hu.prototype.i=function(){return{}},tp=new hu;function ur(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new MI}function MI(){this.i=null,this.g="",this.h=!1}var PI={},np={};function rp(a,d,f){a.L=1,a.v=mu(Pn(d)),a.m=f,a.P=!0,xI(a,null)}function xI(a,d){a.F=Date.now(),fu(a),a.A=Pn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),WI(f.i,"t",g),a.C=0,f=a.j.J,a.h=new MI,a.g=dw(a.j,f?d:null,!a.m),0<a.O&&(a.M=new WN(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(wI[0]=D.toString()),D=wI);for(var A=0;A<D.length;A++){var F=gI(f,D[A],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Gs(),YN(a.i,a.u,a.A,a.l,a.R,a.m)}ur.prototype.ca=function(a){a=a.target;let d=this.M;d&&xn(a)==3?d.j():this.Y(a)},ur.prototype.Y=function(a){try{if(a==this.g)e:{let ot=xn(this.g);var d=this.g.Ba();let oo=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||ew(this.g)))){this.J||ot!=4||d==7||(d==8||0>=oo?Gs(3):Gs(2)),ip(this);var f=this.g.Z();this.X=f;t:if(kI(this)){var g=ew(this.g);a="";var D=g.length,A=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),Qs(this);var F="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,ZN(this.i,this.u,this.A,this.l,this.R,ot,f),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,Ke=this.g;if((_e=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(_e)){var de=_e;break t}}de=null}if(f=de)no(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,op(this,f);else{this.o=!1,this.s=3,pt(12),Kr(this),Qs(this);break e}}if(this.P){f=!0;let Zt;for(;!this.J&&this.C<F.length;)if(Zt=eM(this,F),Zt==np){ot==4&&(this.s=4,pt(14),f=!1),no(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==PI){this.s=4,pt(15),no(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else no(this.i,this.l,Zt,null),op(this,Zt);if(kI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||F.length!=0||this.h.h||(this.s=1,pt(16),f=!1),this.o=this.o&&f,!f)no(this.i,this.l,F,"[Invalid Chunked Response]"),Kr(this),Qs(this);else if(0<F.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),dp(it),it.M=!0,pt(11))}}else no(this.i,this.l,F,null),op(this,F);ot==4&&Kr(this),this.o&&!this.J&&(ot==4?aw(this.j,this):(this.o=!1,fu(this)))}else yM(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Kr(this),Qs(this)}}}catch{}finally{}};function kI(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function eM(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?np:(f=Number(d.substring(f,g)),isNaN(f)?PI:(g+=1,g+f>d.length?np:(d=d.slice(g,g+f),a.C=g+f,d)))}ur.prototype.cancel=function(){this.J=!0,Kr(this)};function fu(a){a.S=Date.now()+a.I,OI(a,a.I)}function OI(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ws(m(a.ba,a),d)}function ip(a){a.B&&(c.clearTimeout(a.B),a.B=null)}ur.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(JN(this.i,this.A),this.L!=2&&(Gs(),pt(17)),Kr(this),this.s=2,Qs(this)):OI(this,this.S-a)};function Qs(a){a.j.G==0||a.J||aw(a.j,a)}function Kr(a){ip(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,TI(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function op(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||sp(f.h,a))){if(!a.K&&sp(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Iu(f),_u(f);else break e;lp(f),pt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ws(m(f.Za,f),6e3));if(1>=VI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Yr(f,11)}else if((a.K||f.g==a)&&Iu(f),!G(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let de=D[d];if(f.T=de[0],de=de[1],f.G==2)if(de[0]=="c"){f.K=de[1],f.ia=de[2];let it=de[3];it!=null&&(f.la=it,f.j.info("VER="+f.la));let ot=de[4];ot!=null&&(f.Aa=ot,f.j.info("SVER="+f.Aa));let oo=de[5];oo!=null&&typeof oo=="number"&&0<oo&&(g=1.5*oo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Zt=a.g;if(Zt){let Tu=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tu){var A=g.h;A.g||Tu.indexOf("spdy")==-1&&Tu.indexOf("quic")==-1&&Tu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(ap(A,A.h),A.h=null))}if(g.D){let hp=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;hp&&(g.ya=hp,we(g.I,g.D,hp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=a;if(g.qa=lw(g,g.J?g.ia:null,g.W),F.K){jI(g.h,F);var _e=F,Ke=g.L;Ke&&(_e.I=Ke),_e.B&&(ip(_e),fu(_e)),g.g=F}else ow(g);0<f.i.length&&Eu(f)}else de[0]!="stop"&&de[0]!="close"||Yr(f,7);else f.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Yr(f,7):up(f):de[0]!="noop"&&f.l&&f.l.ta(de),f.v=0)}}Gs(4)}catch{}}var tM=class{constructor(a,d){this.g=a,this.map=d}};function FI(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function LI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function VI(a){return a.h?1:a.g?a.g.size:0}function sp(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ap(a,d){a.g?a.g.add(d):a.h=d}function jI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}FI.prototype.cancel=function(){if(this.i=UI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function UI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return N(a.i)}function nM(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function rM(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function BI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=rM(a),g=nM(a),D=g.length,A=0;A<D;A++)d.call(void 0,g[A],f&&f[A],a)}var $I=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iM(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),D=null;if(0<=g){var A=a[f].substring(0,g);D=a[f].substring(g+1)}else A=a[f];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Qr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Qr){this.h=a.h,pu(this,a.j),this.o=a.o,this.g=a.g,gu(this,a.s),this.l=a.l;var d=a.i,f=new Js;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),HI(this,f),this.m=a.m}else a&&(d=String(a).match($I))?(this.h=!1,pu(this,d[1]||"",!0),this.o=Ys(d[2]||""),this.g=Ys(d[3]||"",!0),gu(this,d[4]),this.l=Ys(d[5]||"",!0),HI(this,d[6]||"",!0),this.m=Ys(d[7]||"")):(this.h=!1,this.i=new Js(null,this.h))}Qr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Zs(d,zI,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Zs(d,zI,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Zs(f,f.charAt(0)=="/"?aM:sM,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Zs(f,uM)),a.join("")};function Pn(a){return new Qr(a)}function pu(a,d,f){a.j=f?Ys(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function gu(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function HI(a,d,f){d instanceof Js?(a.i=d,lM(a.i,a.h)):(f||(d=Zs(d,cM)),a.i=new Js(d,a.h))}function we(a,d,f){a.i.set(d,f)}function mu(a){return we(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ys(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Zs(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,oM),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function oM(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var zI=/[#\/\?@]/g,sM=/[#\?:]/g,aM=/[#\?]/g,cM=/[#\?@]/g,uM=/#/g;function Js(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function lr(a){a.g||(a.g=new Map,a.h=0,a.i&&iM(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Js.prototype,n.add=function(a,d){lr(this),this.i=null,a=ro(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function qI(a,d){lr(a),d=ro(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function GI(a,d){return lr(a),d=ro(a,d),a.g.has(d)}n.forEach=function(a,d){lr(this),this.g.forEach(function(f,g){f.forEach(function(D){a.call(d,D,g,this)},this)},this)},n.na=function(){lr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=a[g];for(let A=0;A<D.length;A++)f.push(d[g])}return f},n.V=function(a){lr(this);let d=[];if(typeof a=="string")GI(this,a)&&(d=d.concat(this.g.get(ro(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},n.set=function(a,d){return lr(this),this.i=null,a=ro(this,a),GI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function WI(a,d,f){qI(a,d),0<f.length&&(a.i=null,a.g.set(ro(a,d),N(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var D=A;F[g]!==""&&(D+="="+encodeURIComponent(String(F[g]))),a.push(D)}}return this.i=a.join("&")};function ro(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function lM(a,d){d&&!a.j&&(lr(a),a.i=null,a.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(qI(this,g),WI(this,D,f))},a)),a.j=d}function dM(a,d){let f=new Ks;if(c.Image){let g=new Image;g.onload=y(dr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(dr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(dr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(dr,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function hM(a,d){let f=new Ks,g=new AbortController,D=setTimeout(()=>{g.abort(),dr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(D),A.ok?dr(f,"TestPingServer: ok",!0,d):dr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),dr(f,"TestPingServer: error",!1,d)})}function dr(a,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function fM(){this.g=new QN}function pM(a,d,f){let g=f||"";try{BI(a,function(D,A){let F=D;l(D)&&(F=Zf(D)),d.push(g+A+"="+encodeURIComponent(F))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Xs(a){this.l=a.Ub||null,this.j=a.eb||!1}C(Xs,Jf),Xs.prototype.g=function(){return new yu(this.l,this.j)},Xs.prototype.i=function(a){return function(){return a}}({});function yu(a,d){rt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(yu,rt),n=yu.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ta(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function KI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ea(this):ta(this),this.readyState==3&&KI(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,ea(this))},n.Qa=function(a){this.g&&(this.response=a,ea(this))},n.ga=function(){this.g&&ea(this)};function ea(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ta(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function ta(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function QI(a){let d="";return fe(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function cp(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=QI(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):we(a,d,f))}function be(a){rt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(be,rt);var gM=/^https?$/i,mM=["POST","PUT"];n=be.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tp.g(),this.v=this.o?DI(this.o):DI(tp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){YI(this,A);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(mM,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{XI(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){YI(this,A)}};function YI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,ZI(a),vu(a)}function ZI(a){a.A||(a.A=!0,ft(a,"complete"),ft(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ft(this,"complete"),ft(this,"abort"),vu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vu(this,!0)),be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?JI(this):this.bb())},n.bb=function(){JI(this)};function JI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||xn(a)!=4||a.Z()!=2)){if(a.u&&xn(a)==4)EI(a.Ea,0,a);else if(ft(a,"readystatechange"),xn(a)==4){a.h=!1;try{let F=a.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var D=String(a.D).match($I)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!gM.test(D?D.toLowerCase():"")}f=g}if(f)ft(a,"complete"),ft(a,"success");else{a.m=6;try{var A=2<xn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",ZI(a)}}finally{vu(a)}}}}function vu(a,d){if(a.g){XI(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ft(a,"ready");try{f.onreadystatechange=g}catch{}}}function XI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function xn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),KN(d)}};function ew(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function yM(a){let d={};a=(a.g&&2<=xn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(G(a[g]))continue;var f=T(a[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[D]||[];d[D]=A,A.push(f)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function tw(a){this.Aa=0,this.i=[],this.j=new Ks,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,a),this.cb=na("retryDelaySeedMs",1e4,a),this.Wa=na("forwardChannelMaxRetries",2,a),this.wa=na("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new FI(a&&a.concurrentRequestLimit),this.Da=new fM,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=tw.prototype,n.la=8,n.G=1,n.connect=function(a,d,f,g){pt(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=lw(this,null,this.W),Eu(this)};function up(a){if(nw(a),a.G==3){var d=a.U++,f=Pn(a.I);if(we(f,"SID",a.K),we(f,"RID",d),we(f,"TYPE","terminate"),ra(a,f),d=new ur(a,a.j,d),d.L=2,d.v=mu(Pn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=dw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),fu(d)}uw(a)}function _u(a){a.g&&(dp(a),a.g.cancel(),a.g=null)}function nw(a){_u(a),a.u&&(c.clearTimeout(a.u),a.u=null),Iu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Eu(a){if(!LI(a.h)&&!a.s){a.s=!0;var d=a.Ga;Us||pI(),Bs||(Us(),Bs=!0),$f.add(d,a),a.B=0}}function vM(a,d){return VI(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ws(m(a.Ga,a,d),cw(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new ur(this,this.j,a),A=this.o;if(this.S&&(A?(A=v(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=iw(this,D,d),f=Pn(this.I),we(f,"RID",a),we(f,"CVER",22),this.D&&we(f,"X-HTTP-Session-Id",this.D),ra(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(QI(A)))+"&"+d:this.m&&cp(f,this.m,A)),ap(this.h,D),this.Ua&&we(f,"TYPE","init"),this.P?(we(f,"$req",d),we(f,"SID","null"),D.T=!0,rp(D,f,null)):rp(D,f,d),this.G=2}}else this.G==3&&(a?rw(this,a):this.i.length==0||LI(this.h)||rw(this))};function rw(a,d){var f;d?f=d.l:f=a.U++;let g=Pn(a.I);we(g,"SID",a.K),we(g,"RID",f),we(g,"AID",a.T),ra(a,g),a.m&&a.o&&cp(g,a.m,a.o),f=new ur(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=iw(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ap(a.h,f),rp(f,g,d)}function ra(a,d){a.H&&fe(a.H,function(f,g){we(d,g,f)}),a.l&&BI({},function(f,g){we(d,g,f)})}function iw(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=D[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let _e=!0;for(let Ke=0;Ke<f;Ke++){let de=D[Ke].g,it=D[Ke].map;if(de-=A,0>de)A=Math.max(0,D[Ke].g-100),_e=!1;else try{pM(it,F,"req"+de+"_")}catch{g&&g(it)}}if(_e){g=F.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function ow(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Us||pI(),Bs||(Us(),Bs=!0),$f.add(d,a),a.v=0}}function lp(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ws(m(a.Fa,a),cw(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,sw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ws(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),_u(this),sw(this))};function dp(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function sw(a){a.g=new ur(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Pn(a.qa);we(d,"RID","rpc"),we(d,"SID",a.K),we(d,"AID",a.T),we(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&we(d,"TO",a.ja),we(d,"TYPE","xmlhttp"),ra(a,d),a.m&&a.o&&cp(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=mu(Pn(d)),f.m=null,f.P=!0,xI(f,a)}n.Za=function(){this.C!=null&&(this.C=null,_u(this),lp(this),pt(19))};function Iu(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function aw(a,d){var f=null;if(a.g==d){Iu(a),dp(a),a.g=null;var g=2}else if(sp(a.h,d))f=d.D,jI(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=lu(),ft(g,new RI(g,f)),Eu(a)}else ow(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&vM(a,d)||g==2&&lp(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),D){case 1:Yr(a,5);break;case 4:Yr(a,10);break;case 3:Yr(a,6);break;default:Yr(a,2)}}}function cw(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function Yr(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let D=!g;g=new Qr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||pu(g,"https"),mu(g),D?dM(g.toString(),f):hM(g.toString(),f)}else pt(2);a.G=0,a.l&&a.l.sa(d),uw(a),nw(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function uw(a){if(a.G=0,a.ka=[],a.l){let d=UI(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function lw(a,d,f){var g=f instanceof Qr?Pn(f):new Qr(f);if(g.g!="")d&&(g.g=d+"."+g.g),gu(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new Qr(null);g&&pu(A,g),d&&(A.g=d),D&&gu(A,D),f&&(A.l=f),g=A}return f=a.D,d=a.ya,f&&d&&we(g,f,d),we(g,"VER",a.la),ra(a,g),g}function dw(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new be(new Xs({eb:f})):new be(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hw(){}n=hw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wu(){}wu.prototype.g=function(a,d){return new At(a,d)};function At(a,d){rt.call(this),this.g=new tw(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!G(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new io(this)}C(At,rt),At.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){up(this.g)},At.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Zf(a),a=f);d.i.push(new tM(d.Ya++,a)),d.G==3&&Eu(d)},At.prototype.N=function(){this.g.l=null,delete this.j,up(this.g),delete this.g,At.aa.N.call(this)};function fw(a){Xf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}C(fw,Xf);function pw(){ep.call(this),this.status=1}C(pw,ep);function io(a){this.g=a}C(io,hw),io.prototype.ua=function(){ft(this.g,"a")},io.prototype.ta=function(a){ft(this.g,new fw(a))},io.prototype.sa=function(a){ft(this.g,new pw)},io.prototype.ra=function(){ft(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,jv=er.createWebChannelTransport=function(){return new wu},Vv=er.getStatEventTarget=function(){return lu()},Lv=er.Event=Wr,Ph=er.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},du.NO_ERROR=0,du.TIMEOUT=8,du.HTTP_ERROR=6,kc=er.ErrorCode=du,NI.COMPLETE="complete",Fv=er.EventType=NI,CI.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",rt.prototype.listen=rt.prototype.K,us=er.WebChannel=CI,RU=er.FetchXmlHttpFactory=Xs,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Ov=er.XhrIo=be}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});var xA="@firebase/firestore",kA="4.7.17";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var Ps="11.9.0";var Ki=new Tn("@firebase/firestore");function ls(){return Ki.logLevel}function V(n,...e){if(Ki.logLevel<=se.DEBUG){let t=e.map(SE);Ki.debug(`Firestore (${Ps}): ${n}`,...t)}}function rr(n,...e){if(Ki.logLevel<=se.ERROR){let t=e.map(SE);Ki.error(`Firestore (${Ps}): ${n}`,...t)}}function ys(n,...e){if(Ki.logLevel<=se.WARN){let t=e.map(SE);Ki.warn(`Firestore (${Ps}): ${n}`,...t)}}function SE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function z(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,D0(n,r,t)}function D0(n,e,t){let r=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw rr(r),new Error(r)}function ye(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||D0(e,i,r)}function Y(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends Wt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var tr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var jh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qe.UNAUTHENTICATED))}shutdown(){}},qv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Gv=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ye(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string",31837,{l:r}),new jh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string",2055,{h:e}),new qe(e)}},Wv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Kv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Wv(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Uh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Qv=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ye(this.o===void 0,3512);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Uh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Uh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function NU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function C0(){return new TextEncoder}var Bh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=NU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function re(n,e){return n<e?-1:n>e?1:0}function Yv(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return re(r,i);{let o=C0(),s=MU(o.encode(OA(n,t)),o.encode(OA(e,t)));return s!==0?s:re(r,i)}}t+=r>65535?2:1}return re(n.length,e.length)}function OA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function MU(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return re(n[t],e[t]);return re(n.length,e.length)}function vs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var FA=-62135596800,LA=1e6,tt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*LA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<FA)throw new $(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LA}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-FA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new tt(0,0))}static max(){return new n(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var VA="__name__",$h=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&z(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&z(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return re(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Yv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xn.fromString(e.substring(4,e.length-2))}},Ae=class n extends $h{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},PU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class n extends $h{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return PU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VA}static keyField(){return new n([VA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new $(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new $(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var q=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ae.fromString(e))}static fromName(e){return new n(Ae.fromString(e).popFirst(5))}static empty(){return new n(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ae.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ae(e.slice()))}};var Uc=-1,Zv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Zv.UNKNOWN_ID=-1;function xU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new tt(t+1,0):new tt(t,r));return new Qi(i,q.empty(),e)}function kU(n){return new Qi(n.readTime,n.key,Uc)}var Qi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(X.min(),q.empty(),Uc)}static max(){return new n(X.max(),q.empty(),Uc)}};function OU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=q.comparator(n.documentKey,e.documentKey),t!==0?t:re(n.largestBatchId,e.largestBatchId))}var FU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function xs(n){return S(this,null,function*(){if(n.code!==x.FAILED_PRECONDITION||n.message!==FU)throw n;V("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function LU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ks(n){return n.name==="IndexedDbTransactionError"}var AE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),RE=-1;function If(n){return n==null}function Bc(n){return n===0&&1/n==-1/0}function VU(n){return typeof n=="number"&&Number.isInteger(n)&&!Bc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var b0="";function jU(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jA(e)),e=UU(n.get(t),e);return jA(e)}function UU(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case b0:t+="";break;default:t+=o}}return t}function jA(n){return n+b0+""}var BU="remoteDocuments",S0="owner";var A0="mutationQueues";var R0="mutations";var N0="documentMutations",$U="remoteDocumentsV14";var M0="remoteDocumentGlobal";var P0="targets";var x0="targetDocuments";var k0="targetGlobal",O0="collectionParents";var F0="clientMetadata";var L0="bundles";var V0="namedQueries";var HU="indexConfiguration";var zU="indexState";var qU="indexEntries";var j0="documentOverlays";var GU="globals";var WU=[A0,R0,N0,BU,P0,S0,k0,x0,F0,M0,O0,L0,V0],are=[...WU,j0],KU=[A0,R0,N0,$U,P0,S0,k0,x0,F0,M0,O0,L0,V0,j0],QU=KU,YU=[...QU,HU,zU,qU];var cre=[...YU,GU];function UA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qr(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function U0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Re=class n{constructor(e,t){this.comparator=e,this.root=t||Cn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ps(this.root,e,this.comparator,!0)}},ps=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ge=class n{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hh(this.data.getIterator())}getIteratorFrom(e){return new Hh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Hh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Yt=class n{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ge(Vt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var zh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ht=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ht.EMPTY_BYTE_STRING=new ht("");var ZU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(n){if(ye(!!n,39018),typeof n=="string"){let e=0,t=ZU.exec(n);if(ye(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function or(n){return typeof n=="string"?ht.fromBase64String(n):ht.fromUint8Array(n)}var B0="server_timestamp",$0="__type__",H0="__previous_value__",z0="__local_write_time__";function NE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[$0])===null||t===void 0?void 0:t.stringValue)===B0}function wf(n){let e=n.mapValue.fields[H0];return NE(e)?wf(e):e}function $c(n){let e=ir(n.mapValue.fields[z0].timestampValue);return new tt(e.seconds,e.nanos)}var Xv=class{constructor(e,t,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},qh="(default)",Gh=class n{constructor(e,t){this.projectId=e,this.database=t||qh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ME="__type__",q0="__max__",xh={mapValue:{fields:{__type__:{stringValue:q0}}}},PE="__vector__",_s="value";function Br(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?NE(n)?4:W0(n)?9007199254740991:G0(n)?10:11:z(28295,{value:n})}function An(n,e){if(n===e)return!0;let t=Br(n);if(t!==Br(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $c(n).isEqual($c(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ir(i.timestampValue),c=ir(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return or(i.bytesValue).isEqual(or(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),c=Ce(o.doubleValue);return s===c?Bc(s)===Bc(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return vs(n.arrayValue.values||[],e.arrayValue.values||[],An);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(UA(s)!==UA(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!An(s[u],c[u])))return!1;return!0}(n,e);default:return z(52216,{left:n})}}function Hc(n,e){return(n.values||[]).find(t=>An(t,e))!==void 0}function Es(n,e){if(n===e)return 0;let t=Br(n),r=Br(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Ce(o.integerValue||o.doubleValue),u=Ce(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return BA(n.timestampValue,e.timestampValue);case 4:return BA($c(n),$c(e));case 5:return Yv(n.stringValue,e.stringValue);case 6:return function(o,s){let c=or(o),u=or(s);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=re(c[l],u[l]);if(h!==0)return h}return re(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=re(Ce(o.latitude),Ce(s.latitude));return c!==0?c:re(Ce(o.longitude),Ce(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $A(n.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,h;let p=o.fields||{},m=s.fields||{},y=(c=p[_s])===null||c===void 0?void 0:c.arrayValue,C=(u=m[_s])===null||u===void 0?void 0:u.arrayValue,N=re(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:$A(y,C)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===xh.mapValue&&s===xh.mapValue)return 0;if(o===xh.mapValue)return 1;if(s===xh.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Yv(u[p],h[p]);if(m!==0)return m;let y=Es(c[u[p]],l[h[p]]);if(y!==0)return y}return re(u.length,h.length)}(n.mapValue,e.mapValue);default:throw z(23264,{Pe:t})}}function BA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return re(n,e);let t=ir(n),r=ir(e),i=re(t.seconds,r.seconds);return i!==0?i:re(t.nanos,r.nanos)}function $A(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Es(t[i],r[i]);if(o)return o}return re(t.length,r.length)}function Is(n){return e_(n)}function e_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ir(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return or(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return q.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=e_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${e_(t.fields[s])}`;return i+"}"}(n.mapValue):z(61005,{value:n})}function Fh(n){switch(Br(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=wf(n);return e?16+Fh(e):16;case 5:return 2*n.stringValue.length;case 6:return or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Fh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return qr(r.fields,(o,s)=>{i+=o.length+Fh(s)}),i}(n.mapValue);default:throw z(13486,{value:n})}}function t_(n){return!!n&&"integerValue"in n}function xE(n){return!!n&&"arrayValue"in n}function HA(n){return!!n&&"nullValue"in n}function zA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lh(n){return!!n&&"mapValue"in n}function G0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ME])===null||t===void 0?void 0:t.stringValue)===PE}function Fc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return qr(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Fc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function W0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===q0}var lre={mapValue:{fields:{[ME]:{stringValue:PE},[_s]:{arrayValue:{}}}}};var Lt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Lh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(t)}setAll(e){let t=Vt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=Fc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Lh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return An(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){qr(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Fc(this.value))}};function K0(n){let e=[];return qr(n.fields,(t,r)=>{let i=new Vt([t]);if(Lh(r)){let o=K0(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Yt(e)}var dn=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,X.min(),X.min(),X.min(),Lt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,X.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,X.min(),X.min(),Lt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,X.min(),X.min(),Lt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ws=class{constructor(e,t){this.position=e,this.inclusive=t}};function qA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),t.key):r=Es(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function GA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!An(n.position[t],e.position[t]))return!1;return!0}var Ts=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function JU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Wh=class{},$e=class n extends Wh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new r_(e,t,r):t==="array-contains"?new s_(e,r):t==="in"?new a_(e,r):t==="not-in"?new c_(e,r):t==="array-contains-any"?new u_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new i_(e,r):new o_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Es(t,this.value)):t!==null&&Br(this.value)===Br(t)&&this.matchesComparison(Es(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Rn=class n extends Wh{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return Q0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function Q0(n){return n.op==="and"}function Y0(n){return XU(n)&&Q0(n)}function XU(n){for(let e of n.filters)if(e instanceof Rn)return!1;return!0}function n_(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+Is(n.value);if(Y0(n))return n.filters.map(e=>n_(e)).join(",");{let e=n.filters.map(t=>n_(t)).join(",");return`${n.op}(${e})`}}function Z0(n,e){return n instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&An(r.value,i.value)}(n,e):n instanceof Rn?function(r,i){return i instanceof Rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&Z0(s,i.filters[c]),!0):!1}(n,e):void z(19439)}function J0(n){return n instanceof $e?function(t){return`${t.field.canonicalString()} ${t.op} ${Is(t.value)}`}(n):n instanceof Rn?function(t){return t.op.toString()+" {"+t.getFilters().map(J0).join(" ,")+"}"}(n):"Filter"}var r_=class extends $e{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){let t=q.comparator(e.key,this.key);return this.matchesComparison(t)}},i_=class extends $e{constructor(e,t){super(e,"in",t),this.keys=X0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},o_=class extends $e{constructor(e,t){super(e,"not-in",t),this.keys=X0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function X0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>q.fromName(r.referenceValue))}var s_=class extends $e{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return xE(t)&&Hc(t.arrayValue,this.value)}},a_=class extends $e{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Hc(this.value.arrayValue,t)}},c_=class extends $e{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hc(this.value.arrayValue,t)}},u_=class extends $e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!xE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hc(this.value.arrayValue,r))}};var l_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Ie=null}};function WA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new l_(n,e,t,r,i,o,s)}function kE(n){let e=Y(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>n_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),If(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Is(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Is(r)).join(",")),e.Ie=t}return e.Ie}function OE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Z0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!GA(n.startAt,e.startAt)&&GA(n.endAt,e.endAt)}function d_(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ds=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function eB(n,e,t,r,i,o,s,c){return new Ds(n,e,t,r,i,o,s,c)}function FE(n){return new Ds(n)}function KA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tB(n){return n.collectionGroup!==null}function Lc(n){let e=Y(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Ge(Vt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Ts(o,r))}),t.has(Vt.keyField().canonicalString())||e.Ee.push(new Ts(Vt.keyField(),r))}return e.Ee}function bn(n){let e=Y(n);return e.de||(e.de=nB(e,Lc(n))),e.de}function nB(n,e){if(n.limitType==="F")return WA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ts(i.field,o)});let t=n.endAt?new ws(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ws(n.startAt.position,n.startAt.inclusive):null;return WA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function h_(n,e,t){return new Ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Tf(n,e){return OE(bn(n),bn(e))&&n.limitType===e.limitType}function eR(n){return`${kE(bn(n))}|lt:${n.limitType}`}function ds(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>J0(i)).join(", ")}]`),If(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Is(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Is(i)).join(",")),`Target(${r})`}(bn(n))}; limitType=${n.limitType})`}function Df(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Lc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=qA(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Lc(r),i)||r.endAt&&!function(s,c,u){let l=qA(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Lc(r),i))}(n,e)}function rB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tR(n){return(e,t)=>{let r=!1;for(let i of Lc(n)){let o=iB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function iB(n,e,t){let r=n.field.isKeyField()?q.comparator(e.key,t.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Es(u,l):z(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return z(19790,{direction:n.dir})}}var sr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qr(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return U0(this.inner)}size(){return this.innerSize}};var oB=new Re(q.comparator);function ar(){return oB}var nR=new Re(q.comparator);function Oc(...n){let e=nR;for(let t of n)e=e.insert(t.key,t);return e}function rR(n){let e=nR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qi(){return Vc()}function iR(){return Vc()}function Vc(){return new sr(n=>n.toString(),(n,e)=>n.isEqual(e))}var sB=new Re(q.comparator),aB=new Ge(q.comparator);function ce(...n){let e=aB;for(let t of n)e=e.add(t);return e}var cB=new Ge(re);function uB(){return cB}function LE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(e)?"-0":e}}function oR(n){return{integerValue:""+n}}function lB(n,e){return VU(e)?oR(e):LE(n,e)}var Cs=class{constructor(){this._=void 0}};function dB(n,e,t){return n instanceof bs?function(i,o){let s={fields:{[$0]:{stringValue:B0},[z0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&NE(o)&&(o=wf(o)),o&&(s.fields[H0]=o),{mapValue:s}}(t,e):n instanceof Yi?aR(n,e):n instanceof Zi?cR(n,e):function(i,o){let s=sR(i,o),c=QA(s)+QA(i.Re);return t_(s)&&t_(i.Re)?oR(c):LE(i.serializer,c)}(n,e)}function hB(n,e,t){return n instanceof Yi?aR(n,e):n instanceof Zi?cR(n,e):t}function sR(n,e){return n instanceof Ss?function(r){return t_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var bs=class extends Cs{},Yi=class extends Cs{constructor(e){super(),this.elements=e}};function aR(n,e){let t=uR(e);for(let r of n.elements)t.some(i=>An(i,r))||t.push(r);return{arrayValue:{values:t}}}var Zi=class extends Cs{constructor(e){super(),this.elements=e}};function cR(n,e){let t=uR(e);for(let r of n.elements)t=t.filter(i=>!An(i,r));return{arrayValue:{values:t}}}var Ss=class extends Cs{constructor(e,t){super(),this.serializer=e,this.Re=t}};function QA(n){return Ce(n.integerValue||n.doubleValue)}function uR(n){return xE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function fB(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Yi&&i instanceof Yi||r instanceof Zi&&i instanceof Zi?vs(r.elements,i.elements,An):r instanceof Ss&&i instanceof Ss?An(r.Re,i.Re):r instanceof bs&&i instanceof bs}(n.transform,e.transform)}var f_=class{constructor(e,t){this.version=e,this.transformResults=t}},nr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Vh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var As=class{};function lR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zc(n.key,nr.none()):new Ji(n.key,n.data,nr.none());{let t=n.data,r=Lt.empty(),i=new Ge(Vt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Nn(n.key,r,new Yt(i.toArray()),nr.none())}}function pB(n,e,t){n instanceof Ji?function(i,o,s){let c=i.value.clone(),u=ZA(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Nn?function(i,o,s){if(!Vh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=ZA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(dR(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function jc(n,e,t,r){return n instanceof Ji?function(o,s,c,u){if(!Vh(o.precondition,s))return c;let l=o.value.clone(),h=JA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Nn?function(o,s,c,u){if(!Vh(o.precondition,s))return c;let l=JA(o.fieldTransforms,u,s),h=s.data;return h.setAll(dR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,c){return Vh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function gB(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=sR(r.transform,i||null);o!=null&&(t===null&&(t=Lt.empty()),t.set(r.field,o))}return t||null}function YA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vs(r,i,(o,s)=>fB(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ji=class extends As{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Nn=class extends As{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function dR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function ZA(n,e,t){let r=new Map;ye(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,hB(s,c,t[i]))}return r}function JA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,dB(o,s,e))}return r}var zc=class extends As{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},p_=class extends As{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var g_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&pB(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=jc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=jc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=iR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=lR(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ce())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(t,r)=>YA(t,r))&&vs(this.baseMutations,e.baseMutations,(t,r)=>YA(t,r))}},m_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ye(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return sB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var y_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var v_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Oe,le;function mB(n){switch(n){case x.OK:return z(64938);case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return z(15467,{code:n})}}function hR(n){if(n===void 0)return rr("GRPC error has no .code"),x.UNKNOWN;switch(n){case Oe.OK:return x.OK;case Oe.CANCELLED:return x.CANCELLED;case Oe.UNKNOWN:return x.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return x.INTERNAL;case Oe.UNAVAILABLE:return x.UNAVAILABLE;case Oe.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Oe.NOT_FOUND:return x.NOT_FOUND;case Oe.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Oe.ABORTED:return x.ABORTED;case Oe.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Oe.DATA_LOSS:return x.DATA_LOSS;default:return z(39323,{code:n})}}(le=Oe||(Oe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var XA=null;var yB=new Xn([4294967295,4294967295],0);function e0(n){let e=C0().encode(n),t=new kv;return t.update(e),new Uint8Array(t.digest())}function t0(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xn([t,r],0),new Xn([i,o],0)]}var __=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Gi(`Invalid padding: ${t}`);if(r<0)throw new Gi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Gi(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Xn.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Xn.fromNumber(r)));return i.compare(yB)===1&&(i=new Xn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=e0(e),[r,i]=t0(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.pe===0)return;let t=e0(e),[r,i]=t0(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Gi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Kh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(X.min(),i,new Re(re),ar(),ce())}},qc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ce(),ce(),ce())}};var gs=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Qh=class{constructor(e,t){this.targetId=e,this.Ce=t}},Yh=class{constructor(e,t,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Zh=class{constructor(){this.Fe=0,this.Me=n0(),this.xe=ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ce(),t=ce(),r=ce();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:z(38017,{changeType:o})}}),new qc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=n0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},E_=class{constructor(e){this.ze=e,this.je=new Map,this.He=ar(),this.Je=kh(),this.Ye=kh(),this.Ze=new Re(re)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:z(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(d_(o))if(r===0){let s=new q(o.path);this.tt(t,s,dn.newNoDocument(s,X.min()))}else ye(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let c=this.ct(e),u=c?this.lt(c,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}XA?.ht(function(h,p,m,y,C){var N,R,O,G,U,he;let We={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},fe=p.unchangedNames;return fe&&(We.bloomFilter={applied:C===0,hashCount:(N=fe?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(G=(O=(R=fe?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&G!==void 0?G:0,padding:(he=(U=fe?.bits)===null||U===void 0?void 0:U.padding)!==null&&he!==void 0?he:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),We}(s,e.Ce,this.ze.Pt(),c,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=or(r).toUint8Array()}catch(u){if(u instanceof zh)return ys("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new __(s,i,o)}catch(u){return ys(u instanceof Gi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let c=this._t(s);if(c){if(o.current&&d_(c.target)){let u=new q(c.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,dn.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=ce();this.Ye.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Kh(e,t,this.Ze,this.He,r);return this.He=ar(),this.Je=kh(),this.Ye=kh(),this.Ze=new Re(re),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Zh,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ge(re),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ge(re),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||V("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Zh),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function kh(){return new Re(q.comparator)}function n0(){return new Re(q.comparator)}var vB={asc:"ASCENDING",desc:"DESCENDING"},_B={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EB={and:"AND",or:"OR"},I_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function w_(n,e){return n.useProto3Json||If(e)?e:{value:e}}function Jh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function IB(n,e){return Jh(n,e.toTimestamp())}function Sn(n){return ye(!!n,49232),X.fromTimestamp(function(t){let r=ir(t);return new tt(r.seconds,r.nanos)}(n))}function VE(n,e){return T_(n,e).canonicalString()}function T_(n,e){let t=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function pR(n){let e=Ae.fromString(n);return ye(_R(e),10190,{key:e.toString()}),e}function D_(n,e){return VE(n.databaseId,e.path)}function Uv(n,e){let t=pR(e);if(t.get(1)!==n.databaseId.projectId)throw new $(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(mR(t))}function gR(n,e){return VE(n.databaseId,e)}function wB(n){let e=pR(n);return e.length===4?Ae.emptyPath():mR(e)}function C_(n){return new Ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mR(n){return ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function r0(n,e,t){return{name:D_(n,e),fields:t.value.mapValue.fields}}function TB(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ye(h===void 0||typeof h=="string",58123),ht.fromBase64String(h||"")):(ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ht.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let h=l.code===void 0?x.UNKNOWN:hR(l.code);return new $(h,l.message||"")}(s);t=new Yh(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Uv(n,r.document.name),o=Sn(r.document.updateTime),s=r.document.createTime?Sn(r.document.createTime):X.min(),c=new Lt({mapValue:{fields:r.document.fields}}),u=dn.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];t=new gs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Uv(n,r.document),o=r.readTime?Sn(r.readTime):X.min(),s=dn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new gs([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Uv(n,r.document),o=r.removedTargetIds||[];t=new gs([],o,i,null)}else{if(!("filter"in e))return z(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new v_(i,o),c=r.targetId;t=new Qh(c,s)}}return t}function DB(n,e){let t;if(e instanceof Ji)t={update:r0(n,e.key,e.value)};else if(e instanceof zc)t={delete:D_(n,e.key)};else if(e instanceof Nn)t={update:r0(n,e.key,e.data),updateMask:xB(e.fieldMask)};else{if(!(e instanceof p_))return z(16599,{ft:e.type});t={verify:D_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof bs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Yi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Zi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ss)return{fieldPath:s.field.canonicalString(),increment:c.Re};throw z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:IB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z(27497)}(n,e.precondition)),t}function CB(n,e){return n&&n.length>0?(ye(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Sn(i.updateTime):Sn(o);return s.isEqual(X.min())&&(s=Sn(o)),new f_(s,i.transformResults||[])}(t,e))):[]}function bB(n,e){return{documents:[gR(n,e.path)]}}function SB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=gR(n,i);let o=function(l){if(l.length!==0)return vR(Rn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:hs(m.field),direction:NB(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=w_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function AB(n){let e=wB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ye(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=yR(p);return m instanceof Rn&&Y0(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(C){return new Ts(fs(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(t.orderBy));let c=null;t.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,If(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new ws(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new ws(y,m)}(t.endAt)),eB(e,i,s,o,c,"F",u,l)}function RB(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=fs(t.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fs(t.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=fs(t.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=fs(t.unaryFilter.field);return $e.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return z(61313);default:return z(60726)}}(n):n.fieldFilter!==void 0?function(t){return $e.create(fs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return z(58110);default:return z(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Rn.create(t.compositeFilter.filters.map(r=>yR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z(1026)}}(t.compositeFilter.op))}(n):z(30097,{filter:n})}function NB(n){return vB[n]}function MB(n){return _B[n]}function PB(n){return EB[n]}function hs(n){return{fieldPath:n.canonicalString()}}function fs(n){return Vt.fromServerFormat(n.fieldPath)}function vR(n){return n instanceof $e?function(t){if(t.op==="=="){if(zA(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NAN"}};if(HA(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zA(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NOT_NAN"}};if(HA(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(t.field),op:MB(t.op),value:t.value}}}(n):n instanceof Rn?function(t){let r=t.getFilters().map(i=>vR(i));return r.length===1?r[0]:{compositeFilter:{op:PB(t.op),filters:r}}}(n):z(54877,{filter:n})}function xB(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _R(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Gc=class n{constructor(e,t,r,i,o=X.min(),s=X.min(),c=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var b_=class{constructor(e){this.wt=e}};function kB(n){let e=AB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?h_(e,e.limit,"L"):e}var Xh=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Bc(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=ir(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(or(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?W0(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):G0(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):z(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=_s,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Ce(c)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),q.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Xh.Wt=new Xh;var S_=class{constructor(){this.Cn=new A_}addToCollectionParentIndex(e,t){return this.Cn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(Qi.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},A_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ge(Ae.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(Ae.comparator)).toArray()}};var dre=new Uint8Array(0);var i0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ER=41943040,Qt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(ER,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);var Wc=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var o0="LruGarbageCollector",OB=1048576;function s0([n,e],[t,r]){let i=re(n,t);return i===0?re(e,r):i}var R_=class{constructor(e){this.Er=e,this.buffer=new Ge(s0),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();s0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},N_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){V(o0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>S(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){ks(t)?V(o0,"Ignoring IndexedDB error during garbage collection: ",t):yield xs(t)}yield this.mr(3e5)}))}},M_=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(AE.le);let r=new R_(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(i0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i0):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ls()<=se.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function FB(n,e){return new M_(n,e)}var P_=class{constructor(){this.changes=new sr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var x_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var k_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&jc(r.mutation,i,Yt.empty(),tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ce()){let i=qi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Oc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=qi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=ar(),s=Vc(),c=function(){return Vc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Nn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),jc(h.mutation,l,h.mutation.getFieldMask(),tt.now())):s.set(l.key,Yt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return c.set(l,new x_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=Vc(),i=new Re((s,c)=>s-c),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Yt.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ce()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=iR();h.forEach(m=>{if(!o.has(m)){let y=lR(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(qi()),c=Uc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ce())).next(h=>({batchId:c,changes:rR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=Oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Oc();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let l=function(p,m){return new Ds(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,dn.newInvalidDocument(h)))});let c=Oc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&jc(h.mutation,l,Yt.empty(),tt.now()),Df(t,l)&&(c=c.insert(u,l))}),c})}};var O_=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return P.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Sn(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:kB(i.bundledQuery),readTime:Sn(i.readTime)}}(t)),P.resolve()}};var F_=class{constructor(){this.overlays=new Re(q.comparator),this.Qr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=qi();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=qi(),o=t.length+1,s=new q(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Re((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=qi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=qi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return P.resolve(c)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new y_(t,r));let o=this.Qr.get(t);o===void 0&&(o=ce(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var L_=class{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var Kc=class{constructor(){this.$r=new Ge(Fe.Ur),this.Kr=new Ge(Fe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new Fe(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Fe(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new q(new Ae([])),r=new Fe(t,e),i=new Fe(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new q(new Ae([])),r=new Fe(t,e),i=new Fe(t,e+1),o=ce();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Fe(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Fe=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return q.comparator(e.key,t.key)||re(e.Zr,t.Zr)}static Wr(e,t){return re(e.Zr,t.Zr)||q.comparator(e.key,t.key)}};var V_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ge(Fe.Ur)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new g_(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Xr=this.Xr.add(new Fe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?RE:this.nr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Fe(t,0),i=new Fe(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let c=this.ei(s.Zr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ge(re);return t.forEach(i=>{let o=new Fe(i,0),s=new Fe(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],c=>{r=r.add(c.Zr)})}),P.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new Fe(new q(o),0),c=new Ge(re);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Zr)),!0)},s),P.resolve(this.ni(c))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ye(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return P.forEach(t.mutations,i=>{let o=new Fe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new Fe(t,0),i=this.Xr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var j_=class{constructor(e){this.ii=e,this.docs=function(){return new Re(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let r=ar();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ar(),s=t.path,c=new q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||OU(kU(h),r)<=0||(i.has(h.key)||Df(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){z(9500)}si(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new U_(this)}getSize(e){return P.resolve(this.size)}},U_=class extends P_{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var B_=class{constructor(e){this.persistence=e,this.oi=new sr(t=>kE(t),OE),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this._i=0,this.ai=new Kc,this.targetCount=0,this.ui=Wc.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),P.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new Wc(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Tr(t),P.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.ai.containsKey(t))}};var ef=class{constructor(e,t){this.ci={},this.overlays={},this.li=new AE(0),this.hi=!1,this.hi=!0,this.Pi=new L_,this.referenceDelegate=e(this),this.Ti=new B_(this),this.indexManager=new S_,this.remoteDocumentCache=function(i){return new j_(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new b_(t),this.Ei=new O_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new F_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new V_(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){V("MemoryPersistence","Starting transaction:",e);let i=new $_(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return P.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},$_=class extends Jv{constructor(e){super(),this.currentSequenceNumber=e}},H_=class n{constructor(e){this.persistence=e,this.Vi=new Kc,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw z(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.gi,r=>{let i=q.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,X.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return P.or([()=>P.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},tf=class n{constructor(e,t){this.persistence=e,this.yi=new sr(r=>jU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=FB(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return P.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(c=>{c||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),P.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fh(e.data.value)),t}Dr(e,t,r){return P.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var z_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=ce(),i=ce();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var q_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var G_=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return FS()?8:LU(Ft())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new q_;return this.Ss(e,t,s).next(c=>{if(o.result=c,this.fs)return this.Ds(e,t,s,c.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(ls()<=se.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",ds(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),P.resolve()):(ls()<=se.DEBUG&&V("QueryEngine","Query:",ds(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ls()<=se.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",ds(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(t))):P.resolve())}ws(e,t){if(KA(t))return P.resolve(null);let r=bn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=h_(t,null,"F"),r=bn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ce(...o);return this.ys.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(t,c);return this.Cs(t,l,s,u.readTime)?this.ws(e,h_(t,null,"F")):this.Fs(e,l,t,u)}))})))}bs(e,t,r,i){return KA(t)||i.isEqual(X.min())?P.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?P.resolve(null):(ls()<=se.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ds(t)),this.Fs(e,s,t,xU(i,Uc)).next(c=>c))})}vs(e,t){let r=new Ge(tR(e));return t.forEach((i,o)=>{Df(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return ls()<=se.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",ds(t)),this.ys.getDocumentsMatchingQuery(e,t,Qi.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var jE="LocalStore",LB=3e8,W_=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Re(re),this.Os=new sr(o=>kE(o),OE),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k_(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function VB(n,e,t,r){return new W_(n,e,t,r)}function IR(n,e){return S(this,null,function*(){let t=Y(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ce();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:c}))})})})}function jB(n,e){let t=Y(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);ye(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ce();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function wR(n){let e=Y(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function UB(n,e){let t=Y(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let c=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ht.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,O){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=LB?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,y,h)&&c.push(t.Ti.updateTargetData(o,y))});let u=ar(),l=ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(BB(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(X.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.xs=i,o))}function BB(n,e,t){let r=ce(),i=ce();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ar();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):V(jE,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function $B(n,e){let t=Y(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=RE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HB(n,e){let t=Y(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Gc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function K_(n,e,t){return S(this,null,function*(){let r=Y(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ks(s))throw s;V(jE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function a0(n,e,t){let r=Y(n),i=X.min(),o=ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Y(u),m=p.Os.get(h);return m!==void 0?P.resolve(p.xs.get(m)):p.Ti.getTargetData(l,h)}(r,s,bn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:X.min(),t?o:ce())).next(c=>(zB(r,rB(e),c),{documents:c,$s:o})))}function zB(n,e,t){let r=n.Ns.get(e)||X.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var nf=class{constructor(){this.activeTargetIds=uB()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Q_=class{constructor(){this.xo=new nf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new nf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Y_=class{No(e){}shutdown(){}};var c0="ConnectivityMonitor",rf=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){V(c0,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){V(c0,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Oh=null;function Z_(){return Oh===null?Oh=function(){return 268435456+Math.round(2147483648*Math.random())}():Oh++,"0x"+Oh.toString(16)}var Bv="RestConnection",qB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},J_=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=Z_(),c=this.jo(e,t.toUriEncodedString());V(Bv,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(c),h=Oi(l);return this.Jo(e,c,u,r,h).then(p=>(V(Bv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ys(Bv,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ps}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=qB[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var X_=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var dt="WebChannelConnection",eE=class extends J_{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=Z_();return new Promise((c,u)=>{let l=new Ov;l.setWithCredentials(!0),l.listenOnce(Fv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kc.NO_ERROR:let p=l.getResponseJson();V(dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case kc.TIMEOUT:V(dt,`RPC '${e}' ${s} timed out`),u(new $(x.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:let m=l.getStatus();if(V(dt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let N=function(O){let G=O.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(G)>=0?G:x.UNKNOWN}(C.status);u(new $(N,C.message))}else u(new $(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new $(x.UNAVAILABLE,"Connection failed."));break;default:z(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{V(dt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);V(dt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=Z_(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jv(),c=Vv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");V(dt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let m=!1,y=!1,C=new X_({Zo:R=>{y?V(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(V(dt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(dt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),N=(R,O,G)=>{R.listen(O,U=>{try{G(U)}catch(he){setTimeout(()=>{throw he},0)}})};return N(p,us.EventType.OPEN,()=>{y||(V(dt,`RPC '${e}' stream ${i} transport opened.`),C.__())}),N(p,us.EventType.CLOSE,()=>{y||(y=!0,V(dt,`RPC '${e}' stream ${i} transport closed`),C.u_(),this.d_(p))}),N(p,us.EventType.ERROR,R=>{y||(y=!0,ys(dt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.u_(new $(x.UNAVAILABLE,"The operation could not be completed")))}),N(p,us.EventType.MESSAGE,R=>{var O;if(!y){let G=R.data[0];ye(!!G,16349);let U=G,he=U?.error||((O=U[0])===null||O===void 0?void 0:O.error);if(he){V(dt,`RPC '${e}' stream ${i} received error:`,he);let We=he.status,fe=function(E){let I=Oe[E];if(I!==void 0)return hR(I)}(We),w=he.message;fe===void 0&&(fe=x.INTERNAL,w="Unknown error status: "+We+" with message "+he.message),y=!0,C.u_(new $(fe,w)),p.close()}else V(dt,`RPC '${e}' stream ${i} received:`,G),C.c_(G)}}),N(c,Lv.STAT_EVENT,R=>{R.stat===Ph.PROXY?V(dt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Ph.NOPROXY&&V(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function $v(){return typeof document<"u"?document:null}function Cf(n){return new I_(n,!0)}var of=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var u0="PersistentStream",sf=class{constructor(e,t,r,i,o,s,c,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new of(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return S(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return S(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return S(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new $(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>S(this,null,function*(){this.state=0,this.start()}))}j_(e){return V(u0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(V(u0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},tE=class extends sf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=TB(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?Sn(s.readTime):X.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=C_(this.serializer),t.addTarget=function(o,s){let c,u=s.target;if(c=d_(u)?{documents:bB(o,u)}:{query:SB(o,u).gt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=fR(o,s.resumeToken);let l=w_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(X.min())>0){c.readTime=Jh(o,s.snapshotVersion.toTimestamp());let l=w_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=RB(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=C_(this.serializer),t.removeTarget=e,this.Q_(t)}},nE=class extends sf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=CB(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=C_(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>DB(this.serializer,r))};this.Q_(t)}};var rE=class{},iE=class extends rE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new $(x.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,T_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(x.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Yo(e,T_(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(x.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},oE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(rr(t),this.ua=!1):V("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var Xi="RemoteStore",sE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>S(this,null,function*(){eo(this)&&(V(Xi,"Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=Y(u);l.da.add(4),yield Xc(l),l.Va.set("Unknown"),l.da.delete(4),yield bf(l)})}(this))}))}),this.Va=new oE(r,i)}};function bf(n){return S(this,null,function*(){if(eo(n))for(let e of n.Aa)yield e(!0)})}function Xc(n){return S(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function TR(n,e){let t=Y(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),HE(t)?$E(t):Os(t).N_()&&BE(t,e))}function UE(n,e){let t=Y(n),r=Os(t);t.Ea.delete(e),r.N_()&&DR(t,e),t.Ea.size===0&&(r.N_()?r.k_():eo(t)&&t.Va.set("Unknown"))}function BE(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Os(n).Z_(e)}function DR(n,e){n.ma.Ke(e),Os(n).X_(e)}function $E(n){n.ma=new E_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Os(n).start(),n.Va.ca()}function HE(n){return eo(n)&&!Os(n).O_()&&n.Ea.size>0}function eo(n){return Y(n).da.size===0}function CR(n){n.ma=void 0}function GB(n){return S(this,null,function*(){n.Va.set("Online")})}function WB(n){return S(this,null,function*(){n.Ea.forEach((e,t)=>{BE(n,e)})})}function KB(n,e){return S(this,null,function*(){CR(n),HE(n)?(n.Va.Pa(e),$E(n)):n.Va.set("Unknown")})}function QB(n,e,t){return S(this,null,function*(){if(n.Va.set("Online"),e instanceof Yh&&e.state===2&&e.cause)try{yield function(i,o){return S(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ea.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ea.delete(c),i.ma.removeTarget(c))})}(n,e)}catch(r){V(Xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield af(n,r)}else if(e instanceof gs?n.ma.Xe(e):e instanceof Qh?n.ma.ot(e):n.ma.nt(e),!t.isEqual(X.min()))try{let r=yield wR(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let c=o.ma.It(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),DR(o,u);let p=new Gc(h.target,u,l,h.sequenceNumber);BE(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){V(Xi,"Failed to raise snapshot:",r),yield af(n,r)}})}function af(n,e,t){return S(this,null,function*(){if(!ks(e))throw e;n.da.add(1),yield Xc(n),n.Va.set("Offline"),t||(t=()=>wR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>S(null,null,function*(){V(Xi,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield bf(n)}))})}function bR(n,e){return e().catch(t=>af(n,t,e))}function Sf(n){return S(this,null,function*(){let e=Y(n),t=$r(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:RE;for(;YB(e);)try{let i=yield $B(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,ZB(e,i)}catch(i){yield af(e,i)}SR(e)&&AR(e)})}function YB(n){return eo(n)&&n.Ia.length<10}function ZB(n,e){n.Ia.push(e);let t=$r(n);t.N_()&&t.ea&&t.ta(e.mutations)}function SR(n){return eo(n)&&!$r(n).O_()&&n.Ia.length>0}function AR(n){$r(n).start()}function JB(n){return S(this,null,function*(){$r(n).ia()})}function XB(n){return S(this,null,function*(){let e=$r(n);for(let t of n.Ia)e.ta(t.mutations)})}function e$(n,e,t){return S(this,null,function*(){let r=n.Ia.shift(),i=m_.from(r,e,t);yield bR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Sf(n)})}function t$(n,e){return S(this,null,function*(){e&&$r(n).ea&&(yield function(r,i){return S(this,null,function*(){if(function(s){return mB(s)&&s!==x.ABORTED}(i.code)){let o=r.Ia.shift();$r(r).L_(),yield bR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Sf(r)}})}(n,e)),SR(n)&&AR(n)})}function l0(n,e){return S(this,null,function*(){let t=Y(n);t.asyncQueue.verifyOperationInProgress(),V(Xi,"RemoteStore received new credentials");let r=eo(t);t.da.add(3),yield Xc(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield bf(t)})}function n$(n,e){return S(this,null,function*(){let t=Y(n);e?(t.da.delete(2),yield bf(t)):e||(t.da.add(2),yield Xc(t),t.Va.set("Unknown"))})}function Os(n){return n.fa||(n.fa=function(t,r,i){let o=Y(t);return o.oa(),new tE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:GB.bind(null,n),n_:WB.bind(null,n),i_:KB.bind(null,n),Y_:QB.bind(null,n)}),n.Aa.push(e=>S(null,null,function*(){e?(n.fa.L_(),HE(n)?$E(n):n.Va.set("Unknown")):(yield n.fa.stop(),CR(n))}))),n.fa}function $r(n){return n.ga||(n.ga=function(t,r,i){let o=Y(t);return o.oa(),new nE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:JB.bind(null,n),i_:t$.bind(null,n),na:XB.bind(null,n),ra:e$.bind(null,n)}),n.Aa.push(e=>S(null,null,function*(){e?(n.ga.L_(),yield Sf(n)):(yield n.ga.stop(),n.Ia.length>0&&(V(Xi,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var aE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function zE(n,e){if(rr("AsyncQueue",`${e}: ${n}`),ks(n))return new $(x.UNAVAILABLE,`${e}: ${n}`);throw n}var cf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=Oc(),this.sortedSet=new Re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var uf=class{constructor(){this.pa=new Re(q.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):z(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},Rs=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,cf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var cE=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},uE=class{constructor(){this.queries=d0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=Y(t),o=i.queries;i.queries=d0(),o.forEach((s,c)=>{for(let u of c.Sa)u.onError(r)})})(this,new $(x.ABORTED,"Firestore shutting down"))}};function d0(){return new sr(n=>eR(n),Tf)}function r$(n,e){return S(this,null,function*(){let t=Y(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new cE,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=zE(s,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&qE(t)})}function i$(n,e){return S(this,null,function*(){let t=Y(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function o$(n,e){let t=Y(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.Sa)c.Ma(i)&&(r=!0);s.ba=i}}r&&qE(t)}function s$(n,e,t){let r=Y(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function qE(n){n.Ca.forEach(e=>{e.next()})}var lE,h0;(h0=lE||(lE={})).xa="default",h0.Cache="cache";var dE=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==lE.Cache}};var lf=class{constructor(e){this.key=e}},df=class{constructor(e){this.key=e}},hE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ce(),this.mutatedKeys=ce(),this.Za=tR(e),this.Xa=new cf(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new uf,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Df(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),R=!0):this.ru(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Za(y,u)>0||l&&this.Za(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(c=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:c,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z(20277,{Vt:R})}};return N(y)-N(C)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let c=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new Rs(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new uf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=ce(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new df(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new lf(r))}),t}au(e){this.Ha=e.$s,this.Ya=ce();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Rs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},GE="SyncEngine",fE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},pE=class{constructor(e){this.key=e,this.cu=!1}},gE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new sr(c=>eR(c),Tf),this.Pu=new Map,this.Tu=new Set,this.Iu=new Re(q.comparator),this.Eu=new Map,this.du=new Kc,this.Au={},this.Ru=new Map,this.Vu=Wc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function a$(n,e,t=!0){return S(this,null,function*(){let r=kR(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield RR(r,e,t,!0),i})}function c$(n,e){return S(this,null,function*(){let t=kR(n);yield RR(t,e,!0,!1)})}function RR(n,e,t,r){return S(this,null,function*(){let i=yield HB(n.localStore,bn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield u$(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&TR(n.remoteStore,i),c})}function u$(n,e,t,r,i){return S(this,null,function*(){n.fu=(p,m,y)=>function(N,R,O,G){return S(this,null,function*(){let U=R.view.tu(O);U.Cs&&(U=yield a0(N.localStore,R.query,!1).then(({documents:w})=>R.view.tu(w,U)));let he=G&&G.targetChanges.get(R.targetId),We=G&&G.targetMismatches.get(R.targetId)!=null,fe=R.view.applyChanges(U,N.isPrimaryClient,he,We);return p0(N,R.targetId,fe.ou),fe.snapshot})}(n,p,m,y);let o=yield a0(n.localStore,e,!0),s=new hE(e,o.$s),c=s.tu(o.documents),u=qc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);p0(n,t,l.ou);let h=new fE(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function l$(n,e,t){return S(this,null,function*(){let r=Y(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Tf(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield K_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&UE(r.remoteStore,i.targetId),mE(r,i.targetId)}).catch(xs))):(mE(r,i.targetId),yield K_(r.localStore,i.targetId,!0))})}function d$(n,e){return S(this,null,function*(){let t=Y(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),UE(t.remoteStore,r.targetId))})}function h$(n,e,t){return S(this,null,function*(){let r=_$(n);try{let i=yield function(s,c){let u=Y(s),l=tt.now(),h=c.reduce((y,C)=>y.add(C.key),ce()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=ar(),N=ce();return u.Bs.getEntries(y,h).next(R=>{C=R,C.forEach((O,G)=>{G.isValidDocument()||(N=N.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let O=[];for(let G of c){let U=gB(G,p.get(G.key).overlayedDocument);U!=null&&O.push(new Nn(G.key,U,K0(U.value.mapValue),nr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,c)}).next(R=>{m=R;let O=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,O)})}).then(()=>({batchId:m.batchId,changes:rR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Au[s.currentUser.toKey()];l||(l=new Re(re)),l=l.insert(c,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,t),yield eu(r,i.changes),yield Sf(r.remoteStore)}catch(i){let o=zE(i,"Failed to persist write");t.reject(o)}})}function NR(n,e){return S(this,null,function*(){let t=Y(n);try{let r=yield UB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?ye(s.cu,14607):i.removedDocuments.size>0&&(ye(s.cu,42227),s.cu=!1))}),yield eu(t,r,e)}catch(r){yield xs(r)}})}function f0(n,e,t){let r=Y(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let c=s.view.Fa(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=Y(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Sa)m.Fa(c)&&(l=!0)}),l&&qE(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function f$(n,e,t){return S(this,null,function*(){let r=Y(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Re(q.comparator);s=s.insert(o,dn.newNoDocument(o,X.min()));let c=ce().add(o),u=new Kh(X.min(),new Map,new Re(re),s,c);yield NR(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),WE(r)}else yield K_(r.localStore,e,!1).then(()=>mE(r,e,t)).catch(xs)})}function p$(n,e){return S(this,null,function*(){let t=Y(n),r=e.batch.batchId;try{let i=yield jB(t.localStore,e);PR(t,r,null),MR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield eu(t,i)}catch(i){yield xs(i)}})}function g$(n,e,t){return S(this,null,function*(){let r=Y(n);try{let i=yield function(s,c){let u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(ye(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);PR(r,e,t),MR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield eu(r,i)}catch(i){yield xs(i)}})}function MR(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function PR(n,e,t){let r=Y(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function mE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||xR(n,r)})}function xR(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(UE(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),WE(n))}function p0(n,e,t){for(let r of t)r instanceof lf?(n.du.addReference(r.key,e),m$(n,r)):r instanceof df?(V(GE,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||xR(n,r.key)):z(19791,{pu:r})}function m$(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(V(GE,"New document in limbo: "+t),n.Tu.add(r),WE(n))}function WE(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new q(Ae.fromString(e)),r=n.Vu.next();n.Eu.set(r,new pE(t)),n.Iu=n.Iu.insert(t,r),TR(n.remoteStore,new Gc(bn(FE(t.path)),r,"TargetPurposeLimboResolution",AE.le))}}function eu(n,e,t){return S(this,null,function*(){let r=Y(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((c,u)=>{s.push(r.fu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=z_.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return S(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ks(p))throw p;V(jE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.xs.get(m),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.xs=h.xs.insert(m,N)}}})}(r.localStore,o))})}function y$(n,e){return S(this,null,function*(){let t=Y(n);if(!t.currentUser.isEqual(e)){V(GE,"User change. New user:",e.toKey());let r=yield IR(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(c=>{c.forEach(u=>{u.reject(new $(x.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield eu(t,r.ks)}})}function v$(n,e){let t=Y(n),r=t.Eu.get(e);if(r&&r.cu)return ce().add(r.key);{let i=ce(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let c=t.hu.get(s);i=i.unionWith(c.view.eu)}return i}}function kR(n){let e=Y(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f$.bind(null,e),e.lu.Y_=o$.bind(null,e.eventManager),e.lu.gu=s$.bind(null,e.eventManager),e}function _$(n){let e=Y(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g$.bind(null,e),e}var OR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return S(this,null,function*(){this.serializer=Cf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return VB(this.persistence,new G_,t.initialUser,this.serializer)}Su(t){return new ef(H_.fi,this.serializer)}bu(t){return new Q_}terminate(){return S(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),yE=class extends OR{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ye(this.persistence.referenceDelegate instanceof tf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new N_(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new ef(r=>tf.fi(r,t),this.serializer)}};var E$=(()=>{class n{initialize(t,r){return S(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>f0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=y$.bind(null,this.syncEngine),yield n$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new uE}()}createDatastore(t){let r=Cf(t.databaseInfo.databaseId),i=function(s){return new eE(s)}(t.databaseInfo);return function(s,c,u,l){return new iE(s,c,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,c,u){return new sE(i,o,s,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>f0(this.syncEngine,r,0),function(){return rf.C()?new rf:new Y_}())}createSyncEngine(t,r){return function(o,s,c,u,l,h,p){let m=new gE(o,s,c,u,l,h);return p&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var t,r;yield function(o){return S(this,null,function*(){let s=Y(o);V(Xi,"RemoteStore shutting down."),s.da.add(5),yield Xc(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var vE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Hr="FirestoreClient",_E=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=Bh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>S(this,null,function*(){V(Hr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V(Hr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=zE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Hv(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),V(Hr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>S(null,null,function*(){r.isEqual(i)||(yield IR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function g0(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield I$(n);V(Hr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>l0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>l0(e.remoteStore,i)),n._onlineComponents=e})}function I$(n){return S(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){V(Hr,"Using user provided OfflineComponentProvider");try{yield Hv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ys("Error using user provided cache. Falling back to memory cache: "+t),yield Hv(n,new OR)}}else V(Hr,"Using default OfflineComponentProvider"),yield Hv(n,new yE(void 0));return n._offlineComponents})}function FR(n){return S(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(V(Hr,"Using user provided OnlineComponentProvider"),yield g0(n,n._uninitializedComponentsProvider._online)):(V(Hr,"Using default OnlineComponentProvider"),yield g0(n,new E$))),n._onlineComponents})}function w$(n){return FR(n).then(e=>e.syncEngine)}function m0(n){return S(this,null,function*(){let e=yield FR(n),t=e.eventManager;return t.onListen=a$.bind(null,e.syncEngine),t.onUnlisten=l$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=c$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=d$.bind(null,e.syncEngine),t})}function LR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var y0=new Map;function VR(n,e,t){if(!t)throw new $(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function T$(n,e,t,r){if(e===!0&&r===!0)throw new $(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function v0(n){if(!q.isDocumentKey(n))throw new $(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _0(n){if(q.isDocumentKey(n))throw new $(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function KE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":z(12329,{type:typeof n})}function jr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=KE(n);throw new $(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var jR="firestore.googleapis.com",E0=!0,hf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jR,this.ssl=E0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:E0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ER;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OB)throw new $(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ns=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zv;switch(r.type){case"firstParty":return new Kv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=y0.get(t);r&&(V("ComponentProvider","Removing Datastore"),y0.delete(t),r.terminate())}(this),Promise.resolve()}};function UR(n,e,t,r={}){var i;n=jr(n,Ns);let o=Oi(e),s=n._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Qy(`https://${u}`),Yy("Firestore",!0)),s.host!==jR&&s.host!==u&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Fi(l,c)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=qe.MOCK_USER;else{h=MS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new $(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qe(m)}n._authCredentials=new qv(new jh(h,p))}}var ff=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},jt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ur=class n extends ff{constructor(e,t,r){super(e,t,FE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function BR(n,e,...t){if(n=lt(n),VR("collection","path",e),n instanceof Ns){let r=Ae.fromString(e,...t);return _0(r),new Ur(n,null,r)}{if(!(n instanceof jt||n instanceof Ur))throw new $(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ae.fromString(e,...t));return _0(r),new Ur(n.firestore,null,r)}}function QE(n,e,...t){if(n=lt(n),arguments.length===1&&(e=Bh.newId()),VR("doc","path",e),n instanceof Ns){let r=Ae.fromString(e,...t);return v0(r),new jt(n,null,new q(r))}{if(!(n instanceof jt||n instanceof Ur))throw new $(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ae.fromString(e,...t));return v0(r),new jt(n.firestore,n instanceof Ur?n.converter:null,new q(r))}}var I0="AsyncQueue",pf=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new of(this,"async_queue_retry"),this.rc=()=>{let r=$v();r&&V(I0,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=$v();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=$v();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new tr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return S(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ks(e))throw e;V(I0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,rr("INTERNAL UNHANDLED ERROR: ",w0(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=aE.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&z(47125,{cc:w0(this.Xu)})}verifyOperationInProgress(){}lc(){return S(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function w0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function T0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var zr=class extends Ns{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new pf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new pf(e),this._firestoreClient=void 0,yield e}})}};function $R(n,e){let t=typeof n=="object"?n:ss(),r=typeof n=="string"?n:e||qh,i=fh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=RS("firestore");o&&UR(i,...o)}return i}function HR(n){if(n._terminated)throw new $(x.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||D$(n),n._firestoreClient}function D$(n){var e,t,r;let i=n._freezeSettings(),o=function(c,u,l,h){return new Xv(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new _E(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var Qc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ht.fromBase64String(e))}catch(t){throw new $(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ms=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Yc=class{constructor(e){this._methodName=e}};var Zc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}};var Jc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var C$=/^__.*__$/,EE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Nn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ji(e,this.data,t,this.fieldTransforms)}},gf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Nn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function zR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z(40011,{Ic:n})}}var IE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return yf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(zR(this.Ic)&&C$.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},wE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Cf(e)}bc(e,t,r,i=!1){return new IE({Ic:e,methodName:t,wc:r,path:Vt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function qR(n){let e=n._freezeSettings(),t=Cf(n._databaseId);return new wE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function b$(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);YE("Data must be an object, but it was:",s,r);let c=GR(r,s),u,l;if(o.merge)u=new Yt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=TE(e,p,t);if(!s.contains(m))throw new $(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);KR(h,m)||h.push(m)}u=new Yt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new EE(new Lt(c),u,l)}var mf=class n extends Yc{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function S$(n,e,t,r){let i=n.bc(1,e,t);YE("Data must be an object, but it was:",i,r);let o=[],s=Lt.empty();qr(r,(u,l)=>{let h=ZE(e,u,t);l=lt(l);let p=i.mc(h);if(l instanceof mf)o.push(h);else{let m=Af(l,p);m!=null&&(o.push(h),s.set(h,m))}});let c=new Yt(o);return new gf(s,c,i.fieldTransforms)}function A$(n,e,t,r,i,o){let s=n.bc(1,e,t),c=[TE(e,r,t)],u=[i];if(o.length%2!=0)throw new $(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)c.push(TE(e,o[m])),u.push(o[m+1]);let l=[],h=Lt.empty();for(let m=c.length-1;m>=0;--m)if(!KR(l,c[m])){let y=c[m],C=u[m];C=lt(C);let N=s.mc(y);if(C instanceof mf)l.push(y);else{let R=Af(C,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new Yt(l);return new gf(h,p,s.fieldTransforms)}function Af(n,e){if(WR(n=lt(n)))return YE("Unsupported field value:",e,n),GR(n,e);if(n instanceof Yc)return function(r,i){if(!zR(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Af(c,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=tt.fromDate(r);return{timestampValue:Jh(i.serializer,o)}}if(r instanceof tt){let o=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(i.serializer,o)}}if(r instanceof Zc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qc)return{bytesValue:fR(i.serializer,r._byteString)};if(r instanceof jt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:VE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jc)return function(s,c){return{mapValue:{fields:{[ME]:{stringValue:PE},[_s]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.gc("VectorValues must only contain numeric values.");return LE(c.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${KE(r)}`)}(n,e)}function GR(n,e){let t={};return U0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qr(n,(r,i)=>{let o=Af(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function WR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof Zc||n instanceof Qc||n instanceof jt||n instanceof Yc||n instanceof Jc)}function YE(n,e,t){if(!WR(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=KE(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function TE(n,e,t){if((e=lt(e))instanceof Ms)return e._internalPath;if(typeof e=="string")return ZE(n,e);throw yf("Field path arguments must be of type string or ",n,!1,void 0,t)}var R$=new RegExp("[~\\*/\\[\\]]");function ZE(n,e,t){if(e.search(R$)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ms(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(x.INVALID_ARGUMENT,c+n+u)}function KR(n,e){return n.some(t=>t.isEqual(e))}var vf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new DE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(QR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},DE=class extends vf{data(){return super.data()}};function QR(n,e){return typeof e=="string"?ZE(n,e):e instanceof Ms?e._internalPath:e._delegate._internalPath}function N$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var CE=class{convertValue(e,t="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw z(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return qr(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[_s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new Jc(o)}convertGeoPoint(e){return new Zc(Ce(e.latitude),Ce(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=wf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){let t=ir(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ae.fromString(e);ye(_R(r),9688,{name:e});let i=new Gh(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(t)||rr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function M$(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Wi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_f=class extends vf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ms(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(QR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ms=class extends _f{data(e={}){return super.data(e)}},bE=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Wi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ms(this._firestore,this._userDataWriter,r.key,r,new Wi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new ms(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Wi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new ms(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Wi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:P$(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function P$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:n})}}var Ef=class extends CE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,t)}};function YR(n,e,t,...r){n=jr(n,jt);let i=jr(n.firestore,zr),o=qR(i),s;return s=typeof(e=lt(e))=="string"||e instanceof Ms?A$(o,"updateDoc",n._key,e,t,r):S$(o,"updateDoc",n._key,e),XE(i,[s.toMutation(n._key,nr.exists(!0))])}function ZR(n){return XE(jr(n.firestore,zr),[new zc(n._key,nr.none())])}function JR(n,e){let t=jr(n.firestore,zr),r=QE(n),i=M$(n.converter,e);return XE(t,[b$(qR(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function JE(n,...e){var t,r,i;n=lt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||T0(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(T0(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof jt)l=jr(n.firestore,zr),h=FE(n._key.path),u={next:p=>{e[s]&&e[s](x$(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=jr(n,ff);l=jr(p.firestore,zr),h=p._query;let m=new Ef(l);u={next:y=>{e[s]&&e[s](new bE(l,m,p,y))},error:e[s+1],complete:e[s+2]},N$(n._query)}return function(m,y,C,N){let R=new vE(N),O=new dE(y,R,C);return m.asyncQueue.enqueueAndForget(()=>S(null,null,function*(){return r$(yield m0(m),O)})),()=>{R.xu(),m.asyncQueue.enqueueAndForget(()=>S(null,null,function*(){return i$(yield m0(m),O)}))}}(HR(l),h,c,u)}function XE(n,e){return function(r,i){let o=new tr;return r.asyncQueue.enqueueAndForget(()=>S(null,null,function*(){return h$(yield w$(r),i,o)})),o.promise}(HR(n),e)}function x$(n,e,t){let r=t.docs.get(e._key),i=new Ef(n);return new _f(n,i,e._key,r,new Wi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ps=i})(os),un(new _t("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new zr(new Gv(r.getProvider("auth-internal")),new Qv(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Pe(xA,kA,e),Pe(xA,kA,"esm2017")})();var Rf=function(){return Rf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Rf.apply(this,arguments)};var F$={includeMetadataChanges:!1};function XR(n,e){return e===void 0&&(e=F$),new K(function(t){var r=JE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function eN(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Rf(Rf({},r),(t={},t[e.idField]=n.id,t))}function tN(n){return XR(n,{includeMetadataChanges:!0}).pipe(Q(function(e){return e.docs}))}function nN(n,e){return e===void 0&&(e={}),tN(n).pipe(Q(function(t){return t.map(function(r){return eN(r,e)})}))}var to=class{constructor(e){return e}},rN="firestore",eI=class{constructor(){return cs(rN)}};var tI=new j("angularfire2.firestore-instances");function L$(n,e){let t=mh(rN,n,e);return t&&new to(t)}function V$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new to(r)}}var j$={provide:eI,deps:[[new vn,tI]]},U$={provide:to,useFactory:L$,deps:[[new vn,tI],Bi]};function iN(n,...e){return Pe("angularfire",ji.full,"fst"),Xt([U$,j$,{provide:tI,useFactory:V$(n),multi:!0,deps:[ve,Je,Ui,Sc,[new vn,Nh],[new vn,vh],...e]}])}var oN=Kt(nN,!0);var sN=Kt(JR,!0,2);var aN=Kt(BR,!0,2);var cN=Kt(ZR,!0,2);var nI=Kt(QE,!0,2);var uN=Kt($R,!0);var lN=Kt(YR,!0,2);var dN=[];var hN={production:!1,firebaseConfig:{apiKey:"AIzaSyAP6oP_CO8yIvG_d8LxaDCn2R9YXbuehR0",authDomain:"todolist-164b4.firebaseapp.com",projectId:"todolist-164b4",storageBucket:"todolist-164b4.firebasestorage.app",messagingSenderId:"488468917095",appId:"1:488468917095:web:4d467eebe593bff0681dc2",measurementId:"G-LLZ00SYW34"}};var fN={providers:[Km({eventCoalescing:!0}),Hy(dN),_y(),nA(()=>rA(hN.firebaseConfig)),iN(()=>uN())]};var wN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(pe(Va),pe(Oo))};static \u0275dir=Xe({type:n})}return n})(),$$=(()=>{class n extends wN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})();static \u0275dir=Xe({type:n,features:[_n]})}return n})(),TN=new j("");var H$={provide:TN,useExisting:jn(()=>Lf),multi:!0};function z$(){let n=Gt()?Gt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var q$=new j(""),Lf=(()=>{class n extends wN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!z$())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(pe(Va),pe(Oo),pe(q$,8))};static \u0275dir=Xe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Pt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[jo([H$]),_n]})}return n})();function G$(n){return n==null||W$(n)===0}function W$(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var sI=new j(""),DN=new j("");function K$(n){return G$(n.value)?{required:!0}:null}function pN(n){return null}function CN(n){return n!=null}function bN(n){return Gn(n)?Te(n):n}function SN(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function AN(n,e){return e.map(t=>t(n))}function Q$(n){return!n.validate}function RN(n){return n.map(e=>Q$(e)?e:t=>e.validate(t))}function Y$(n){if(!n)return null;let e=n.filter(CN);return e.length==0?null:function(t){return SN(AN(t,e))}}function aI(n){return n!=null?Y$(RN(n)):null}function Z$(n){if(!n)return null;let e=n.filter(CN);return e.length==0?null:function(t){let r=AN(t,e).map(bN);return Op(r).pipe(Q(SN))}}function cI(n){return n!=null?Z$(RN(n)):null}function gN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function J$(n){return n._rawValidators}function X$(n){return n._rawAsyncValidators}function rI(n){return n?Array.isArray(n)?n:[n]:[]}function Mf(n,e){return Array.isArray(n)?n.includes(e):n===e}function mN(n,e){let t=rI(e);return rI(n).forEach(i=>{Mf(t,i)||t.push(i)}),t}function yN(n,e){return rI(e).filter(t=>!Mf(n,t))}var Pf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=aI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Vs=class extends Pf{name;get formDirective(){return null}get path(){return null}},su=class extends Pf{_parent=null;name=null;valueAccessor=null},xf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},eH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ooe=ee(k({},eH),{"[class.ng-submitted]":"isSubmitted"}),NN=(()=>{class n extends xf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(pe(su,2))};static \u0275dir=Xe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&bi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[_n]})}return n})(),MN=(()=>{class n extends xf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(pe(Vs,10))};static \u0275dir=Xe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&bi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[_n]})}return n})();var tu="VALID",Nf="INVALID",Fs="PENDING",nu="DISABLED",Gr=class{},kf=class extends Gr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},iu=class extends Gr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ou=class extends Gr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ls=class extends Gr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},iI=class extends Gr{source;constructor(e){super(),this.source=e}},oI=class extends Gr{source;constructor(e){super(),this.source=e}};function PN(n){return(Vf(n)?n.validators:n)||null}function tH(n){return Array.isArray(n)?aI(n):n||null}function xN(n,e){return(Vf(e)?e.asyncValidators:n)||null}function nH(n){return Array.isArray(n)?cI(n):n||null}function Vf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function rH(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function iH(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var Of=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xt(this.statusReactive)}set status(e){xt(()=>this.statusReactive.set(e))}_status=Uo(()=>this.statusReactive());statusReactive=Bn(void 0);get valid(){return this.status===tu}get invalid(){return this.status===Nf}get pending(){return this.status==Fs}get disabled(){return this.status===nu}get enabled(){return this.status!==nu}errors;get pristine(){return xt(this.pristineReactive)}set pristine(e){xt(()=>this.pristineReactive.set(e))}_pristine=Uo(()=>this.pristineReactive());pristineReactive=Bn(!0);get dirty(){return!this.pristine}get touched(){return xt(this.touchedReactive)}set touched(e){xt(()=>this.touchedReactive.set(e))}_touched=Uo(()=>this.touchedReactive());touchedReactive=Bn(!1);get untouched(){return!this.touched}_events=new Ve;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yN(e,this._rawAsyncValidators))}hasValidator(e){return Mf(this._rawValidators,e)}hasAsyncValidator(e){return Mf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ou(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ou(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new iu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new iu(!0,r))}markAsPending(e={}){this.status=Fs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ls(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=nu,this.errors=null,this._forEachChild(i=>{i.disable(ee(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kf(this.value,r)),this._events.next(new Ls(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=tu,this._forEachChild(r=>{r.enable(ee(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tu||this.status===Fs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kf(this.value,t)),this._events.next(new Ls(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nu:tu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Fs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=bN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ls(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?nu:this.errors?Nf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fs)?Fs:this._anyControlsHaveStatus(Nf)?Nf:tu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new iu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ou(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=tH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=nH(this._rawAsyncValidators)}},Ff=class extends Of{constructor(e,t,r){super(PN(t),xN(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){iH(this,!0,e),Object.keys(e).forEach(r=>{rH(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var uI=new j("",{providedIn:"root",factory:()=>lI}),lI="always";function oH(n,e){return[...e.path,n]}function kN(n,e,t=lI){ON(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),aH(n,e),uH(n,e),cH(n,e),sH(n,e)}function vN(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function ON(n,e){let t=J$(n);e.validator!==null?n.setValidators(gN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=X$(n);e.asyncValidator!==null?n.setAsyncValidators(gN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();vN(e._rawValidators,i),vN(e._rawAsyncValidators,i)}function aH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&FN(n,e)})}function cH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&FN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function FN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function uH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function lH(n,e){n==null,ON(n,e)}function dH(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function hH(n){return Object.getPrototypeOf(n.constructor)===$$}function fH(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function pH(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Lf?t=o:hH(o)?r=o:i=o}),i||r||t||null}var gH={provide:Vs,useExisting:jn(()=>dI)},ru=Promise.resolve(),dI=(()=>{class n extends Vs{callSetDisabledState;get submitted(){return xt(this.submittedReactive)}_submitted=Uo(()=>this.submittedReactive());submittedReactive=Bn(!1);_directives=new Set;form;ngSubmit=new ke;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Ff({},aI(t),cI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ru.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),kN(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ru.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ru.then(()=>{let r=this._findContainer(t.path),i=new Ff({});lH(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ru.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ru.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),fH(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new iI(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new oI(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(pe(sI,10),pe(DN,10),pe(uI,8))};static \u0275dir=Xe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Pt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[jo([gH]),_n]})}return n})();function _N(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function EN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var mH=class extends Of{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(PN(t),xN(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(EN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_N(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_N(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){EN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var yH={provide:su,useExisting:jn(()=>hI)},IN=Promise.resolve(),hI=(()=>{class n extends su{_changeDetectorRef;callSetDisabledState;control=new mH;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ke;constructor(t,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=pH(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),dH(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){IN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&_d(r);IN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?oH(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(pe(Vs,9),pe(sI,10),pe(DN,10),pe(TN,10),pe($o,8),pe(uI,8))};static \u0275dir=Xe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[jo([yH]),_n,Ii]})}return n})();var LN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Xe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var vH=(()=>{class n{_validator=pN;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pN,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Xe({type:n,features:[Ii]})}return n})();var _H={provide:sI,useExisting:jn(()=>fI),multi:!0};var fI=(()=>{class n extends vH{required;inputName="required";normalizeInput=_d;createValidator=t=>K$;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wi(n)))(i||n)}})();static \u0275dir=Xe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&hd("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[jo([_H]),_n]})}return n})();var EH=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=fn({})}return n})();var VN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uI,useValue:t.callSetDisabledState??lI}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=qn({type:n});static \u0275inj=fn({imports:[EH]})}return n})();var jf=class n{constructor(e){this.firestore=e;this.todosCollection=aN(this.firestore,"todos")}todosCollection;getTodos(){return oN(this.todosCollection,{idField:"id"})}addTodo(e){let t={title:e,completed:!1};return sN(this.todosCollection,t)}updateTodo(e){if(!e.id)return Promise.reject("Todo ID is missing");let t=nI(this.firestore,`todos/${e.id}`),o=e,{id:r}=o,i=fp(o,["id"]);return lN(t,i)}deleteTodo(e){let t=nI(this.firestore,`todos/${e}`);return cN(t)}static \u0275fac=function(t){return new(t||n)(H(to))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function TH(n,e){if(n&1){let t=fd();et(0,"div",8)(1,"input",9),Pt("change",function(){rn(t);let i=ut().$implicit,o=ut();return on(o.toggleCompletion(i))}),ct(),et(2,"span",10),Wn(3),ct(),et(4,"div",11)(5,"button",12),Pt("click",function(){rn(t);let i=ut().$implicit,o=ut();return on(o.editTodo(i))}),Wn(6,"Edit"),ct(),et(7,"button",13),Pt("click",function(){rn(t);let i=ut().$implicit,o=ut();return on(o.deleteTodo(i.id))}),Wn(8,"Delete"),ct()()()}if(n&2){let t=ut().$implicit;Mr(),Lo("checked",t.completed),Mr(2),pd(t.title)}}function DH(n,e){if(n&1){let t=fd();et(0,"div",14)(1,"input",15),za("ngModelChange",function(i){rn(t);let o=ut(2);return gd(o.editingTodo.title,i)||(o.editingTodo.title=i),on(i)}),Pt("keydown.enter",function(){rn(t);let i=ut(2);return on(i.saveTodo())})("keydown.escape",function(){rn(t);let i=ut(2);return on(i.cancelEdit())}),ct(),et(2,"div",11)(3,"button",16),Pt("click",function(){rn(t);let i=ut(2);return on(i.saveTodo())}),Wn(4,"Save"),ct(),et(5,"button",17),Pt("click",function(){rn(t);let i=ut(2);return on(i.cancelEdit())}),Wn(6,"Cancel"),ct()()()}if(n&2){let t=ut(2);Mr(),Ha("ngModel",t.editingTodo.title)}}function CH(n,e){if(n&1&&(et(0,"li"),Ua(1,TH,9,2,"div",7)(2,DH,7,1,"ng-template",null,0,qm),ct()),n&2){let t=e.$implicit,r=Bm(3),i=ut();bi("completed",t.completed),Mr(),Lo("ngIf",(i.editingTodo==null?null:i.editingTodo.id)!==t.id)("ngIfElse",r)}}var Uf=class n{constructor(e){this.todoService=e;this.todos$=this.todoService.getTodos()}todos$;newTodoTitle="";editingTodo=null;originalTitle="";ngOnInit(){}addTodo(){this.newTodoTitle.trim()&&(this.todoService.addTodo(this.newTodoTitle.trim()),this.newTodoTitle="")}toggleCompletion(e){this.todoService.updateTodo(ee(k({},e),{completed:!e.completed}))}editTodo(e){this.editingTodo=k({},e),this.originalTitle=e.title}saveTodo(){this.editingTodo&&this.editingTodo.title.trim()&&(this.todoService.updateTodo(this.editingTodo),this.editingTodo=null)}cancelEdit(){this.editingTodo=null}deleteTodo(e){e&&this.todoService.deleteTodo(e)}static \u0275fac=function(t){return new(t||n)(pe(jf))};static \u0275cmp=Di({type:n,selectors:[["app-todo"]],decls:10,vars:4,consts:[["editMode",""],[1,"todo-container"],[1,"add-todo-form",3,"ngSubmit"],["type","text","name","newTodoTitle","placeholder","What needs to be done?","required","",1,"todo-input",3,"ngModelChange","ngModel"],["type","submit",1,"btn","add-btn"],[1,"todo-list"],[3,"completed",4,"ngFor","ngForOf"],["class","view-mode",4,"ngIf","ngIfElse"],[1,"view-mode"],["type","checkbox",1,"todo-checkbox",3,"change","checked"],[1,"todo-title"],[1,"actions"],[1,"btn","edit-btn",3,"click"],[1,"btn","delete-btn",3,"click"],[1,"edit-mode"],["type","text","name","editingTodoTitle",1,"edit-input",3,"ngModelChange","keydown.enter","keydown.escape","ngModel"],[1,"btn","save-btn",3,"click"],[1,"btn","cancel-btn",3,"click"]],template:function(t,r){t&1&&(et(0,"div",1)(1,"h2"),Wn(2,"My To-Do List"),ct(),et(3,"form",2),Pt("ngSubmit",function(){return r.addTodo()}),et(4,"input",3),za("ngModelChange",function(o){return gd(r.newTodoTitle,o)||(r.newTodoTitle=o),o}),ct(),et(5,"button",4),Wn(6,"Add"),ct()(),et(7,"ul",5),Ua(8,CH,4,4,"li",6),Hm(9,"async"),ct()()),t&2&&(Mr(4),Ha("ngModel",r.newTodoTitle),Mr(4),Lo("ngForOf",zm(9,2,r.todos$)))},dependencies:[zo,Td,ay,cy,VN,LN,Lf,NN,MN,fI,hI,dI],styles:[".todo-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:2rem;border-radius:8px;box-shadow:0 4px 8px #0000001a;background-color:#fff}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:1.5rem}.add-todo-form[_ngcontent-%COMP%]{display:flex;margin-bottom:1.5rem}.todo-input[_ngcontent-%COMP%]{flex-grow:1;padding:.75rem;font-size:1rem;border:1px solid #ccc;border-radius:4px}.btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem;border:none;border-radius:4px;cursor:pointer;margin-left:.5rem;color:#fff}.add-btn[_ngcontent-%COMP%]{background-color:#28a745}.edit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#333}.delete-btn[_ngcontent-%COMP%]{background-color:#dc3545}.save-btn[_ngcontent-%COMP%]{background-color:#007bff}.cancel-btn[_ngcontent-%COMP%]{background-color:#6c757d}.todo-list[_ngcontent-%COMP%]{list-style:none;padding:0}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;border-bottom:1px solid #eee}.todo-list[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%]   .todo-title[_ngcontent-%COMP%]{text-decoration:line-through;color:#888}.view-mode[_ngcontent-%COMP%], .edit-mode[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.todo-checkbox[_ngcontent-%COMP%]{margin-right:1rem}.todo-title[_ngcontent-%COMP%]{flex-grow:1}.edit-input[_ngcontent-%COMP%]{flex-grow:1;padding:.5rem;font-size:1rem;border:1px solid #ddd;border-radius:4px}"]})};var Bf=class n{constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Di({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){t&1&&Vo(0,"hr")(1,"app-todo")(2,"router-outlet")},dependencies:[vc,zo,Uf],styles:[".container[_ngcontent-%COMP%]{font-family:sans-serif;max-width:600px;margin:2rem auto;padding:2rem;border-radius:8px;box-shadow:0 4px 8px #0000001a;background-color:#f9f9f9}h1[_ngcontent-%COMP%]{color:#333;text-align:center}p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5;color:#555}strong[_ngcontent-%COMP%]{color:#000}.error[_ngcontent-%COMP%]{color:#d9534f;font-weight:700}"]})};my(Bf,fN).catch(n=>console.error(n));
